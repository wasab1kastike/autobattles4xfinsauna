(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();class Db{listeners=new Map;on(a,s){const r=this.listeners.get(a)??[];r.push(s),this.listeners.set(a,r)}off(a,s){const r=this.listeners.get(a);if(!r)return;const c=r.indexOf(s);c!==-1&&(r.splice(c,1),r.length===0?this.listeners.delete(a):this.listeners.set(a,r))}emit(a,s){const r=this.listeners.get(a);if(r)for(const c of r)c(s)}}const te=new Db;class Hf{type="farm";cost=50;beerPerTick=1}class BA{type="barracks";cost=100;trainingCapacity=1}const MA=Math.sqrt(3),DA=[{q:1,r:0},{q:1,r:-1},{q:0,r:-1},{q:-1,r:0},{q:-1,r:1},{q:0,r:1}];function Vn(n,a){return{x:a*MA*(n.q+n.r/2),y:a*(3/2)*n.r}}function tr(n,a,s){const r=(MA/3*n-.3333333333333333*a)/s,c=2/3*a/s;return{q:r,r:c}}function Tb(n,a,s){return kb(tr(n,a,s))}function Wo(n){return DA.map(a=>({q:n.q+a.q,r:n.r+a.r}))}function Ds(n,a){const s=-n.q-n.r,r=-a.q-a.r;return Math.max(Math.abs(n.q-a.q),Math.abs(n.r-a.r),Math.abs(s-r))}function kb(n){let a=n.q,s=n.r,r=-a-s,c=Math.round(a),u=Math.round(r),f=Math.round(s);const h=Math.abs(c-a),m=Math.abs(u-r),g=Math.abs(f-s);return h>m&&h>g?c=-u-f:m>g?u=-c-f:f=-c-u,{q:c,r:f}}const $o=new Set;let Yo=32;function Hb(n){return`${n.q},${n.r}`}function hf(n,a){Yo=a,$o.add(Hb(n))}function Ob(n){if($o.size===0)return{center:{x:0,y:0},zoom:1};const a=Yo*Math.sqrt(3),s=Yo*2,r=a/2,c=s/2;let u=1/0,f=1/0,h=-1/0,m=-1/0;for(const F of $o){const[K,J]=F.split(",").map(Number),{x:ie,y:I}=Vn({q:K,r:J},Yo),ne=ie-r,W=I-c;u=Math.min(u,ne),f=Math.min(f,W),h=Math.max(h,ne+a),m=Math.max(m,W+s)}const g=h-u,p=m-f,v=96,b={x:u+g/2,y:f+p/2},E=Math.max(0,Math.min(n.safeRight??0,n.width)),T=Math.max(n.width-E,1)/(g+v*2),B=n.height/(p+v*2),P=Math.min(T,B);return{center:{x:P>0?b.x-E/(2*P):b.x,y:b.y},zoom:P}}const Se={x:0,y:0,zoom:1};function Pb(n,a=300){const s=Se.x,r=Se.y,c=Se.zoom,u=typeof performance<"u"?performance.now():Date.now(),f=h=>{const m=Math.min((h-u)/a,1);Se.x=s+(n.center.x-s)*m,Se.y=r+(n.center.y-r)*m,Se.zoom=c+(n.zoom-c)*m,m<1&&(typeof requestAnimationFrame<"u"?requestAnimationFrame(f):setTimeout(()=>f(typeof performance<"u"?performance.now():Date.now()),16))};typeof requestAnimationFrame<"u"?requestAnimationFrame(f):setTimeout(()=>f(typeof performance<"u"?performance.now():Date.now()),0)}function Nb(){$o.clear()}async function Qb(n){const a={},s={},r=[],c=Object.entries(n.images??{}).map(([f,h])=>new Promise(m=>{const g=new Image;g.onload=()=>{a[f]=g,m()},g.onerror=()=>{const p=`Failed to load image: ${h}`;console.error(p),r.push(p),m()},g.src=h})),u=Object.entries(n.sounds??{}).map(([f,h])=>new Promise(m=>{const g=new Audio;g.oncanplaythrough=()=>{s[f]=g,m()},g.onerror=()=>{const p=`Failed to load sound: ${h}`;console.error(p),r.push(p),m()},g.src=h,g.load()}));return await Promise.all([...c,...u]),{assets:{images:a,sounds:s},failures:r}}function Of(n){if(typeof globalThis.localStorage>"u")return;const a=globalThis.localStorage.getItem(n);if(a)try{return JSON.parse(a)}catch(s){console.warn(`Failed to parse data for "${n}", clearing`,s),globalThis.localStorage.removeItem(n);return}}var le=(n=>(n.SAUNA_BEER="sauna-beer",n.SAUNAKUNNIA="saunakunnia",n.SISU="sisu",n))(le||{});const Ro={"sauna-beer":1,saunakunnia:0,sisu:0},TA="/assets/sauna-beer-CgafwOhX.svg",kA="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eResource%20Icon%3c/title%3e%3cdesc%20id='desc'%3eA%20luminous%20crest%20symbolising%20generic%20resources.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='resource-bg'%20cx='50%25'%20cy='50%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='%2338bdf8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230ea5e9'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='resource-core'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%2338bdf8'%20/%3e%3c/linearGradient%3e%3cfilter%20id='resource-glow'%20x='-40%25'%20y='-40%25'%20width='180%25'%20height='180%25'%3e%3cfeDropShadow%20dx='0'%20dy='4'%20stdDeviation='6'%20flood-color='%2338bdf8'%20flood-opacity='0.45'%20/%3e%3c/filter%3e%3c/defs%3e%3cg%20filter='url(%23resource-glow)'%3e%3ccircle%20cx='32'%20cy='32'%20r='22'%20fill='%230f172a'%20stroke='url(%23resource-bg)'%20stroke-width='4'%20/%3e%3cpath%20d='M32%2016l-12%2014%2012%2022%2012-22z'%20fill='url(%23resource-core)'%20stroke='%23f8fafc'%20stroke-width='2'%20/%3e%3cpath%20d='M20%2030l-4%208%2016%2010'%20fill='none'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M44%2030l4%208-16%2010'%20fill='none'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3c/g%3e%3c/svg%3e",HA="/assets/saunoja-roster-Bfn4ZKxh.svg",It={APPLIED:"policy:applied",REJECTED:"policy:rejected"},OA=[{id:"eco",name:"Evergreen Eco Mandate",description:"Increase passive sauna beer brewing by one bottle each production tick.",cost:15,resource:le.SAUNAKUNNIA,prerequisites:[],visuals:{icon:kA,gradient:"linear-gradient(135deg, rgba(66, 240, 155, 0.9), rgba(13, 114, 234, 0.85))",accentColor:"#34d399",badges:["Economy","Sustainability"],flair:"Green-lit by the council of whisked sauna masters."},effects:[{event:It.APPLIED,once:!0,invoke:({state:n})=>{n.modifyPassiveGeneration(le.SAUNA_BEER,1)}}],spotlight:"Sustainably expand your brewing line with solar-heated mash tuns."},{id:"temperance",name:"Aurora Temperance Treaty",description:"Boost night shift work speed by 5% once the eco initiative is live.",cost:25,resource:le.SAUNAKUNNIA,prerequisites:[{description:"Enact the Evergreen Eco Mandate.",isSatisfied:n=>n.hasPolicy("eco")},{description:"Stockpile at least 30 Sauna Beer bottles to brief the midnight crews.",isSatisfied:n=>n.getResource(le.SAUNA_BEER)>=30}],visuals:{icon:HA,gradient:"linear-gradient(140deg, rgba(46, 51, 227, 0.9), rgba(118, 75, 162, 0.85))",accentColor:"#6366f1",badges:["Discipline","Night Ops"],flair:"Whispers of aurora spirits keep the crew laser-focused after dusk."},effects:[{event:It.APPLIED,once:!0,invoke:({state:n})=>{n.nightWorkSpeedMultiplier=Number((n.nightWorkSpeedMultiplier*1.05).toFixed(4))}}],spotlight:"Glow-lit helmets and synchronized chants keep the late shift on tempo."},{id:"steam-diplomats",name:"Steam Diplomats Accord",description:"Import two additional sauna beer bottles per tick via gilded trade routes.",cost:35,resource:le.SAUNAKUNNIA,prerequisites:[{description:"Secure the Aurora Temperance Treaty for your envoys.",isSatisfied:n=>n.hasPolicy("temperance")},{description:"Hold a reserve of 50 Sauna Beer bottles to fund the embassy festivities.",isSatisfied:n=>n.getResource(le.SAUNA_BEER)>=50}],visuals:{icon:TA,gradient:"linear-gradient(150deg, rgba(255, 173, 94, 0.92), rgba(255, 99, 71, 0.85))",accentColor:"#fb923c",badges:["Diplomacy","Logistics"],flair:"Silver samovars arrive with diplomatic steam-born delights."},effects:[{event:It.APPLIED,once:!0,invoke:({state:n})=>{n.modifyPassiveGeneration(le.SAUNA_BEER,2)}}],spotlight:"Trade envoys pipe artisanal steam through every new supply line."}],PA=new Map;for(const n of OA)PA.set(n.id,n);function NA(){return OA}function Ig(n){return PA.get(n)}const QA="progression:ngPlusState",yc=5,GA=1831565813,Ps=Object.freeze({aggressionMultiplier:1,cadenceMultiplier:1,strengthMultiplier:1}),_o=Object.freeze({runSeed:0,ngPlusLevel:0,unlockSlots:0,enemyTuning:Ps});function Nd(n,a,s,r){const c=Number(n);return Number.isFinite(c)?Math.min(s,Math.max(a,c)):r}function Pf(n){return{aggressionMultiplier:Nd(n?.aggressionMultiplier,.25,6,Ps.aggressionMultiplier),cadenceMultiplier:Nd(n?.cadenceMultiplier,.25,4,Ps.cadenceMultiplier),strengthMultiplier:Nd(n?.strengthMultiplier,.25,6,Ps.strengthMultiplier)}}function UA(){if(typeof window>"u")return null;try{return window.localStorage??null}catch(n){return console.warn("Local storage unavailable for NG+ state",n),null}}function Fg(n,a,s){const r=Number.isFinite(n)?n:Number(n);if(!Number.isFinite(r))return a;const c=Math.trunc(r);return Math.min(s,Math.max(a,c))}function LA(n){const a=Number.isFinite(n)?n:Number(n);return!Number.isFinite(a)||a===0?0:Math.trunc(Math.abs(a))}function jA(n=Math.random){let a=n();(!Number.isFinite(a)||a<=0||a>=1)&&(a=Math.random());const s=Math.floor(a*4294967295);return s===0?GA:s}function Ma(n={}){const a=_o,s=LA(n.runSeed??a.runSeed),r=Fg(n.ngPlusLevel??a.ngPlusLevel,0,Number.MAX_SAFE_INTEGER),c=Fg(n.unlockSlots??a.unlockSlots,0,yc),u=Pf(n.enemyTuning??a.enemyTuning);return{runSeed:s,ngPlusLevel:r,unlockSlots:c,enemyTuning:u}}function Sa(n,a=Math.random){const s=Ma(n);return s.runSeed!==0?s:Ma({...s,runSeed:jA(a)})}function Gb(n=Math.random){const a=UA();if(!a)return Sa(_o,n);const s=a.getItem(QA);if(!s)return Sa(_o,n);try{const r=JSON.parse(s);return Sa(Ma(r),n)}catch(r){return console.warn("Failed to parse NG+ state",r),Sa(_o,n)}}function mf(n){const a=UA();if(!a)return;const s=Ma(n);a.setItem(QA,JSON.stringify(s))}function Ub(n,a){const s=Ma(n),r=typeof a.random=="function"?a.random:Math.random;let c=s.ngPlusLevel,u=s.unlockSlots;if(a.outcome==="win"){c+=1;const h=Math.max(0,Math.trunc(a.bonusUnlocks??1));h>0&&(u=Math.min(yc,u+h))}const f=jA(r);return Sa(Ma({runSeed:f,ngPlusLevel:c,unlockSlots:u,enemyTuning:s.enemyTuning}),r)}function Lb(n){const a=Math.max(0,n.ngPlusLevel),s=Math.max(0,n.unlockSlots)*.02;return Math.min(3,1+a*.12+s)}function jb(n){const a=Math.max(0,n.ngPlusLevel),s=Math.max(0,n.unlockSlots)*.01,r=.1+a*.05+s;return Math.max(0,Math.min(.85,r))}function zb(n){const a=Math.max(0,n.ngPlusLevel),s=Math.max(.5,1+a*.25),r=Pf(n.enemyTuning??Ps);return Math.max(.25,Math.min(8,s*r.aggressionMultiplier))}function Ib(n){return 1+Math.max(0,n.unlockSlots)}function Fb(n){return Pf(n.enemyTuning??Ps)}function Xg(n,a=0){let s=LA(n)^(a|0);return s===0&&(s=GA^(a|0)),()=>{s=s+1831565813|0;let r=Math.imul(s^s>>>15,1|s);return r^=r+Math.imul(r^r>>>7,61|r),((r^r>>>14)>>>0)/4294967296}}function Qd(n){return`${n.q},${n.r}`}const zA={farm:()=>new Hf,barracks:()=>new BA};function Xb(n){return zA[n]?.()}const qg=Object.freeze({aggression:1,cadence:1,strength:1});function Ns(n,a,s,r){const c=Number(n);return Number.isFinite(c)?Math.min(s,Math.max(a,c)):r}function Yg(n,a){return{aggression:Ns(a.aggression??n.aggression,.1,8,n.aggression),cadence:Ns(a.cadence??n.cadence,.25,6,n.cadence),strength:Ns(a.strength??n.strength,.25,12,n.strength)}}class qb{constructor(a,s="gameState"){this.tickInterval=a,this.storageKey=s}resources={[le.SAUNA_BEER]:0,[le.SAUNAKUNNIA]:0,[le.SISU]:0};passiveGeneration={...Ro};lastSaved=Date.now();buildings={};buildingPlacements=new Map;policies=new Set;nightWorkSpeedMultiplier=1;enemyScaling={...qg};enemyCalmSecondsRemaining=0;ngPlus=Ma();tick(){Object.keys(this.passiveGeneration).forEach(a=>{this.addResource(a,this.passiveGeneration[a])})}save(){this.lastSaved=Date.now();const a={};this.buildingPlacements.forEach((c,u)=>{a[u]=c.type});const s={resources:this.resources,lastSaved:this.lastSaved,buildings:this.buildings,buildingPlacements:a,policies:Array.from(this.policies),passiveGeneration:{...this.passiveGeneration},nightWorkSpeedMultiplier:this.nightWorkSpeedMultiplier,enemyScaling:{...this.enemyScaling},ngPlus:this.ngPlus},r=typeof localStorage<"u"&&localStorage?localStorage:void 0;if(!r){console.warn("GameState.save: localStorage is unavailable, skipping persistence.");return}try{r.setItem(this.storageKey,JSON.stringify(s))}catch(c){console.warn("GameState.save: Failed to persist state to localStorage.",c)}}load(a){const s=Of(this.storageKey);if(!s)return this.lastSaved=Date.now(),!1;this.resources={...this.resources,...s.resources??{}},Object.keys(this.resources).forEach(m=>{Number.isFinite(this.resources[m])||(this.resources[m]=0)}),this.enemyScaling=Yg(qg,s.enemyScaling??{}),this.enemyCalmSecondsRemaining=0;const r={};Object.entries(s.buildings??{}).forEach(([m,g])=>{zA[m]&&(r[m]=g)}),this.buildings=r,this.buildingPlacements.clear(),s.buildingPlacements&&Object.entries(s.buildingPlacements).forEach(([m,g])=>{const p=Xb(g);if(!p)return;this.buildingPlacements.set(m,p);const[v,b]=m.split(",").map(Number);if(a){const E=a.ensureTile(v,b);E.placeBuilding(p.type),E.reveal(),hf({q:v,r:b},a.hexSize)}te.emit("buildingPlaced",{building:p,coord:{q:v,r:b},state:this})}),this.lastSaved=s.lastSaved??Date.now();const c=s.ngPlus?Ma(s.ngPlus):this.ngPlus;if(this.ngPlus=Sa(c),this.policies=new Set,this.passiveGeneration={...Ro},this.nightWorkSpeedMultiplier=1,(Array.isArray(s.policies)?s.policies.filter(m=>typeof m=="string"):[]).forEach(m=>{const g=Ig(m);g&&(this.policies.add(g.id),te.emit(It.APPLIED,{policy:g,state:this}))}),s.passiveGeneration){const m={...Ro};Object.keys(Ro).forEach(g=>{const p=s.passiveGeneration?.[g];typeof p=="number"&&Number.isFinite(p)&&(m[g]=p)}),this.passiveGeneration=m}typeof s.nightWorkSpeedMultiplier=="number"&&Number.isFinite(s.nightWorkSpeedMultiplier)&&(this.nightWorkSpeedMultiplier=s.nightWorkSpeedMultiplier);const f=Date.now()-this.lastSaved,h=Math.floor(f/this.tickInterval);return Object.keys(this.passiveGeneration).forEach(m=>{this.resources[m]+=h*this.passiveGeneration[m]}),!0}getResource(a){return this.resources[a]}canAfford(a,s=le.SAUNA_BEER){return this.resources[s]>=a}spendResource(a,s=le.SAUNA_BEER){return this.spend(a,s)}spend(a,s=le.SAUNA_BEER){return this.canAfford(a,s)?(this.resources[s]-=a,te.emit("resourceChanged",{resource:s,amount:-a,total:this.resources[s]}),!0):!1}addResource(a,s){this.resources[a]+=s,te.emit("resourceChanged",{resource:a,amount:s,total:this.resources[a]})}modifyPassiveGeneration(a,s){this.passiveGeneration[a]=(this.passiveGeneration[a]??0)+s}setEnemyScalingBase(a){return this.enemyScaling=Yg(this.enemyScaling,a),{...this.enemyScaling}}applyEnemyScalingModifiers(a){const s={aggression:Ns(this.enemyScaling.aggression*(a.aggression??1),.1,8,this.enemyScaling.aggression),cadence:Ns(this.enemyScaling.cadence*(a.cadence??1),.25,6,this.enemyScaling.cadence),strength:Ns(this.enemyScaling.strength*(a.strength??1),.25,12,this.enemyScaling.strength)};return this.enemyScaling=s,{...this.enemyScaling}}getEnemyScalingSnapshot(){return{...this.enemyScaling,calmSecondsRemaining:Math.max(0,this.enemyCalmSecondsRemaining)}}requestEnemyCalm(a){const s=Number(a);return!Number.isFinite(s)||s<=0?this.enemyCalmSecondsRemaining:(this.enemyCalmSecondsRemaining=Math.max(this.enemyCalmSecondsRemaining,s),this.enemyCalmSecondsRemaining)}advanceEnemyCalm(a){const s=Number(a);return!Number.isFinite(s)||s<=0?this.enemyCalmSecondsRemaining:(this.enemyCalmSecondsRemaining=Math.max(0,this.enemyCalmSecondsRemaining-s),this.enemyCalmSecondsRemaining)}clearEnemyCalm(){this.enemyCalmSecondsRemaining=0}construct(a,s,r=le.SAUNA_BEER){return this.spend(s,r)?(this.buildings[a]=(this.buildings[a]??0)+1,!0):!1}placeBuilding(a,s,r,c=le.SAUNA_BEER){const u=r.getTile(s.q,s.r);return!u||u.building||!this.construct(a.type,a.cost,c)?!1:(this.buildingPlacements.set(Qd(s),a),u.placeBuilding(a.type),te.emit("buildingPlaced",{building:a,coord:s,state:this}),!0)}getBuildingAt(a){return this.buildingPlacements.get(Qd(a))}removeBuilding(a,s){const r=Qd(a),c=this.buildingPlacements.get(r);return c?(this.buildingPlacements.delete(r),s.getTile(a.q,a.r)?.placeBuilding(null),this.buildings[c.type]!==void 0&&(this.buildings[c.type]-=1,this.buildings[c.type]<=0&&delete this.buildings[c.type]),te.emit("buildingRemoved",{building:c,coord:a,state:this}),!0):!1}upgrade(a,s,r=le.SAUNA_BEER){return this.construct(`upgrade:${a}`,s,r)}applyPolicy(a){const s=Ig(a);if(!s){const u={policyId:a,state:this,reason:"unknown-policy"};return te.emit(It.REJECTED,u),!1}if(this.hasPolicy(s.id)){const u={policyId:s.id,policy:s,state:this,reason:"already-applied"};return te.emit(It.REJECTED,u),!1}const r=s.prerequisites.filter(u=>!u.isSatisfied(this));if(r.length>0){const u={policyId:s.id,policy:s,state:this,reason:"prerequisites-not-met",missingPrerequisites:r};return te.emit(It.REJECTED,u),!1}if(!this.spend(s.cost,s.resource)){const u={policyId:s.id,policy:s,state:this,reason:"insufficient-resources"};return te.emit(It.REJECTED,u),!1}this.policies.add(s.id);const c={policy:s,state:this};return te.emit(It.APPLIED,c),!0}hasPolicy(a){return this.policies.has(a)}getNgPlusState(){return{...this.ngPlus}}setNgPlusState(a){const s=Ma({...this.ngPlus,...a});return this.ngPlus=Sa(s),this.ngPlus}}class Yb{constructor(a,s){this.baseInterval=a,this.onTick=s}timer=null;speed=1;lastTick=0;accumulator=0;start(){this.stop(),this.lastTick=Date.now();const a=this.baseInterval/this.speed;this.timer=setInterval(()=>{const s=Date.now(),r=s-this.lastTick;this.lastTick=s,this.onTick(r)},a)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}setSpeed(a){if(a<=0)throw new Error("Speed multiplier must be positive");this.speed=a,this.timer!==null&&this.start()}getSpeed(){return this.speed}getBaseInterval(){return this.baseInterval}tick(a){for(this.accumulator+=a*this.speed;this.accumulator>=this.baseInterval;)this.accumulator-=this.baseInterval,this.onTick(this.baseInterval)}}var xn=(n=>(n[n.Plains=0]="Plains",n[n.Forest=1]="Forest",n[n.Hills=2]="Hills",n[n.Lake=3]="Lake",n))(xn||{});function _b(n,a,s){let r=n*374761393+a*668265263+s*0x14057b7ef7678100;return r=(r^r>>13)*1274126177,r^=r>>16,(r>>>0)/4294967295}function Kb(n,a,s=0){const r=_b(n,a,s);return r<.1?3:r<.3?1:r<.5?2:0}class Vb{_terrain;_building;_isFogged;listeners=new Set;constructor(a=xn.Plains,s=null,r=!0){this._terrain=a,this._building=s,this._isFogged=r}get terrain(){return this._terrain}set terrain(a){this._terrain!==a&&(this._terrain=a,this.notify("terrain"))}get building(){return this._building}set building(a){this._building!==a&&(this._building=a,this.notify("building"))}get isFogged(){return this._isFogged}set isFogged(a){this._isFogged!==a&&(this._isFogged=a,this.notify("fog"))}reveal(){this.isFogged=!1}placeBuilding(a){this.building=a}setFogged(a){this.isFogged=a}addMutationListener(a){return this.listeners.add(a),()=>this.listeners.delete(a)}notify(a){for(const s of this.listeners)s(a)}}class Zb{constructor(a=10,s=10,r=32,c=0){this.hexSize=r,this.seed=c,this.minQ=0,this.minR=0,this.maxQ=a-1,this.maxR=s-1}tiles=new Map;tileSubscriptions=new Map;changeListeners=new Set;minQ;maxQ;minR;maxR;get width(){return this.maxQ-this.minQ+1}get height(){return this.maxR-this.minR+1}key(a,s){return`${a},${s}`}addTileChangeListener(a){return this.changeListeners.add(a),()=>this.changeListeners.delete(a)}notifyTileChange(a,s,r){for(const c of this.changeListeners)c(a,s,r)}attachTileListener(a,s,r){const c=s.addMutationListener(u=>{this.notifyTileChange(r,s,u)});this.tileSubscriptions.set(a,c)}ensureTile(a,s){const r=this.key(a,s);let c=this.tiles.get(r);return c||(c=new Vb(Kb(a,s,this.seed)),this.tiles.set(r,c),this.minQ=Math.min(this.minQ,a),this.maxQ=Math.max(this.maxQ,a),this.minR=Math.min(this.minR,s),this.maxR=Math.max(this.maxR,s),this.attachTileListener(r,c,{q:a,r:s}),this.notifyTileChange({q:a,r:s},c,"created"),c.isFogged||hf({q:a,r:s},this.hexSize)),c}getTile(a,s){return this.tiles.get(this.key(a,s))}forEachTile(a){for(const[s,r]of this.tiles){const[c,u]=s.split(",").map(Number);a(r,{q:c,r:u})}}getNeighbors(a,s){return Wo({q:a,r:s}).map(r=>this.ensureTile(r.q,r.r))}revealAround(a,s,r={}){const{autoFrame:c=!0}=r;for(let h=-s;h<=s;h++){const m=Math.max(-s,-h-s),g=Math.min(s,-h+s);for(let p=m;p<=g;p++){const v={q:a.q+h,r:a.r+p};this.ensureTile(v.q,v.r).reveal(),hf(v,this.hexSize)}}if(!c)return;const u=typeof window<"u"?(()=>{const h=Math.max(window.innerWidth,0),m=Math.max(window.innerHeight,0);let g=0;if(typeof document<"u"){const v=document.getElementById("right-panel");if(v){const b=v.getBoundingClientRect();if(b.width>0){const E=v.closest("#ui-overlay");if(E){const C=E.getBoundingClientRect(),T=window.getComputedStyle(E),B=Number.parseFloat(T.paddingRight||"0"),P=C.right-b.left,L=b.width+(Number.isFinite(B)?B:0);g=Math.max(0,Math.max(P,L))}else g=Math.max(0,b.width)}}}const p=Math.min(Math.max(g,0),h);return{width:h,height:m,safeRight:p}})():{width:0,height:0,safeRight:0},f=Ob(u);Pb(f,300)}}const ec={TRIGGERED:"scheduler:eventTriggered",RESOLVED:"scheduler:eventResolved"},Jb=new Map;function Wb(){return globalThis.localStorage??null}function Fl(n){return typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function IA(n){const a=globalThis.crypto;return a?.randomUUID?a.randomUUID():`${n}-${Date.now()}-${Math.random().toString(16).slice(2)}`}function $b(n){const a={id:String(n.id??""),label:String(n.label??""),description:n.description?String(n.description):void 0,event:n.event?String(n.event):void 0,payload:n.payload,accent:n.accent??void 0};return a.id||(a.id=IA("choice")),a.label||(a.label="Choose"),a}function tc(n){const a={id:String(n.id??""),headline:String(n.headline??""),body:String(n.body??""),art:n.art?String(n.art):void 0,typography:n.typography,animation:n.animation,accentColor:n.accentColor?String(n.accentColor):void 0,acknowledgeText:n.acknowledgeText?String(n.acknowledgeText):void 0,choices:Array.isArray(n.choices)?n.choices.map(s=>$b(s)):void 0};return a.id||(a.id=IA("event")),a}function e1(n){return{content:tc(n.content),trigger:n.trigger.type==="time"?{type:"time",at:Number.isFinite(n.trigger.at)?n.trigger.at:0}:{type:"condition",conditionId:String(n.trigger.conditionId),params:n.trigger.params}}}function _g(n){return{content:tc(n.content),triggeredAt:Number.isFinite(n.triggeredAt)?n.triggeredAt:0}}const Gd=Object.freeze({clock:0,queue:[],active:[]});class t1{storageKey;eventBus;getStorage;state=Fl(Gd);subscribers=new Set;constructor(a={}){this.storageKey=a.storageKey??"autobattles:event-scheduler",this.eventBus=a.eventBus??te,this.getStorage=a.storageProvider??Wb,this.load()}subscribe(a){return this.subscribers.add(a),a(this.getActiveEvents()),()=>{this.subscribers.delete(a)}}getActiveEvents(){return this.state.active.map(a=>({...Fl(a.content),triggeredAt:a.triggeredAt}))}schedule(a){const s=tc(a.content);if(!s.headline||!s.body||this.containsEvent(s.id))return!1;const r=a.trigger.type==="condition"?{type:"condition",conditionId:String(a.trigger.conditionId),params:a.trigger.params}:{type:"time",at:this.resolveTriggerTime(a.trigger)};return this.state.queue.push({content:s,trigger:r}),this.sortQueue(),this.save(),!0}publish(a){const s=tc(a);this.containsEvent(s.id)||(this.state.queue=this.state.queue.filter(r=>r.content.id!==s.id),this.activateEvent({content:s,triggeredAt:this.state.clock}))}tick(a,s={}){if(!Number.isFinite(a)||a<=0)return;this.state.clock+=a;const r=[],c=[];for(const u of this.state.queue)this.shouldTrigger(u.trigger,s)?r.push(u):c.push(u);this.state.queue=c;for(const u of r)this.activateEvent({content:u.content,triggeredAt:this.state.clock});this.save()}resolve(a,s){const r=this.state.active.findIndex(h=>h.content.id===a);if(r===-1)return!1;const c=this.state.active[r],u=this.pickChoice(c.content,s),f=u?u.id:null;return this.state.active.splice(r,1),this.save(),this.notify(),this.eventBus.emit(ec.RESOLVED,{eventId:a,choiceId:f,event:c.content}),u?.event&&this.eventBus.emit(u.event,{eventId:a,choiceId:f,payload:u.payload,event:c.content}),!0}reset(){this.state=Fl(Gd),this.save(),this.notify()}activateEvent(a){const s=_g(a);this.state.active.push(s),this.save(),this.notify(),this.eventBus.emit(ec.TRIGGERED,{event:{...Fl(s.content),triggeredAt:s.triggeredAt}})}pickChoice(a,s){const r=a.choices??[];if(r.length!==0){if(s){const c=r.find(u=>u.id===s);if(c)return c}return r[0]}}shouldTrigger(a,s){if(a.type==="time")return this.state.clock>=a.at;const r=Jb.get(a.conditionId);if(!r)return!1;try{return!!r(a.params,s)}catch(c){return console.warn("Scheduler condition evaluation failed",a.conditionId,c),!1}}resolveTriggerTime(a){if(Number.isFinite(a.at))return Number(a.at);const s=Number.isFinite(a.in)?Number(a.in):0;return Math.max(0,this.state.clock+s)}sortQueue(){this.state.queue.sort((a,s)=>{const r=a.trigger.type==="time"?a.trigger.at:Number.POSITIVE_INFINITY,c=s.trigger.type==="time"?s.trigger.at:Number.POSITIVE_INFINITY;return r-c})}containsEvent(a){return this.state.active.some(s=>s.content.id===a)||this.state.queue.some(s=>s.content.id===a)}notify(){const a=this.getActiveEvents();for(const s of this.subscribers)try{s(a)}catch(r){console.warn("Scheduler subscriber failed",r)}}load(){const a=Of(this.storageKey);if(!a){this.state=Fl(Gd);return}const s=Number(a.clock);this.state={clock:Number.isFinite(s)?s:0,queue:Array.isArray(a.queue)?a.queue.map(r=>e1(r)):[],active:Array.isArray(a.active)?a.active.map(r=>_g(r)):[]}}save(){const a=this.getStorage();if(a)try{a.setItem(this.storageKey,JSON.stringify({clock:this.state.clock,queue:this.state.queue,active:this.state.active}))}catch(s){console.warn("Scheduler persistence failed",s)}}}const Ko=new t1;function n1(n,a){const s=new WeakSet,r=c=>{c.policy.id===n.id&&(a.once!==!1&&s.has(c.state)||(a.invoke(c),a.once!==!1&&s.add(c.state)))};te.on(a.event,r)}for(const n of NA())for(const a of n.effects)n1(n,a);const a1="modulepreload",i1=function(n){return"/"+n},Kg={},s1=function(a,s,r){let c=Promise.resolve();if(s&&s.length>0){let m=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");c=m(s.map(g=>{if(g=i1(g),g in Kg)return;Kg[g]=!0;const p=g.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":a1,p||(b.as="script"),b.crossOrigin="",b.href=g,h&&b.setAttribute("nonce",h),document.head.appendChild(b),p)return new Promise((E,C)=>{b.addEventListener("load",E),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return c.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return a().catch(u)})},l1=({building:n,coord:a,state:s})=>{n instanceof Hf?s.modifyPassiveGeneration(le.SAUNA_BEER,n.beerPerTick):n instanceof BA&&s1(async()=>{const{spawnUnit:r}=await Promise.resolve().then(()=>Z1);return{spawnUnit:r}},void 0).then(({spawnUnit:r})=>{r(s,"soldier",`barracks-${a.q}-${a.r}`,a,"player")})},r1=({building:n,state:a})=>{n instanceof Hf&&a.modifyPassiveGeneration(le.SAUNA_BEER,-n.beerPerTick)};te.on("buildingPlaced",l1);te.on("buildingRemoved",r1);const Cs={attack:{payload:"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",loudness:{gain:1}},death:{payload:"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",loudness:{gain:1}},sisu:{payload:"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",loudness:{gain:1}}},FA={click:{loader:n=>c1(n),debounceMs:30},spawn:{loader:n=>u1(n),debounceMs:120},error:{loader:n=>d1(n)},attack:{loader:n=>Ud(Cs.attack.payload,n),debounceMs:70,gain:Cs.attack.loudness.gain},death:{loader:n=>Ud(Cs.death.payload,n),debounceMs:180,gain:Cs.death.loudness.gain},sisu:{loader:n=>Ud(Cs.sisu.payload,n),debounceMs:800,gain:Cs.sisu.loudness.gain}};let ni=null,ar=null;const Vg=new Map,Bo=new Map,Zg=new Map;let Da=!1;typeof localStorage<"u"&&(Da=localStorage.getItem("sfx-muted")==="true");const gf=new Set;function o1(){for(const n of gf)n(Da)}function XA(n){if(ar)return ar;const a=n.createGain();return a.gain.value=Da?0:1,a.connect(n.destination),ar=a,a}function Nf(n,a,s){const r=Math.floor(n.sampleRate*a),c=n.createBuffer(1,r,n.sampleRate),u=c.getChannelData(0);for(let f=0;f<r;f++){const h=f/n.sampleRate;u[f]=s(h)}return c}function c1(n){return Nf(n,.05,a=>Math.sin(2*Math.PI*1e3*a)*Math.exp(-40*a))}function u1(n){return Nf(n,.2,a=>(Math.sin(2*Math.PI*440*a)+Math.sin(2*Math.PI*660*a))*.5*Math.exp(-6*a))}function d1(n){return Nf(n,.3,a=>Math.sin(2*Math.PI*110*a)*Math.exp(-8*a))}function f1(n){const a=globalThis;if(typeof a.atob=="function"){const s=a.atob(n),r=s.length,c=new Uint8Array(r);for(let u=0;u<r;u++)c[u]=s.charCodeAt(u);return c}if(a.Buffer){const s=a.Buffer.from(n,"base64"),r=new Uint8Array(s.length);for(let c=0;c<s.length;c++)r[c]=s[c];return r}throw new Error("No base64 decoder available for sound payloads.")}async function Ud(n,a){const s=f1(n),r=s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength);return await a.decodeAudioData(r)}function Qf(){if(ni||typeof window>"u")return ni;const n=window.AudioContext||window.webkitAudioContext;if(!n)return console.warn("Web Audio API not supported"),null;try{ni=new n,XA(ni)}catch(a){return console.warn("Unable to create AudioContext",a),ni=null,null}if(ni.state==="suspended"){const a=()=>{ni?.resume()};window.addEventListener("pointerdown",a,{once:!0}),window.addEventListener("keydown",a,{once:!0})}return ni}function h1(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function m1(n){const a=Vg.get(n);if(a)return Promise.resolve(a);const s=Bo.get(n);if(s)return s;const r=Qf();if(!r)return Promise.reject(new Error("Audio context unavailable"));const c=FA[n];if(!c)return Promise.reject(new Error(`No sound registered for ${n}`));const u=Promise.resolve(c.loader(r)).then(f=>(Vg.set(n,f),Bo.delete(n),f)).catch(f=>{throw Bo.delete(n),f});return Bo.set(n,u),u}function Ta(n){if(Da)return;const a=FA[n];if(!a)return;const s=h1(),r=a.debounceMs??0,c=Zg.get(n)??0;r>0&&s-c<r||(Zg.set(n,s),m1(n).then(u=>{if(Da)return;const f=Qf();if(!f)return;const h=XA(f),m=f.createBufferSource();m.buffer=u;const g=a.gain;if(typeof g=="number"&&g>0&&g!==1){const p=f.createGain();p.gain.value=g,m.connect(p),p.connect(h)}else m.connect(h);try{m.start()}catch(p){console.warn("Unable to start sound",p)}}).catch(u=>{u instanceof Error&&u.message==="Audio context unavailable"||console.warn("Failed to play sound",n,u)}))}function g1(){return Da}function p1(n){Da=n,ar&&(ar.gain.value=Da?0:1),typeof localStorage<"u"&&localStorage.setItem("sfx-muted",Da?"true":"false"),o1()}function A1(n){return gf.add(n),()=>{gf.delete(n)}}typeof document<"u"&&document.addEventListener("click",n=>{n.target instanceof HTMLButtonElement&&Ta("click")});Qf();const Jg="__autobattlesAudioEvents__",Wg=globalThis;Wg[Jg]||(te.on("unitDamaged",n=>{!n||n.amount<=0||Ta("attack")}),te.on("unitDied",()=>{Ta("death")}),te.on("sisuBurstStart",()=>{Ta("sisu")}),Wg[Jg]=!0);function v1(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function y1(n){const a={};if(!n)return a;for(const[s,r]of Object.entries(n))typeof r=="function"&&(a[s]=r);return a}class b1{constructor(a=te){this.emitter=a}modifiers=new Map;hookIndex=new Map;listeners=new Map;add(a){if(typeof a.id!="string"||a.id.length===0)throw new Error("Modifier id must be a non-empty string");if((typeof a.duration!="number"||!Number.isFinite(a.duration))&&a.duration!==1/0)throw new Error("Modifier duration must be a positive number or Infinity");if(Number.isFinite(a.duration)&&a.duration<=0)throw new Error("Modifier duration must be greater than zero");const s=y1(a.hooks),r=v1();this.modifiers.has(a.id)&&this.remove(a.id,"replaced");const c={...a,hooks:s,remaining:a.duration,appliedAt:r};this.modifiers.set(c.id,c),this.indexHooks(c);const u={runtime:this,modifier:c};return a.onApply?.(u),this.emit("modifierAdded",{modifier:c}),this.emitter?.emit("modifierAdded",{modifier:c}),Number.isFinite(c.remaining)&&c.remaining<=0&&this.remove(c.id,"expired"),c}has(a){return this.modifiers.has(a)}list(){return Array.from(this.modifiers.values()).map(a=>({...a,hooks:{...a.hooks}}))}remove(a,s="manual"){const r=this.modifiers.get(a);if(!r)return!1;this.modifiers.delete(a),this.unindexHooks(r);const c={runtime:this,modifier:r,reason:s};return r.onExpire?.(c),s==="expired"&&(this.emit("modifierExpired",{modifier:r}),this.emitter?.emit("modifierExpired",{modifier:r})),this.emit("modifierRemoved",{modifier:r,reason:s}),this.emitter?.emit("modifierRemoved",{modifier:r,reason:s}),!0}advance(a){if(typeof a!="number"||a<=0)return;const s=[];for(const r of this.modifiers.values())Number.isFinite(r.remaining)&&(r.remaining=Math.max(0,r.remaining-a),r.remaining<=0&&s.push(r.id));for(const r of s)this.remove(r,"expired")}trigger(a,s){const r=this.hookIndex.get(a);if(!r||r.size===0)return;const c=Array.from(r);for(const u of c){const f=this.modifiers.get(u);if(!f){r.delete(u);continue}const h=f.hooks[a];if(!h){r.delete(u);continue}h(s,{runtime:this,modifier:f})}}clear(){const a=Array.from(this.modifiers.keys());for(const s of a)this.remove(s,"manual")}on(a,s){const r=this.listeners.get(a)??new Set;r.add(s),this.listeners.set(a,r)}off(a,s){const r=this.listeners.get(a);r&&(r.delete(s),r.size===0&&this.listeners.delete(a))}emit(a,s){const r=this.listeners.get(a);if(!(!r||r.size===0))for(const c of Array.from(r))c(s)}indexHooks(a){for(const s of Object.keys(a.hooks)){const r=this.hookIndex.get(s)??new Set;r.add(a.id),this.hookIndex.set(s,r)}}unindexHooks(a){for(const s of Object.keys(a.hooks)){const r=this.hookIndex.get(s);r&&(r.delete(a.id),r.size===0&&this.hookIndex.delete(s))}}}const bc=new b1,E1=n=>bc.add(n),w1=(n,a="manual")=>bc.remove(n,a),S1=n=>{bc.advance(n)},Mo=(n,a)=>{bc.trigger(n,a)};class x1{constructor(a,s,r){this.owner=a,this.entries=s,this.log=r}runTick(a,s){for(const{definition:r,state:c}of this.entries){if(!r.onTick)continue;const u=r.onTick({owner:this.owner,state:c,self:a,opponent:s}),f=Gi(u?.shieldDamage??0);if(f>0){const m=Math.min(a.shield,f);m>0&&(a.shield-=m,this.log.tickShieldDamage+=m)}const h=Gi(u?.hpDamage??0);if(h>0){const m=Math.min(a.health,h);m>0&&(a.health-=m,this.log.tickHpDamage+=m)}}}grantShield(a,s){let r=0;for(const{definition:c,state:u}of this.entries){if(!c.onGrantShield)continue;const f=Gi(c.onGrantShield({owner:this.owner,state:u,self:a,opponent:s})??0);f>0&&(r+=f)}return r>0&&(a.shield+=r,this.log.shieldGranted+=r),r}consumeShield(a,s,r){let c=Gi(a);if(c<=0)return 0;let u=0;for(const{definition:f,state:h}of this.entries){if(!f.onConsumeShield||c<=0)continue;const m=Gi(f.onConsumeShield({owner:this.owner,state:h,self:s,opponent:r,amount:c})??0);if(m<=0)continue;const g=Math.min(c,m);u+=g,c-=g}return u>0&&(this.log.shieldConsumed+=u),u}applyHit(a,s,r){if(a<=0)return 0;let c=0;for(const{definition:h,state:m}of this.entries){if(!h.onHit)continue;const g=Gi(h.onHit({owner:this.owner,state:m,self:s,opponent:r,hpDamage:a})??0);g>0&&(c+=g)}if(c<=0)return 0;const u=Math.max(0,s.maxHealth-s.health);if(u<=0)return 0;const f=Math.min(u,c);return f>0&&(s.health+=f,this.log.lifesteal+=f),f}getShieldValue(){let a=0;for(const{definition:s,state:r}of this.entries){if(!s.onGrantShield||r.keyword!=="Shield")continue;const c=pf(r);if(c<=0)continue;const u=Math.max(0,Number.isFinite(r.stacks)?r.stacks:0);u<=0||(a+=u*c)}return a}}function C1(){return{attacker:ep(),defender:ep()}}function $g(n,a,s){const r=R1(n);if(r.length===0)return null;const c=[];for(const u of r){const f=qA.get(u.keyword);f&&c.push({state:u,definition:f})}return c.length===0?null:new x1(a,c,s)}const qA=new Map;function Ec(n,a){qA.set(n,a)}function ep(){return{tickHpDamage:0,tickShieldDamage:0,shieldGranted:0,shieldConsumed:0,lifesteal:0,keywordShieldRemaining:0}}function Gi(n){return typeof n!="number"||!Number.isFinite(n)?0:n>0?n:0}function Is(n){return typeof n!="number"||!Number.isFinite(n)?0:n>0?n:0}function ur(n){return typeof n!="number"||!Number.isFinite(n)?0:n>0?n:0}function R1(n){if(!n)return[];const a=[],s=n;if(typeof s[Symbol.iterator]=="function"){for(const r of s){const c=tp(r);c&&a.push(c)}return a}if(typeof n=="object")for(const r of Object.values(n)){const c=tp(r);c&&a.push(c)}return a}function tp(n){if(!n||typeof n!="object")return null;const a=n;if(!Object.prototype.hasOwnProperty.call(a,"stacks"))return null;const s=B1(a.keyword);if(!s)return null;const r=a;return r.keyword=s,r.stacks=Is(r.stacks),Object.prototype.hasOwnProperty.call(a,"potency")&&r.potency!==void 0&&(r.potency=ur(r.potency)),r}function B1(n){if(typeof n!="string")return null;switch(n.trim().toLowerCase()){case"bleed":return"Bleed";case"burn":return"Burn";case"lifesteal":case"life-steal":return"Lifesteal";case"shield":return"Shield";default:return null}}function pf(n){const a=n.potency!==void 0?ur(n.potency):1;return a>0?a:0}function M1(n){if(n.potency!==void 0){const r=ur(n.potency);return r>0?r:0}const a=Is(n.stacks);if(a<=0)return 0;const s=a*.2;return s>0?s:0}Ec("Bleed",{onTick({state:n,self:a}){const s=Is(n.stacks);if(s<=0||a.health<=0){n.stacks=s;return}const r=n.potency!==void 0?ur(n.potency):1,c=s*r;if(c<=0)return;const u=Math.min(a.health,c);return n.stacks=Math.max(0,s-1),{hpDamage:u}}});Ec("Burn",{onTick({state:n,self:a}){const s=Is(n.stacks);if(s<=0){n.stacks=s;return}const r=n.potency!==void 0?ur(n.potency):1,c=s*r;if(c<=0)return;const u=Math.min(a.shield,c),f=c-u,h=Math.min(a.health,f);return n.stacks=Math.max(0,s-1),{shieldDamage:u,hpDamage:h}}});Ec("Shield",{onGrantShield({state:n}){const a=Is(n.stacks);if(a<=0)return n.stacks=a,0;const s=a*pf(n);return s>0?s:0},onConsumeShield({state:n,amount:a}){const s=Is(n.stacks);if(s<=0)return n.stacks=0,0;const r=pf(n);if(r<=0)return n.stacks=0,0;const c=s*r;if(c<=0)return n.stacks=0,0;const u=Math.min(c,Gi(a)),f=u/r;return n.stacks=Math.max(0,s-f),u>0?u:0}});Ec("Lifesteal",{onHit({state:n,hpDamage:a}){if(a<=0)return 0;const s=M1(n);if(s<=0)return 0;const r=a*s;return r>0?r:0}});function Hn(n){return Number.isFinite(n)?Math.max(0,n):0}function np(n,a){const s=Hn(a?.health??n?.health??0),r=Hn(a?.shield??n?.shield??0);return{id:n?.id??"unknown",faction:n?.faction,health:s,maxHealth:n?.maxHealth,shield:r}}function ap(n){if(!n)return!1;const a=n;return typeof a.onHit=="function"||typeof a.onKill=="function"||Array.isArray(a.onHit)||Array.isArray(a.onKill)}function ip(n){return n?Array.isArray(n)?n.filter(a=>typeof a=="function"):typeof n=="function"?[n]:[]:[]}function D1(n){if(!n)return[];if(typeof n[Symbol.iterator]=="function"){const s=[];for(const r of n)ap(r)&&s.push(r);return s}return Object.values(n).filter(s=>ap(s))}function Do(n,a,s){if(!n)return;const r=ip(n.hooks?.[a]);for(const u of r)u(s);const c=D1(n.keywords);for(const u of c)for(const f of ip(u[a]))f(s)}function sp(n){const a=Hn(n?.health??0),s=Hn(n?.maxHealth??a);return{health:a,maxHealth:Math.max(s,a),shield:Hn(n?.shield??0)}}function T1(){return{health:0,maxHealth:0,shield:0}}function k1(n){const a=n.attacker??null,s=n.defender,r=n.baseDamage,c=Hn(n.minimumDamage??1),u=Number.isFinite(r)?Hn(r):Hn(a?.attack??0),f=Hn(s.defense??0),h=C1(),m=sp(s),g=a?sp(a):null,p=$g(s.keywords??null,"defender",h.defender),v=a?$g(a.keywords??null,"attacker",h.attacker):null,b=g??T1();p&&p.runTick(m,b),v&&g&&v.runTick(g,m);const E=m.health>0,C=Hn(m.shield);p&&p.grantShield(m,b);const T=Hn(m.shield),B=E?Math.max(c,u-f):0,P=E?Math.min(T,B):0,L=E?Math.max(0,B-P):0;m.shield=Math.max(0,T-P);const F=Math.min(C,P),K=Math.max(0,P-F);p&&K>0&&p.consumeShield(K,m,b);const J=p?p.getShieldValue():0;h.defender.keywordShieldRemaining=J;const ie=Math.max(0,C-F);m.shield=ie+J;const I=m.health;m.health=Math.max(0,I-L);const ne=m.health,W=ne<=0;let q=0;v&&g?(q=v.applyHit(L,g,m),h.attacker.keywordShieldRemaining=v.getShieldValue()):h.attacker.keywordShieldRemaining=0;const G=np(a,g??void 0),O=np(s,{health:ne,shield:ie+J}),D={attacker:G,defender:O,damage:B,shieldDamage:P,hpDamage:L,lethal:W},Y={...D,source:"defender"};if(Do(s,"onHit",Y),Mo("combat:onHit",Y),a){const j={...D,source:"attacker"};Do(a,"onHit",j),Mo("combat:onHit",j),W&&(Do(a,"onKill",j),Mo("combat:onKill",j))}return W&&(Do(s,"onKill",Y),Mo("combat:onKill",Y)),{damage:B,shieldDamage:P,hpDamage:L,lethal:W,remainingHealth:ne,remainingShield:ie+J,attackerHealing:q,attackerRemainingHealth:g?.health,attackerRemainingShield:g?.shield,keywordEffects:h}}const lp=5;function fn(n){return`${n.q},${n.r}`}function rp(n){const[a,s]=n.split(",").map(Number);return{q:a,r:s}}function Rs(n){return{q:n.q,r:n.r}}class H1{constructor(a,s,r,c,u,f=[]){this.id=a,this.type=s,this.faction=c,this.stats=u,this.priorityFactions=f,this.coord=Rs(r),this.renderCoord=Rs(r),this.maxHealth=u.health}alive=!0;listeners={};maxHealth;healMarkerElapsed=0;healAmountBuffer=0;cachedTargetKey;cachedStartKey;cachedPath;movementCooldownSeconds=0;shield=0;immortal=!1;experience=0;combatHooks=null;combatKeywords=null;coord;renderCoord;setCoord(a,s){this.coord=Rs(a),(s?.snapRender??!0)&&(this.renderCoord=Rs(a))}setRenderCoord(a){this.renderCoord=Rs(a)}snapRenderToCoord(a=this.coord){this.renderCoord=Rs(a)}onDeath(a){(this.listeners.death??=[]).push(a)}emitDeath(){for(const a of this.listeners.death??[])a()}isDead(){return!this.alive}getMaxHealth(){return this.maxHealth}distanceTo(a){return Ds(this.coord,a)}getVisionRange(){const{visionRange:a}=this.stats;return Number.isFinite(a)?a:3}attack(a){return this.distanceTo(a.coord)>this.stats.attackRange?null:a.takeDamage(this.stats.attackDamage,this)}update(a,s){if(!(this.isDead()||!s))if(Ds(this.coord,s.pos)<=s.auraRadius){const r=this.stats.health;if(this.stats.health=Math.min(this.stats.health+s.regenPerSec*a,this.maxHealth),this.stats.health>r){const c=this.stats.health-r;this.healMarkerElapsed+=a,this.healAmountBuffer+=c,(this.healMarkerElapsed>=.9||this.healAmountBuffer>=2)&&this.flushHealEvent()}}else this.healAmountBuffer>0&&this.flushHealEvent(),this.healMarkerElapsed=0,this.healAmountBuffer=0}flushHealEvent(){if(this.healAmountBuffer<=0){this.healMarkerElapsed=0;return}const a=Math.round(this.healAmountBuffer*10)/10;a>0&&te.emit("unitHealed",{unitId:this.id,amount:a,remainingHealth:this.stats.health}),this.healAmountBuffer=0,this.healMarkerElapsed=0}takeDamage(a,s){const r=Number.isFinite(a);if(r&&a<=0||!r&&!s)return null;const c=s?s.toCombatParticipant():null,u=this.toCombatParticipant(),f=k1({attacker:c,defender:u,baseDamage:r?a:void 0});this.stats.health=f.remainingHealth,this.shield=f.remainingShield;let h=f;if(f.lethal&&this.alive&&this.immortal&&(this.stats.health=Math.max(1,this.stats.health),h={...f,lethal:!1,remainingHealth:this.stats.health,remainingShield:this.shield}),s&&f.attackerRemainingHealth!==void 0){const m=Math.min(s.getMaxHealth(),Math.max(0,f.attackerRemainingHealth));s.stats.health=m}return s&&f.attackerRemainingShield!==void 0&&s.setShield(f.attackerRemainingShield),h.damage>0&&te.emit("unitDamaged",{attackerId:s?.id,targetId:this.id,amount:h.damage,remainingHealth:this.stats.health}),h.lethal&&this.alive&&(this.stats.health=0,this.alive=!1,this.snapRenderToCoord(),te.emit("unitDied",{unitId:this.id,attackerId:s?.id,unitFaction:this.faction,attackerFaction:s?.faction}),this.emitDeath()),h}getShield(){return this.shield}setShield(a){if(!Number.isFinite(a)||a<=0){this.shield=0;return}this.shield=a}updateStats(a){this.stats.attackDamage=a.attackDamage,this.stats.attackRange=a.attackRange,this.stats.movementRange=a.movementRange,typeof a.defense=="number"&&Number.isFinite(a.defense)?this.stats.defense=a.defense:delete this.stats.defense,typeof a.visionRange=="number"&&Number.isFinite(a.visionRange)&&(this.stats.visionRange=a.visionRange);const s=Math.max(1,Math.round(a.health));this.maxHealth=s,this.stats.health=Math.min(s,Math.max(0,this.stats.health))}isImmortal(){return this.immortal}setImmortal(a){this.immortal=!!a}getExperience(){return this.experience}setExperience(a){const s=Number.isFinite(a)?Math.max(0,Math.floor(a)):0;s!==this.experience&&(this.experience=s,te.emit("unit:xpChanged",{unitId:this.id,xp:this.experience}))}addExperience(a){if(!Number.isFinite(a)||a===0)return this.experience;const s=Math.max(0,Math.floor(this.experience+a));return this.setExperience(s),this.experience}toCombatParticipant(){return{id:this.id,faction:this.faction,attack:this.stats.attackDamage,defense:this.stats.defense,health:this.stats.health,maxHealth:this.maxHealth,shield:this.shield,hooks:this.combatHooks,keywords:this.combatKeywords}}addMovementTime(a){!Number.isFinite(a)||a<=0||(this.movementCooldownSeconds+=a)}canStep(a=lp){return this.movementCooldownSeconds>=a}consumeMovementCooldown(a=lp){return this.canStep(a)?(this.movementCooldownSeconds-=a,!0):!1}moveTowards(a,s,r){const c=this.getPathTo(a,s,r);if(c.length<2)return[];let u=0;const f=fn(a);for(let m=1;m<c.length;m++){const g=fn(c[m]);if(r.has(g)){g!==f&&this.clearPathCache();break}u=m}if(u===0)return[];const h=Math.min(this.stats.movementRange,u);return c.slice(0,h+1)}getPathTo(a,s,r){const c=fn(this.coord),u=fn(a);return(!this.cachedPath||this.cachedTargetKey!==u||this.cachedStartKey!==c)&&(this.cachedPath=this.findPath(a,s,r),this.cachedTargetKey=u,this.cachedStartKey=c),this.cachedPath}advancePathCache(a){!this.cachedPath||a<=0||(this.cachedPath=this.cachedPath.slice(a),this.cachedPath.length>0?this.cachedStartKey=fn(this.cachedPath[0]):(this.cachedPath=void 0,this.cachedStartKey=void 0,this.cachedTargetKey=void 0))}clearPathCache(){this.cachedPath=void 0,this.cachedStartKey=void 0,this.cachedTargetKey=void 0}findPath(a,s,r){const c=this.coord,u=fn(c),f=fn(a),h=new Set([u]),m=new Map([[u,null]]),g=new Map([[u,0]]),p=new Map([[u,Ds(c,a)]]);for(;h.size>0;){let E=null,C=1/0;for(const P of h){const L=p.get(P)??1/0;L<C&&(C=L,E=P)}if(E===null||E===f)break;h.delete(E);const T=rp(E),B=g.get(E)??1/0;for(const P of Wo(T)){const L=fn(P);if(L!==f&&!this.isPassable(P,s,r))continue;const F=B+1;F<(g.get(L)??1/0)&&(m.set(L,E),g.set(L,F),p.set(L,F+Ds(P,a)),h.add(L))}}if(!m.has(f))return[c];const v=[];let b=f;for(;b;)v.push(rp(b)),b=m.get(b)??null;return v.reverse()}seekNearestEnemy(a,s,r){const c=new Map;for(const h of a)c.set(fn(h.coord),h);const u=[this.coord],f=new Set([fn(this.coord)]);for(;u.length>0;){const h=u.shift(),m=fn(h),g=c.get(m);if(g)return g;for(const p of Wo(h)){const v=fn(p),b=c.get(v);if(b)return b;this.isPassable(p,s,r)&&(f.has(v)||(f.add(v),u.push(p)))}}return null}canTraverse(a,s,r){return this.isPassable(a,s,r)}isPassable(a,s,r){const c=s.getTile(a.q,a.r);return!c||r&&r.has(fn(a))?!1:c.terrain!==xn.Lake}}class O1{static selectTarget(a,s){let r=s.filter(u=>u.faction!==a.faction&&!u.isDead());if(r.length===0)return null;if(a.priorityFactions.length>0){const u=r.filter(f=>a.priorityFactions.includes(f.faction));u.length>0&&(r=u)}const c=r.filter(u=>a.distanceTo(u.coord)<=a.stats.attackRange);return c.length>0?(c.sort((u,f)=>u.stats.health-f.stats.health),c[0]):(r.sort((u,f)=>a.distanceTo(u.coord)-a.distanceTo(f.coord)),r[0]??null)}}const P1=4,N1=8;class Q1{buckets=[];bucketCount=0;currentBucket=0;minBuckets;maxBuckets;constructor(a={}){this.minBuckets=a.minBuckets??P1,this.maxBuckets=a.maxBuckets??N1}reset(){this.buckets=[],this.bucketCount=0,this.currentBucket=0}next(a){const s=a.length;if(s===0)return this.reset(),[];const r=this.computeBucketCount(s);r!==this.bucketCount&&(this.bucketCount=r,this.currentBucket=this.currentBucket%Math.max(1,r)),this.rebuildBuckets(a);const c=this.buckets[this.currentBucket]??[];return this.bucketCount>0&&(this.currentBucket=(this.currentBucket+1)%this.bucketCount),c}rebuildBuckets(a){const s=this.bucketCount;this.buckets=Array.from({length:s},()=>[]);const r=[...a].sort((c,u)=>c.id.localeCompare(u.id));for(let c=0;c<r.length;c++){const u=c%s;this.buckets[u].push(r[c])}}computeBucketCount(a){if(a<=0)return 0;const s=Math.ceil(a/12);let r=Math.max(this.minBuckets,s);return r=Math.min(this.maxBuckets,r),r=Math.min(r,a),r=Math.max(1,r),r}}function Ld(n){return`${n.q},${n.r}`}const G1=500;class U1{cache=new Map;targetIndex=new Map;targetPositions=new Map;ttlMs;constructor(a=G1){this.ttlMs=a}clearExpired(a=Date.now()){for(const[s,r]of this.cache.entries())if(r.expiresAt<=a&&(this.cache.delete(s),r.targetId)){const c=this.targetIndex.get(r.targetId);c?.delete(s),c&&c.size===0&&this.targetIndex.delete(r.targetId)}}trackUnit(a){this.invalidateIfTargetMoved(a.id,Ld(a.coord))}invalidateForUnit(a){const s=this.targetIndex.get(a);if(s){for(const r of s)this.cache.delete(r);this.targetIndex.delete(a)}this.targetPositions.delete(a)}getPath(a,s,r,c,u={}){const f=u.now??Date.now(),h=u.targetId,m=Ld(s);h&&this.invalidateIfTargetMoved(h,m);const g=this.hashObstacles(c),p=this.createCacheKey(Ld(a.coord),m,g),v=this.cache.get(p);if(v&&v.expiresAt>f)return v.path;a.clearPathCache();const b=a.getPathTo(s,r,c);if(this.cache.set(p,{path:b,expiresAt:f+this.ttlMs,targetId:h}),h){let E=this.targetIndex.get(h);E||(E=new Set,this.targetIndex.set(h,E)),E.add(p),this.targetPositions.set(h,m)}return b}invalidateIfTargetMoved(a,s){const r=this.targetPositions.get(a);if(!r){this.targetPositions.set(a,s);return}if(r===s)return;const c=this.targetIndex.get(a);if(c){for(const u of c)this.cache.delete(u);c.clear()}this.targetPositions.set(a,s)}hashObstacles(a){return a.size===0?"empty":Array.from(a).sort().join("|")}createCacheKey(a,s,r){return`${a}->${s}|${r}`}}const L1={baseThreshold:50,heatPerSecond:50/30,thresholdGrowth:.05,coolingPerSecond:0};function Lt(n,a=0){return Number.isFinite(n)?n:a}class j1{heat;threshold;baseThreshold;thresholdGrowthFactor;heatPerSecond;coolingPerSecond;maxStoredHeat;constructor(a={}){const s={...L1,...a},r=Math.max(1,Lt(s.baseThreshold,50)),c=Math.max(1,Lt(a.initialThreshold??r,r));this.baseThreshold=r,this.threshold=c,this.thresholdGrowthFactor=1+Math.max(0,Lt(s.thresholdGrowth,0)),this.heatPerSecond=Math.max(0,Lt(s.heatPerSecond,0)),this.coolingPerSecond=Math.max(0,Lt(s.coolingPerSecond,0));const u=Lt(s.maxStoredHeat??Number.NaN,Number.NaN);this.maxStoredHeat=Number.isFinite(u)&&u>=0?u:null;const f=Math.max(0,Lt(a.initialHeat??0,0));this.heat=this.setHeatInternal(f)}getHeat(){return this.heat}getThreshold(){return this.threshold}getBuildRate(){return this.heatPerSecond}getCoolingRate(){return this.coolingPerSecond}reset(){this.heat=0,this.threshold=this.baseThreshold}setHeat(a){const s=Math.max(0,Lt(a,0));return this.heat=this.setHeatInternal(s),this.heat}setHeatInternal(a){const s=Math.max(0,Lt(a,0));return this.maxStoredHeat===null?(this.heat=s,this.heat):(this.heat=Math.min(s,this.maxStoredHeat),this.heat)}addHeat(a){const s=Math.max(0,Lt(a,0));if(s<=0)return 0;const r=this.heat,c=r+s;return this.heat=this.maxStoredHeat===null?c:Math.min(c,this.maxStoredHeat),this.heat-r}cool(a){const s=Math.max(0,Lt(a,0));if(s<=0||this.heat<=0)return 0;const r=this.heat;return this.heat=Math.max(0,this.heat-s),r-this.heat}vent(a=1){const s=Math.max(0,Math.min(1,Lt(a,1)));return s<=0?0:this.cool(this.threshold*s)}advance(a,s){const r=Math.max(0,Lt(a,0)),c=this.heatPerSecond,u=r>0?c*r:0,f=Math.max(0,Lt(s?.bonusHeat??0,0)),h=u+f,m=this.addHeat(h),g=Math.max(0,Lt(s?.coolingMultiplier??1,1)),p=r>0?this.coolingPerSecond*r*g:0,v=this.cool(p);return{addedHeat:m,cooledHeat:v,heat:this.heat}}hasTriggerReady(){return this.heat>=this.threshold-1e-6}consumeTrigger(){return this.hasTriggerReady()?(this.cool(this.threshold),this.threshold=Math.max(this.baseThreshold,this.threshold*this.thresholdGrowthFactor),!0):!1}timeUntilNextTrigger(){return this.hasTriggerReady()?0:this.heatPerSecond<=0?Number.POSITIVE_INFINITY:Math.max(0,this.threshold-this.heat)/this.heatPerSecond}getCooldownSeconds(){return this.heatPerSecond<=0?Number.POSITIVE_INFINITY:this.threshold/this.heatPerSecond}}function z1(n){return new j1(n)}const op=500;function YA(n,a,s){const r=typeof a=="number"?a:2,c=(typeof a=="number"?s:a)??[],u=[];for(let h=-r;h<=r;h++){const m=Math.max(-r,-h-r),g=Math.min(r,-h+r);for(let p=m;p<=g;p++){const v=Math.max(Math.abs(h),Math.abs(p),Math.abs(-h-p));if(v===0||v>r)continue;const b={q:n.q+h,r:n.r+p};c.some(C=>!C.isDead()&&C.coord.q===b.q&&C.coord.r===b.r)||u.push(b)}}if(u.length===0)return null;const f=Math.floor(Math.random()*u.length);return u[f]}function I1(n,a,s={}){const r=z1(a),c=r.getBuildRate(),u=r.getCooldownSeconds(),f=r.timeUntilNextTrigger(),h=Number.isFinite(s.maxRosterSize)?Math.max(0,Math.floor(s.maxRosterSize??0)):0,m=Number.isFinite(s.maxHealth)?Math.max(1,Math.floor(s.maxHealth??op)):op,g=Number.isFinite(s.health)?Math.max(0,Math.min(m,Math.floor(s.health??m))):m;return{id:"sauna",pos:n,auraRadius:2,regenPerSec:1,rallyToFront:!1,maxRosterSize:h,maxHealth:m,health:g,destroyed:g<=0,heat:r.getHeat(),heatPerTick:c,playerSpawnThreshold:r.getThreshold(),playerSpawnCooldown:Number.isFinite(u)?u:0,playerSpawnTimer:Number.isFinite(f)?f:0,beerUpkeepAccumulator:0,heatTracker:r}}function F1(n,a){if(!Number.isFinite(a)||a<=0||n.destroyed)return{amount:0,remainingHealth:Math.max(0,n.health),destroyed:n.destroyed};const s=Math.max(0,n.health),r=Math.min(s,Math.max(0,Math.floor(a))),c=Math.max(0,s-r);return n.health=c,c<=0&&(n.health=0,n.destroyed=!0),{amount:r,remainingHealth:n.health,destroyed:n.destroyed}}const X1=30;function jt(n){return`${n.q},${n.r}`}class q1{constructor(a,s){this.map=a,this.animator=s}scheduler=new Q1;pathCache=new U1;lastKnownCoords=new Map;findExplorationGoal(a,s){const r=a.coord;if(this.map.ensureTile(r.q,r.r).isFogged&&a.canTraverse(r,this.map,s))return r;const u=new Set([jt(r)]),f=[r];for(;f.length>0;){const h=f.shift(),m=Wo(h),g=this.map.getNeighbors(h.q,h.r);for(let p=0;p<m.length;p++){const v=m[p],b=g[p],E=jt(v);if(!u.has(E)&&(u.add(E),!!a.canTraverse(v,this.map,s))){if(b.isFogged)return v;f.push(v)}}}return null}tick(a,s,r){const c=a.length,u=Date.now();if(this.pathCache.clearExpired(u),c===0){this.scheduler.reset();return}const f=new Set,h=[],m=new Set;for(const p of a){if(p.addMovementTime(s),p.isDead()){p.clearPathCache(),this.pathCache.invalidateForUnit(p.id),this.animator?.clear(p),this.lastKnownCoords.delete(p.id);continue}const v=this.lastKnownCoords.get(p.id);v&&Ds(v,p.coord)>1&&this.animator?.clear(p,{snap:!0}),this.lastKnownCoords.set(p.id,{q:p.coord.q,r:p.coord.r}),this.pathCache.trackUnit(p),h.push(p),f.add(jt(p.coord)),m.add(p.id)}for(const p of[...this.lastKnownCoords.keys()])m.has(p)||this.lastKnownCoords.delete(p);if(h.length===0){this.scheduler.reset();return}const g=this.scheduler.next(h);if(g.length!==0)for(const p of g){const v=jt(p.coord);if(f.delete(v),p.isDead()){p.clearPathCache(),this.pathCache.invalidateForUnit(p.id),this.animator?.clear(p);continue}const b=O1.selectTarget(p,a);if(!b&&r&&!r.destroyed&&this.tryAttackSauna(p,r)){const L=jt(p.coord);f.add(L);continue}if(!b){let P=null;if(r&&!r.destroyed&&(P=r.pos),P||(P=this.findExplorationGoal(p,f)),P){const F=this.computeMovementPath(p,P,f,u);if(F.length>1&&p.stats.movementRange>0){const K=F[1],J=jt(K);if(f.has(J))p.clearPathCache();else{if(!p.canStep()){f.add(v);continue}if(p.consumeMovementCooldown()){const ie={q:p.coord.q,r:p.coord.r};this.animator?(p.setCoord(K,{snapRender:!1}),this.animator.enqueue(p,[ie,K])):p.setCoord(K),p.advancePathCache(1);const I=jt(p.coord);I===jt(P)&&p.clearPathCache(),f.add(I),this.lastKnownCoords.set(p.id,{q:p.coord.q,r:p.coord.r});continue}}}else p.clearPathCache()}else p.clearPathCache();const L=jt(p.coord);f.add(L),r&&!r.destroyed&&this.tryAttackSauna(p,r);continue}if(b.isDead()){p.clearPathCache(),f.add(v);continue}const E=jt(b.coord),C=this.pathCache.getPath(p,b.coord,this.map,f,{now:u,targetId:b.id});if(C.length>1&&p.stats.movementRange>0){const P=C[1],L=jt(P),F=L===E;if(!f.has(L)||F){if(p.canStep()&&p.consumeMovementCooldown()){const K={q:p.coord.q,r:p.coord.r};this.animator?(p.setCoord(P,{snapRender:!1}),this.animator.enqueue(p,[K,P])):p.setCoord(P),p.advancePathCache(1)}}else p.clearPathCache()}const T=jt(p.coord);f.add(T),this.lastKnownCoords.set(p.id,{q:p.coord.q,r:p.coord.r});const B=jt(b.coord);B!==E&&p.clearPathCache(),p.distanceTo(b.coord)<=p.stats.attackRange&&!b.isDead()&&((p.attack(b)?.lethal??!1)||b.isDead())&&(f.delete(B),p.clearPathCache(),this.pathCache.invalidateForUnit(b.id),this.animator?.clear(b))}}tryAttackSauna(a,s){if(a.faction==="player")return!1;const r=a.stats.attackRange;if(r<=0||a.distanceTo(s.pos)>r)return!1;const c=F1(s,a.stats.attackDamage);if(c.amount<=0)return!1;const u={attackerId:a.id,attackerFaction:a.faction,amount:c.amount,remainingHealth:c.remainingHealth};if(te.emit("saunaDamaged",u),c.destroyed){const f={attackerId:a.id,attackerFaction:a.faction};te.emit("saunaDestroyed",f)}return!0}computeMovementPath(a,s,r,c){const u=this.pathCache.getPath(a,s,this.map,r,{now:c});if(u.length<2)return[];let f=0;const h=jt(s);for(let g=1;g<u.length;g++){const p=jt(u[g]);if(r.has(p)){p!==h&&a.clearPathCache();break}f=g}if(f===0)return[];const m=Math.min(a.stats.movementRange,f);return u.slice(0,m+1)}}function wc(n){if(!Number.isFinite(n??NaN))return 1;const a=Math.floor(n);return Math.max(1,a)}function Y1(n){return Math.max(0,wc(n)-1)}function _1(n,a="linear"){const s=Y1(n);switch(a){case"accelerating":return s*(s+1)/2;case"diminishing":return s===0?0:Math.log2(s+1);case"linear":default:return s}}function K1(n,a="round"){switch(a){case"floor":return Math.floor(n);case"ceil":return Math.ceil(n);case"none":return n;case"round":default:return Math.round(n)}}function V1(n,a,s){let r=n;return Number.isFinite(a)&&(r=Math.max(r,a)),Number.isFinite(s)&&(r=Math.min(r,s)),r}function Xl(n,a){const s=wc(a),r=n.curve??"linear",c=_1(s,r),u=n.base+n.growth*c,f=V1(u,n.min,n.max);return K1(f,n.round??"round")}function dr(n,a){const s=wc(a),r=n.stats,c={health:Xl(r.health,s),attackDamage:Xl(r.attackDamage,s),attackRange:Xl(r.attackRange,s),movementRange:Xl(r.movementRange,s)};return r.visionRange&&(c.visionRange=Xl(r.visionRange,s)),c}function cp(n){if(typeof n=="number"&&Number.isFinite(n))return n}function nc(n,a){let s=n.health,r=n.attackDamage,c=n.attackRange,u=n.movementRange,f=cp(n.defense),h=cp(n.shield);for(const g of a){const p=Math.max(1,Math.round(g.quantity)),v=g.modifiers;typeof v.health=="number"&&(s+=v.health*p),typeof v.attackDamage=="number"&&(r+=v.attackDamage*p),typeof v.attackRange=="number"&&(c+=v.attackRange*p),typeof v.movementRange=="number"&&(u+=v.movementRange*p),typeof v.defense=="number"&&(f=(f??0)+v.defense*p),typeof v.shield=="number"&&(h=(h??0)+v.shield*p)}const m={health:Math.max(1,Math.round(s)),attackDamage:Math.max(0,Math.round(r)),attackRange:Math.max(0,Math.round(c)),movementRange:Math.max(0,Math.round(u))};return f!==void 0&&(m.defense=Math.max(0,Math.round(f))),h!==void 0&&(m.shield=Math.max(0,Math.round(h))),typeof n.visionRange=="number"&&Number.isFinite(n.visionRange)&&(m.visionRange=Math.max(0,Math.round(n.visionRange))),m}const Gf=Object.freeze({id:"soldier",displayName:"Sauna Soldier",cost:50,tags:["infantry","melee"],stats:{health:{base:20,growth:6,curve:"linear",round:"round"},attackDamage:{base:5,growth:1,curve:"linear",round:"round"},attackRange:{base:1,growth:0,round:"round"},movementRange:{base:1,growth:0,round:"round"},visionRange:{base:3,growth:0,round:"round"}}}),Uf=Object.freeze({id:"archer",displayName:"Sauna Archer",cost:75,tags:["ranged"],stats:{health:{base:15,growth:4,curve:"linear",round:"round"},attackDamage:{base:3,growth:.4,curve:"accelerating",round:"ceil"},attackRange:{base:3,growth:.5,curve:"diminishing",round:"ceil",max:5},movementRange:{base:1,growth:0,round:"round"},visionRange:{base:3,growth:.25,curve:"linear",round:"round",max:5}}}),_A=Object.freeze({id:"avanto-marauder",displayName:"Avanto Marauder",cost:0,tags:["enemy","melee"],stats:{health:{base:12,growth:5,curve:"linear",round:"round"},attackDamage:{base:4,growth:.6,curve:"accelerating",round:"ceil"},attackRange:{base:1,growth:0,round:"round"},movementRange:{base:1,growth:.25,curve:"linear",round:"round",max:2},visionRange:{base:3,growth:0,round:"round"}}}),KA=Object.freeze({soldier:Gf,archer:Uf,"avanto-marauder":_A});function Lf(n){return KA[n]??null}Object.freeze(Object.keys(KA));const up=Gf.cost;Object.freeze(dr(Gf,1));Uf.cost;Object.freeze(dr(Uf,1));Object.freeze(dr(_A,1));function VA(n,a,s,r,c){const u=wc(c?.level),f=dr(n,u);return new H1(a,n.id,s,r,f,n.priorityFactions)}function ZA(n,a,s,r,c){const u=Lf(n);return u?VA(u,a,s,r,c):null}function jf(n,a,s,r,c,u){const f=Lf(a);if(!f)return null;const h=f.cost;if(!n.canAfford(h,le.SAUNA_BEER))return Ta("error"),null;n.addResource(le.SAUNA_BEER,-h);const m=VA(f,s,r,c,u);return Ta("spawn"),te.emit("unitSpawned",{unit:m}),m}const Z1=Object.freeze(Object.defineProperty({__proto__:null,createUnit:ZA,spawnUnit:jf},Symbol.toStringTag,{value:"Module"})),J1=["Aino","Eero","Ilona","Kalevi","Lumi","Mika","Noora","Oskari","Saana","Tapio","Veera","Yrjö"],W1=["Emberguard","Frostwalker","Steamcaller","Dawnwatch","Gritforged","Stormchant","Snowborn","Torchbearer","Chillwarden","Sisuheart"],$1=["Aalto","Halla","Karhu","Korhonen","Laine","Metsä","Niemi","Salmi","Tuomi","Virta"];function jd(n,a){if(n.length===0)throw new Error("Cannot select a name from an empty collection.");const s=Math.floor(a()*n.length);return n[Math.min(s,n.length-1)]}function eE(n=Math.random){const a=jd(J1,n),s=jd(W1,n),r=jd($1,n);return`${a} "${s}" ${r}`}const Fs=Object.freeze(["supply","weapon","focus","relic"]);function JA(){return{supply:null,weapon:null,focus:null,relic:null}}const tE=Object.freeze({supply:Object.freeze({id:"supply",label:"Supply Satchel",description:"Consumables and restorative provisions carried into battle.",maxStacks:5}),weapon:Object.freeze({id:"weapon",label:"Primary Armament",description:"The attendant's main weapon or ranged kit.",maxStacks:1}),focus:Object.freeze({id:"focus",label:"Battle Focus",description:"Tools that sharpen aim, steps, or battlefield intuition.",maxStacks:1}),relic:Object.freeze({id:"relic",label:"Sauna Relic",description:"Charms and relics that empower the attendant's resolve.",maxStacks:1})}),nE=Object.freeze({"birch-sap-satchel":Object.freeze({id:"birch-sap-satchel",slot:"supply",modifiers:{health:3},maxStacks:3}),"steamed-bandages":Object.freeze({id:"steamed-bandages",slot:"supply",modifiers:{shield:4},maxStacks:2}),"aurora-distillate":Object.freeze({id:"aurora-distillate",slot:"supply",modifiers:{attackDamage:2,defense:1},maxStacks:1}),"stolen-sauna-tokens":Object.freeze({id:"stolen-sauna-tokens",slot:"supply",modifiers:{movementRange:.5},maxStacks:5}),"midnight-bloodwine":Object.freeze({id:"midnight-bloodwine",slot:"supply",modifiers:{health:6,attackDamage:1},maxStacks:1}),"sauna-incense":Object.freeze({id:"sauna-incense",slot:"supply",modifiers:{attackRange:1},maxStacks:2}),"glacier-brand":Object.freeze({id:"glacier-brand",slot:"weapon",modifiers:{attackDamage:3},maxStacks:1}),"emberglass-arrow":Object.freeze({id:"emberglass-arrow",slot:"weapon",modifiers:{attackDamage:1,attackRange:2},maxStacks:1}),"aurora-lattice":Object.freeze({id:"aurora-lattice",slot:"focus",modifiers:{attackDamage:2,attackRange:1},maxStacks:1}),"emberglass-shard":Object.freeze({id:"emberglass-shard",slot:"focus",modifiers:{attackDamage:1,movementRange:1},maxStacks:1}),"windstep-totem":Object.freeze({id:"windstep-totem",slot:"focus",modifiers:{movementRange:1,defense:1},maxStacks:1}),"searing-chant-censer":Object.freeze({id:"searing-chant-censer",slot:"focus",modifiers:{attackDamage:2,shield:2},maxStacks:1}),"cracked-ice-amulet":Object.freeze({id:"cracked-ice-amulet",slot:"relic",modifiers:{defense:2},maxStacks:1}),"myrsky-charm":Object.freeze({id:"myrsky-charm",slot:"relic",modifiers:{attackRange:1,defense:1},maxStacks:1}),"frostwyrm-signet":Object.freeze({id:"frostwyrm-signet",slot:"relic",modifiers:{shield:5},maxStacks:1}),"spirit-oak-charm":Object.freeze({id:"spirit-oak-charm",slot:"relic",modifiers:{defense:1,health:2},maxStacks:1})});function fr(n){const a=tE[n];if(!a)throw new Error(`Unknown equipment slot: ${n}`);return a}function hr(n){return nE[n]}function WA(n){return Number.isFinite(n)?Math.max(1,Math.round(n)):1}function $A(n,a){return{id:n.id,name:n.name,description:n.description,icon:n.icon,rarity:n.rarity,quantity:a}}function ev(n,a,s,r){const c=fr(a),u=Math.max(1,Math.floor(s.maxStacks??c.maxStacks)),f=Math.min(u,r),h=s.modifiers??{};return{...$A(n,f),slot:a,maxStacks:u,modifiers:h}}function Af(n){n.equipment||(n.equipment=JA());for(const a of Fs)n.equipment[a]??=null;return n.equipment}function Pn(n){const a=[];for(const s of Fs){const r=n[s];r&&a.push({...r})}return a}function zf(n){return Pn(n).map(a=>$A(a,a.quantity))}function zd(n){const a=JA();for(const s of n){const r=hr(s.id);if(!r)continue;const c=WA(s.quantity),u=a[r.slot];if(u&&u.id!==s.id)continue;const f=(u?.quantity??0)+c,h=ev(s,r.slot,r,f);a[r.slot]=h}return a}function aE(n,a){const s=hr(a.id);if(!s)return{success:!1,slot:"supply",loadout:Pn(Af(n)),item:null,reason:"unknown-item"};const r=Af(n),c=s.slot,u=fr(c),f=WA(a.quantity),h=Math.max(1,Math.floor(s.maxStacks??u.maxStacks)),m=r[c];if(m&&m.id!==a.id)return{success:!1,slot:c,loadout:Pn(r),item:m,reason:"slot-occupied"};const g=Math.min(h,(m?.quantity??0)+f);if((m?.quantity??0)+f>h)return{success:!1,slot:c,loadout:Pn(r),item:m,reason:"stack-limit"};const p=ev(a,c,s,g);return r[c]=p,n.items=zf(r),{success:!0,slot:c,loadout:Pn(r),item:p}}function iE(n,a){const s=Af(n),r=s[a];return r?(s[a]=null,n.items=zf(s),{success:!0,slot:a,loadout:Pn(s),removed:r}):{success:!1,slot:a,loadout:Pn(s),removed:null,reason:"empty-slot"}}function sE(n,a){return hr(n)?.slot===a}const lE={q:0,r:0},rE="Saunoja",vf=18,dp=0,Qs=0,Vo=10,fp=1,To={health:vf,attackDamage:4,attackRange:1,movementRange:1,defense:0,shield:0};function ko(n,a,s){return Math.min(Math.max(n,a),s)}function Ho(n,a,s){const r=typeof n=="number"&&Number.isFinite(n)?n:a;return Math.max(s,r)}function Id(n,a,s=0){if(typeof n=="number"&&Number.isFinite(n))return Math.max(s,n);if(typeof a=="number"&&Number.isFinite(a))return Math.max(s,a)}function hp(n,a){if(!n||typeof n!="object")return{...a};const s=n,r=Ho(s.health,a.health,1),c=Ho(s.attackDamage,a.attackDamage,0),u=Ho(s.attackRange,a.attackRange,0),f=Ho(s.movementRange,a.movementRange,0),h=Id(s.defense,a.defense,0),m=Id(s.shield,a.shield,0),g=Id(s.visionRange,a.visionRange,0);return{health:r,attackDamage:c,attackRange:u,movementRange:f,defense:h,shield:m,visionRange:g}}function oE(n,a){if(!n||typeof n!="object")return zd(a);const s=n,r=[];for(const c of Object.values(s)){const u=tv(c);u&&r.push(u)}return r.length===0?zd(a):zd(r)}function tv(n){if(!n||typeof n!="object")return null;const a=n,s=typeof a.id=="string"?a.id.trim():"",r=typeof a.name=="string"?a.name.trim():"";if(!s||!r)return null;const c=typeof a.description=="string"?a.description.trim():void 0,u=typeof a.icon=="string"?a.icon.trim():void 0,f=typeof a.rarity=="string"?a.rarity.trim():void 0,h=typeof a.quantity=="number"?a.quantity:Number(a.quantity),m=Number.isFinite(h)?Math.max(1,Math.round(h)):1;return{id:s,name:r,description:c,icon:u,rarity:f,quantity:m}}function cE(n){if(!n||n.length===0)return[];const a=[];for(const s of n){const r=tv(s);r&&a.push(r)}return a}function uE(n){if(!n||typeof n!="object")return null;const a=n,s=typeof a.id=="string"?a.id.trim():"",r=typeof a.name=="string"?a.name.trim():"";if(!s||!r)return null;const c=a.duration;let u=1/0;typeof c=="number"&&Number.isFinite(c)?u=Math.max(0,c):c!==1/0&&(u=1/0);const f=a.remaining;let h=u;typeof f=="number"&&Number.isFinite(f)?h=Math.max(0,f):f===1/0&&(h=1/0),u!==1/0&&h===1/0&&(h=u);const m=a.appliedAt,g=typeof m=="number"&&Number.isFinite(m)?Math.max(0,m):void 0,p=a.stacks,v=typeof p=="number"&&Number.isFinite(p)?Math.max(1,Math.round(p)):void 0,b=typeof a.description=="string"?a.description.trim():void 0,E=typeof a.source=="string"?a.source.trim():void 0;return{id:s,name:r,description:b,duration:u,remaining:h,appliedAt:g,stacks:v,source:E}}function dE(n){if(!n||n.length===0)return[];const a=[];for(const s of n){const r=uE(s);r&&a.push(r)}return a}function fE(n){if(typeof n=="string"){const a=n.trim();if(a.length>0)return a}try{return eE()}catch(a){return console.warn("Falling back to default Saunoja name",a),rE}}function If(n){const{id:a,name:s,coord:r=lE,maxHp:c=vf,hp:u=c,steam:f=0,defense:h,shield:m=0,traits:g=[],upkeep:p=fp,xp:v=0,lastHitAt:b=dp,selected:E=!1,items:C,modifiers:T,combatKeywords:B=null,combatHooks:P=null}=n,L=Number.isFinite(c)?Math.max(1,c):vf,F=Number.isFinite(u)?u:L,K=ko(F,0,L),J=Number.isFinite(f)?f:0,ie=ko(J,0,1),ne=(Array.isArray(g)?g:[]).filter(Xt=>typeof Xt=="string").map(Xt=>Xt.trim()).filter(Xt=>Xt.length>0),W=Number.isFinite(p)?p:fp,q=ko(W,Qs,Vo),G=Number.isFinite(v)?v:0,O=Math.max(0,G),D=Number.isFinite(b)?b:dp,Y=Math.max(0,D),j=Number.isFinite(m)?m:0,R=Math.max(0,j),U=Number.isFinite(h)?h:void 0,ae=U!==void 0?Math.max(0,U):void 0,de=cE(C),w=dE(T),z=oE(n.equipment,de),ee=zf(z),$={...To,health:L,defense:ae??To.defense,shield:To.shield},re=hp(n.baseStats,$),me={...re,health:L,defense:ae??re.defense,shield:R},fe=hp(n.effectiveStats,me),je=Math.max(1,fe.health),Ce=ko(K,0,je),Et=typeof fe.defense=="number"?Math.max(0,fe.defense):ae??void 0,en=typeof fe.shield=="number"?Math.max(0,fe.shield):R,Cn={...re,health:Math.max(1,re.health),defense:typeof re.defense=="number"?Math.max(0,re.defense):ae??void 0,shield:typeof re.shield=="number"?Math.max(0,re.shield):To.shield},tn={...fe,health:je,defense:Et,shield:en},Ft=fE(s);return{id:a,name:Ft,coord:{q:r.q,r:r.r},maxHp:je,hp:Ce,defense:Et,shield:en,steam:ie,traits:[...ne],upkeep:q,xp:O,lastHitAt:Y,selected:E,items:ee,baseStats:Cn,effectiveStats:tn,equipment:z,modifiers:w,combatKeywords:B,combatHooks:P}}const Xs=32;function ir(n,a,s,r){n.beginPath();for(let c=0;c<6;c++){const u=Math.PI/3*c,f=a+r*Math.cos(u),h=s+r*Math.sin(u);c===0?n.moveTo(f,h):n.lineTo(f,h)}n.closePath()}function Ff(n,a,s){return Math.min(Math.max(n,a),s)}function hE(n,{centerX:a,centerY:s,hp:r,maxHp:c,radius:u=Xs*.55}){const f=Number.isFinite(c)?Math.max(1,c):1,h=Number.isFinite(r)?r:f,m=Ff(h/f,0,1);if(n.save(),ir(n,a,s,u),n.fillStyle="rgba(7, 11, 18, 0.72)",n.fill(),n.restore(),m>0){n.save(),ir(n,a,s,u),n.clip();const g=n.createLinearGradient(a,s+u,a,s-u);g.addColorStop(0,"rgba(46, 160, 98, 0.35)"),g.addColorStop(1,"rgba(218, 255, 239, 0.95)"),n.fillStyle=g;const p=u*2*m,v=s+u-p;n.fillRect(a-u,v,u*2,p),n.restore()}n.save(),ir(n,a,s,u),n.lineWidth=Math.max(1,u*.12),n.strokeStyle="rgba(255, 255, 255, 0.28)",n.stroke(),n.restore()}function mE(n,{centerX:a,centerY:s,radius:r=Xs,progress:c=0}){const u=Ff(c,0,1);if(u<=0)return;const f=Number.isFinite(r)&&r>0?r:Xs;n.save(),n.globalCompositeOperation="lighter",n.globalAlpha=u;const h=n.createRadialGradient(a,s,Math.max(1,f*.1),a,s,f);h.addColorStop(0,"rgba(255, 255, 255, 0.92)"),h.addColorStop(.45,"rgba(255, 255, 255, 0.68)"),h.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=h,n.beginPath(),n.arc(a,s,f,0,Math.PI*2),n.fill(),n.restore()}function gE(n,{centerX:a,centerY:s,radius:r=Xs*.85,intensity:c=1}){const u=Ff(c,0,1);if(u<=0)return;n.save(),ir(n,a,s,r),n.clip();const f=n.createLinearGradient(a,s+r,a,s-r);f.addColorStop(0,"rgba(255, 255, 255, 0)"),f.addColorStop(.55,`rgba(255, 255, 255, ${.12*u})`),f.addColorStop(1,`rgba(255, 255, 255, ${.35*u})`),n.globalCompositeOperation="lighter",n.fillStyle=f,n.fillRect(a-r,s-r,r*2,r*2),n.restore(),n.save(),n.globalCompositeOperation="lighter",n.lineCap="round",n.strokeStyle=`rgba(255, 255, 255, ${.25*u})`,n.lineWidth=Math.max(1,r*.08);const h=r*.75,m=r*.35;for(let g=0;g<3;g++){const p=s-r*.5+g*m;n.beginPath(),n.moveTo(a-h,p),n.bezierCurveTo(a-h*.4,p-r*.4,a+h*.4,p+r*.2,a+h,p-r*.45),n.stroke()}n.restore()}function yf(n,a,s){return n<a?a:n>s?s:n}const Fd=Object.freeze([{id:"skirmish",label:"Skirmish Patrols",minRunSeconds:0,minClears:0,cadence:26,multiplier:1,bundleTier:0},{id:"raids",label:"Raid Pressure",minRunSeconds:90,minClears:2,cadence:19,multiplier:1.35,bundleTier:1},{id:"siege",label:"Siege Lines",minRunSeconds:210,minClears:5,cadence:13,multiplier:1.8,bundleTier:2},{id:"onslaught",label:"Winter Onslaught",minRunSeconds:360,minClears:9,cadence:8.5,multiplier:2.45,bundleTier:3},{id:"maelstrom",label:"Glacier Maelstrom",minRunSeconds:540,minClears:14,cadence:6.2,multiplier:3.25,bundleTier:4}]);function pE(n){return n>=1?1/(1+(n-1)*.45):1+(1-n)*.35}function AE(n){if(n>=1)return 1+(n-1)*.85;const a=1-n;return yf(1-a*.4,.45,1)}function vE(n){return{runSeconds:Math.max(0,Number.isFinite(n.runSeconds)?n.runSeconds:0),clears:Math.max(0,Number.isFinite(n.clears)?n.clears:0),spawnCycles:Math.max(0,Number.isFinite(n.spawnCycles)?n.spawnCycles:0)}}function mp(n,a){const s=vE(a);let r=0;for(let g=0;g<Fd.length;g+=1){const p=Fd[g];if(s.runSeconds<p.minRunSeconds||s.clears<p.minClears)break;r=g}const c=Fd[r],u=pE(n),f=AE(n),h=Math.max(.75,c.cadence*u),m=c.multiplier*f;return{stage:c,stageIndex:r,cadenceTarget:h,multiplierBase:m}}function gp(n){if(n>=1){const s=Math.min(3,n-1);return yf(.93-s*.035,.82,.93)}const a=Math.min(1,1-n);return yf(.93+a*.03,.9,.97)}function pp(n){if(n>=1)return .024+Math.min(3,n-1)*.012;const a=Math.min(1,1-n);return Math.max(.012,.024-a*.01)}const nv="deepwood",av="Deepwood Wardens",iv="Reclusive guardians attuned to sauna spirits.",sv=[{id:"warding-circle",label:"Warding Circle",weight:2,units:[{unit:"soldier",level:1,quantity:2},{unit:"archer",level:1,quantity:1}],items:["spirit-oak-charm","sauna-incense"],modifiers:["barkskin-ritual"]},{id:"spirit-strike",label:"Spirit Strike",weight:1,units:[{unit:"archer",level:2,quantity:2}],items:["emberglass-arrow"],modifiers:["searing-chant","windstep"]}],yE={id:nv,name:av,description:iv,bundles:sv},bE=Object.freeze(Object.defineProperty({__proto__:null,bundles:sv,default:yE,description:iv,id:nv,name:av},Symbol.toStringTag,{value:"Module"})),lv="enemy",rv="Avanto Marauders",ov="Frostbitten raiders who harry the sauna frontier.",cv=[{id:"iceblade-scouts",label:"Iceblade Scouts",weight:3,minRampTier:0,units:[{unit:"avanto-marauder",level:1,quantity:1}],items:["cracked-ice-amulet"],modifiers:["frost-resilience"]},{id:"raiding-party",label:"Raiding Party",weight:2,minRampTier:0,units:[{unit:"avanto-marauder",level:1,quantity:2}],items:["stolen-sauna-tokens"],modifiers:["berserker-drift"]},{id:"frost-champion",label:"Frost Champion",weight:1,minRampTier:0,units:[{unit:"avanto-marauder",level:2,quantity:1}],items:["glacier-brand"],modifiers:["glacial-ward"]},{id:"icebreaker-vanguard",label:"Icebreaker Vanguard",weight:2.5,minRampTier:1,units:[{unit:"avanto-marauder",level:2,quantity:2},{unit:"avanto-marauder",level:1,quantity:1}],items:["stormglass-pendant"],modifiers:["frost-resilience","berserker-drift"]},{id:"glacial-phalanx",label:"Glacial Phalanx",weight:2,minRampTier:2,units:[{unit:"avanto-marauder",level:3,quantity:3},{unit:"avanto-marauder",level:2,quantity:1}],items:["glacier-brand","frostshard-relic"],modifiers:["glacial-ward","polar-endurance"]},{id:"avalanche-warhost",label:"Avalanche Warhost",weight:1.25,minRampTier:3,units:[{unit:"avanto-marauder",level:4,quantity:3},{unit:"avanto-marauder",level:3,quantity:2}],items:["avalanche-totem"],modifiers:["glacial-ward","polar-endurance","berserker-drift"]}],EE={id:lv,name:rv,description:ov,bundles:cv},wE=Object.freeze(Object.defineProperty({__proto__:null,bundles:cv,default:EE,description:ov,id:lv,name:rv},Symbol.toStringTag,{value:"Module"})),SE=Object.assign({"../content/factions/deepwood.json":bE,"../content/factions/enemy.json":wE}),ac=new Map;for(const[n,a]of Object.entries(SE)){const s=xE(a),r=ME(s,n);if(ac.has(r.id))throw new Error(`Duplicate faction bundle id: ${r.id}`);ac.set(r.id,r)}function xE(n){return typeof n=="object"&&n!==null&&"default"in n?n.default:n}function Xf(n){return typeof n=="object"&&n!==null}function bf(n,a){if(typeof n!="string")throw new Error(`Expected string at ${a}`);const s=n.trim();if(!s)throw new Error(`Expected non-empty string at ${a}`);return s}function Ef(n){if(typeof n!="string")return;const a=n.trim();return a||void 0}function Ap(n,a){if(n===void 0)return Object.freeze([]);if(!Array.isArray(n))throw new Error(`Expected array at ${a}`);const s=n.map((r,c)=>{if(typeof r!="string")throw new Error(`Expected string at ${a}[${c}]`);const u=r.trim();if(!u)throw new Error(`Expected non-empty string at ${a}[${c}]`);return u});return Object.freeze(s)}function uv(n,a){const s=typeof n=="number"?n:Number(n);return!Number.isFinite(s)||s<=0?a:s}function vp(n,a){const s=Math.floor(uv(n,a));return s>0?s:a}function CE(n,a){if(!Xf(n))throw new Error(`Expected object at ${a}`);const s=bf(n.unit,`${a}.unit`),r=vp(n.level,1),c=vp(n.quantity,1);return Object.freeze({unit:s,level:r,quantity:c})}function RE(n){if(n===void 0)return;const a=Number(n);if(!Number.isFinite(a))return;const s=Math.floor(a);return s>=0?s:void 0}function BE(n,a,s){if(!Xf(n))throw new Error(`Expected object at ${a}`);const r=Ef(n.id)??`${s}-bundle`,c=Ef(n.label)??r,u=uv(n.weight,1),f=n.units;if(!Array.isArray(f)||f.length===0)throw new Error(`Expected non-empty units array at ${a}.units`);const h=f.map((v,b)=>CE(v,`${a}.units[${b}]`)),m=Ap(n.items,`${a}.items`),g=Ap(n.modifiers,`${a}.modifiers`),p=RE(n.minRampTier);return Object.freeze({id:r,label:c,weight:u,units:Object.freeze(h),items:m,modifiers:g,minRampTier:p})}function ME(n,a){if(!Xf(n))throw new Error(`Expected object at ${a}`);const s=bf(n.id,`${a}.id`),r=bf(n.name,`${a}.name`),c=Ef(n.description);if(!Array.isArray(n.bundles)||n.bundles.length===0)throw new Error(`Expected non-empty bundles array at ${a}.bundles`);const u=n.bundles.map((f,h)=>BE(f,`${a}.bundles[${h}]`,`${s}-${h}`));return Object.freeze({id:s,name:r,description:c,bundles:Object.freeze(u)})}Object.freeze(Array.from(ac.keys()));function DE(n){return ac.get(n)??null}function TE(n){return DE(n)?.bundles??Object.freeze([])}function kE(){return`e${Date.now()}-${Math.floor(Math.random()*1e6)}`}function HE(n){return{level:n}}function OE(n,a,s){const r=TE(n);if(r.length===0)throw new Error(`No bundles registered for faction: ${n}`);const c=Math.max(0,Math.floor(Number.isFinite(a)?a:0)),u=r.filter(v=>(typeof v.minRampTier=="number"?v.minRampTier:0)<=c),f=u.length>0?u:r,h=typeof s=="function"?s:Math.random,m=f.reduce((v,b)=>v+b.weight,0);if(!Number.isFinite(m)||m<=0)throw new Error(`Invalid bundle weights for faction: ${n}`);const g=h()*m;let p=0;for(const v of f)if(p+=v.weight,g<p)return v;return f[f.length-1]}function PE(n){let a=Math.max(0,Math.floor(n.availableSlots));const s=[];if(a<=0)return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers};const r=n.makeId??kE,c=typeof n.random=="function"?n.random:Math.random,u=Math.max(0,Math.min(.95,typeof n.eliteOdds=="number"?n.eliteOdds:0)),f=Math.max(1,Number.isFinite(n.difficultyMultiplier)?n.difficultyMultiplier:1),h=Math.max(0,Math.floor(Number.isFinite(n.rampTier)?n.rampTier:0)),m=1+h*.25,g=Math.floor(h/2);for(const p of n.bundle.units){const v=Math.max(1,Math.round(p.quantity*f*m)),b=Math.min(v,a),E=p.unit,C=Math.max(1,Math.round((p.level+g)*f));for(let T=0;T<b;T+=1){const B=c()<u?1:0,P=Math.max(1,C+B),L=HE(P),F=n.pickEdge();if(!F)return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers};const K=ZA(E,r(),F,n.factionId,L);if(K&&(n.addUnit(K),s.push(K),a-=1,a<=0))return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers}}}return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers}}function Oo(n,a,s,r=1){const c=Number(n);return Number.isFinite(c)?Math.max(a,Math.min(s,c)):r}const yp=6;class NE{timer;interval;spawnCycles;factionId;random;makeId;difficulty;eliteOdds;cadenceDecay;multiplierGrowth;runSeconds=0;clearCount=0;boardEmpty=!0;lastClearAt=null;lastSpawnAt=null;lastCadence;lastMultiplier;rampEvaluation;rampStageIndex;currentDifficulty;cadenceScale=1;multiplierScale=1;pressureScale=1;calmUntil=null;calmSecondsRemaining=0;cadenceFloor=.3;constructor(a={}){this.factionId=a.factionId??"enemy",this.random=typeof a.random=="function"?a.random:Math.random;const s=Number.isFinite(a.difficulty)?Number(a.difficulty):1;this.difficulty=Math.max(.5,s);const r=typeof a.eliteOdds=="number"?a.eliteOdds:0;this.eliteOdds=Math.max(0,Math.min(.95,r)),this.currentDifficulty=this.difficulty,this.cadenceDecay=gp(this.currentDifficulty),this.multiplierGrowth=pp(this.currentDifficulty),this.spawnCycles=0,this.rampEvaluation=mp(this.currentDifficulty,{runSeconds:0,clears:0,spawnCycles:0}),this.rampStageIndex=this.rampEvaluation.stageIndex,this.interval=this.rampEvaluation.cadenceTarget,this.timer=this.interval,this.lastCadence=this.interval,this.lastMultiplier=this.rampEvaluation.multiplierBase;const c=(()=>{let u=0;return()=>`e${Date.now()}-${u+=1}`})();this.makeId=typeof a.idFactory=="function"?a.idFactory:c}update(a,s,r,c,u={}){if(!Number.isFinite(a)||a<=0)return;this.runSeconds+=a,this.applyRuntimeModifiers(u),this.resolveRampState();const f=this.countActiveEnemies(s);if(this.trackClears(f),this.calmUntil!==null&&this.runSeconds<this.calmUntil){const m=this.calmUntil-this.runSeconds;this.calmSecondsRemaining=m,this.timer=Math.max(this.timer,m);return}this.calmSecondsRemaining=Math.max(0,this.calmUntil!==null?this.calmUntil-this.runSeconds:0),this.timer-=a;let h=0;for(;this.timer<=0&&h<yp;){const m=this.getAvailableSlots(s);if(m<=0){this.timer=Math.max(this.timer,.5);break}const g=this.resolveRampState(),p=OE(this.factionId,g.stage.bundleTier,this.random),v=this.computeMultiplier(g);if(PE({bundle:p,factionId:this.factionId,pickEdge:c,addUnit:r,makeId:this.makeId,availableSlots:m,eliteOdds:this.eliteOdds,random:this.random,difficultyMultiplier:v,rampTier:g.stage.bundleTier}).spawned.length===0){this.timer=Math.max(this.timer,.5);break}const E=this.runSeconds+this.timer;this.lastCadence=this.lastSpawnAt===null?this.interval:Math.max(.01,E-this.lastSpawnAt),this.lastSpawnAt=E,this.lastMultiplier=v,this.spawnCycles+=1,h+=1;const C=this.resolveRampState();this.interval=this.computeNextInterval(C),this.timer+=this.interval}h===yp&&this.timer<=0&&(this.timer=this.interval)}getSnapshot(){const a=this.rampEvaluation.stage;return{runSeconds:this.runSeconds,clears:this.clearCount,spawnCycles:this.spawnCycles,rampStageIndex:this.rampStageIndex,rampStageId:a.id,rampStageLabel:a.label,bundleTier:a.bundleTier,cadence:this.interval,lastCadence:this.lastCadence,lastSpawnAt:this.lastSpawnAt,lastClearAt:this.lastClearAt,difficultyMultiplier:this.lastMultiplier,effectiveDifficulty:this.currentDifficulty,aggressionMultiplier:this.currentDifficulty/this.difficulty,cadenceMultiplier:this.cadenceScale,strengthMultiplier:this.multiplierScale,pressureMultiplier:this.pressureScale,calmSecondsRemaining:this.calmSecondsRemaining}}resolveRampState(){return this.rampEvaluation=mp(this.currentDifficulty,{runSeconds:this.runSeconds,clears:this.clearCount,spawnCycles:this.spawnCycles}),this.rampStageIndex=this.rampEvaluation.stageIndex,this.rampEvaluation}applyRuntimeModifiers(a){const s=Oo(a.aggressionMultiplier,.25,6,1),r=Oo(a.cadenceMultiplier,.1,10,1),c=Oo(a.strengthMultiplier,.1,12,1),u=Oo(a.pressureMultiplier,.1,10,1),f=Number.isFinite(a.cadenceFloor)?Math.max(.1,a.cadenceFloor):this.cadenceFloor,h=Math.max(.25,this.difficulty*s);if(h!==this.currentDifficulty&&(this.currentDifficulty=h,this.cadenceDecay=gp(this.currentDifficulty),this.multiplierGrowth=pp(this.currentDifficulty),this.resolveRampState()),this.cadenceScale=r,this.multiplierScale=c,this.pressureScale=u,this.cadenceFloor=f,Object.prototype.hasOwnProperty.call(a,"calmSecondsRemaining")){const m=a.calmSecondsRemaining;m===null?this.calmUntil=null:typeof m=="number"&&Number.isFinite(m)&&m>0?this.calmUntil=this.runSeconds+m:typeof m=="number"&&m<=0&&(this.calmUntil=null)}this.calmSecondsRemaining=Math.max(0,this.calmUntil!==null?this.calmUntil-this.runSeconds:0)}computeNextInterval(a){const s=a.cadenceTarget*this.cadenceScale,r=Math.pow(this.spawnCycles+1,.6)*.018*this.pressureScale,c=1+Math.min(4,r),u=s/c,f=this.interval*this.cadenceDecay,h=Math.min(f,u);return Math.max(this.cadenceFloor,h)}computeMultiplier(a){const s=1+this.spawnCycles*this.multiplierGrowth*this.pressureScale,r=1+a.stageIndex*.15,c=a.multiplierBase*s*r*this.multiplierScale;return Math.min(16,Math.max(1,c))}countActiveEnemies(a){return a.filter(s=>s.faction===this.factionId&&!s.isDead()).length}getAvailableSlots(a){return X1-this.countActiveEnemies(a)}trackClears(a){if(a<=0){this.boardEmpty||(this.clearCount+=1,this.lastClearAt=this.runSeconds),this.boardEmpty=!0;return}this.boardEmpty=!1}}function QE(){if(typeof window>"u")return null;try{return window.localStorage??null}catch(n){return console.warn("Structured telemetry storage unavailable",n),null}}function GE(n,a){const s={event:n,timestamp:Date.now(),payload:{...a}};return console.info(n,s),s}function UE(n,a,s={}){const r=QE();if(!r)return;const c=Number.isFinite(s.limit)?Math.max(1,Math.trunc(s.limit??16)):16,f=[...Of(n)??[],a].slice(-c);try{r.setItem(n,JSON.stringify(f))}catch(h){console.warn("Failed to persist structured telemetry",{storageKey:n,error:h})}}let bp=-1,Ep=-1,Xd=null,qd=0,Yd=0;const LE="telemetry:enemy-scaling:summaries";function jE(n,a={}){const s=n.rampStageIndex!==bp,r=n.spawnCycles>=Ep+10,c=n.lastClearAt!==null&&n.lastClearAt!==Xd;if(!s&&!r&&!c)return;bp=n.rampStageIndex,Ep=n.spawnCycles,Xd=n.lastClearAt??Xd,qd=Math.max(qd,n.difficultyMultiplier);const u=Math.max(0,Math.round(n.calmSecondsRemaining*1e3));u>Yd&&(Yd=u);const f={stage:n.rampStageLabel,stageIndex:n.rampStageIndex,bundleTier:n.bundleTier,cadenceSeconds:Number(n.cadence.toFixed(2)),lastCadenceSeconds:Number(n.lastCadence.toFixed(2)),multiplier:Number(n.difficultyMultiplier.toFixed(2)),effectiveDifficulty:Number(n.effectiveDifficulty.toFixed(2)),aggressionMultiplier:Number(n.aggressionMultiplier.toFixed(2)),cadenceMultiplier:Number(n.cadenceMultiplier.toFixed(2)),strengthMultiplier:Number(n.strengthMultiplier.toFixed(2)),pressureMultiplier:Number(n.pressureMultiplier.toFixed(2)),calmSecondsRemaining:Number(n.calmSecondsRemaining.toFixed(2)),runSeconds:Math.round(n.runSeconds),spawnCycles:n.spawnCycles,clears:n.clears,wipeSince:a.wipeSince??null,longestWipeMs:a.wipeDurationMs??0,peakMultiplier:Number(qd.toFixed(2)),longestCalmMs:Yd},h=GE("enemy-scaling",f);UE(LE,h,{limit:24})}const zE=Object.freeze({ngPlusLevel:0,unlockSlots:0}),IE={default:"Included with the sauna key",ngPlusLevel:"Reach NG+ level",unlockSlots:"Earn roster unlocks"},qf=Object.freeze([{id:"ember-circuit",name:"Ember Circuit",rosterCap:3,description:"Classic cedar benches with a loyal trio of attendants.",art:{badge:HA,glow:"linear-gradient(145deg, rgba(255,161,76,0.65), rgba(255,226,173,0.18))"},unlock:{type:"default",label:"Available from the first steam session"}},{id:"aurora-ward",name:"Aurora Ward",rosterCap:4,description:"Glacial glass benches and a quartet ready to repel sieges.",art:{badge:TA,glow:"linear-gradient(140deg, rgba(128,208,255,0.7), rgba(61,184,255,0.2))"},unlock:{type:"unlockSlots",slots:2,label:"Secure 2 roster unlocks"}},{id:"mythic-conclave",name:"Mythic Conclave",rosterCap:6,description:"Runic obsidian tiers where six legends guard the löyly.",art:{badge:kA,glow:"linear-gradient(135deg, rgba(176,106,255,0.72), rgba(245,199,255,0.2))"},unlock:{type:"ngPlusLevel",level:3,label:"Prestige to NG+ level 3"}}]),mr=qf[0].id,_d=new Map(qf.map(n=>[n.id,n]));function dv(){return qf}function Jn(n){return n&&_d.has(n)?_d.get(n):_d.get(mr)}function wp(n,a,s){if(!Number.isFinite(n))return a;const r=Math.max(a,Math.min(s,n));return Number.isNaN(r)?a:r}function Po(n){if(n.label)return n.label;const a=IE[n.type];if(!a)return"";switch(n.type){case"ngPlusLevel":return`${a} ${n.level}`;case"unlockSlots":return`${a} ${n.slots}`;default:return a}}function qs(n,a){const s=a??zE;if(n.unlock.type==="default")return{tier:n,unlocked:!0,progress:1,requirementLabel:Po(n.unlock)};if(n.unlock.type==="ngPlusLevel"){const r=wp(s.ngPlusLevel/n.unlock.level,0,1);return{tier:n,unlocked:s.ngPlusLevel>=n.unlock.level,progress:r,requirementLabel:Po(n.unlock)}}if(n.unlock.type==="unlockSlots"){const r=wp(s.unlockSlots/n.unlock.slots,0,1);return{tier:n,unlocked:s.unlockSlots>=n.unlock.slots,progress:r,requirementLabel:Po(n.unlock)}}return{tier:n,unlocked:!1,progress:0,requirementLabel:Po(n.unlock)}}const Sp=["hud-grid","grid","grid-rows-[64px_1fr_80px]","grid-cols-[280px_1fr_340px]","gap-[clamp(16px,3vw,28px)]"],xp={top:["col-span-3","row-span-1","row-start-1"],left:["col-start-1","row-start-2","row-span-1"],content:["col-start-2","row-start-2","row-span-1"],right:["col-start-3","row-start-2","row-span-1"],bottom:["col-span-3","row-start-3","row-span-1"]};function FE(n,a){let s=n.querySelector("[data-hud-root]");return s||(s=a.createElement("div"),s.dataset.hudRoot="true",s.className="hud-layout-root",n.prepend(s)),s}function ql(n,a,s,r){let c=n.querySelector(`[data-hud-region="${s}"]`);return c||(c=a.createElement("div"),c.dataset.hudRegion=s,n.appendChild(c)),c.classList.add("hud-region",...r),c.parentElement!==n&&n.appendChild(c),c}function XE(n,a,s){if(s){n.classList.add(...Sp);for(const[r,c]of Object.entries(xp))a[r].classList.add(...c)}else{n.classList.remove(...Sp);for(const[r,c]of Object.entries(xp))a[r].classList.remove(...c)}}function _s(n){const a=n.ownerDocument??document,s=FE(n,a),r={top:ql(s,a,"top",["hud-top-row"]),left:ql(s,a,"left",["hud-actions"]),content:ql(s,a,"content",["hud-content"]),right:ql(s,a,"right",["hud-right-column"]),bottom:ql(s,a,"bottom",["hud-bottom-row"])};s.append(r.top,r.left,r.content,r.right,r.bottom);const c=n.dataset.hudVariant==="v2";if(XE(n,r,c),!c){const g=n.querySelector("#resource-bar");g&&g.parentElement!==r.right&&r.right.prepend(g)}const u=n.querySelector("#build-menu");u&&u.parentElement!==r.left&&r.left.appendChild(u);const f=n.querySelector("#build-id");f&&f.parentElement!==r.bottom&&r.bottom.appendChild(f);let h=n.querySelector(".hud-mobile-bar__tray"),m=h?.closest(".hud-mobile-bar")??null;return(!h||!m)&&(m=a.createElement("div"),m.className="hud-mobile-bar",h=a.createElement("div"),h.className="hud-mobile-bar__tray",m.appendChild(h)),m.parentElement!==r.bottom&&r.bottom.appendChild(m),{root:s,regions:r,actions:r.left,side:r.right,mobileBar:h}}const Cp=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function qE(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{update:()=>{},dispose:()=>{}};const r=document.createElement("div");r.classList.add("sauna-control"),r.dataset.tutorialTarget="heat";const c=()=>{const oe=a.getActiveTierId?.();return Jn(oe??mr).id},u=()=>a.getTierContext?.()??null,f=document.createElement("button");f.type="button",f.textContent="Sauna ♨️",f.classList.add("topbar-button","sauna-toggle"),f.setAttribute("aria-expanded","false"),r.appendChild(f);const h=document.createElement("div");h.classList.add("sauna-card","hud-card"),h.hidden=!0;const m=document.createElement("section");m.classList.add("sauna-health");const g=`sauna-health-label-${Math.floor(Math.random()*1e5)}`,p=document.createElement("div");p.classList.add("sauna-health__header");const v=document.createElement("span");v.id=g,v.classList.add("sauna-health__title"),v.textContent="Sauna Integrity",p.appendChild(v);const b=document.createElement("span");b.classList.add("sauna-health__value"),b.setAttribute("aria-live","polite"),p.appendChild(b),m.appendChild(p);const E=document.createElement("div");E.classList.add("sauna-health__bar"),E.setAttribute("role","meter"),E.setAttribute("aria-valuemin","0"),E.setAttribute("aria-labelledby",g);const C=document.createElement("div");C.classList.add("sauna-health__fill"),E.appendChild(C),m.appendChild(E);const T=document.createElement("div");T.classList.add("sauna-health__destruction"),T.hidden=!0,E.appendChild(T);const B=document.createElement("div");B.classList.add("sauna-progress");const P=document.createElement("div");P.classList.add("sauna-progress__fill"),B.appendChild(P),h.appendChild(m),h.appendChild(B);const L=dv(),F=new Map,K=document.createElement("section");K.classList.add("sauna-tier");const J=document.createElement("div");J.classList.add("sauna-tier__header");const ie=document.createElement("span");ie.classList.add("sauna-tier__title"),ie.textContent="Premium Tiers",J.appendChild(ie);const I=document.createElement("p");I.classList.add("sauna-tier__subtitle"),I.textContent="Align the löyly with your prestige to unlock lavish benches and roster headroom.",J.appendChild(I),K.appendChild(J);const ne=document.createElement("div");ne.classList.add("sauna-tier__grid"),K.appendChild(ne);for(const oe of L){const ye=document.createElement("button");ye.type="button",ye.classList.add("sauna-tier__option"),ye.dataset.tierId=oe.id,ye.setAttribute("aria-pressed","false");const be=document.createElement("div");be.classList.add("sauna-tier__badge"),be.style.setProperty("--sauna-tier-badge-image",`url(${oe.art.badge})`),oe.art.glow&&be.style.setProperty("--sauna-tier-glow",oe.art.glow),ye.appendChild(be);const Me=document.createElement("div");Me.classList.add("sauna-tier__copy"),ye.appendChild(Me);const mt=document.createElement("span");mt.classList.add("sauna-tier__name"),mt.textContent=oe.name,Me.appendChild(mt);const gt=document.createElement("span");gt.classList.add("sauna-tier__cap"),gt.textContent=`Cap ${oe.rosterCap}`,Me.appendChild(gt);const qt=document.createElement("p");qt.classList.add("sauna-tier__description"),qt.textContent=oe.description,Me.appendChild(qt);const aa=document.createElement("div");aa.classList.add("sauna-tier__progress");const Oa=document.createElement("div");Oa.classList.add("sauna-tier__progress-fill"),aa.appendChild(Oa);const ia=document.createElement("span");ia.classList.add("sauna-tier__progress-label"),aa.appendChild(ia),Me.appendChild(aa);const Yt=document.createElement("span");Yt.classList.add("sauna-tier__requirement"),Me.appendChild(Yt);const nn={tier:oe,button:ye,fill:Oa,progressLabel:ia,requirement:Yt,handleClick:()=>{Cn(oe,nn)}};ye.addEventListener("click",nn.handleClick),F.set(oe.id,nn),ne.appendChild(ye)}h.appendChild(K),en();const W=document.createElement("div");W.classList.add("sauna-roster");const q=document.createElement("div");q.classList.add("sauna-roster__header");const G=document.createElement("span");G.textContent="Roster Cap",G.classList.add("sauna-roster__title"),q.appendChild(G);const O=document.createElement("span");O.classList.add("sauna-roster__value"),O.setAttribute("aria-live","polite"),q.appendChild(O),W.appendChild(q);const D=document.createElement("p");D.classList.add("sauna-roster__description"),D.textContent="Tune how many attendants may be active before new recruits wait in the steam.",W.appendChild(D);const Y=`sauna-roster-${Math.floor(Math.random()*1e5)}`,j=document.createElement("label");j.classList.add("sauna-roster__label"),j.htmlFor=Y,j.textContent="Active attendants";const R=document.createElement("input");R.type="range",R.id=Y,R.min="0",R.step="1",R.classList.add("sauna-roster__slider");const U=document.createElement("input");U.type="number",U.min="0",U.step="1",U.inputMode="numeric",U.classList.add("sauna-roster__number");const ae=document.createElement("div");ae.classList.add("sauna-roster__controls"),ae.appendChild(j),ae.appendChild(R),ae.appendChild(U),W.appendChild(ae),h.appendChild(W);const de=document.createElement("label");de.classList.add("sauna-option");const w=document.createElement("input");w.type="checkbox",w.classList.add("sauna-option__input"),w.checked=n.rallyToFront,w.addEventListener("change",()=>{n.rallyToFront=w.checked}),de.appendChild(w);const z=document.createElement("span");z.textContent="Rally to Front",z.classList.add("sauna-option__label"),de.appendChild(z),h.appendChild(de),r.appendChild(h);const{regions:ee}=_s(s),$=ee.top,re=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null;let me=!!re?.matches;const fe=(oe,ye)=>{typeof oe.addEventListener=="function"?oe.addEventListener("change",ye):typeof oe.addListener=="function"&&oe.addListener(ye)},je=(oe,ye)=>{typeof oe.removeEventListener=="function"?oe.removeEventListener("change",ye):typeof oe.removeListener=="function"&&oe.removeListener(ye)},Ce=oe=>{me=!!oe.matches,m.dataset.motion=me?"reduced":"full"};m.dataset.motion=me?"reduced":"full",re&&fe(re,Ce);const Et=()=>{const oe=Jn(c()),ye=Math.max(0,Math.floor(oe.rosterCap)),be=a.getRosterCapLimit?.();if(typeof be=="number"&&Number.isFinite(be)){const Me=Math.max(0,Math.floor(be));return Math.max(0,Math.min(ye,Me))}return ye};function en(){const oe=c(),ye=u();for(const be of F.values()){const Me=qs(be.tier,ye),mt=Math.round(Math.max(0,Math.min(Me.progress,1))*100);be.fill.style.width=`${mt}%`,be.progressLabel.textContent=Me.unlocked?"Unlocked":`${mt}% ready`,be.requirement.textContent=Me.unlocked?`Roster cap ${be.tier.rosterCap}`:Me.requirementLabel,be.button.dataset.state=Me.unlocked?be.tier.id===oe?"active":"available":"locked",be.button.setAttribute("aria-pressed",be.tier.id===oe?"true":"false"),be.button.setAttribute("aria-disabled",Me.unlocked?"false":"true")}}function Cn(oe,ye){if(!qs(oe,u()).unlocked){ye.button.classList.remove("sauna-tier__option--denied"),ye.button.offsetWidth,ye.button.classList.add("sauna-tier__option--denied");return}(a.setActiveTierId?.(oe.id,{persist:!0})??!1)&&Ft(n.maxRosterSize,!0),en()}const tn=(oe,ye)=>{const be=Math.max(0,Math.min(oe,Math.floor(ye)));R.max=String(oe),R.value=String(be),R.setAttribute("aria-valuemax",R.max),R.setAttribute("aria-valuenow",R.value),U.max=String(oe),U.value=String(be),O.textContent=be===0?"Paused":`${be}`,O.dataset.state=be===0?"paused":"active",U.setAttribute("aria-label",`Roster cap set to ${be}`)};function Ft(oe,ye){const be=Number(oe),Me=Et(),mt=Number.isFinite(be)?Math.max(0,Math.floor(be)):0;let gt=Math.max(0,Math.min(Me,mt));return a.updateMaxRosterSize?gt=a.updateMaxRosterSize(gt,{persist:ye}):n.maxRosterSize=gt,tn(Me,gt),gt}const Xt=()=>{Ft(Number(R.value),!1)},$n=()=>{Ft(Number(R.value),!0)};R.addEventListener("input",Xt),R.addEventListener("change",$n);const ea=oe=>{Ft(Number(U.value),oe)},tt=()=>{ea(!1)},ta=()=>{ea(!0)},Rn=()=>{ea(!0)};U.addEventListener("input",tt),U.addEventListener("change",ta),U.addEventListener("blur",Rn),Ft(n.maxRosterSize,!1);const lt=()=>{r.parentElement!==$&&$.appendChild(r);const oe=$.querySelector("#topbar");return oe&&oe.parentElement===$?(oe.nextSibling!==r&&$.insertBefore(r,oe.nextSibling),!0):!1};let Dt=null;lt()||(Dt=new MutationObserver(()=>{lt()&&Dt?.disconnect()}),Dt.observe($,{childList:!0}));const Fi=()=>{const oe=!h.hidden;h.hidden=oe,f.setAttribute("aria-expanded",String(!oe))};f.addEventListener("click",Fi);const Gn=()=>{const oe=Math.max(1,Math.floor(n.maxHealth)),ye=Math.max(0,Math.min(oe,Math.floor(Number.isFinite(n.health)?n.health:0))),be=oe>0?ye/oe:0,Me=Math.max(0,Math.min(be,1));C.style.width=`${Me*100}%`;const mt=Cp.format(ye),gt=Cp.format(oe);b.textContent=`${mt} / ${gt}`,E.setAttribute("aria-valuenow",String(ye)),E.setAttribute("aria-valuemax",String(oe)),E.setAttribute("aria-valuetext",`${mt} of ${gt} health`);const qt=n.destroyed?"offline":Me<=.2?"critical":Me<=.55?"warning":"stable";E.dataset.level=qt,b.dataset.state=qt,m.dataset.state=n.destroyed?"destroyed":"active"},ui=()=>{T.classList.remove("sauna-health__destruction--active"),T.hidden=!0};let na=null,wt=null;const ht=()=>{na!==null&&(window.clearTimeout(na),na=null),E.classList.remove("sauna-health__bar--impact")},Qt=()=>{C.classList.remove("sauna-health__fill--damage")};C.addEventListener("animationend",Qt);const rt=()=>{ui()};T.addEventListener("animationend",rt);const di=()=>{ht(),E.classList.add("sauna-health__bar--impact"),me||(C.classList.remove("sauna-health__fill--damage"),C.offsetWidth,C.classList.add("sauna-health__fill--damage")),na=window.setTimeout(()=>{E.classList.remove("sauna-health__bar--impact"),na=null},me?360:560)},fi=()=>{wt!==null&&(window.clearTimeout(wt),wt=null),T.hidden=!1,T.classList.remove("sauna-health__destruction--active"),T.offsetWidth,T.classList.add("sauna-health__destruction--active"),wt=window.setTimeout(()=>{ui(),wt=null},me?720:1100)},Ks=()=>{Gn();const oe=n.playerSpawnCooldown>0?n.playerSpawnCooldown:1,ye=1-n.playerSpawnTimer/oe;P.style.width=`${Math.max(0,Math.min(ye,1))*100}%`,w.checked=n.rallyToFront;const be=Et(),Me=Math.max(0,Math.min(be,Math.floor(n.maxRosterSize)));if(Me!==n.maxRosterSize)if(a.updateMaxRosterSize){const mt=a.updateMaxRosterSize(Me,{persist:!0});tn(be,mt)}else n.maxRosterSize=Me,tn(be,Me);else tn(be,Me);en()};return Gn(),{update:Ks,handleDamage:oe=>{Gn(),di()},handleDestroyed:oe=>{h.hidden=!1,f.setAttribute("aria-expanded","true"),Gn(),di(),fi()},dispose:()=>{Dt?.disconnect(),Dt=null,f.removeEventListener("click",Fi),R.removeEventListener("input",Xt),R.removeEventListener("change",$n),U.removeEventListener("input",tt),U.removeEventListener("change",ta),U.removeEventListener("blur",Rn),re&&je(re,Ce),C.removeEventListener("animationend",Qt),T.removeEventListener("animationend",rt),ht(),wt!==null&&(window.clearTimeout(wt),wt=null),ui();for(const oe of F.values())oe.button.removeEventListener("click",oe.handleClick);F.clear(),r.remove()}}}function Yl(n,a={}){const{iconSrc:s,description:r,srLabel:c}=a,u=document.createElement("div");if(u.classList.add("topbar-badge"),u.setAttribute("role","status"),u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),s){const v=document.createElement("img");v.src=s,v.alt=n,v.decoding="async",v.classList.add("topbar-badge-icon"),u.appendChild(v)}const f=document.createElement("div");f.classList.add("badge-text");const h=document.createElement("span");h.textContent=n,h.classList.add("badge-label"),f.appendChild(h);const m=document.createElement("span");m.textContent="0",m.classList.add("badge-value"),m.setAttribute("aria-hidden","true"),f.appendChild(m);const g=document.createElement("span");g.classList.add("badge-delta"),g.style.opacity="0",g.style.transform="translateY(-6px)",g.style.transition="opacity 0.5s ease, transform 0.5s ease",g.setAttribute("aria-hidden","true"),u.append(f,g),r&&(u.title=r);const p=c??n;return u.dataset.label=p,u.setAttribute("aria-label",`${p}: 0`),{container:u,value:m,delta:g,label:p}}function YE(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{update:()=>{},dispose:()=>{}};const{regions:r}=_s(s),c=r.top,u=document.createElement("div");u.id="topbar",c.prepend(u);const f=document.createElement("div");f.className="topbar-badge-row",u.appendChild(f);const h={[le.SAUNA_BEER]:"Sauna beer bottles chilled for construction crews and eager recruits.",[le.SAUNAKUNNIA]:"Saunakunnia—prestige earned from sauna rituals and triumphant battles.",[le.SISU]:"Sisu—the relentless grit forged when your warriors triumph on the snow."},m=Yl("Sauna Beer",{iconSrc:a.saunaBeer,description:h[le.SAUNA_BEER],srLabel:"Sauna beer reserves"});m.container.classList.add("badge-sauna-beer");const g=Yl("Sisu",{iconSrc:a.sisu,description:h[le.SISU],srLabel:"Sisu reserves"});g.container.classList.add("badge-sisu"),g.container.dataset.tutorialTarget="sisu";const p=Yl("Saunakunnia",{iconSrc:a.saunakunnia,description:h[le.SAUNAKUNNIA],srLabel:"Saunakunnia"});p.container.classList.add("badge-sauna"),p.container.dataset.tutorialTarget="victory";const v=Yl("Time");v.container.classList.add("badge-time"),v.delta.style.display="none";const b=Yl("Enemy Ramp",{srLabel:"Enemy ramp intensity"});b.container.classList.add("badge-ramp"),b.delta.style.display="none",b.container.dataset.tutorialTarget="enemy-ramp",b.container.title="Enemy ramp intensity and cadence.",f.appendChild(m.container),f.appendChild(g.container),f.appendChild(p.container),f.appendChild(b.container),f.appendChild(v.container);const E=new Intl.NumberFormat("en-US"),C=new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}),T={[le.SAUNA_BEER]:"Sauna Beer",[le.SAUNAKUNNIA]:"Saunakunnia",[le.SISU]:"Sisu"},B={[le.SAUNA_BEER]:{singular:"bottle",plural:"bottles"},[le.SAUNAKUNNIA]:{singular:"Saunakunnia",plural:"Saunakunnia"},[le.SISU]:{singular:"Sisu",plural:"Sisu"}},P={[le.SAUNA_BEER]:"🍺",[le.SAUNAKUNNIA]:"⚜️",[le.SISU]:"🔥"},L={[le.SAUNA_BEER]:m,[le.SAUNAKUNNIA]:p,[le.SISU]:g},F={};let K=null;function J(D){if(K=D,!D){b.value.textContent="Stage 1 · ×1.00",b.delta.textContent="",b.delta.style.display="none",b.container.dataset.state="idle",b.container.title="Enemy ramp idle",b.container.setAttribute("aria-label","Enemy ramp idle.");return}const Y=D.stage||`Stage ${D.stageIndex+1}`,j=`×${D.multiplier.toFixed(2)}`,R=`${D.cadenceSeconds.toFixed(2)}s cadence`,U=`×${D.effectiveDifficulty.toFixed(2)}`,ae=D.calmSecondsRemaining>.05,de=ae?`Calm remaining: ${Math.ceil(D.calmSecondsRemaining)}s`:"Calm inactive";b.value.textContent=`${Y} · ${j}`,b.delta.style.display=ae?"":"none",b.delta.textContent=ae?`Calm ${Math.ceil(D.calmSecondsRemaining)}s`:"",b.container.dataset.state=ae?"calm":"active",b.container.title=[`Stage: ${Y} (Tier ${D.bundleTier})`,`Cadence: ${R}`,`Multiplier: ${j}`,`Difficulty: ${U}`,`Aggression ×${D.aggressionMultiplier.toFixed(2)} · Cadence ×${D.cadenceMultiplier.toFixed(2)} · Strength ×${D.strengthMultiplier.toFixed(2)}`,de,`Spawn cycles: ${D.spawnCycles}`].join(`
`),b.container.setAttribute("aria-label",[`Enemy ramp ${Y}`,`Multiplier ${j}`,`Cadence ${D.cadenceSeconds.toFixed(2)} seconds`,`Difficulty ${U}`,ae?`Calm remaining ${Math.ceil(D.calmSecondsRemaining)} seconds`:"Calm inactive"].join(" — "))}function ie(D,Y){const j=Number.isFinite(Y)?Y:0;return D===le.SAUNA_BEER?Math.trunc(j):Math.max(0,Math.round(j))}function I(D,Y){return E.format(ie(D,Y))}function ne(D,Y){return Y===0?"":`${C.format(Y)} ${P[D]}`}function W(D,Y){if(Y===0)return"";const j=Y>0?"gained":"spent",R=E.format(Math.abs(Y)),U=B[D];if(U){const de=Math.abs(Y)===1?U.singular:U.plural,w=T[D],z=[w];de&&de!==w&&z.push(de);const ee=z.filter(Boolean).join(" ");return`${j} ${R}${ee?` ${ee}`:""}`}const ae=T[D];return`${j} ${R}${ae?` ${ae}`:""}`}function q(D,Y,j=0){const R=L[D];if(!R)return;const U=ie(D,Y),ae=I(D,Y);R.value.textContent=ae;const de=D===le.SAUNA_BEER&&U<0;if(R.container.classList.toggle("topbar-badge--debt",de),j!==0){R.delta.textContent=ne(D,j),R.delta.style.opacity="1",R.delta.style.transform="translateY(0)";const ee=F[D];ee&&clearTimeout(ee),F[D]=setTimeout(()=>{R.delta.style.opacity="0",R.delta.style.transform="translateY(-6px)",delete F[D]},1e3)}else R.delta.textContent="",R.delta.style.opacity="0",R.delta.style.transform="translateY(-6px)";const w=W(D,j),z=[`${R.label} ${ae}`];if(de){const ee=E.format(Math.abs(U)),$=B[D];if($){const re=Math.abs(U)===1?$.singular:$.plural,me=re&&re!==T[D];z.push(me?`Debt of ${ee} ${re}`:`Debt of ${ee}`)}else z.push(`Debt of ${ee}`)}w&&z.push(w),R.container.setAttribute("aria-label",z.join(" — "))}q(le.SAUNA_BEER,n.getResource(le.SAUNA_BEER)),q(le.SAUNAKUNNIA,n.getResource(le.SAUNAKUNNIA)),q(le.SISU,n.getResource(le.SISU)),J(K);const G=({resource:D,amount:Y,total:j})=>{L[D]&&q(D,j,Y)};te.on("resourceChanged",G);let O=0;return{update(D){O+=D;const Y=Math.floor(O/1e3),j=Math.floor(Y/60),R=Y%60;v.value.textContent=`${j}:${R.toString().padStart(2,"0")}`},setEnemyRampSummary(D){J(D)},dispose(){te.off("resourceChanged",G),Object.values(F).forEach(D=>{D&&clearTimeout(D)}),u.remove()}}}var Kd={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function _E(){if(Rp)return _l;Rp=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(r,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var h in c)h!=="key"&&(u[h]=c[h])}else u=c;return c=u.ref,{$$typeof:n,type:r,key:f,ref:c!==void 0?c:null,props:u}}return _l.Fragment=a,_l.jsx=s,_l.jsxs=s,_l}var Bp;function KE(){return Bp||(Bp=1,Kd.exports=_E()),Kd.exports}var Wt=KE(),Vd={exports:{}},Kl={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function VE(){return Mp||(Mp=1,(function(n){function a(R,U){var ae=R.length;R.push(U);e:for(;0<ae;){var de=ae-1>>>1,w=R[de];if(0<c(w,U))R[de]=U,R[ae]=w,ae=de;else break e}}function s(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var U=R[0],ae=R.pop();if(ae!==U){R[0]=ae;e:for(var de=0,w=R.length,z=w>>>1;de<z;){var ee=2*(de+1)-1,$=R[ee],re=ee+1,me=R[re];if(0>c($,ae))re<w&&0>c(me,$)?(R[de]=me,R[re]=ae,de=re):(R[de]=$,R[ee]=ae,de=ee);else if(re<w&&0>c(me,ae))R[de]=me,R[re]=ae,de=re;else break e}}return U}function c(R,U){var ae=R.sortIndex-U.sortIndex;return ae!==0?ae:R.id-U.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var m=[],g=[],p=1,v=null,b=3,E=!1,C=!1,T=!1,B=!1,P=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function K(R){for(var U=s(g);U!==null;){if(U.callback===null)r(g);else if(U.startTime<=R)r(g),U.sortIndex=U.expirationTime,a(m,U);else break;U=s(g)}}function J(R){if(T=!1,K(R),!C)if(s(m)!==null)C=!0,ie||(ie=!0,O());else{var U=s(g);U!==null&&j(J,U.startTime-R)}}var ie=!1,I=-1,ne=5,W=-1;function q(){return B?!0:!(n.unstable_now()-W<ne)}function G(){if(B=!1,ie){var R=n.unstable_now();W=R;var U=!0;try{e:{C=!1,T&&(T=!1,L(I),I=-1),E=!0;var ae=b;try{t:{for(K(R),v=s(m);v!==null&&!(v.expirationTime>R&&q());){var de=v.callback;if(typeof de=="function"){v.callback=null,b=v.priorityLevel;var w=de(v.expirationTime<=R);if(R=n.unstable_now(),typeof w=="function"){v.callback=w,K(R),U=!0;break t}v===s(m)&&r(m),K(R)}else r(m);v=s(m)}if(v!==null)U=!0;else{var z=s(g);z!==null&&j(J,z.startTime-R),U=!1}}break e}finally{v=null,b=ae,E=!1}U=void 0}}finally{U?O():ie=!1}}}var O;if(typeof F=="function")O=function(){F(G)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Y=D.port2;D.port1.onmessage=G,O=function(){Y.postMessage(null)}}else O=function(){P(G,0)};function j(R,U){I=P(function(){R(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(R){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var ae=b;b=U;try{return R()}finally{b=ae}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ae=b;b=R;try{return U()}finally{b=ae}},n.unstable_scheduleCallback=function(R,U,ae){var de=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?de+ae:de):ae=de,R){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ae+w,R={id:p++,callback:U,priorityLevel:R,startTime:ae,expirationTime:w,sortIndex:-1},ae>de?(R.sortIndex=ae,a(g,R),s(m)===null&&R===s(g)&&(T?(L(I),I=-1):T=!0,j(J,ae-de))):(R.sortIndex=w,a(m,R),C||E||(C=!0,ie||(ie=!0,O()))),R},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(R){var U=b;return function(){var ae=b;b=U;try{return R.apply(this,arguments)}finally{b=ae}}}})(Jd)),Jd}var Dp;function ZE(){return Dp||(Dp=1,Zd.exports=VE()),Zd.exports}var Wd={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function JE(){if(Tp)return Ee;Tp=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function B(w,z,ee){this.props=w,this.context=z,this.refs=T,this.updater=ee||E}B.prototype.isReactComponent={},B.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},B.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function P(){}P.prototype=B.prototype;function L(w,z,ee){this.props=w,this.context=z,this.refs=T,this.updater=ee||E}var F=L.prototype=new P;F.constructor=L,C(F,B.prototype),F.isPureReactComponent=!0;var K=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function I(w,z,ee,$,re,me){return ee=me.ref,{$$typeof:n,type:w,key:z,ref:ee!==void 0?ee:null,props:me}}function ne(w,z){return I(w.type,z,void 0,void 0,void 0,w.props)}function W(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function q(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ee){return z[ee]})}var G=/\/+/g;function O(w,z){return typeof w=="object"&&w!==null&&w.key!=null?q(""+w.key):z.toString(36)}function D(){}function Y(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(D,D):(w.status="pending",w.then(function(z){w.status==="pending"&&(w.status="fulfilled",w.value=z)},function(z){w.status==="pending"&&(w.status="rejected",w.reason=z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function j(w,z,ee,$,re){var me=typeof w;(me==="undefined"||me==="boolean")&&(w=null);var fe=!1;if(w===null)fe=!0;else switch(me){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(w.$$typeof){case n:case a:fe=!0;break;case p:return fe=w._init,j(fe(w._payload),z,ee,$,re)}}if(fe)return re=re(w),fe=$===""?"."+O(w,0):$,K(re)?(ee="",fe!=null&&(ee=fe.replace(G,"$&/")+"/"),j(re,z,ee,"",function(Et){return Et})):re!=null&&(W(re)&&(re=ne(re,ee+(re.key==null||w&&w.key===re.key?"":(""+re.key).replace(G,"$&/")+"/")+fe)),z.push(re)),1;fe=0;var je=$===""?".":$+":";if(K(w))for(var Ce=0;Ce<w.length;Ce++)$=w[Ce],me=je+O($,Ce),fe+=j($,z,ee,me,re);else if(Ce=b(w),typeof Ce=="function")for(w=Ce.call(w),Ce=0;!($=w.next()).done;)$=$.value,me=je+O($,Ce++),fe+=j($,z,ee,me,re);else if(me==="object"){if(typeof w.then=="function")return j(Y(w),z,ee,$,re);throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return fe}function R(w,z,ee){if(w==null)return w;var $=[],re=0;return j(w,$,"","",function(me){return z.call(ee,me,re++)}),$}function U(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(ee){(w._status===0||w._status===-1)&&(w._status=1,w._result=ee)},function(ee){(w._status===0||w._status===-1)&&(w._status=2,w._result=ee)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var ae=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function de(){}return Ee.Children={map:R,forEach:function(w,z,ee){R(w,function(){z.apply(this,arguments)},ee)},count:function(w){var z=0;return R(w,function(){z++}),z},toArray:function(w){return R(w,function(z){return z})||[]},only:function(w){if(!W(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Ee.Component=B,Ee.Fragment=s,Ee.Profiler=c,Ee.PureComponent=L,Ee.StrictMode=r,Ee.Suspense=m,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(w){return J.H.useMemoCache(w)}},Ee.cache=function(w){return function(){return w.apply(null,arguments)}},Ee.cloneElement=function(w,z,ee){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var $=C({},w.props),re=w.key,me=void 0;if(z!=null)for(fe in z.ref!==void 0&&(me=void 0),z.key!==void 0&&(re=""+z.key),z)!ie.call(z,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&z.ref===void 0||($[fe]=z[fe]);var fe=arguments.length-2;if(fe===1)$.children=ee;else if(1<fe){for(var je=Array(fe),Ce=0;Ce<fe;Ce++)je[Ce]=arguments[Ce+2];$.children=je}return I(w.type,re,void 0,void 0,me,$)},Ee.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},Ee.createElement=function(w,z,ee){var $,re={},me=null;if(z!=null)for($ in z.key!==void 0&&(me=""+z.key),z)ie.call(z,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(re[$]=z[$]);var fe=arguments.length-2;if(fe===1)re.children=ee;else if(1<fe){for(var je=Array(fe),Ce=0;Ce<fe;Ce++)je[Ce]=arguments[Ce+2];re.children=je}if(w&&w.defaultProps)for($ in fe=w.defaultProps,fe)re[$]===void 0&&(re[$]=fe[$]);return I(w,me,void 0,void 0,null,re)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(w){return{$$typeof:h,render:w}},Ee.isValidElement=W,Ee.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:U}},Ee.memo=function(w,z){return{$$typeof:g,type:w,compare:z===void 0?null:z}},Ee.startTransition=function(w){var z=J.T,ee={};J.T=ee;try{var $=w(),re=J.S;re!==null&&re(ee,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(de,ae)}catch(me){ae(me)}finally{J.T=z}},Ee.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ee.use=function(w){return J.H.use(w)},Ee.useActionState=function(w,z,ee){return J.H.useActionState(w,z,ee)},Ee.useCallback=function(w,z){return J.H.useCallback(w,z)},Ee.useContext=function(w){return J.H.useContext(w)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(w,z){return J.H.useDeferredValue(w,z)},Ee.useEffect=function(w,z,ee){var $=J.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(w,z)},Ee.useId=function(){return J.H.useId()},Ee.useImperativeHandle=function(w,z,ee){return J.H.useImperativeHandle(w,z,ee)},Ee.useInsertionEffect=function(w,z){return J.H.useInsertionEffect(w,z)},Ee.useLayoutEffect=function(w,z){return J.H.useLayoutEffect(w,z)},Ee.useMemo=function(w,z){return J.H.useMemo(w,z)},Ee.useOptimistic=function(w,z){return J.H.useOptimistic(w,z)},Ee.useReducer=function(w,z,ee){return J.H.useReducer(w,z,ee)},Ee.useRef=function(w){return J.H.useRef(w)},Ee.useState=function(w){return J.H.useState(w)},Ee.useSyncExternalStore=function(w,z,ee){return J.H.useSyncExternalStore(w,z,ee)},Ee.useTransition=function(){return J.H.useTransition()},Ee.version="19.1.1",Ee}var kp;function Yf(){return kp||(kp=1,Wd.exports=JE()),Wd.exports}var $d={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function WE(){if(Hp)return kt;Hp=1;var n=Yf();function a(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(m,g,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:m,containerInfo:g,implementation:p}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kt.createPortal=function(m,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return u(m,g,null,p)},kt.flushSync=function(m){var g=f.T,p=r.p;try{if(f.T=null,r.p=2,m)return m()}finally{f.T=g,r.p=p,r.d.f()}},kt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},kt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},kt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var p=g.as,v=h(p,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):p==="script"&&r.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},kt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},kt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,v=h(p,g.crossOrigin);r.d.L(m,p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},kt.preloadModule=function(m,g){if(typeof m=="string")if(g){var p=h(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},kt.requestFormReset=function(m){r.d.r(m)},kt.unstable_batchedUpdates=function(m,g){return m(g)},kt.useFormState=function(m,g,p){return f.H.useFormState(m,g,p)},kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},kt.version="19.1.1",kt}var Op;function $E(){if(Op)return $d.exports;Op=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),$d.exports=WE(),$d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function ew(){if(Pp)return Kl;Pp=1;var n=ZE(),a=Yf(),s=$E();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,l=t;;){var o=i.return;if(o===null)break;var d=o.alternate;if(d===null){if(l=o.return,l!==null){i=l;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===i)return h(o),e;if(d===l)return h(o),t;d=d.sibling}throw Error(r(188))}if(i.return!==l.return)i=o,l=d;else{for(var A=!1,y=o.child;y;){if(y===i){A=!0,i=o,l=d;break}if(y===l){A=!0,l=o,i=d;break}y=y.sibling}if(!A){for(y=d.child;y;){if(y===i){A=!0,i=d,l=o;break}if(y===l){A=!0,l=d,i=o;break}y=y.sibling}if(!A)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),F=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case B:return"Profiler";case T:return"StrictMode";case J:return"Suspense";case ie:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case F:return(e.displayName||"Context")+".Provider";case L:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var j=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},de=[],w=-1;function z(e){return{current:e}}function ee(e){0>w||(e.current=de[w],de[w]=null,w--)}function $(e,t){w++,de[w]=e.current,e.current=t}var re=z(null),me=z(null),fe=z(null),je=z(null);function Ce(e,t){switch($(fe,t),$(me,e),$(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?pg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=pg(t),e=Ag(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(re),$(re,e)}function Et(){ee(re),ee(me),ee(fe)}function en(e){e.memoizedState!==null&&$(je,e);var t=re.current,i=Ag(t,e.type);t!==i&&($(me,e),$(re,i))}function Cn(e){me.current===e&&(ee(re),ee(me)),je.current===e&&(ee(je),Ul._currentValue=ae)}var tn=Object.prototype.hasOwnProperty,Ft=n.unstable_scheduleCallback,Xt=n.unstable_cancelCallback,$n=n.unstable_shouldYield,ea=n.unstable_requestPaint,tt=n.unstable_now,ta=n.unstable_getCurrentPriorityLevel,Rn=n.unstable_ImmediatePriority,lt=n.unstable_UserBlockingPriority,Dt=n.unstable_NormalPriority,Fi=n.unstable_LowPriority,Gn=n.unstable_IdlePriority,ui=n.log,na=n.unstable_setDisableYieldValue,wt=null,ht=null;function Qt(e){if(typeof ui=="function"&&na(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(wt,e)}catch{}}var rt=Math.clz32?Math.clz32:Ks,di=Math.log,fi=Math.LN2;function Ks(e){return e>>>=0,e===0?32:31-(di(e)/fi|0)|0}var hi=256,mi=4194304;function Bn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oe(e,t,i){var l=e.pendingLanes;if(l===0)return 0;var o=0,d=e.suspendedLanes,A=e.pingedLanes;e=e.warmLanes;var y=l&134217727;return y!==0?(l=y&~d,l!==0?o=Bn(l):(A&=y,A!==0?o=Bn(A):i||(i=y&~e,i!==0&&(o=Bn(i))))):(y=l&~d,y!==0?o=Bn(y):A!==0?o=Bn(A):i||(i=l&~e,i!==0&&(o=Bn(i)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,i=t&-t,d>=i||d===32&&(i&4194048)!==0)?t:o}function ye(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Me(){var e=hi;return hi<<=1,(hi&4194048)===0&&(hi=256),e}function mt(){var e=mi;return mi<<=1,(mi&62914560)===0&&(mi=4194304),e}function gt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function qt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function aa(e,t,i,l,o,d){var A=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,H=e.hiddenUpdates;for(i=A&~i;0<i;){var X=31-rt(i),Z=1<<X;y[X]=0,S[X]=-1;var N=H[X];if(N!==null)for(H[X]=null,X=0;X<N.length;X++){var Q=N[X];Q!==null&&(Q.lane&=-536870913)}i&=~Z}l!==0&&Oa(e,l,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(A&~t))}function Oa(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-rt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194090}function ia(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-rt(i),o=1<<l;o&t|e[l]&t&&(e[l]|=t),i&=~o}}function Yt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:Qg(e.type))}function sa(e,t){var i=U.p;try{return U.p=e,t()}finally{U.p=i}}var Un=Math.random().toString(36).slice(2),ot="__reactFiber$"+Un,St="__reactProps$"+Un,gi="__reactContainer$"+Un,Vs="__reactEvents$"+Un,pr="__reactListeners$"+Un,oh="__reactHandles$"+Un,V="__reactResources$"+Un,se="__reactMarker$"+Un;function ce(e){delete e[ot],delete e[St],delete e[Vs],delete e[pr],delete e[oh]}function ve(e){var t=e[ot];if(t)return t;for(var i=e.parentNode;i;){if(t=i[gi]||i[ot]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Eg(e);e!==null;){if(i=e[ot])return i;e=Eg(e)}return t}e=i,i=e.parentNode}return null}function Ye(e){if(e=e[ot]||e[gi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function pt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function nt(e){var t=e[V];return t||(t=e[V]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function De(e){e[se]=!0}var hn=new Set,an={};function At(e,t){Gt(e,t),Gt(e+"Capture",t)}function Gt(e,t){for(an[e]=t,e=0;e<t.length;e++)hn.add(t[e])}var pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),la={},Je={};function Ai(e){return tn.call(Je,e)?!0:tn.call(la,e)?!1:pi.test(e)?Je[e]=!0:(la[e]=!0,!1)}function ra(e,t,i){if(Ai(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function vi(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function xt(e,t,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+l)}}var Zs,ch;function qi(e){if(Zs===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Zs=t&&t[1]||"",ch=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+e+ch}var Tc=!1;function kc(e,t){if(!e||Tc)return"";Tc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var N=Q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(Q){N=Q}e.call(Z.prototype)}}else{try{throw Error()}catch(Q){N=Q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&N&&typeof Q.stack=="string")return[Q.stack,N.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),A=d[0],y=d[1];if(A&&y){var S=A.split(`
`),H=y.split(`
`);for(o=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;o<H.length&&!H[o].includes("DetermineComponentFrameRoot");)o++;if(l===S.length||o===H.length)for(l=S.length-1,o=H.length-1;1<=l&&0<=o&&S[l]!==H[o];)o--;for(;1<=l&&0<=o;l--,o--)if(S[l]!==H[o]){if(l!==1||o!==1)do if(l--,o--,0>o||S[l]!==H[o]){var X=`
`+S[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=o);break}}}finally{Tc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?qi(i):""}function S2(e){switch(e.tag){case 26:case 27:case 5:return qi(e.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return kc(e.type,!1);case 11:return kc(e.type.render,!1);case 1:return kc(e.type,!0);case 31:return qi("Activity");default:return""}}function uh(e){try{var t="";do t+=S2(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x2(e){var t=dh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(A){l=""+A,d.call(this,A)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ar(e){e._valueTracker||(e._valueTracker=x2(e))}function fh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=dh(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function vr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var C2=/[\n"\\]/g;function gn(e){return e.replace(C2,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Hc(e,t,i,l,o,d,A,y){e.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.type=A:e.removeAttribute("type"),t!=null?A==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+mn(t)):e.value!==""+mn(t)&&(e.value=""+mn(t)):A!=="submit"&&A!=="reset"||e.removeAttribute("value"),t!=null?Oc(e,A,mn(t)):i!=null?Oc(e,A,mn(i)):l!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+mn(y):e.removeAttribute("name")}function hh(e,t,i,l,o,d,A,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;i=i!=null?""+mn(i):"",t=t!=null?""+mn(t):i,y||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=y?e.checked:!!l,e.defaultChecked=!!l,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(e.name=A)}function Oc(e,t,i){t==="number"&&vr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Yi(e,t,i,l){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&l&&(e[i].defaultSelected=!0)}else{for(i=""+mn(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function mh(e,t,i){if(t!=null&&(t=""+mn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+mn(i):""}function gh(e,t,i,l){if(t==null){if(l!=null){if(i!=null)throw Error(r(92));if(j(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),t=i}i=mn(t),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function _i(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var R2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ph(e,t,i){var l=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,i):typeof i!="number"||i===0||R2.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Ah(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&i[o]!==l&&ph(e,o,l)}else for(var d in t)t.hasOwnProperty(d)&&ph(e,d,t[d])}function Pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),M2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yr(e){return M2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nc=null;function Qc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,Vi=null;function vh(e){var t=Ye(e);if(t&&(e=t.stateNode)){var i=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(Hc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+gn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var o=l[St]||null;if(!o)throw Error(r(90));Hc(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)l=i[t],l.form===e.form&&fh(l)}break e;case"textarea":mh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Yi(e,!!i.multiple,t,!1)}}}var Gc=!1;function yh(e,t,i){if(Gc)return e(t,i);Gc=!0;try{var l=e(t);return l}finally{if(Gc=!1,(Ki!==null||Vi!==null)&&(io(),Ki&&(t=Ki,e=Vi,Vi=Ki=null,vh(t),e)))for(t=0;t<e.length;t++)vh(e[t])}}function Js(e,t){var i=e.stateNode;if(i===null)return null;var l=i[St]||null;if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uc=!1;if(oa)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Uc=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Uc=!1}var Pa=null,Lc=null,br=null;function bh(){if(br)return br;var e,t=Lc,i=t.length,l,o="value"in Pa?Pa.value:Pa.textContent,d=o.length;for(e=0;e<i&&t[e]===o[e];e++);var A=i-e;for(l=1;l<=A&&t[i-l]===o[d-l];l++);return br=o.slice(e,1<l?1-l:void 0)}function Er(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wr(){return!0}function Eh(){return!1}function _t(e){function t(i,l,o,d,A){this._reactName=i,this._targetInst=o,this.type=l,this.nativeEvent=d,this.target=A,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?wr:Eh,this.isPropagationStopped=Eh,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),t}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=_t(yi),$s=p({},yi,{view:0,detail:0}),D2=_t($s),jc,zc,el,xr=p({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==el&&(el&&e.type==="mousemove"?(jc=e.screenX-el.screenX,zc=e.screenY-el.screenY):zc=jc=0,el=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:zc}}),wh=_t(xr),T2=p({},xr,{dataTransfer:0}),k2=_t(T2),H2=p({},$s,{relatedTarget:0}),Ic=_t(H2),O2=p({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),P2=_t(O2),N2=p({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q2=_t(N2),G2=p({},yi,{data:0}),Sh=_t(G2),U2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j2[e])?!!t[e]:!1}function Fc(){return z2}var I2=p({},$s,{key:function(e){if(e.key){var t=U2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),F2=_t(I2),X2=p({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=_t(X2),q2=p({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),Y2=_t(q2),_2=p({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),K2=_t(_2),V2=p({},xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z2=_t(V2),J2=p({},yi,{newState:0,oldState:0}),W2=_t(J2),$2=[9,13,27,32],Xc=oa&&"CompositionEvent"in window,tl=null;oa&&"documentMode"in document&&(tl=document.documentMode);var ey=oa&&"TextEvent"in window&&!tl,Ch=oa&&(!Xc||tl&&8<tl&&11>=tl),Rh=" ",Bh=!1;function Mh(e,t){switch(e){case"keyup":return $2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zi=!1;function ty(e,t){switch(e){case"compositionend":return Dh(t);case"keypress":return t.which!==32?null:(Bh=!0,Rh);case"textInput":return e=t.data,e===Rh&&Bh?null:e;default:return null}}function ny(e,t){if(Zi)return e==="compositionend"||!Xc&&Mh(e,t)?(e=bh(),br=Lc=Pa=null,Zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ch&&t.locale!=="ko"?null:t.data;default:return null}}var ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ay[e.type]:t==="textarea"}function kh(e,t,i,l){Ki?Vi?Vi.push(l):Vi=[l]:Ki=l,t=uo(t,"onChange"),0<t.length&&(i=new Sr("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var nl=null,al=null;function iy(e){dg(e,0)}function Cr(e){var t=pt(e);if(fh(t))return e}function Hh(e,t){if(e==="change")return t}var Oh=!1;if(oa){var qc;if(oa){var Yc="oninput"in document;if(!Yc){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),Yc=typeof Ph.oninput=="function"}qc=Yc}else qc=!1;Oh=qc&&(!document.documentMode||9<document.documentMode)}function Nh(){nl&&(nl.detachEvent("onpropertychange",Qh),al=nl=null)}function Qh(e){if(e.propertyName==="value"&&Cr(al)){var t=[];kh(t,al,e,Qc(e)),yh(iy,t)}}function sy(e,t,i){e==="focusin"?(Nh(),nl=t,al=i,nl.attachEvent("onpropertychange",Qh)):e==="focusout"&&Nh()}function ly(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cr(al)}function ry(e,t){if(e==="click")return Cr(t)}function oy(e,t){if(e==="input"||e==="change")return Cr(t)}function cy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:cy;function il(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var o=i[l];if(!tn.call(t,o)||!sn(e[o],t[o]))return!1}return!0}function Gh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uh(e,t){var i=Gh(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Gh(i)}}function Lh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=vr(e.document)}return t}function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var uy=oa&&"documentMode"in document&&11>=document.documentMode,Ji=null,Kc=null,sl=null,Vc=!1;function zh(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Vc||Ji==null||Ji!==vr(l)||(l=Ji,"selectionStart"in l&&_c(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=uo(Kc,"onSelect"),0<l.length&&(t=new Sr("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=Ji)))}function bi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Wi={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionrun:bi("Transition","TransitionRun"),transitionstart:bi("Transition","TransitionStart"),transitioncancel:bi("Transition","TransitionCancel"),transitionend:bi("Transition","TransitionEnd")},Zc={},Ih={};oa&&(Ih=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function Ei(e){if(Zc[e])return Zc[e];if(!Wi[e])return e;var t=Wi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ih)return Zc[e]=t[i];return e}var Fh=Ei("animationend"),Xh=Ei("animationiteration"),qh=Ei("animationstart"),dy=Ei("transitionrun"),fy=Ei("transitionstart"),hy=Ei("transitioncancel"),Yh=Ei("transitionend"),_h=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function Mn(e,t){_h.set(e,t),At(t,[e])}var Kh=new WeakMap;function pn(e,t){if(typeof e=="object"&&e!==null){var i=Kh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:uh(t)},Kh.set(e,t),t)}return{value:e,source:t,stack:uh(t)}}var An=[],$i=0,Wc=0;function Rr(){for(var e=$i,t=Wc=$i=0;t<e;){var i=An[t];An[t++]=null;var l=An[t];An[t++]=null;var o=An[t];An[t++]=null;var d=An[t];if(An[t++]=null,l!==null&&o!==null){var A=l.pending;A===null?o.next=o:(o.next=A.next,A.next=o),l.pending=o}d!==0&&Vh(i,o,d)}}function Br(e,t,i,l){An[$i++]=e,An[$i++]=t,An[$i++]=i,An[$i++]=l,Wc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $c(e,t,i,l){return Br(e,t,i,l),Mr(e)}function es(e,t){return Br(e,null,null,t),Mr(e)}function Vh(e,t,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var o=!1,d=e.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-rt(i),e=d.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=i|536870912),d):null}function Mr(e){if(50<Tl)throw Tl=0,sd=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ts={};function my(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,i,l){return new my(e,t,i,l)}function eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ca(e,t){var i=e.alternate;return i===null?(i=ln(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Zh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Dr(e,t,i,l,o,d){var A=0;if(l=e,typeof e=="function")eu(e)&&(A=1);else if(typeof e=="string")A=pb(e,i,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=ln(31,i,t,o),e.elementType=W,e.lanes=d,e;case C:return wi(i.children,o,d,t);case T:A=8,o|=24;break;case B:return e=ln(12,i,t,o|2),e.elementType=B,e.lanes=d,e;case J:return e=ln(13,i,t,o),e.elementType=J,e.lanes=d,e;case ie:return e=ln(19,i,t,o),e.elementType=ie,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:case F:A=10;break e;case L:A=9;break e;case K:A=11;break e;case I:A=14;break e;case ne:A=16,l=null;break e}A=29,i=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=ln(A,i,t,o),t.elementType=e,t.type=l,t.lanes=d,t}function wi(e,t,i,l){return e=ln(7,e,l,t),e.lanes=i,e}function tu(e,t,i){return e=ln(6,e,null,t),e.lanes=i,e}function nu(e,t,i){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ns=[],as=0,Tr=null,kr=0,vn=[],yn=0,Si=null,ua=1,da="";function xi(e,t){ns[as++]=kr,ns[as++]=Tr,Tr=e,kr=t}function Jh(e,t,i){vn[yn++]=ua,vn[yn++]=da,vn[yn++]=Si,Si=e;var l=ua;e=da;var o=32-rt(l)-1;l&=~(1<<o),i+=1;var d=32-rt(t)+o;if(30<d){var A=o-o%5;d=(l&(1<<A)-1).toString(32),l>>=A,o-=A,ua=1<<32-rt(t)+o|i<<o|l,da=d+e}else ua=1<<d|i<<o|l,da=e}function au(e){e.return!==null&&(xi(e,1),Jh(e,1,0))}function iu(e){for(;e===Tr;)Tr=ns[--as],ns[as]=null,kr=ns[--as],ns[as]=null;for(;e===Si;)Si=vn[--yn],vn[yn]=null,da=vn[--yn],vn[yn]=null,ua=vn[--yn],vn[yn]=null}var Ut=null,Ke=null,He=!1,Ci=null,Ln=!1,su=Error(r(519));function Ri(e){var t=Error(r(418,""));throw ol(pn(t,e)),su}function Wh(e){var t=e.stateNode,i=e.type,l=e.memoizedProps;switch(t[ot]=e,t[St]=l,i){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(i=0;i<Hl.length;i++)Be(Hl[i],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),hh(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ar(t);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),gh(t,l.value,l.defaultValue,l.children),Ar(t)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||l.suppressHydrationWarning===!0||gg(t.textContent,i)?(l.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),l.onScroll!=null&&Be("scroll",t),l.onScrollEnd!=null&&Be("scrollend",t),l.onClick!=null&&(t.onclick=fo),t=!0):t=!1,t||Ri(e)}function $h(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ut=Ut.return}}function ll(e){if(e!==Ut)return!1;if(!He)return $h(e),He=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ed(e.type,e.memoizedProps)),i=!i),i&&Ke&&Ri(e),$h(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Ke=Tn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Ke=null}}else t===27?(t=Ke,Za(e.type)?(e=Cd,Cd=null,Ke=e):Ke=t):Ke=Ut?Tn(e.stateNode.nextSibling):null;return!0}function rl(){Ke=Ut=null,He=!1}function em(){var e=Ci;return e!==null&&(Zt===null?Zt=e:Zt.push.apply(Zt,e),Ci=null),e}function ol(e){Ci===null?Ci=[e]:Ci.push(e)}var lu=z(null),Bi=null,fa=null;function Na(e,t,i){$(lu,t._currentValue),t._currentValue=i}function ha(e){e._currentValue=lu.current,ee(lu)}function ru(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function ou(e,t,i,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var A=o.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=o;for(var S=0;S<t.length;S++)if(y.context===t[S]){d.lanes|=i,y=d.alternate,y!==null&&(y.lanes|=i),ru(d.return,i,e),l||(A=null);break e}d=y.next}}else if(o.tag===18){if(A=o.return,A===null)throw Error(r(341));A.lanes|=i,d=A.alternate,d!==null&&(d.lanes|=i),ru(A,i,e),A=null}else A=o.child;if(A!==null)A.return=o;else for(A=o;A!==null;){if(A===e){A=null;break}if(o=A.sibling,o!==null){o.return=A.return,A=o;break}A=A.return}o=A}}function cl(e,t,i,l){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var A=o.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var y=o.type;sn(o.pendingProps.value,A.value)||(e!==null?e.push(y):e=[y])}}else if(o===je.current){if(A=o.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}o=o.return}e!==null&&ou(t,e,i,l),t.flags|=262144}function Hr(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mi(e){Bi=e,fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return tm(Bi,e)}function Or(e,t){return Bi===null&&Mi(e),tm(e,t)}function tm(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},fa===null){if(e===null)throw Error(r(308));fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fa=fa.next=t;return i}var gy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},py=n.unstable_scheduleCallback,Ay=n.unstable_NormalPriority,ct={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cu(){return{controller:new gy,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&py(Ay,function(){e.controller.abort()})}var dl=null,uu=0,is=0,ss=null;function vy(e,t){if(dl===null){var i=dl=[];uu=0,is=fd(),ss={status:"pending",value:void 0,then:function(l){i.push(l)}}}return uu++,t.then(nm,nm),t}function nm(){if(--uu===0&&dl!==null){ss!==null&&(ss.status="fulfilled");var e=dl;dl=null,is=0,ss=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yy(e,t){var i=[],l={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),l}var am=R.S;R.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&vy(e,t),am!==null&&am(e,t)};var Di=z(null);function du(){var e=Di.current;return e!==null?e:Fe.pooledCache}function Pr(e,t){t===null?$(Di,Di.current):$(Di,t.pool)}function im(){var e=du();return e===null?null:{parent:ct._currentValue,pool:e}}var fl=Error(r(460)),sm=Error(r(474)),Nr=Error(r(542)),fu={then:function(){}};function lm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qr(){}function rm(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Qr,Qr),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cm(e),e;default:if(typeof t.status=="string")t.then(Qr,Qr);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cm(e),e}throw hl=t,fl}}var hl=null;function om(){if(hl===null)throw Error(r(459));var e=hl;return hl=null,e}function cm(e){if(e===fl||e===Nr)throw Error(r(483))}var Qa=!1;function hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ga(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=Mr(e),Vh(e,null,i),t}return Br(e,l,t,i),Mr(e)}function ml(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,ia(e,i)}}function gu(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var o=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var A={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?o=d=A:d=d.next=A,i=i.next}while(i!==null);d===null?o=d=t:d=d.next=t}else o=d=t;i={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var pu=!1;function gl(){if(pu){var e=ss;if(e!==null)throw e}}function pl(e,t,i,l){pu=!1;var o=e.updateQueue;Qa=!1;var d=o.firstBaseUpdate,A=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var S=y,H=S.next;S.next=null,A===null?d=H:A.next=H,A=S;var X=e.alternate;X!==null&&(X=X.updateQueue,y=X.lastBaseUpdate,y!==A&&(y===null?X.firstBaseUpdate=H:y.next=H,X.lastBaseUpdate=S))}if(d!==null){var Z=o.baseState;A=0,X=H=S=null,y=d;do{var N=y.lane&-536870913,Q=N!==y.lane;if(Q?(Te&N)===N:(l&N)===N){N!==0&&N===is&&(pu=!0),X!==null&&(X=X.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Ae=e,ge=y;N=t;var Ue=i;switch(ge.tag){case 1:if(Ae=ge.payload,typeof Ae=="function"){Z=Ae.call(Ue,Z,N);break e}Z=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ge.payload,N=typeof Ae=="function"?Ae.call(Ue,Z,N):Ae,N==null)break e;Z=p({},Z,N);break e;case 2:Qa=!0}}N=y.callback,N!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=o.callbacks,Q===null?o.callbacks=[N]:Q.push(N))}else Q={lane:N,tag:y.tag,payload:y.payload,callback:y.callback,next:null},X===null?(H=X=Q,S=Z):X=X.next=Q,A|=N;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;Q=y,y=Q.next,Q.next=null,o.lastBaseUpdate=Q,o.shared.pending=null}}while(!0);X===null&&(S=Z),o.baseState=S,o.firstBaseUpdate=H,o.lastBaseUpdate=X,d===null&&(o.shared.lanes=0),Ya|=A,e.lanes=A,e.memoizedState=Z}}function um(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function dm(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)um(i[e],t)}var ls=z(null),Gr=z(0);function fm(e,t){e=ba,$(Gr,e),$(ls,t),ba=e|t.baseLanes}function Au(){$(Gr,ba),$(ls,ls.current)}function vu(){ba=Gr.current,ee(ls),ee(Gr)}var La=0,we=null,Qe=null,at=null,Ur=!1,rs=!1,Ti=!1,Lr=0,Al=0,os=null,by=0;function We(){throw Error(r(321))}function yu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!sn(e[i],t[i]))return!1;return!0}function bu(e,t,i,l,o,d){return La=d,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?Vm:Zm,Ti=!1,d=i(l,o),Ti=!1,rs&&(d=mm(t,i,l,o)),hm(e),d}function hm(e){R.H=qr;var t=Qe!==null&&Qe.next!==null;if(La=0,at=Qe=we=null,Ur=!1,Al=0,os=null,t)throw Error(r(300));e===null||vt||(e=e.dependencies,e!==null&&Hr(e)&&(vt=!0))}function mm(e,t,i,l){we=e;var o=0;do{if(rs&&(os=null),Al=0,rs=!1,25<=o)throw Error(r(301));if(o+=1,at=Qe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}R.H=By,d=t(i,l)}while(rs);return d}function Ey(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?vl(t):t,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(we.flags|=1024),t}function Eu(){var e=Lr!==0;return Lr=0,e}function wu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Su(e){if(Ur){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ur=!1}La=0,at=Qe=we=null,rs=!1,Al=Lr=0,os=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?we.memoizedState=at=e:at=at.next=e,at}function it(){if(Qe===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=at===null?we.memoizedState:at.next;if(t!==null)at=t,Qe=e;else{if(e===null)throw we.alternate===null?Error(r(467)):Error(r(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},at===null?we.memoizedState=at=e:at=at.next=e}return at}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var t=Al;return Al+=1,os===null&&(os=[]),e=rm(os,e,t),t=we,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?Vm:Zm),e}function jr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===F)return Tt(e)}throw Error(r(438,String(e)))}function Cu(e){var t=null,i=we.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=xu(),we.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),l=0;l<e;l++)i[l]=q;return t.index++,i}function ma(e,t){return typeof t=="function"?t(e):t}function zr(e){var t=it();return Ru(t,Qe,e)}function Ru(e,t,i){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var o=e.baseQueue,d=l.pending;if(d!==null){if(o!==null){var A=o.next;o.next=d.next,d.next=A}t.baseQueue=o=d,l.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var y=A=null,S=null,H=t,X=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(Te&Z)===Z:(La&Z)===Z){var N=H.revertLane;if(N===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===is&&(X=!0);else if((La&N)===N){H=H.next,N===is&&(X=!0);continue}else Z={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},S===null?(y=S=Z,A=d):S=S.next=Z,we.lanes|=N,Ya|=N;Z=H.action,Ti&&i(d,Z),d=H.hasEagerState?H.eagerState:i(d,Z)}else N={lane:Z,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},S===null?(y=S=N,A=d):S=S.next=N,we.lanes|=Z,Ya|=Z;H=H.next}while(H!==null&&H!==t);if(S===null?A=d:S.next=y,!sn(d,e.memoizedState)&&(vt=!0,X&&(i=ss,i!==null)))throw i;e.memoizedState=d,e.baseState=A,e.baseQueue=S,l.lastRenderedState=d}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Bu(e){var t=it(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var l=i.dispatch,o=i.pending,d=t.memoizedState;if(o!==null){i.pending=null;var A=o=o.next;do d=e(d,A.action),A=A.next;while(A!==o);sn(d,t.memoizedState)||(vt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,l]}function gm(e,t,i){var l=we,o=it(),d=He;if(d){if(i===void 0)throw Error(r(407));i=i()}else i=t();var A=!sn((Qe||o).memoizedState,i);A&&(o.memoizedState=i,vt=!0),o=o.queue;var y=vm.bind(null,l,o,e);if(yl(2048,8,y,[e]),o.getSnapshot!==t||A||at!==null&&at.memoizedState.tag&1){if(l.flags|=2048,cs(9,Ir(),Am.bind(null,l,o,i,t),null),Fe===null)throw Error(r(349));d||(La&124)!==0||pm(l,t,i)}return i}function pm(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=we.updateQueue,t===null?(t=xu(),we.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Am(e,t,i,l){t.value=i,t.getSnapshot=l,ym(t)&&bm(e)}function vm(e,t,i){return i(function(){ym(t)&&bm(e)})}function ym(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!sn(e,i)}catch{return!0}}function bm(e){var t=es(e,2);t!==null&&dn(t,e,2)}function Mu(e){var t=Kt();if(typeof e=="function"){var i=e;if(e=i(),Ti){Qt(!0);try{i()}finally{Qt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t}function Em(e,t,i,l){return e.baseState=i,Ru(e,Qe,typeof l=="function"?l:ma)}function wy(e,t,i,l,o){if(Xr(e))throw Error(r(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){d.listeners.push(A)}};R.T!==null?i(!0):d.isTransition=!1,l(d),i=t.pending,i===null?(d.next=t.pending=d,wm(t,d)):(d.next=i.next,t.pending=i.next=d)}}function wm(e,t){var i=t.action,l=t.payload,o=e.state;if(t.isTransition){var d=R.T,A={};R.T=A;try{var y=i(o,l),S=R.S;S!==null&&S(A,y),Sm(e,t,y)}catch(H){Du(e,t,H)}finally{R.T=d}}else try{d=i(o,l),Sm(e,t,d)}catch(H){Du(e,t,H)}}function Sm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){xm(e,t,l)},function(l){return Du(e,t,l)}):xm(e,t,i)}function xm(e,t,i){t.status="fulfilled",t.value=i,Cm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,wm(e,i)))}function Du(e,t,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=i,Cm(t),t=t.next;while(t!==l)}e.action=null}function Cm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rm(e,t){return t}function Bm(e,t){if(He){var i=Fe.formState;if(i!==null){e:{var l=we;if(He){if(Ke){t:{for(var o=Ke,d=Ln;o.nodeType!==8;){if(!d){o=null;break t}if(o=Tn(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Ke=Tn(o.nextSibling),l=o.data==="F!";break e}}Ri(l)}l=!1}l&&(t=i[0])}}return i=Kt(),i.memoizedState=i.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:t},i.queue=l,i=Ym.bind(null,we,l),l.dispatch=i,l=Mu(!1),d=Pu.bind(null,we,!1,l.queue),l=Kt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,i=wy.bind(null,we,o,d,i),o.dispatch=i,l.memoizedState=e,[t,i,!1]}function Mm(e){var t=it();return Dm(t,Qe,e)}function Dm(e,t,i){if(t=Ru(e,t,Rm)[0],e=zr(ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=vl(t)}catch(A){throw A===fl?Nr:A}else l=t;t=it();var o=t.queue,d=o.dispatch;return i!==t.memoizedState&&(we.flags|=2048,cs(9,Ir(),Sy.bind(null,o,i),null)),[l,d,e]}function Sy(e,t){e.action=t}function Tm(e){var t=it(),i=Qe;if(i!==null)return Dm(t,i,e);it(),t=t.memoizedState,i=it();var l=i.queue.dispatch;return i.memoizedState=e,[t,l,!1]}function cs(e,t,i,l){return e={tag:e,create:i,deps:l,inst:t,next:null},t=we.updateQueue,t===null&&(t=xu(),we.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e),e}function Ir(){return{destroy:void 0,resource:void 0}}function km(){return it().memoizedState}function Fr(e,t,i,l){var o=Kt();l=l===void 0?null:l,we.flags|=e,o.memoizedState=cs(1|t,Ir(),i,l)}function yl(e,t,i,l){var o=it();l=l===void 0?null:l;var d=o.memoizedState.inst;Qe!==null&&l!==null&&yu(l,Qe.memoizedState.deps)?o.memoizedState=cs(t,d,i,l):(we.flags|=e,o.memoizedState=cs(1|t,d,i,l))}function Hm(e,t){Fr(8390656,8,e,t)}function Om(e,t){yl(2048,8,e,t)}function Pm(e,t){return yl(4,2,e,t)}function Nm(e,t){return yl(4,4,e,t)}function Qm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gm(e,t,i){i=i!=null?i.concat([e]):null,yl(4,4,Qm.bind(null,t,e),i)}function Tu(){}function Um(e,t){var i=it();t=t===void 0?null:t;var l=i.memoizedState;return t!==null&&yu(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function Lm(e,t){var i=it();t=t===void 0?null:t;var l=i.memoizedState;if(t!==null&&yu(t,l[1]))return l[0];if(l=e(),Ti){Qt(!0);try{e()}finally{Qt(!1)}}return i.memoizedState=[l,t],l}function ku(e,t,i){return i===void 0||(La&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=I0(),we.lanes|=e,Ya|=e,i)}function jm(e,t,i,l){return sn(i,t)?i:ls.current!==null?(e=ku(e,i,l),sn(e,t)||(vt=!0),e):(La&42)===0?(vt=!0,e.memoizedState=i):(e=I0(),we.lanes|=e,Ya|=e,t)}function zm(e,t,i,l,o){var d=U.p;U.p=d!==0&&8>d?d:8;var A=R.T,y={};R.T=y,Pu(e,!1,t,i);try{var S=o(),H=R.S;if(H!==null&&H(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var X=yy(S,l);bl(e,t,X,un(e))}else bl(e,t,l,un(e))}catch(Z){bl(e,t,{then:function(){},status:"rejected",reason:Z},un())}finally{U.p=d,R.T=A}}function xy(){}function Hu(e,t,i,l){if(e.tag!==5)throw Error(r(476));var o=Im(e).queue;zm(e,o,t,ae,i===null?xy:function(){return Fm(e),i(l)})}function Im(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:ae},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fm(e){var t=Im(e).next.queue;bl(e,t,{},un())}function Ou(){return Tt(Ul)}function Xm(){return it().memoizedState}function qm(){return it().memoizedState}function Cy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=un();e=Ga(i);var l=Ua(t,e,i);l!==null&&(dn(l,t,i),ml(l,t,i)),t={cache:cu()},e.payload=t;return}t=t.return}}function Ry(e,t,i){var l=un();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Xr(e)?_m(t,i):(i=$c(e,t,i,l),i!==null&&(dn(i,e,l),Km(i,t,l)))}function Ym(e,t,i){var l=un();bl(e,t,i,l)}function bl(e,t,i,l){var o={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xr(e))_m(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var A=t.lastRenderedState,y=d(A,i);if(o.hasEagerState=!0,o.eagerState=y,sn(y,A))return Br(e,t,o,0),Fe===null&&Rr(),!1}catch{}finally{}if(i=$c(e,t,o,l),i!==null)return dn(i,e,l),Km(i,t,l),!0}return!1}function Pu(e,t,i,l){if(l={lane:2,revertLane:fd(),action:l,hasEagerState:!1,eagerState:null,next:null},Xr(e)){if(t)throw Error(r(479))}else t=$c(e,i,l,2),t!==null&&dn(t,e,2)}function Xr(e){var t=e.alternate;return e===we||t!==null&&t===we}function _m(e,t){rs=Ur=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Km(e,t,i){if((i&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,ia(e,i)}}var qr={readContext:Tt,use:jr,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We},Vm={readContext:Tt,use:jr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Hm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Fr(4194308,4,Qm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Fr(4194308,4,e,t)},useInsertionEffect:function(e,t){Fr(4,2,e,t)},useMemo:function(e,t){var i=Kt();t=t===void 0?null:t;var l=e();if(Ti){Qt(!0);try{e()}finally{Qt(!1)}}return i.memoizedState=[l,t],l},useReducer:function(e,t,i){var l=Kt();if(i!==void 0){var o=i(t);if(Ti){Qt(!0);try{i(t)}finally{Qt(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=Ry.bind(null,we,e),[l.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Mu(e);var t=e.queue,i=Ym.bind(null,we,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Tu,useDeferredValue:function(e,t){var i=Kt();return ku(i,e,t)},useTransition:function(){var e=Mu(!1);return e=zm.bind(null,we,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var l=we,o=Kt();if(He){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Fe===null)throw Error(r(349));(Te&124)!==0||pm(l,t,i)}o.memoizedState=i;var d={value:i,getSnapshot:t};return o.queue=d,Hm(vm.bind(null,l,d,e),[e]),l.flags|=2048,cs(9,Ir(),Am.bind(null,l,d,i,t),null),i},useId:function(){var e=Kt(),t=Fe.identifierPrefix;if(He){var i=da,l=ua;i=(l&~(1<<32-rt(l)-1)).toString(32)+i,t="«"+t+"R"+i,i=Lr++,0<i&&(t+="H"+i.toString(32)),t+="»"}else i=by++,t="«"+t+"r"+i.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Ou,useFormState:Bm,useActionState:Bm,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Pu.bind(null,we,!0,i),i.dispatch=t,[e,t]},useMemoCache:Cu,useCacheRefresh:function(){return Kt().memoizedState=Cy.bind(null,we)}},Zm={readContext:Tt,use:jr,useCallback:Um,useContext:Tt,useEffect:Om,useImperativeHandle:Gm,useInsertionEffect:Pm,useLayoutEffect:Nm,useMemo:Lm,useReducer:zr,useRef:km,useState:function(){return zr(ma)},useDebugValue:Tu,useDeferredValue:function(e,t){var i=it();return jm(i,Qe.memoizedState,e,t)},useTransition:function(){var e=zr(ma)[0],t=it().memoizedState;return[typeof e=="boolean"?e:vl(e),t]},useSyncExternalStore:gm,useId:Xm,useHostTransitionStatus:Ou,useFormState:Mm,useActionState:Mm,useOptimistic:function(e,t){var i=it();return Em(i,Qe,e,t)},useMemoCache:Cu,useCacheRefresh:qm},By={readContext:Tt,use:jr,useCallback:Um,useContext:Tt,useEffect:Om,useImperativeHandle:Gm,useInsertionEffect:Pm,useLayoutEffect:Nm,useMemo:Lm,useReducer:Bu,useRef:km,useState:function(){return Bu(ma)},useDebugValue:Tu,useDeferredValue:function(e,t){var i=it();return Qe===null?ku(i,e,t):jm(i,Qe.memoizedState,e,t)},useTransition:function(){var e=Bu(ma)[0],t=it().memoizedState;return[typeof e=="boolean"?e:vl(e),t]},useSyncExternalStore:gm,useId:Xm,useHostTransitionStatus:Ou,useFormState:Tm,useActionState:Tm,useOptimistic:function(e,t){var i=it();return Qe!==null?Em(i,Qe,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Cu,useCacheRefresh:qm},us=null,El=0;function Yr(e){var t=El;return El+=1,us===null&&(us=[]),rm(us,e,t)}function wl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _r(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jm(e){var t=e._init;return t(e._payload)}function Wm(e){function t(M,x){if(e){var k=M.deletions;k===null?(M.deletions=[x],M.flags|=16):k.push(x)}}function i(M,x){if(!e)return null;for(;x!==null;)t(M,x),x=x.sibling;return null}function l(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function o(M,x){return M=ca(M,x),M.index=0,M.sibling=null,M}function d(M,x,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<x?(M.flags|=67108866,x):k):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function A(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function y(M,x,k,_){return x===null||x.tag!==6?(x=tu(k,M.mode,_),x.return=M,x):(x=o(x,k),x.return=M,x)}function S(M,x,k,_){var ue=k.type;return ue===C?X(M,x,k.props.children,_,k.key):x!==null&&(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ne&&Jm(ue)===x.type)?(x=o(x,k.props),wl(x,k),x.return=M,x):(x=Dr(k.type,k.key,k.props,null,M.mode,_),wl(x,k),x.return=M,x)}function H(M,x,k,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=nu(k,M.mode,_),x.return=M,x):(x=o(x,k.children||[]),x.return=M,x)}function X(M,x,k,_,ue){return x===null||x.tag!==7?(x=wi(k,M.mode,_,ue),x.return=M,x):(x=o(x,k),x.return=M,x)}function Z(M,x,k){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=tu(""+x,M.mode,k),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return k=Dr(x.type,x.key,x.props,null,M.mode,k),wl(k,x),k.return=M,k;case E:return x=nu(x,M.mode,k),x.return=M,x;case ne:var _=x._init;return x=_(x._payload),Z(M,x,k)}if(j(x)||O(x))return x=wi(x,M.mode,k,null),x.return=M,x;if(typeof x.then=="function")return Z(M,Yr(x),k);if(x.$$typeof===F)return Z(M,Or(M,x),k);_r(M,x)}return null}function N(M,x,k,_){var ue=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ue!==null?null:y(M,x,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return k.key===ue?S(M,x,k,_):null;case E:return k.key===ue?H(M,x,k,_):null;case ne:return ue=k._init,k=ue(k._payload),N(M,x,k,_)}if(j(k)||O(k))return ue!==null?null:X(M,x,k,_,null);if(typeof k.then=="function")return N(M,x,Yr(k),_);if(k.$$typeof===F)return N(M,x,Or(M,k),_);_r(M,k)}return null}function Q(M,x,k,_,ue){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return M=M.get(k)||null,y(x,M,""+_,ue);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case b:return M=M.get(_.key===null?k:_.key)||null,S(x,M,_,ue);case E:return M=M.get(_.key===null?k:_.key)||null,H(x,M,_,ue);case ne:var xe=_._init;return _=xe(_._payload),Q(M,x,k,_,ue)}if(j(_)||O(_))return M=M.get(k)||null,X(x,M,_,ue,null);if(typeof _.then=="function")return Q(M,x,k,Yr(_),ue);if(_.$$typeof===F)return Q(M,x,k,Or(x,_),ue);_r(x,_)}return null}function Ae(M,x,k,_){for(var ue=null,xe=null,he=x,pe=x=0,bt=null;he!==null&&pe<k.length;pe++){he.index>pe?(bt=he,he=null):bt=he.sibling;var ke=N(M,he,k[pe],_);if(ke===null){he===null&&(he=bt);break}e&&he&&ke.alternate===null&&t(M,he),x=d(ke,x,pe),xe===null?ue=ke:xe.sibling=ke,xe=ke,he=bt}if(pe===k.length)return i(M,he),He&&xi(M,pe),ue;if(he===null){for(;pe<k.length;pe++)he=Z(M,k[pe],_),he!==null&&(x=d(he,x,pe),xe===null?ue=he:xe.sibling=he,xe=he);return He&&xi(M,pe),ue}for(he=l(he);pe<k.length;pe++)bt=Q(he,M,pe,k[pe],_),bt!==null&&(e&&bt.alternate!==null&&he.delete(bt.key===null?pe:bt.key),x=d(bt,x,pe),xe===null?ue=bt:xe.sibling=bt,xe=bt);return e&&he.forEach(function(ti){return t(M,ti)}),He&&xi(M,pe),ue}function ge(M,x,k,_){if(k==null)throw Error(r(151));for(var ue=null,xe=null,he=x,pe=x=0,bt=null,ke=k.next();he!==null&&!ke.done;pe++,ke=k.next()){he.index>pe?(bt=he,he=null):bt=he.sibling;var ti=N(M,he,ke.value,_);if(ti===null){he===null&&(he=bt);break}e&&he&&ti.alternate===null&&t(M,he),x=d(ti,x,pe),xe===null?ue=ti:xe.sibling=ti,xe=ti,he=bt}if(ke.done)return i(M,he),He&&xi(M,pe),ue;if(he===null){for(;!ke.done;pe++,ke=k.next())ke=Z(M,ke.value,_),ke!==null&&(x=d(ke,x,pe),xe===null?ue=ke:xe.sibling=ke,xe=ke);return He&&xi(M,pe),ue}for(he=l(he);!ke.done;pe++,ke=k.next())ke=Q(he,M,pe,ke.value,_),ke!==null&&(e&&ke.alternate!==null&&he.delete(ke.key===null?pe:ke.key),x=d(ke,x,pe),xe===null?ue=ke:xe.sibling=ke,xe=ke);return e&&he.forEach(function(Mb){return t(M,Mb)}),He&&xi(M,pe),ue}function Ue(M,x,k,_){if(typeof k=="object"&&k!==null&&k.type===C&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case b:e:{for(var ue=k.key;x!==null;){if(x.key===ue){if(ue=k.type,ue===C){if(x.tag===7){i(M,x.sibling),_=o(x,k.props.children),_.return=M,M=_;break e}}else if(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ne&&Jm(ue)===x.type){i(M,x.sibling),_=o(x,k.props),wl(_,k),_.return=M,M=_;break e}i(M,x);break}else t(M,x);x=x.sibling}k.type===C?(_=wi(k.props.children,M.mode,_,k.key),_.return=M,M=_):(_=Dr(k.type,k.key,k.props,null,M.mode,_),wl(_,k),_.return=M,M=_)}return A(M);case E:e:{for(ue=k.key;x!==null;){if(x.key===ue)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){i(M,x.sibling),_=o(x,k.children||[]),_.return=M,M=_;break e}else{i(M,x);break}else t(M,x);x=x.sibling}_=nu(k,M.mode,_),_.return=M,M=_}return A(M);case ne:return ue=k._init,k=ue(k._payload),Ue(M,x,k,_)}if(j(k))return Ae(M,x,k,_);if(O(k)){if(ue=O(k),typeof ue!="function")throw Error(r(150));return k=ue.call(k),ge(M,x,k,_)}if(typeof k.then=="function")return Ue(M,x,Yr(k),_);if(k.$$typeof===F)return Ue(M,x,Or(M,k),_);_r(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,x!==null&&x.tag===6?(i(M,x.sibling),_=o(x,k),_.return=M,M=_):(i(M,x),_=tu(k,M.mode,_),_.return=M,M=_),A(M)):i(M,x)}return function(M,x,k,_){try{El=0;var ue=Ue(M,x,k,_);return us=null,ue}catch(he){if(he===fl||he===Nr)throw he;var xe=ln(29,he,null,M.mode);return xe.lanes=_,xe.return=M,xe}finally{}}}var ds=Wm(!0),$m=Wm(!1),bn=z(null),jn=null;function ja(e){var t=e.alternate;$(ut,ut.current&1),$(bn,e),jn===null&&(t===null||ls.current!==null||t.memoizedState!==null)&&(jn=e)}function e0(e){if(e.tag===22){if($(ut,ut.current),$(bn,e),jn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(jn=e)}}else za()}function za(){$(ut,ut.current),$(bn,bn.current)}function ga(e){ee(bn),jn===e&&(jn=null),ee(ut)}var ut=z(0);function Kr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||xd(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Nu(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:p({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Qu={enqueueSetState:function(e,t,i){e=e._reactInternals;var l=un(),o=Ga(l);o.payload=t,i!=null&&(o.callback=i),t=Ua(e,o,l),t!==null&&(dn(t,e,l),ml(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=un(),o=Ga(l);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Ua(e,o,l),t!==null&&(dn(t,e,l),ml(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=un(),l=Ga(i);l.tag=2,t!=null&&(l.callback=t),t=Ua(e,l,i),t!==null&&(dn(t,e,i),ml(t,e,i))}};function t0(e,t,i,l,o,d,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,A):t.prototype&&t.prototype.isPureReactComponent?!il(i,l)||!il(o,d):!0}function n0(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Qu.enqueueReplaceState(t,t.state,null)}function ki(e,t){var i=t;if("ref"in t){i={};for(var l in t)l!=="ref"&&(i[l]=t[l])}if(e=e.defaultProps){i===t&&(i=p({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}var Vr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function a0(e){Vr(e)}function i0(e){console.error(e)}function s0(e){Vr(e)}function Zr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function l0(e,t,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Gu(e,t,i){return i=Ga(i),i.tag=3,i.payload={element:null},i.callback=function(){Zr(e,t)},i}function r0(e){return e=Ga(e),e.tag=3,e}function o0(e,t,i,l){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var d=l.value;e.payload=function(){return o(d)},e.callback=function(){l0(t,i,l)}}var A=i.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(e.callback=function(){l0(t,i,l),typeof o!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function My(e,t,i,l,o){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=i.alternate,t!==null&&cl(t,i,o,!0),i=bn.current,i!==null){switch(i.tag){case 13:return jn===null?rd():i.alternate===null&&Ve===0&&(Ve=3),i.flags&=-257,i.flags|=65536,i.lanes=o,l===fu?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([l]):t.add(l),cd(e,l,o)),!1;case 22:return i.flags|=65536,l===fu?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([l]):i.add(l)),cd(e,l,o)),!1}throw Error(r(435,i.tag))}return cd(e,l,o),rd(),!1}if(He)return t=bn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==su&&(e=Error(r(422),{cause:l}),ol(pn(e,i)))):(l!==su&&(t=Error(r(423),{cause:l}),ol(pn(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=pn(l,i),o=Gu(e.stateNode,l,o),gu(e,o),Ve!==4&&(Ve=2)),!1;var d=Error(r(520),{cause:l});if(d=pn(d,i),Dl===null?Dl=[d]:Dl.push(d),Ve!==4&&(Ve=2),t===null)return!0;l=pn(l,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Gu(i.stateNode,l,e),gu(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_a===null||!_a.has(d))))return i.flags|=65536,o&=-o,i.lanes|=o,o=r0(o),o0(o,e,i,l),gu(i,o),!1}i=i.return}while(i!==null);return!1}var c0=Error(r(461)),vt=!1;function Ct(e,t,i,l){t.child=e===null?$m(t,null,i,l):ds(t,e.child,i,l)}function u0(e,t,i,l,o){i=i.render;var d=t.ref;if("ref"in l){var A={};for(var y in l)y!=="ref"&&(A[y]=l[y])}else A=l;return Mi(t),l=bu(e,t,i,A,d,o),y=Eu(),e!==null&&!vt?(wu(e,t,o),pa(e,t,o)):(He&&y&&au(t),t.flags|=1,Ct(e,t,l,o),t.child)}function d0(e,t,i,l,o){if(e===null){var d=i.type;return typeof d=="function"&&!eu(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,f0(e,t,d,l,o)):(e=Dr(i.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!qu(e,o)){var A=d.memoizedProps;if(i=i.compare,i=i!==null?i:il,i(A,l)&&e.ref===t.ref)return pa(e,t,o)}return t.flags|=1,e=ca(d,l),e.ref=t.ref,e.return=t,t.child=e}function f0(e,t,i,l,o){if(e!==null){var d=e.memoizedProps;if(il(d,l)&&e.ref===t.ref)if(vt=!1,t.pendingProps=l=d,qu(e,o))(e.flags&131072)!==0&&(vt=!0);else return t.lanes=e.lanes,pa(e,t,o)}return Uu(e,t,i,l,o)}function h0(e,t,i){var l=t.pendingProps,o=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=d!==null?d.baseLanes|i:i,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~l}else t.childLanes=0,t.child=null;return m0(e,t,l,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pr(t,d!==null?d.cachePool:null),d!==null?fm(t,d):Au(),e0(t);else return t.lanes=t.childLanes=536870912,m0(e,t,d!==null?d.baseLanes|i:i,i)}else d!==null?(Pr(t,d.cachePool),fm(t,d),za(),t.memoizedState=null):(e!==null&&Pr(t,null),Au(),za());return Ct(e,t,o,i),t.child}function m0(e,t,i,l){var o=du();return o=o===null?null:{parent:ct._currentValue,pool:o},t.memoizedState={baseLanes:i,cachePool:o},e!==null&&Pr(t,null),Au(),e0(t),e!==null&&cl(e,t,l,!0),null}function Jr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Uu(e,t,i,l,o){return Mi(t),i=bu(e,t,i,l,void 0,o),l=Eu(),e!==null&&!vt?(wu(e,t,o),pa(e,t,o)):(He&&l&&au(t),t.flags|=1,Ct(e,t,i,o),t.child)}function g0(e,t,i,l,o,d){return Mi(t),t.updateQueue=null,i=mm(t,l,i,o),hm(e),l=Eu(),e!==null&&!vt?(wu(e,t,d),pa(e,t,d)):(He&&l&&au(t),t.flags|=1,Ct(e,t,i,d),t.child)}function p0(e,t,i,l,o){if(Mi(t),t.stateNode===null){var d=ts,A=i.contextType;typeof A=="object"&&A!==null&&(d=Tt(A)),d=new i(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},hu(t),A=i.contextType,d.context=typeof A=="object"&&A!==null?Tt(A):ts,d.state=t.memoizedState,A=i.getDerivedStateFromProps,typeof A=="function"&&(Nu(t,i,A,l),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(A=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),A!==d.state&&Qu.enqueueReplaceState(d,d.state,null),pl(t,l,d,o),gl(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var y=t.memoizedProps,S=ki(i,y);d.props=S;var H=d.context,X=i.contextType;A=ts,typeof X=="object"&&X!==null&&(A=Tt(X));var Z=i.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||H!==A)&&n0(t,d,l,A),Qa=!1;var N=t.memoizedState;d.state=N,pl(t,l,d,o),gl(),H=t.memoizedState,y||N!==H||Qa?(typeof Z=="function"&&(Nu(t,i,Z,l),H=t.memoizedState),(S=Qa||t0(t,i,S,l,N,H,A))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=H),d.props=l,d.state=H,d.context=A,l=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,mu(e,t),A=t.memoizedProps,X=ki(i,A),d.props=X,Z=t.pendingProps,N=d.context,H=i.contextType,S=ts,typeof H=="object"&&H!==null&&(S=Tt(H)),y=i.getDerivedStateFromProps,(H=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A!==Z||N!==S)&&n0(t,d,l,S),Qa=!1,N=t.memoizedState,d.state=N,pl(t,l,d,o),gl();var Q=t.memoizedState;A!==Z||N!==Q||Qa||e!==null&&e.dependencies!==null&&Hr(e.dependencies)?(typeof y=="function"&&(Nu(t,i,y,l),Q=t.memoizedState),(X=Qa||t0(t,i,X,l,N,Q,S)||e!==null&&e.dependencies!==null&&Hr(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||A===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Q),d.props=l,d.state=Q,d.context=S,l=X):(typeof d.componentDidUpdate!="function"||A===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Jr(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=ds(t,e.child,null,o),t.child=ds(t,null,i,o)):Ct(e,t,i,o),t.memoizedState=d.state,e=t.child):e=pa(e,t,o),e}function A0(e,t,i,l){return rl(),t.flags|=256,Ct(e,t,i,l),t.child}var Lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(e){return{baseLanes:e,cachePool:im()}}function zu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=En),e}function v0(e,t,i){var l=t.pendingProps,o=!1,d=(t.flags&128)!==0,A;if((A=d)||(A=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),A&&(o=!0,t.flags&=-129),A=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(o?ja(t):za(),He){var y=Ke,S;if(S=y){e:{for(S=y,y=Ln;S.nodeType!==8;){if(!y){y=null;break e}if(S=Tn(S.nextSibling),S===null){y=null;break e}}y=S}y!==null?(t.memoizedState={dehydrated:y,treeContext:Si!==null?{id:ua,overflow:da}:null,retryLane:536870912,hydrationErrors:null},S=ln(18,null,null,0),S.stateNode=y,S.return=t,t.child=S,Ut=t,Ke=null,S=!0):S=!1}S||Ri(t)}if(y=t.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return xd(y)?t.lanes=32:t.lanes=536870912,null;ga(t)}return y=l.children,l=l.fallback,o?(za(),o=t.mode,y=Wr({mode:"hidden",children:y},o),l=wi(l,o,i,null),y.return=t,l.return=t,y.sibling=l,t.child=y,o=t.child,o.memoizedState=ju(i),o.childLanes=zu(e,A,i),t.memoizedState=Lu,l):(ja(t),Iu(t,y))}if(S=e.memoizedState,S!==null&&(y=S.dehydrated,y!==null)){if(d)t.flags&256?(ja(t),t.flags&=-257,t=Fu(e,t,i)):t.memoizedState!==null?(za(),t.child=e.child,t.flags|=128,t=null):(za(),o=l.fallback,y=t.mode,l=Wr({mode:"visible",children:l.children},y),o=wi(o,y,i,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,ds(t,e.child,null,i),l=t.child,l.memoizedState=ju(i),l.childLanes=zu(e,A,i),t.memoizedState=Lu,t=o);else if(ja(t),xd(y)){if(A=y.nextSibling&&y.nextSibling.dataset,A)var H=A.dgst;A=H,l=Error(r(419)),l.stack="",l.digest=A,ol({value:l,source:null,stack:null}),t=Fu(e,t,i)}else if(vt||cl(e,t,i,!1),A=(i&e.childLanes)!==0,vt||A){if(A=Fe,A!==null&&(l=i&-i,l=(l&42)!==0?1:Yt(l),l=(l&(A.suspendedLanes|i))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,es(e,l),dn(A,e,l),c0;y.data==="$?"||rd(),t=Fu(e,t,i)}else y.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Ke=Tn(y.nextSibling),Ut=t,He=!0,Ci=null,Ln=!1,e!==null&&(vn[yn++]=ua,vn[yn++]=da,vn[yn++]=Si,ua=e.id,da=e.overflow,Si=t),t=Iu(t,l.children),t.flags|=4096);return t}return o?(za(),o=l.fallback,y=t.mode,S=e.child,H=S.sibling,l=ca(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,H!==null?o=ca(H,o):(o=wi(o,y,i,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,y=e.child.memoizedState,y===null?y=ju(i):(S=y.cachePool,S!==null?(H=ct._currentValue,S=S.parent!==H?{parent:H,pool:H}:S):S=im(),y={baseLanes:y.baseLanes|i,cachePool:S}),o.memoizedState=y,o.childLanes=zu(e,A,i),t.memoizedState=Lu,l):(ja(t),i=e.child,e=i.sibling,i=ca(i,{mode:"visible",children:l.children}),i.return=t,i.sibling=null,e!==null&&(A=t.deletions,A===null?(t.deletions=[e],t.flags|=16):A.push(e)),t.child=i,t.memoizedState=null,i)}function Iu(e,t){return t=Wr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wr(e,t){return e=ln(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Fu(e,t,i){return ds(t,e.child,null,i),e=Iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y0(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),ru(e.return,t,i)}function Xu(e,t,i,l,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=i,d.tailMode=o)}function b0(e,t,i){var l=t.pendingProps,o=l.revealOrder,d=l.tail;if(Ct(e,t,l.children,i),l=ut.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&y0(e,i,t);else if(e.tag===19)y0(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch($(ut,l),o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Kr(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Xu(t,!1,o,i,d);break;case"backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Kr(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Xu(t,!0,i,null,d);break;case"together":Xu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pa(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ya|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(cl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=ca(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ca(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function qu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Hr(e)))}function Dy(e,t,i){switch(t.tag){case 3:Ce(t,t.stateNode.containerInfo),Na(t,ct,e.memoizedState.cache),rl();break;case 27:case 5:en(t);break;case 4:Ce(t,t.stateNode.containerInfo);break;case 10:Na(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ja(t),t.flags|=128,null):(i&t.child.childLanes)!==0?v0(e,t,i):(ja(t),e=pa(e,t,i),e!==null?e.sibling:null);ja(t);break;case 19:var o=(e.flags&128)!==0;if(l=(i&t.childLanes)!==0,l||(cl(e,t,i,!1),l=(i&t.childLanes)!==0),o){if(l)return b0(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),$(ut,ut.current),l)break;return null;case 22:case 23:return t.lanes=0,h0(e,t,i);case 24:Na(t,ct,e.memoizedState.cache)}return pa(e,t,i)}function E0(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!qu(e,i)&&(t.flags&128)===0)return vt=!1,Dy(e,t,i);vt=(e.flags&131072)!==0}else vt=!1,He&&(t.flags&1048576)!==0&&Jh(t,kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,o=l._init;if(l=o(l._payload),t.type=l,typeof l=="function")eu(l)?(e=ki(l,e),t.tag=1,t=p0(null,t,l,e,i)):(t.tag=0,t=Uu(null,t,l,e,i));else{if(l!=null){if(o=l.$$typeof,o===K){t.tag=11,t=u0(null,t,l,e,i);break e}else if(o===I){t.tag=14,t=d0(null,t,l,e,i);break e}}throw t=Y(l)||l,Error(r(306,t,""))}}return t;case 0:return Uu(e,t,t.type,t.pendingProps,i);case 1:return l=t.type,o=ki(l,t.pendingProps),p0(e,t,l,o,i);case 3:e:{if(Ce(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var d=t.memoizedState;o=d.element,mu(e,t),pl(t,l,null,i);var A=t.memoizedState;if(l=A.cache,Na(t,ct,l),l!==d.cache&&ou(t,[ct],i,!0),gl(),l=A.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:A.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=A0(e,t,l,i);break e}else if(l!==o){o=pn(Error(r(424)),t),ol(o),t=A0(e,t,l,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ke=Tn(e.firstChild),Ut=t,He=!0,Ci=null,Ln=!0,i=$m(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(rl(),l===o){t=pa(e,t,i);break e}Ct(e,t,l,i)}t=t.child}return t;case 26:return Jr(e,t),e===null?(i=Cg(t.type,null,t.pendingProps,null))?t.memoizedState=i:He||(i=t.type,e=t.pendingProps,l=ho(fe.current).createElement(i),l[ot]=t,l[St]=e,Bt(l,i,e),De(l),t.stateNode=l):t.memoizedState=Cg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return en(t),e===null&&He&&(l=t.stateNode=wg(t.type,t.pendingProps,fe.current),Ut=t,Ln=!0,o=Ke,Za(t.type)?(Cd=o,Ke=Tn(l.firstChild)):Ke=o),Ct(e,t,t.pendingProps.children,i),Jr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((o=l=Ke)&&(l=ab(l,t.type,t.pendingProps,Ln),l!==null?(t.stateNode=l,Ut=t,Ke=Tn(l.firstChild),Ln=!1,o=!0):o=!1),o||Ri(t)),en(t),o=t.type,d=t.pendingProps,A=e!==null?e.memoizedProps:null,l=d.children,Ed(o,d)?l=null:A!==null&&Ed(o,A)&&(t.flags|=32),t.memoizedState!==null&&(o=bu(e,t,Ey,null,null,i),Ul._currentValue=o),Jr(e,t),Ct(e,t,l,i),t.child;case 6:return e===null&&He&&((e=i=Ke)&&(i=ib(i,t.pendingProps,Ln),i!==null?(t.stateNode=i,Ut=t,Ke=null,e=!0):e=!1),e||Ri(t)),null;case 13:return v0(e,t,i);case 4:return Ce(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ds(t,null,l,i):Ct(e,t,l,i),t.child;case 11:return u0(e,t,t.type,t.pendingProps,i);case 7:return Ct(e,t,t.pendingProps,i),t.child;case 8:return Ct(e,t,t.pendingProps.children,i),t.child;case 12:return Ct(e,t,t.pendingProps.children,i),t.child;case 10:return l=t.pendingProps,Na(t,t.type,l.value),Ct(e,t,l.children,i),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,Mi(t),o=Tt(o),l=l(o),t.flags|=1,Ct(e,t,l,i),t.child;case 14:return d0(e,t,t.type,t.pendingProps,i);case 15:return f0(e,t,t.type,t.pendingProps,i);case 19:return b0(e,t,i);case 31:return l=t.pendingProps,i=t.mode,l={mode:l.mode,children:l.children},e===null?(i=Wr(l,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=ca(e.child,l),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return h0(e,t,i);case 24:return Mi(t),l=Tt(ct),e===null?(o=du(),o===null&&(o=Fe,d=cu(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=i),o=d),t.memoizedState={parent:l,cache:o},hu(t),Na(t,ct,o)):((e.lanes&i)!==0&&(mu(e,t),pl(t,null,null,i),gl()),o=e.memoizedState,d=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Na(t,ct,l)):(l=d.cache,Na(t,ct,l),l!==o.cache&&ou(t,[ct],i,!0))),Ct(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Aa(e){e.flags|=4}function w0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tg(t)){if(t=bn.current,t!==null&&((Te&4194048)===Te?jn!==null:(Te&62914560)!==Te&&(Te&536870912)===0||t!==jn))throw hl=fu,sm;e.flags|=8192}}function $r(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mt():536870912,e.lanes|=t,gs|=t)}function Sl(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function Ty(e,t,i){var l=t.pendingProps;switch(iu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return _e(t),null;case 3:return i=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ha(ct),Et(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ll(t)?Aa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,em())),_e(t),null;case 26:return i=t.memoizedState,e===null?(Aa(t),i!==null?(_e(t),w0(t,i)):(_e(t),t.flags&=-16777217)):i?i!==e.memoizedState?(Aa(t),_e(t),w0(t,i)):(_e(t),t.flags&=-16777217):(e.memoizedProps!==l&&Aa(t),_e(t),t.flags&=-16777217),null;case 27:Cn(t),i=fe.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Aa(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return _e(t),null}e=re.current,ll(t)?Wh(t):(e=wg(o,l,i),t.stateNode=e,Aa(t))}return _e(t),null;case 5:if(Cn(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Aa(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return _e(t),null}if(e=re.current,ll(t))Wh(t);else{switch(o=ho(fe.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?o.createElement(i,{is:l.is}):o.createElement(i)}}e[ot]=t,e[St]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Bt(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Aa(t)}}return _e(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Aa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=fe.current,ll(t)){if(e=t.stateNode,i=t.memoizedProps,l=null,o=Ut,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[ot]=t,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||gg(e.nodeValue,i)),e||Ri(t)}else e=ho(e).createTextNode(l),e[ot]=t,t.stateNode=e}return _e(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ll(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ot]=t}else rl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;_e(t),o=!1}else o=em(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ga(t),t):(ga(t),null)}if(ga(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==o&&(l.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),$r(t,t.updateQueue),_e(t),null;case 4:return Et(),e===null&&pd(t.stateNode.containerInfo),_e(t),null;case 10:return ha(t.type),_e(t),null;case 19:if(ee(ut),o=t.memoizedState,o===null)return _e(t),null;if(l=(t.flags&128)!==0,d=o.rendering,d===null)if(l)Sl(o,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Kr(e),d!==null){for(t.flags|=128,Sl(o,!1),e=d.updateQueue,t.updateQueue=e,$r(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Zh(i,e),i=i.sibling;return $(ut,ut.current&1|2),t.child}e=e.sibling}o.tail!==null&&tt()>no&&(t.flags|=128,l=!0,Sl(o,!1),t.lanes=4194304)}else{if(!l)if(e=Kr(d),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,$r(t,e),Sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!He)return _e(t),null}else 2*tt()-o.renderingStartTime>no&&i!==536870912&&(t.flags|=128,l=!0,Sl(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tt(),t.sibling=null,e=ut.current,$(ut,l?e&1|2:e&1),t):(_e(t),null);case 22:case 23:return ga(t),vu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(i&536870912)!==0&&(t.flags&128)===0&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),i=t.updateQueue,i!==null&&$r(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==i&&(t.flags|=2048),e!==null&&ee(Di),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ha(ct),_e(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function ky(e,t){switch(iu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ha(ct),Et(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Cn(t),null;case 13:if(ga(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(ut),null;case 4:return Et(),null;case 10:return ha(t.type),null;case 22:case 23:return ga(t),vu(),e!==null&&ee(Di),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ha(ct),null;case 25:return null;default:return null}}function S0(e,t){switch(iu(t),t.tag){case 3:ha(ct),Et();break;case 26:case 27:case 5:Cn(t);break;case 4:Et();break;case 13:ga(t);break;case 19:ee(ut);break;case 10:ha(t.type);break;case 22:case 23:ga(t),vu(),e!==null&&ee(Di);break;case 24:ha(ct)}}function xl(e,t){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&e)===e){l=void 0;var d=i.create,A=i.inst;l=d(),A.destroy=l}i=i.next}while(i!==o)}}catch(y){ze(t,t.return,y)}}function Ia(e,t,i){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var d=o.next;l=d;do{if((l.tag&e)===e){var A=l.inst,y=A.destroy;if(y!==void 0){A.destroy=void 0,o=t;var S=i,H=y;try{H()}catch(X){ze(o,S,X)}}}l=l.next}while(l!==d)}}catch(X){ze(t,t.return,X)}}function x0(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{dm(t,i)}catch(l){ze(e,e.return,l)}}}function C0(e,t,i){i.props=ki(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){ze(e,t,l)}}function Cl(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(o){ze(e,t,o)}}function zn(e,t){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(o){ze(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){ze(e,t,o)}else i.current=null}function R0(e){var t=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(o){ze(e,e.return,o)}}function Yu(e,t,i){try{var l=e.stateNode;Wy(l,e.type,i,t),l[St]=t}catch(o){ze(e,e.return,o)}}function B0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function _u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||B0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ku(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=fo));else if(l!==4&&(l===27&&Za(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Ku(e,t,i),e=e.sibling;e!==null;)Ku(e,t,i),e=e.sibling}function eo(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(l===27&&Za(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(eo(e,t,i),e=e.sibling;e!==null;)eo(e,t,i),e=e.sibling}function M0(e){var t=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Bt(t,l,i),t[ot]=e,t[St]=i}catch(d){ze(e,e.return,d)}}var va=!1,$e=!1,Vu=!1,D0=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Hy(e,t){if(e=e.containerInfo,yd=yo,e=jh(e),_c(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var o=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var A=0,y=-1,S=-1,H=0,X=0,Z=e,N=null;t:for(;;){for(var Q;Z!==i||o!==0&&Z.nodeType!==3||(y=A+o),Z!==d||l!==0&&Z.nodeType!==3||(S=A+l),Z.nodeType===3&&(A+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)N=Z,Z=Q;for(;;){if(Z===e)break t;if(N===i&&++H===o&&(y=A),N===d&&++X===l&&(S=A),(Q=Z.nextSibling)!==null)break;Z=N,N=Z.parentNode}Z=Q}i=y===-1||S===-1?null:{start:y,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(bd={focusedElem:e,selectionRange:i},yo=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,o=d.memoizedProps,d=d.memoizedState,l=i.stateNode;try{var Ae=ki(i.type,o,i.elementType===i.type);e=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ge){ze(i,i.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Sd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}}function T0(e,t,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Fa(e,i),l&4&&xl(5,i);break;case 1:if(Fa(e,i),l&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(A){ze(i,i.return,A)}else{var o=ki(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(A){ze(i,i.return,A)}}l&64&&x0(i),l&512&&Cl(i,i.return);break;case 3:if(Fa(e,i),l&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{dm(e,t)}catch(A){ze(i,i.return,A)}}break;case 27:t===null&&l&4&&M0(i);case 26:case 5:Fa(e,i),t===null&&l&4&&R0(i),l&512&&Cl(i,i.return);break;case 12:Fa(e,i);break;case 13:Fa(e,i),l&4&&O0(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=zy.bind(null,i),sb(e,i))));break;case 22:if(l=i.memoizedState!==null||va,!l){t=t!==null&&t.memoizedState!==null||$e,o=va;var d=$e;va=l,($e=t)&&!d?Xa(e,i,(i.subtreeFlags&8772)!==0):Fa(e,i),va=o,$e=d}break;case 30:break;default:Fa(e,i)}}function k0(e){var t=e.alternate;t!==null&&(e.alternate=null,k0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ce(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Vt=!1;function ya(e,t,i){for(i=i.child;i!==null;)H0(e,t,i),i=i.sibling}function H0(e,t,i){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(wt,i)}catch{}switch(i.tag){case 26:$e||zn(i,t),ya(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:$e||zn(i,t);var l=qe,o=Vt;Za(i.type)&&(qe=i.stateNode,Vt=!1),ya(e,t,i),Pl(i.stateNode),qe=l,Vt=o;break;case 5:$e||zn(i,t);case 6:if(l=qe,o=Vt,qe=null,ya(e,t,i),qe=l,Vt=o,qe!==null)if(Vt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(i.stateNode)}catch(d){ze(i,t,d)}else try{qe.removeChild(i.stateNode)}catch(d){ze(i,t,d)}break;case 18:qe!==null&&(Vt?(e=qe,bg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Il(e)):bg(qe,i.stateNode));break;case 4:l=qe,o=Vt,qe=i.stateNode.containerInfo,Vt=!0,ya(e,t,i),qe=l,Vt=o;break;case 0:case 11:case 14:case 15:$e||Ia(2,i,t),$e||Ia(4,i,t),ya(e,t,i);break;case 1:$e||(zn(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"&&C0(i,t,l)),ya(e,t,i);break;case 21:ya(e,t,i);break;case 22:$e=(l=$e)||i.memoizedState!==null,ya(e,t,i),$e=l;break;default:ya(e,t,i)}}function O0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Il(e)}catch(i){ze(t,t.return,i)}}function Oy(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new D0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new D0),t;default:throw Error(r(435,e.tag))}}function Zu(e,t){var i=Oy(e);t.forEach(function(l){var o=Iy.bind(null,e,l);i.has(l)||(i.add(l),l.then(o,o))})}function rn(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var o=i[l],d=e,A=t,y=A;e:for(;y!==null;){switch(y.tag){case 27:if(Za(y.type)){qe=y.stateNode,Vt=!1;break e}break;case 5:qe=y.stateNode,Vt=!1;break e;case 3:case 4:qe=y.stateNode.containerInfo,Vt=!0;break e}y=y.return}if(qe===null)throw Error(r(160));H0(d,A,o),qe=null,Vt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)P0(t,e),t=t.sibling}var Dn=null;function P0(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(t,e),on(e),l&4&&(Ia(3,e,e.return),xl(3,e),Ia(5,e,e.return));break;case 1:rn(t,e),on(e),l&512&&($e||i===null||zn(i,i.return)),l&64&&va&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var o=Dn;if(rn(t,e),on(e),l&512&&($e||i===null||zn(i,i.return)),l&4){var d=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":d=o.getElementsByTagName("title")[0],(!d||d[se]||d[ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(l),o.head.insertBefore(d,o.querySelector("head > title"))),Bt(d,l,i),d[ot]=e,De(d),l=d;break e;case"link":var A=Mg("link","href",o).get(l+(i.href||""));if(A){for(var y=0;y<A.length;y++)if(d=A[y],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){A.splice(y,1);break t}}d=o.createElement(l),Bt(d,l,i),o.head.appendChild(d);break;case"meta":if(A=Mg("meta","content",o).get(l+(i.content||""))){for(y=0;y<A.length;y++)if(d=A[y],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){A.splice(y,1);break t}}d=o.createElement(l),Bt(d,l,i),o.head.appendChild(d);break;default:throw Error(r(468,l))}d[ot]=e,De(d),l=d}e.stateNode=l}else Dg(o,e.type,e.stateNode);else e.stateNode=Bg(o,l,e.memoizedProps);else d!==l?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,l===null?Dg(o,e.type,e.stateNode):Bg(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Yu(e,e.memoizedProps,i.memoizedProps)}break;case 27:rn(t,e),on(e),l&512&&($e||i===null||zn(i,i.return)),i!==null&&l&4&&Yu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(rn(t,e),on(e),l&512&&($e||i===null||zn(i,i.return)),e.flags&32){o=e.stateNode;try{_i(o,"")}catch(Q){ze(e,e.return,Q)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,Yu(e,o,i!==null?i.memoizedProps:o)),l&1024&&(Vu=!0);break;case 6:if(rn(t,e),on(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(Q){ze(e,e.return,Q)}}break;case 3:if(po=null,o=Dn,Dn=mo(t.containerInfo),rn(t,e),Dn=o,on(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Il(t.containerInfo)}catch(Q){ze(e,e.return,Q)}Vu&&(Vu=!1,N0(e));break;case 4:l=Dn,Dn=mo(e.stateNode.containerInfo),rn(t,e),on(e),Dn=l;break;case 12:rn(t,e),on(e);break;case 13:rn(t,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(nd=tt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zu(e,l)));break;case 22:o=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,H=va,X=$e;if(va=H||o,$e=X||S,rn(t,e),$e=X,va=H,on(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||S||va||$e||Hi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(d=S.stateNode,o)A=d.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{y=S.stateNode;var Z=S.memoizedProps.style,N=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;y.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(Q){ze(S,S.return,Q)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(Q){ze(S,S.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Zu(e,i))));break;case 19:rn(t,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zu(e,l)));break;case 30:break;case 21:break;default:rn(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{for(var i,l=e.return;l!==null;){if(B0(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,d=_u(e);eo(e,d,o);break;case 5:var A=i.stateNode;i.flags&32&&(_i(A,""),i.flags&=-33);var y=_u(e);eo(e,y,A);break;case 3:case 4:var S=i.stateNode.containerInfo,H=_u(e);Ku(e,H,S);break;default:throw Error(r(161))}}catch(X){ze(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;N0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)T0(e,t.alternate,t),t=t.sibling}function Hi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ia(4,t,t.return),Hi(t);break;case 1:zn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&C0(t,t.return,i),Hi(t);break;case 27:Pl(t.stateNode);case 26:case 5:zn(t,t.return),Hi(t);break;case 22:t.memoizedState===null&&Hi(t);break;case 30:Hi(t);break;default:Hi(t)}e=e.sibling}}function Xa(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,d=t,A=d.flags;switch(d.tag){case 0:case 11:case 15:Xa(o,d,i),xl(4,d);break;case 1:if(Xa(o,d,i),l=d,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(H){ze(l,l.return,H)}if(l=d,o=l.updateQueue,o!==null){var y=l.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)um(S[o],y)}catch(H){ze(l,l.return,H)}}i&&A&64&&x0(d),Cl(d,d.return);break;case 27:M0(d);case 26:case 5:Xa(o,d,i),i&&l===null&&A&4&&R0(d),Cl(d,d.return);break;case 12:Xa(o,d,i);break;case 13:Xa(o,d,i),i&&A&4&&O0(o,d);break;case 22:d.memoizedState===null&&Xa(o,d,i),Cl(d,d.return);break;case 30:break;default:Xa(o,d,i)}t=t.sibling}}function Ju(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ul(i))}function Wu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e))}function In(e,t,i,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Q0(e,t,i,l),t=t.sibling}function Q0(e,t,i,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:In(e,t,i,l),o&2048&&xl(9,t);break;case 1:In(e,t,i,l);break;case 3:In(e,t,i,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e)));break;case 12:if(o&2048){In(e,t,i,l),e=t.stateNode;try{var d=t.memoizedProps,A=d.id,y=d.onPostCommit;typeof y=="function"&&y(A,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ze(t,t.return,S)}}else In(e,t,i,l);break;case 13:In(e,t,i,l);break;case 23:break;case 22:d=t.stateNode,A=t.alternate,t.memoizedState!==null?d._visibility&2?In(e,t,i,l):Rl(e,t):d._visibility&2?In(e,t,i,l):(d._visibility|=2,fs(e,t,i,l,(t.subtreeFlags&10256)!==0)),o&2048&&Ju(A,t);break;case 24:In(e,t,i,l),o&2048&&Wu(t.alternate,t);break;default:In(e,t,i,l)}}function fs(e,t,i,l,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,A=t,y=i,S=l,H=A.flags;switch(A.tag){case 0:case 11:case 15:fs(d,A,y,S,o),xl(8,A);break;case 23:break;case 22:var X=A.stateNode;A.memoizedState!==null?X._visibility&2?fs(d,A,y,S,o):Rl(d,A):(X._visibility|=2,fs(d,A,y,S,o)),o&&H&2048&&Ju(A.alternate,A);break;case 24:fs(d,A,y,S,o),o&&H&2048&&Wu(A.alternate,A);break;default:fs(d,A,y,S,o)}t=t.sibling}}function Rl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,l=t,o=l.flags;switch(l.tag){case 22:Rl(i,l),o&2048&&Ju(l.alternate,l);break;case 24:Rl(i,l),o&2048&&Wu(l.alternate,l);break;default:Rl(i,l)}t=t.sibling}}var Bl=8192;function hs(e){if(e.subtreeFlags&Bl)for(e=e.child;e!==null;)G0(e),e=e.sibling}function G0(e){switch(e.tag){case 26:hs(e),e.flags&Bl&&e.memoizedState!==null&&vb(Dn,e.memoizedState,e.memoizedProps);break;case 5:hs(e);break;case 3:case 4:var t=Dn;Dn=mo(e.stateNode.containerInfo),hs(e),Dn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Bl,Bl=16777216,hs(e),Bl=t):hs(e));break;default:hs(e)}}function U0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ml(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];yt=l,j0(l,e)}U0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)L0(e),e=e.sibling}function L0(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,to(e)):Ml(e);break;default:Ml(e)}}function to(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];yt=l,j0(l,e)}U0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ia(8,t,t.return),to(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,to(t));break;default:to(t)}e=e.sibling}}function j0(e,t){for(;yt!==null;){var i=yt;switch(i.tag){case 0:case 11:case 15:Ia(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,yt=l;else e:for(i=e;yt!==null;){l=yt;var o=l.sibling,d=l.return;if(k0(l),l===i){yt=null;break e}if(o!==null){o.return=d,yt=o;break e}yt=d}}}var Py={getCacheForType:function(e){var t=Tt(ct),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},Ny=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Fe=null,Re=null,Te=0,Pe=0,cn=null,qa=!1,ms=!1,$u=!1,ba=0,Ve=0,Ya=0,Oi=0,ed=0,En=0,gs=0,Dl=null,Zt=null,td=!1,nd=0,no=1/0,ao=null,_a=null,Rt=0,Ka=null,ps=null,As=0,ad=0,id=null,z0=null,Tl=0,sd=null;function un(){if((Oe&2)!==0&&Te!==0)return Te&-Te;if(R.T!==null){var e=is;return e!==0?e:fd()}return Xi()}function I0(){En===0&&(En=(Te&536870912)===0||He?Me():536870912);var e=bn.current;return e!==null&&(e.flags|=32),En}function dn(e,t,i){(e===Fe&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(vs(e,0),Va(e,Te,En,!1)),qt(e,i),((Oe&2)===0||e!==Fe)&&(e===Fe&&((Oe&2)===0&&(Oi|=i),Ve===4&&Va(e,Te,En,!1)),Fn(e))}function F0(e,t,i){if((Oe&6)!==0)throw Error(r(327));var l=!i&&(t&124)===0&&(t&e.expiredLanes)===0||ye(e,t),o=l?Uy(e,t):od(e,t,!0),d=l;do{if(o===0){ms&&!l&&Va(e,t,0,!1);break}else{if(i=e.current.alternate,d&&!Qy(i)){o=od(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var A=0;else A=e.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){t=A;e:{var y=e;o=Dl;var S=y.current.memoizedState.isDehydrated;if(S&&(vs(y,A).flags|=256),A=od(y,A,!1),A!==2){if($u&&!S){y.errorRecoveryDisabledLanes|=d,Oi|=d,o=4;break e}d=Zt,Zt=o,d!==null&&(Zt===null?Zt=d:Zt.push.apply(Zt,d))}o=A}if(d=!1,o!==2)continue}}if(o===1){vs(e,0),Va(e,t,0,!0);break}e:{switch(l=e,d=o,d){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Va(l,t,En,!qa);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=nd+300-tt(),10<o)){if(Va(l,t,En,!qa),oe(l,0,!0)!==0)break e;l.timeoutHandle=vg(X0.bind(null,l,i,Zt,ao,td,t,En,Oi,gs,qa,d,2,-0,0),o);break e}X0(l,i,Zt,ao,td,t,En,Oi,gs,qa,d,0,-0,0)}}break}while(!0);Fn(e)}function X0(e,t,i,l,o,d,A,y,S,H,X,Z,N,Q){if(e.timeoutHandle=-1,Z=t.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:Ab},G0(t),Z=yb(),Z!==null)){e.cancelPendingCommit=Z(J0.bind(null,e,t,d,i,l,o,A,y,S,X,1,N,Q)),Va(e,d,A,!H);return}J0(e,t,d,i,l,o,A,y,S)}function Qy(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var o=i[l],d=o.getSnapshot;o=o.value;try{if(!sn(d(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Va(e,t,i,l){t&=~ed,t&=~Oi,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var d=31-rt(o),A=1<<d;l[d]=-1,o&=~A}i!==0&&Oa(e,i,t)}function io(){return(Oe&6)===0?(kl(0),!1):!0}function ld(){if(Re!==null){if(Pe===0)var e=Re.return;else e=Re,fa=Bi=null,Su(e),us=null,El=0,e=Re;for(;e!==null;)S0(e.alternate,e),e=e.return;Re=null}}function vs(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,eb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ld(),Fe=e,Re=i=ca(e.current,null),Te=t,Pe=0,cn=null,qa=!1,ms=ye(e,t),$u=!1,gs=En=ed=Oi=Ya=Ve=0,Zt=Dl=null,td=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-rt(l),d=1<<o;t|=e[o],l&=~d}return ba=t,Rr(),i}function q0(e,t){we=null,R.H=qr,t===fl||t===Nr?(t=om(),Pe=3):t===sm?(t=om(),Pe=4):Pe=t===c0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,cn=t,Re===null&&(Ve=1,Zr(e,pn(t,e.current)))}function Y0(){var e=R.H;return R.H=qr,e===null?qr:e}function _0(){var e=R.A;return R.A=Py,e}function rd(){Ve=4,qa||(Te&4194048)!==Te&&bn.current!==null||(ms=!0),(Ya&134217727)===0&&(Oi&134217727)===0||Fe===null||Va(Fe,Te,En,!1)}function od(e,t,i){var l=Oe;Oe|=2;var o=Y0(),d=_0();(Fe!==e||Te!==t)&&(ao=null,vs(e,t)),t=!1;var A=Ve;e:do try{if(Pe!==0&&Re!==null){var y=Re,S=cn;switch(Pe){case 8:ld(),A=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(t=!0);var H=Pe;if(Pe=0,cn=null,ys(e,y,S,H),i&&ms){A=0;break e}break;default:H=Pe,Pe=0,cn=null,ys(e,y,S,H)}}Gy(),A=Ve;break}catch(X){q0(e,X)}while(!0);return t&&e.shellSuspendCounter++,fa=Bi=null,Oe=l,R.H=o,R.A=d,Re===null&&(Fe=null,Te=0,Rr()),A}function Gy(){for(;Re!==null;)K0(Re)}function Uy(e,t){var i=Oe;Oe|=2;var l=Y0(),o=_0();Fe!==e||Te!==t?(ao=null,no=tt()+500,vs(e,t)):ms=ye(e,t);e:do try{if(Pe!==0&&Re!==null){t=Re;var d=cn;t:switch(Pe){case 1:Pe=0,cn=null,ys(e,t,d,1);break;case 2:case 9:if(lm(d)){Pe=0,cn=null,V0(t);break}t=function(){Pe!==2&&Pe!==9||Fe!==e||(Pe=7),Fn(e)},d.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:lm(d)?(Pe=0,cn=null,V0(t)):(Pe=0,cn=null,ys(e,t,d,7));break;case 5:var A=null;switch(Re.tag){case 26:A=Re.memoizedState;case 5:case 27:var y=Re;if(!A||Tg(A)){Pe=0,cn=null;var S=y.sibling;if(S!==null)Re=S;else{var H=y.return;H!==null?(Re=H,so(H)):Re=null}break t}}Pe=0,cn=null,ys(e,t,d,5);break;case 6:Pe=0,cn=null,ys(e,t,d,6);break;case 8:ld(),Ve=6;break e;default:throw Error(r(462))}}Ly();break}catch(X){q0(e,X)}while(!0);return fa=Bi=null,R.H=l,R.A=o,Oe=i,Re!==null?0:(Fe=null,Te=0,Rr(),Ve)}function Ly(){for(;Re!==null&&!$n();)K0(Re)}function K0(e){var t=E0(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?so(e):Re=t}function V0(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=g0(i,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=g0(i,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Su(t);default:S0(i,t),t=Re=Zh(t,ba),t=E0(i,t,ba)}e.memoizedProps=e.pendingProps,t===null?so(e):Re=t}function ys(e,t,i,l){fa=Bi=null,Su(t),us=null,El=0;var o=t.return;try{if(My(e,o,t,i,Te)){Ve=1,Zr(e,pn(i,e.current)),Re=null;return}}catch(d){if(o!==null)throw Re=o,d;Ve=1,Zr(e,pn(i,e.current)),Re=null;return}t.flags&32768?(He||l===1?e=!0:ms||(Te&536870912)!==0?e=!1:(qa=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Z0(t,e)):so(t)}function so(e){var t=e;do{if((t.flags&32768)!==0){Z0(t,qa);return}e=t.return;var i=Ty(t.alternate,t,ba);if(i!==null){Re=i;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Ve===0&&(Ve=5)}function Z0(e,t){do{var i=ky(e.alternate,e);if(i!==null){i.flags&=32767,Re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=i}while(e!==null);Ve=6,Re=null}function J0(e,t,i,l,o,d,A,y,S){e.cancelPendingCommit=null;do lo();while(Rt!==0);if((Oe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(d=t.lanes|t.childLanes,d|=Wc,aa(e,i,d,A,y,S),e===Fe&&(Re=Fe=null,Te=0),ps=t,Ka=e,As=i,ad=d,id=o,z0=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fy(Dt,function(){return ng(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=R.T,R.T=null,o=U.p,U.p=2,A=Oe,Oe|=4;try{Hy(e,t,i)}finally{Oe=A,U.p=o,R.T=l}}Rt=1,W0(),$0(),eg()}}function W0(){if(Rt===1){Rt=0;var e=Ka,t=ps,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=R.T,R.T=null;var l=U.p;U.p=2;var o=Oe;Oe|=4;try{P0(t,e);var d=bd,A=jh(e.containerInfo),y=d.focusedElem,S=d.selectionRange;if(A!==y&&y&&y.ownerDocument&&Lh(y.ownerDocument.documentElement,y)){if(S!==null&&_c(y)){var H=S.start,X=S.end;if(X===void 0&&(X=H),"selectionStart"in y)y.selectionStart=H,y.selectionEnd=Math.min(X,y.value.length);else{var Z=y.ownerDocument||document,N=Z&&Z.defaultView||window;if(N.getSelection){var Q=N.getSelection(),Ae=y.textContent.length,ge=Math.min(S.start,Ae),Ue=S.end===void 0?ge:Math.min(S.end,Ae);!Q.extend&&ge>Ue&&(A=Ue,Ue=ge,ge=A);var M=Uh(y,ge),x=Uh(y,Ue);if(M&&x&&(Q.rangeCount!==1||Q.anchorNode!==M.node||Q.anchorOffset!==M.offset||Q.focusNode!==x.node||Q.focusOffset!==x.offset)){var k=Z.createRange();k.setStart(M.node,M.offset),Q.removeAllRanges(),ge>Ue?(Q.addRange(k),Q.extend(x.node,x.offset)):(k.setEnd(x.node,x.offset),Q.addRange(k))}}}}for(Z=[],Q=y;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<Z.length;y++){var _=Z[y];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}yo=!!yd,bd=yd=null}finally{Oe=o,U.p=l,R.T=i}}e.current=t,Rt=2}}function $0(){if(Rt===2){Rt=0;var e=Ka,t=ps,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=R.T,R.T=null;var l=U.p;U.p=2;var o=Oe;Oe|=4;try{T0(e,t.alternate,t)}finally{Oe=o,U.p=l,R.T=i}}Rt=3}}function eg(){if(Rt===4||Rt===3){Rt=0,ea();var e=Ka,t=ps,i=As,l=z0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Rt=5:(Rt=0,ps=Ka=null,tg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(_a=null),nn(i),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(wt,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=R.T,o=U.p,U.p=2,R.T=null;try{for(var d=e.onRecoverableError,A=0;A<l.length;A++){var y=l[A];d(y.value,{componentStack:y.stack})}}finally{R.T=t,U.p=o}}(As&3)!==0&&lo(),Fn(e),o=e.pendingLanes,(i&4194090)!==0&&(o&42)!==0?e===sd?Tl++:(Tl=0,sd=e):Tl=0,kl(0)}}function tg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ul(t)))}function lo(e){return W0(),$0(),eg(),ng()}function ng(){if(Rt!==5)return!1;var e=Ka,t=ad;ad=0;var i=nn(As),l=R.T,o=U.p;try{U.p=32>i?32:i,R.T=null,i=id,id=null;var d=Ka,A=As;if(Rt=0,ps=Ka=null,As=0,(Oe&6)!==0)throw Error(r(331));var y=Oe;if(Oe|=4,L0(d.current),Q0(d,d.current,A,i),Oe=y,kl(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(wt,d)}catch{}return!0}finally{U.p=o,R.T=l,tg(e,t)}}function ag(e,t,i){t=pn(i,t),t=Gu(e.stateNode,t,2),e=Ua(e,t,2),e!==null&&(qt(e,2),Fn(e))}function ze(e,t,i){if(e.tag===3)ag(e,e,i);else for(;t!==null;){if(t.tag===3){ag(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_a===null||!_a.has(l))){e=pn(i,e),i=r0(2),l=Ua(t,i,2),l!==null&&(o0(i,l,t,e),qt(l,2),Fn(l));break}}t=t.return}}function cd(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Ny;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(i)||($u=!0,o.add(i),e=jy.bind(null,e,t,i),t.then(e,e))}function jy(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Fe===e&&(Te&i)===i&&(Ve===4||Ve===3&&(Te&62914560)===Te&&300>tt()-nd?(Oe&2)===0&&vs(e,0):ed|=i,gs===Te&&(gs=0)),Fn(e)}function ig(e,t){t===0&&(t=mt()),e=es(e,t),e!==null&&(qt(e,t),Fn(e))}function zy(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),ig(e,i)}function Iy(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),ig(e,i)}function Fy(e,t){return Ft(e,t)}var ro=null,bs=null,ud=!1,oo=!1,dd=!1,Pi=0;function Fn(e){e!==bs&&e.next===null&&(bs===null?ro=bs=e:bs=bs.next=e),oo=!0,ud||(ud=!0,qy())}function kl(e,t){if(!dd&&oo){dd=!0;do for(var i=!1,l=ro;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var d=0;else{var A=l.suspendedLanes,y=l.pingedLanes;d=(1<<31-rt(42|e)+1)-1,d&=o&~(A&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,og(l,d))}else d=Te,d=oe(l,l===Fe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ye(l,d)||(i=!0,og(l,d));l=l.next}while(i);dd=!1}}function Xy(){sg()}function sg(){oo=ud=!1;var e=0;Pi!==0&&($y()&&(e=Pi),Pi=0);for(var t=tt(),i=null,l=ro;l!==null;){var o=l.next,d=lg(l,t);d===0?(l.next=null,i===null?ro=o:i.next=o,o===null&&(bs=i)):(i=l,(e!==0||(d&3)!==0)&&(oo=!0)),l=o}kl(e)}function lg(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var A=31-rt(d),y=1<<A,S=o[A];S===-1?((y&i)===0||(y&l)!==0)&&(o[A]=be(y,t)):S<=t&&(e.expiredLanes|=y),d&=~y}if(t=Fe,i=Te,i=oe(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Xt(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ye(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(l!==null&&Xt(l),nn(i)){case 2:case 8:i=lt;break;case 32:i=Dt;break;case 268435456:i=Gn;break;default:i=Dt}return l=rg.bind(null,e),i=Ft(i,l),e.callbackPriority=t,e.callbackNode=i,t}return l!==null&&l!==null&&Xt(l),e.callbackPriority=2,e.callbackNode=null,2}function rg(e,t){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(lo()&&e.callbackNode!==i)return null;var l=Te;return l=oe(e,e===Fe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(F0(e,l,t),lg(e,tt()),e.callbackNode!=null&&e.callbackNode===i?rg.bind(null,e):null)}function og(e,t){if(lo())return null;F0(e,t,!0)}function qy(){tb(function(){(Oe&6)!==0?Ft(Rn,Xy):sg()})}function fd(){return Pi===0&&(Pi=Me()),Pi}function cg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yr(""+e)}function ug(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Yy(e,t,i,l,o){if(t==="submit"&&i&&i.stateNode===o){var d=cg((o[St]||null).action),A=l.submitter;A&&(t=(t=A[St]||null)?cg(t.formAction):A.getAttribute("formAction"),t!==null&&(d=t,A=null));var y=new Sr("action","action",null,l,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pi!==0){var S=A?ug(o,A):new FormData(o);Hu(i,{pending:!0,data:S,method:o.method,action:d},null,S)}}else typeof d=="function"&&(y.preventDefault(),S=A?ug(o,A):new FormData(o),Hu(i,{pending:!0,data:S,method:o.method,action:d},d,S))},currentTarget:o}]})}}for(var hd=0;hd<Jc.length;hd++){var md=Jc[hd],_y=md.toLowerCase(),Ky=md[0].toUpperCase()+md.slice(1);Mn(_y,"on"+Ky)}Mn(Fh,"onAnimationEnd"),Mn(Xh,"onAnimationIteration"),Mn(qh,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(dy,"onTransitionRun"),Mn(fy,"onTransitionStart"),Mn(hy,"onTransitionCancel"),Mn(Yh,"onTransitionEnd"),Gt("onMouseEnter",["mouseout","mouseover"]),Gt("onMouseLeave",["mouseout","mouseover"]),Gt("onPointerEnter",["pointerout","pointerover"]),Gt("onPointerLeave",["pointerout","pointerover"]),At("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),At("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),At("onBeforeInput",["compositionend","keypress","textInput","paste"]),At("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),At("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),At("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function dg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],o=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var A=l.length-1;0<=A;A--){var y=l[A],S=y.instance,H=y.currentTarget;if(y=y.listener,S!==d&&o.isPropagationStopped())break e;d=y,o.currentTarget=H;try{d(o)}catch(X){Vr(X)}o.currentTarget=null,d=S}else for(A=0;A<l.length;A++){if(y=l[A],S=y.instance,H=y.currentTarget,y=y.listener,S!==d&&o.isPropagationStopped())break e;d=y,o.currentTarget=H;try{d(o)}catch(X){Vr(X)}o.currentTarget=null,d=S}}}}function Be(e,t){var i=t[Vs];i===void 0&&(i=t[Vs]=new Set);var l=e+"__bubble";i.has(l)||(fg(t,e,2,!1),i.add(l))}function gd(e,t,i){var l=0;t&&(l|=4),fg(i,e,l,t)}var co="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[co]){e[co]=!0,hn.forEach(function(i){i!=="selectionchange"&&(Vy.has(i)||gd(i,!1,e),gd(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[co]||(t[co]=!0,gd("selectionchange",!1,t))}}function fg(e,t,i,l){switch(Qg(t)){case 2:var o=wb;break;case 8:o=Sb;break;default:o=Td}i=o.bind(null,t,i,e),o=void 0,!Uc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Ad(e,t,i,l,o){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var A=l.tag;if(A===3||A===4){var y=l.stateNode.containerInfo;if(y===o)break;if(A===4)for(A=l.return;A!==null;){var S=A.tag;if((S===3||S===4)&&A.stateNode.containerInfo===o)return;A=A.return}for(;y!==null;){if(A=ve(y),A===null)return;if(S=A.tag,S===5||S===6||S===26||S===27){l=d=A;continue e}y=y.parentNode}}l=l.return}yh(function(){var H=d,X=Qc(i),Z=[];e:{var N=_h.get(e);if(N!==void 0){var Q=Sr,Ae=e;switch(e){case"keypress":if(Er(i)===0)break e;case"keydown":case"keyup":Q=F2;break;case"focusin":Ae="focus",Q=Ic;break;case"focusout":Ae="blur",Q=Ic;break;case"beforeblur":case"afterblur":Q=Ic;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=k2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Y2;break;case Fh:case Xh:case qh:Q=P2;break;case Yh:Q=K2;break;case"scroll":case"scrollend":Q=D2;break;case"wheel":Q=Z2;break;case"copy":case"cut":case"paste":Q=Q2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=xh;break;case"toggle":case"beforetoggle":Q=W2}var ge=(t&4)!==0,Ue=!ge&&(e==="scroll"||e==="scrollend"),M=ge?N!==null?N+"Capture":null:N;ge=[];for(var x=H,k;x!==null;){var _=x;if(k=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||k===null||M===null||(_=Js(x,M),_!=null&&ge.push(Ol(x,_,k))),Ue)break;x=x.return}0<ge.length&&(N=new Q(N,Ae,null,i,X),Z.push({event:N,listeners:ge}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",N&&i!==Nc&&(Ae=i.relatedTarget||i.fromElement)&&(ve(Ae)||Ae[gi]))break e;if((Q||N)&&(N=X.window===X?X:(N=X.ownerDocument)?N.defaultView||N.parentWindow:window,Q?(Ae=i.relatedTarget||i.toElement,Q=H,Ae=Ae?ve(Ae):null,Ae!==null&&(Ue=u(Ae),ge=Ae.tag,Ae!==Ue||ge!==5&&ge!==27&&ge!==6)&&(Ae=null)):(Q=null,Ae=H),Q!==Ae)){if(ge=wh,_="onMouseLeave",M="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ge=xh,_="onPointerLeave",M="onPointerEnter",x="pointer"),Ue=Q==null?N:pt(Q),k=Ae==null?N:pt(Ae),N=new ge(_,x+"leave",Q,i,X),N.target=Ue,N.relatedTarget=k,_=null,ve(X)===H&&(ge=new ge(M,x+"enter",Ae,i,X),ge.target=k,ge.relatedTarget=Ue,_=ge),Ue=_,Q&&Ae)t:{for(ge=Q,M=Ae,x=0,k=ge;k;k=Es(k))x++;for(k=0,_=M;_;_=Es(_))k++;for(;0<x-k;)ge=Es(ge),x--;for(;0<k-x;)M=Es(M),k--;for(;x--;){if(ge===M||M!==null&&ge===M.alternate)break t;ge=Es(ge),M=Es(M)}ge=null}else ge=null;Q!==null&&hg(Z,N,Q,ge,!1),Ae!==null&&Ue!==null&&hg(Z,Ue,Ae,ge,!0)}}e:{if(N=H?pt(H):window,Q=N.nodeName&&N.nodeName.toLowerCase(),Q==="select"||Q==="input"&&N.type==="file")var ue=Hh;else if(Th(N))if(Oh)ue=oy;else{ue=ly;var xe=sy}else Q=N.nodeName,!Q||Q.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?H&&Pc(H.elementType)&&(ue=Hh):ue=ry;if(ue&&(ue=ue(e,H))){kh(Z,ue,i,X);break e}xe&&xe(e,N,H),e==="focusout"&&H&&N.type==="number"&&H.memoizedProps.value!=null&&Oc(N,"number",N.value)}switch(xe=H?pt(H):window,e){case"focusin":(Th(xe)||xe.contentEditable==="true")&&(Ji=xe,Kc=H,sl=null);break;case"focusout":sl=Kc=Ji=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,zh(Z,i,X);break;case"selectionchange":if(uy)break;case"keydown":case"keyup":zh(Z,i,X)}var he;if(Xc)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Zi?Mh(e,i)&&(pe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(pe="onCompositionStart");pe&&(Ch&&i.locale!=="ko"&&(Zi||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Zi&&(he=bh()):(Pa=X,Lc="value"in Pa?Pa.value:Pa.textContent,Zi=!0)),xe=uo(H,pe),0<xe.length&&(pe=new Sh(pe,e,null,i,X),Z.push({event:pe,listeners:xe}),he?pe.data=he:(he=Dh(i),he!==null&&(pe.data=he)))),(he=ey?ty(e,i):ny(e,i))&&(pe=uo(H,"onBeforeInput"),0<pe.length&&(xe=new Sh("onBeforeInput","beforeinput",null,i,X),Z.push({event:xe,listeners:pe}),xe.data=he)),Yy(Z,e,H,i,X)}dg(Z,t)})}function Ol(e,t,i){return{instance:e,listener:t,currentTarget:i}}function uo(e,t){for(var i=t+"Capture",l=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Js(e,i),o!=null&&l.unshift(Ol(e,o,d)),o=Js(e,t),o!=null&&l.push(Ol(e,o,d))),e.tag===3)return l;e=e.return}return[]}function Es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hg(e,t,i,l,o){for(var d=t._reactName,A=[];i!==null&&i!==l;){var y=i,S=y.alternate,H=y.stateNode;if(y=y.tag,S!==null&&S===l)break;y!==5&&y!==26&&y!==27||H===null||(S=H,o?(H=Js(i,d),H!=null&&A.unshift(Ol(i,H,S))):o||(H=Js(i,d),H!=null&&A.push(Ol(i,H,S)))),i=i.return}A.length!==0&&e.push({event:t,listeners:A})}var Zy=/\r\n?/g,Jy=/\u0000|\uFFFD/g;function mg(e){return(typeof e=="string"?e:""+e).replace(Zy,`
`).replace(Jy,"")}function gg(e,t){return t=mg(t),mg(e)===t}function fo(){}function Ge(e,t,i,l,o,d){switch(i){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||_i(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&_i(e,""+l);break;case"className":vi(e,"class",l);break;case"tabIndex":vi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(e,i,l);break;case"style":Ah(e,l,d);break;case"data":if(t!=="object"){vi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=yr(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&Ge(e,t,"name",o.name,o,null),Ge(e,t,"formEncType",o.formEncType,o,null),Ge(e,t,"formMethod",o.formMethod,o,null),Ge(e,t,"formTarget",o.formTarget,o,null)):(Ge(e,t,"encType",o.encType,o,null),Ge(e,t,"method",o.method,o,null),Ge(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=yr(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=fo);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=yr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":Be("beforetoggle",e),Be("toggle",e),ra(e,"popover",l);break;case"xlinkActuate":xt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ra(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=B2.get(i)||i,ra(e,i,l))}}function vd(e,t,i,l,o,d){switch(i){case"style":Ah(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof l=="string"?_i(e,l):(typeof l=="number"||typeof l=="bigint")&&_i(e,""+l);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!an.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),d=e[St]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof l=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,l,o);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):ra(e,i,l)}}}function Bt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var l=!1,o=!1,d;for(d in i)if(i.hasOwnProperty(d)){var A=i[d];if(A!=null)switch(d){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ge(e,t,d,A,i,null)}}o&&Ge(e,t,"srcSet",i.srcSet,i,null),l&&Ge(e,t,"src",i.src,i,null);return;case"input":Be("invalid",e);var y=d=A=o=null,S=null,H=null;for(l in i)if(i.hasOwnProperty(l)){var X=i[l];if(X!=null)switch(l){case"name":o=X;break;case"type":A=X;break;case"checked":S=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":y=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,t));break;default:Ge(e,t,l,X,i,null)}}hh(e,d,y,S,H,A,o,!1),Ar(e);return;case"select":Be("invalid",e),l=A=d=null;for(o in i)if(i.hasOwnProperty(o)&&(y=i[o],y!=null))switch(o){case"value":d=y;break;case"defaultValue":A=y;break;case"multiple":l=y;default:Ge(e,t,o,y,i,null)}t=d,i=A,e.multiple=!!l,t!=null?Yi(e,!!l,t,!1):i!=null&&Yi(e,!!l,i,!0);return;case"textarea":Be("invalid",e),d=o=l=null;for(A in i)if(i.hasOwnProperty(A)&&(y=i[A],y!=null))switch(A){case"value":l=y;break;case"defaultValue":o=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ge(e,t,A,y,i,null)}gh(e,l,o,d),Ar(e);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(l=i[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ge(e,t,S,l,i,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Be(Hl[l],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in i)if(i.hasOwnProperty(H)&&(l=i[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ge(e,t,H,l,i,null)}return;default:if(Pc(t)){for(X in i)i.hasOwnProperty(X)&&(l=i[X],l!==void 0&&vd(e,t,X,l,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(l=i[y],l!=null&&Ge(e,t,y,l,i,null))}function Wy(e,t,i,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,A=null,y=null,S=null,H=null,X=null;for(Q in i){var Z=i[Q];if(i.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":S=Z;default:l.hasOwnProperty(Q)||Ge(e,t,Q,null,l,Z)}}for(var N in l){var Q=l[N];if(Z=i[N],l.hasOwnProperty(N)&&(Q!=null||Z!=null))switch(N){case"type":d=Q;break;case"name":o=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":A=Q;break;case"defaultValue":y=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,t));break;default:Q!==Z&&Ge(e,t,N,Q,l,Z)}}Hc(e,A,y,S,H,X,d,o);return;case"select":Q=A=y=N=null;for(d in i)if(S=i[d],i.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":Q=S;default:l.hasOwnProperty(d)||Ge(e,t,d,null,l,S)}for(o in l)if(d=l[o],S=i[o],l.hasOwnProperty(o)&&(d!=null||S!=null))switch(o){case"value":N=d;break;case"defaultValue":y=d;break;case"multiple":A=d;default:d!==S&&Ge(e,t,o,d,l,S)}t=y,i=A,l=Q,N!=null?Yi(e,!!i,N,!1):!!l!=!!i&&(t!=null?Yi(e,!!i,t,!0):Yi(e,!!i,i?[]:"",!1));return;case"textarea":Q=N=null;for(y in i)if(o=i[y],i.hasOwnProperty(y)&&o!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ge(e,t,y,null,l,o)}for(A in l)if(o=l[A],d=i[A],l.hasOwnProperty(A)&&(o!=null||d!=null))switch(A){case"value":N=o;break;case"defaultValue":Q=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==d&&Ge(e,t,A,o,l,d)}mh(e,N,Q);return;case"option":for(var Ae in i)if(N=i[Ae],i.hasOwnProperty(Ae)&&N!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":e.selected=!1;break;default:Ge(e,t,Ae,null,l,N)}for(S in l)if(N=l[S],Q=i[S],l.hasOwnProperty(S)&&N!==Q&&(N!=null||Q!=null))switch(S){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ge(e,t,S,N,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in i)N=i[ge],i.hasOwnProperty(ge)&&N!=null&&!l.hasOwnProperty(ge)&&Ge(e,t,ge,null,l,N);for(H in l)if(N=l[H],Q=i[H],l.hasOwnProperty(H)&&N!==Q&&(N!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:Ge(e,t,H,N,l,Q)}return;default:if(Pc(t)){for(var Ue in i)N=i[Ue],i.hasOwnProperty(Ue)&&N!==void 0&&!l.hasOwnProperty(Ue)&&vd(e,t,Ue,void 0,l,N);for(X in l)N=l[X],Q=i[X],!l.hasOwnProperty(X)||N===Q||N===void 0&&Q===void 0||vd(e,t,X,N,l,Q);return}}for(var M in i)N=i[M],i.hasOwnProperty(M)&&N!=null&&!l.hasOwnProperty(M)&&Ge(e,t,M,null,l,N);for(Z in l)N=l[Z],Q=i[Z],!l.hasOwnProperty(Z)||N===Q||N==null&&Q==null||Ge(e,t,Z,N,l,Q)}var yd=null,bd=null;function ho(e){return e.nodeType===9?e:e.ownerDocument}function pg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ag(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wd=null;function $y(){var e=window.event;return e&&e.type==="popstate"?e===wd?!1:(wd=e,!0):(wd=null,!1)}var vg=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,yg=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof yg<"u"?function(e){return yg.resolve(null).then(e).catch(nb)}:vg;function nb(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function bg(e,t){var i=t,l=0,o=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(0<l&&8>l){i=l;var A=e.ownerDocument;if(i&1&&Pl(A.documentElement),i&2&&Pl(A.body),i&4)for(i=A.head,Pl(i),A=i.firstChild;A;){var y=A.nextSibling,S=A.nodeName;A[se]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&A.rel.toLowerCase()==="stylesheet"||i.removeChild(A),A=y}}if(o===0){e.removeChild(d),Il(t);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:l=i.charCodeAt(0)-48;else l=0;i=d}while(i);Il(t)}function Sd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Sd(i),ce(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function ab(e,t,i,l){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[se])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function ib(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Tn(e.nextSibling),e===null))return null;return e}function xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function sb(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var l=function(){t(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Cd=null;function Eg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function wg(e,t,i){switch(t=ho(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Pl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ce(e)}var wn=new Map,Sg=new Set;function mo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ea=U.d;U.d={f:lb,r:rb,D:ob,C:cb,L:ub,m:db,X:hb,S:fb,M:mb};function lb(){var e=Ea.f(),t=io();return e||t}function rb(e){var t=Ye(e);t!==null&&t.tag===5&&t.type==="form"?Fm(t):Ea.r(e)}var ws=typeof document>"u"?null:document;function xg(e,t,i){var l=ws;if(l&&typeof t=="string"&&t){var o=gn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Sg.has(o)||(Sg.add(o),e={rel:e,crossOrigin:i,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),Bt(t,"link",e),De(t),l.head.appendChild(t)))}}function ob(e){Ea.D(e),xg("dns-prefetch",e,null)}function cb(e,t){Ea.C(e,t),xg("preconnect",e,t)}function ub(e,t,i){Ea.L(e,t,i);var l=ws;if(l&&e&&t){var o='link[rel="preload"][as="'+gn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+gn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+gn(i.imageSizes)+'"]')):o+='[href="'+gn(e)+'"]';var d=o;switch(t){case"style":d=Ss(e);break;case"script":d=xs(e)}wn.has(d)||(e=p({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),wn.set(d,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(Nl(d))||t==="script"&&l.querySelector(Ql(d))||(t=l.createElement("link"),Bt(t,"link",e),De(t),l.head.appendChild(t)))}}function db(e,t){Ea.m(e,t);var i=ws;if(i&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(e)+'"]',d=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=xs(e)}if(!wn.has(d)&&(e=p({rel:"modulepreload",href:e},t),wn.set(d,e),i.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ql(d)))return}l=i.createElement("link"),Bt(l,"link",e),De(l),i.head.appendChild(l)}}}function fb(e,t,i){Ea.S(e,t,i);var l=ws;if(l&&e){var o=nt(l).hoistableStyles,d=Ss(e);t=t||"default";var A=o.get(d);if(!A){var y={loading:0,preload:null};if(A=l.querySelector(Nl(d)))y.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},i),(i=wn.get(d))&&Rd(e,i);var S=A=l.createElement("link");De(S),Bt(S,"link",e),S._p=new Promise(function(H,X){S.onload=H,S.onerror=X}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,go(A,t,l)}A={type:"stylesheet",instance:A,count:1,state:y},o.set(d,A)}}}function hb(e,t){Ea.X(e,t);var i=ws;if(i&&e){var l=nt(i).hoistableScripts,o=xs(e),d=l.get(o);d||(d=i.querySelector(Ql(o)),d||(e=p({src:e,async:!0},t),(t=wn.get(o))&&Bd(e,t),d=i.createElement("script"),De(d),Bt(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function mb(e,t){Ea.M(e,t);var i=ws;if(i&&e){var l=nt(i).hoistableScripts,o=xs(e),d=l.get(o);d||(d=i.querySelector(Ql(o)),d||(e=p({src:e,async:!0,type:"module"},t),(t=wn.get(o))&&Bd(e,t),d=i.createElement("script"),De(d),Bt(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function Cg(e,t,i,l){var o=(o=fe.current)?mo(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Ss(i.href),i=nt(o).hoistableStyles,l=i.get(t),l||(l={type:"style",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ss(i.href);var d=nt(o).hoistableStyles,A=d.get(e);if(A||(o=o.ownerDocument||o,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,A),(d=o.querySelector(Nl(e)))&&!d._p&&(A.instance=d,A.state.loading=5),wn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},wn.set(e,i),d||gb(o,e,i,A.state))),t&&l===null)throw Error(r(528,""));return A}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xs(i),i=nt(o).hoistableScripts,l=i.get(t),l||(l={type:"script",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ss(e){return'href="'+gn(e)+'"'}function Nl(e){return'link[rel="stylesheet"]['+e+"]"}function Rg(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function gb(e,t,i,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Bt(t,"link",i),De(t),e.head.appendChild(t))}function xs(e){return'[src="'+gn(e)+'"]'}function Ql(e){return"script[async]"+e}function Bg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+gn(i.href)+'"]');if(l)return t.instance=l,De(l),l;var o=p({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),De(l),Bt(l,"style",o),go(l,i.precedence,e),t.instance=l;case"stylesheet":o=Ss(i.href);var d=e.querySelector(Nl(o));if(d)return t.state.loading|=4,t.instance=d,De(d),d;l=Rg(i),(o=wn.get(o))&&Rd(l,o),d=(e.ownerDocument||e).createElement("link"),De(d);var A=d;return A._p=new Promise(function(y,S){A.onload=y,A.onerror=S}),Bt(d,"link",l),t.state.loading|=4,go(d,i.precedence,e),t.instance=d;case"script":return d=xs(i.src),(o=e.querySelector(Ql(d)))?(t.instance=o,De(o),o):(l=i,(o=wn.get(d))&&(l=p({},i),Bd(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),De(o),Bt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,go(l,i.precedence,e));return t.instance}function go(e,t,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,d=o,A=0;A<l.length;A++){var y=l[A];if(y.dataset.precedence===t)d=y;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Rd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var po=null;function Mg(e,t,i){if(po===null){var l=new Map,o=po=new Map;o.set(i,l)}else o=po,l=o.get(i),l||(l=new Map,o.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var d=i[o];if(!(d[se]||d[ot]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var A=d.getAttribute(t)||"";A=e+A;var y=l.get(A);y?y.push(d):l.set(A,[d])}}return l}function Dg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function pb(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Gl=null;function Ab(){}function vb(e,t,i){if(Gl===null)throw Error(r(475));var l=Gl;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=Ss(i.href),d=e.querySelector(Nl(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ao.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=d,De(d);return}d=e.ownerDocument||e,i=Rg(i),(o=wn.get(o))&&Rd(i,o),d=d.createElement("link"),De(d);var A=d;A._p=new Promise(function(y,S){A.onload=y,A.onerror=S}),Bt(d,"link",i),t.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Ao.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function yb(){if(Gl===null)throw Error(r(475));var e=Gl;return e.stylesheets&&e.count===0&&Md(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Md(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Ao(){if(this.count--,this.count===0){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vo=null;function Md(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vo=new Map,t.forEach(bb,e),vo=null,Ao.call(e))}function bb(e,t){if(!(t.state.loading&4)){var i=vo.get(e);if(i)var l=i.get(null);else{i=new Map,vo.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var A=o[d];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(i.set(A.dataset.precedence,A),l=A)}l&&i.set(null,l)}o=t.instance,A=o.getAttribute("data-precedence"),d=i.get(A)||l,d===l&&i.set(null,o),i.set(A,o),this.count++,l=Ao.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ul={$$typeof:F,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Eb(e,t,i,l,o,d,A,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function kg(e,t,i,l,o,d,A,y,S,H,X,Z){return e=new Eb(e,t,i,A,y,S,H,Z),t=1,d===!0&&(t|=24),d=ln(3,null,null,t),e.current=d,d.stateNode=e,t=cu(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:t},hu(d),e}function Hg(e){return e?(e=ts,e):ts}function Og(e,t,i,l,o,d){o=Hg(o),l.context===null?l.context=o:l.pendingContext=o,l=Ga(t),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=Ua(e,l,t),i!==null&&(dn(i,e,t),ml(i,e,t))}function Pg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Dd(e,t){Pg(e,t),(e=e.alternate)&&Pg(e,t)}function Ng(e){if(e.tag===13){var t=es(e,67108864);t!==null&&dn(t,e,67108864),Dd(e,67108864)}}var yo=!0;function wb(e,t,i,l){var o=R.T;R.T=null;var d=U.p;try{U.p=2,Td(e,t,i,l)}finally{U.p=d,R.T=o}}function Sb(e,t,i,l){var o=R.T;R.T=null;var d=U.p;try{U.p=8,Td(e,t,i,l)}finally{U.p=d,R.T=o}}function Td(e,t,i,l){if(yo){var o=kd(l);if(o===null)Ad(e,t,l,bo,i),Gg(e,l);else if(Cb(o,e,t,i,l))l.stopPropagation();else if(Gg(e,l),t&4&&-1<xb.indexOf(e)){for(;o!==null;){var d=Ye(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var A=Bn(d.pendingLanes);if(A!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;A;){var S=1<<31-rt(A);y.entanglements[1]|=S,A&=~S}Fn(d),(Oe&6)===0&&(no=tt()+500,kl(0))}}break;case 13:y=es(d,2),y!==null&&dn(y,d,2),io(),Dd(d,2)}if(d=kd(l),d===null&&Ad(e,t,l,bo,i),d===o)break;o=d}o!==null&&l.stopPropagation()}else Ad(e,t,l,null,i)}}function kd(e){return e=Qc(e),Hd(e)}var bo=null;function Hd(e){if(bo=null,e=ve(e),e!==null){var t=u(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bo=e,null}function Qg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ta()){case Rn:return 2;case lt:return 8;case Dt:case Fi:return 32;case Gn:return 268435456;default:return 32}default:return 32}}var Od=!1,Ja=null,Wa=null,$a=null,Ll=new Map,jl=new Map,ei=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gg(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Ll.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(t.pointerId)}}function zl(e,t,i,l,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Ye(t),t!==null&&Ng(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Cb(e,t,i,l,o){switch(t){case"focusin":return Ja=zl(Ja,e,t,i,l,o),!0;case"dragenter":return Wa=zl(Wa,e,t,i,l,o),!0;case"mouseover":return $a=zl($a,e,t,i,l,o),!0;case"pointerover":var d=o.pointerId;return Ll.set(d,zl(Ll.get(d)||null,e,t,i,l,o)),!0;case"gotpointercapture":return d=o.pointerId,jl.set(d,zl(jl.get(d)||null,e,t,i,l,o)),!0}return!1}function Ug(e){var t=ve(e.target);if(t!==null){var i=u(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,sa(e.priority,function(){if(i.tag===13){var l=un();l=Yt(l);var o=es(i,l);o!==null&&dn(o,i,l),Dd(i,l)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=kd(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Nc=l,i.target.dispatchEvent(l),Nc=null}else return t=Ye(i),t!==null&&Ng(t),e.blockedOn=i,!1;t.shift()}return!0}function Lg(e,t,i){Eo(e)&&i.delete(t)}function Rb(){Od=!1,Ja!==null&&Eo(Ja)&&(Ja=null),Wa!==null&&Eo(Wa)&&(Wa=null),$a!==null&&Eo($a)&&($a=null),Ll.forEach(Lg),jl.forEach(Lg)}function wo(e,t){e.blockedOn===t&&(e.blockedOn=null,Od||(Od=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Rb)))}var So=null;function jg(e){So!==e&&(So=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){So===e&&(So=null);for(var t=0;t<e.length;t+=3){var i=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Hd(l||i)===null)continue;break}var d=Ye(i);d!==null&&(e.splice(t,3),t-=3,Hu(d,{pending:!0,data:o,method:i.method,action:l},l,o))}}))}function Il(e){function t(S){return wo(S,e)}Ja!==null&&wo(Ja,e),Wa!==null&&wo(Wa,e),$a!==null&&wo($a,e),Ll.forEach(t),jl.forEach(t);for(var i=0;i<ei.length;i++){var l=ei[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ei.length&&(i=ei[0],i.blockedOn===null);)Ug(i),i.blockedOn===null&&ei.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var o=i[l],d=i[l+1],A=o[St]||null;if(typeof d=="function")A||jg(i);else if(A){var y=null;if(d&&d.hasAttribute("formAction")){if(o=d,A=d[St]||null)y=A.formAction;else if(Hd(o)!==null)continue}else y=A.action;typeof y=="function"?i[l+1]=y:(i.splice(l,3),l-=3),jg(i)}}}function Pd(e){this._internalRoot=e}xo.prototype.render=Pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,l=un();Og(i,l,e,t,null,null)},xo.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Og(e.current,2,null,e,null,null),io(),t[gi]=null}};function xo(e){this._internalRoot=e}xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xi();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ei.length&&t!==0&&t<ei[i].priority;i++);ei.splice(i,0,e),i===0&&Ug(e)}};var zg=a.version;if(zg!=="19.1.1")throw Error(r(527,zg,"19.1.1"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Bb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{wt=Co.inject(Bb),ht=Co}catch{}}return Kl.createRoot=function(e,t){if(!c(e))throw Error(r(299));var i=!1,l="",o=a0,d=i0,A=s0,y=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(A=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(y=t.unstable_transitionCallbacks)),t=kg(e,1,!1,null,null,i,l,o,d,A,y,null),e[gi]=t.current,pd(e),new Pd(t)},Kl.hydrateRoot=function(e,t,i){if(!c(e))throw Error(r(299));var l=!1,o="",d=a0,A=i0,y=s0,S=null,H=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(A=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(H=i.formState)),t=kg(e,1,!0,t,i??null,l,o,d,A,y,S,H),t.context=Hg(null),i=t.current,l=un(),l=Yt(l),o=Ga(l),o.callback=null,Ua(i,o,l),i=l,t.current.lanes=i,qt(t,i),Fn(t),e[gi]=t.current,pd(e),new xo(t)},Kl.version="19.1.1",Kl}var Np;function tw(){if(Np)return Vd.exports;Np=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Vd.exports=ew(),Vd.exports}var nw=tw(),zt=Yf();const No=10,aw=1.5,iw=1.5,Qp=1,sw=.6,Gp="⚔️ +50% attack · 🛡️ Barrier · ♾️ Immortal",Ts=5,ks=3;let dt=null;function lw(){dt&&(dt.tickTimer&&clearInterval(dt.tickTimer),dt.timeout&&clearTimeout(dt.timeout),dt=null)}function _f(){return dt!==null}function fv(){return dt?Math.max(0,dt.endTime-performance.now())/1e3:0}function rw(n,a){if(_f()||!n.spendResource(Ts,le.SISU))return!1;const s=[];for(const c of a){if(c.faction!=="player"||c.isDead())continue;const u=`sisu-burst-${c.id}`,f={unit:c,attackDelta:0,movementDelta:0,shieldBonusApplied:Qp,shieldBonusRemaining:Qp,wasImmortal:c.isImmortal()};E1({id:u,duration:No,data:f,onApply:()=>{const h=c.stats.attackDamage,m=Math.round(h*aw);f.attackDelta=Math.max(0,m-h),f.attackDelta!==0&&(c.stats.attackDamage=h+f.attackDelta);const g=c.stats.movementRange,p=Math.max(1,Math.round(g*iw));f.movementDelta=Math.max(0,p-g),f.movementDelta!==0&&(c.stats.movementRange=g+f.movementDelta),f.shieldBonusRemaining=f.shieldBonusApplied,c.setShield(c.getShield()+f.shieldBonusApplied),c.setImmortal(!0),c.fearless=!0},onExpire:()=>{let h=!1;if(f.attackDelta!==0){const g=c.stats.attackDamage,p=Math.max(0,g-f.attackDelta);p!==g&&(c.stats.attackDamage=p,h=!0)}if(f.movementDelta!==0){const g=c.stats.movementRange,p=Math.max(0,g-f.movementDelta);p!==g&&(c.stats.movementRange=p,h=!0)}c.setImmortal(f.wasImmortal);const m=Math.max(0,Math.min(f.shieldBonusApplied,f.shieldBonusRemaining));m>0&&c.setShield(Math.max(0,c.getShield()-m)),delete c.fearless,h&&te.emit("unit:stats:changed",{unitId:c.id,stats:{...c.stats}}),dt&&(dt.affected=dt.affected.filter(g=>g.modifierId!==u))},hooks:{"combat:onHit":h=>{const m=h;if(m.source!=="defender"||m.defender.id!==c.id||m.shieldDamage<=0||f.shieldBonusRemaining<=0)return;const g=Math.min(f.shieldBonusRemaining,m.shieldDamage);f.shieldBonusRemaining=Math.max(0,f.shieldBonusRemaining-g)}}}),s.push({unit:c,modifierId:u,state:f})}return dt={endTime:performance.now()+No*1e3,status:Gp,affected:s,tickTimer:null,timeout:null},te.emit("sisuBurstStart",{remaining:No,status:Gp}),dt.tickTimer=setInterval(()=>{if(!dt)return;const c=Math.max(0,Math.ceil(fv()));c>0&&te.emit("sisuBurstTick",{remaining:c,status:dt.status})},1e3),dt.timeout=setTimeout(()=>{ow()},No*1e3),!0}function ow(){if(dt){for(const n of dt.affected)w1(n.modifierId);lw(),te.emit("sisuBurstEnd",{})}}function cw(n,a,s,r){const c=a.filter(u=>u.faction==="player"&&!u.isDead());if(c.length===0||!n.spendResource(ks,le.SISU))return!1;for(const u of c){const f=YA(s,3,a)??{...s};u.setCoord(f);const h=Math.round(u.getMaxHealth()*sw);u.stats.health=Math.min(u.getMaxHealth(),Math.max(u.stats.health,h))}return r.revealAround(s,3,{autoFrame:!1}),te.emit("torilleRecalled",{count:c.length}),!0}let zi=!1;function hv(){return zi}function mv(n){zi!==n&&(zi=n,te.emit("game:pause-changed",{paused:zi}))}function uw(){return mv(!zi),zi}function dw(){zi&&mv(!1)}function Up(...n){return n.filter(Boolean).join(" ")}function Lp(n,a){return!(n.code!==a.code||(a.shift??!1)!==n.shiftKey||(a.alt??!1)!==n.altKey||(a.meta??!1)!==n.metaKey||(a.ctrl??!1)!==n.ctrlKey)}function fw(n){return!Number.isFinite(n)||n<=0?"0s":`${Math.max(0,Math.ceil(n))}s`}function hw(){const[n,a]=zt.useState(()=>{const s=_f();return{active:s,remaining:s?Math.ceil(fv()):0,status:s?"Burst active":void 0}});return zt.useEffect(()=>{const s=({remaining:u,status:f})=>{a({active:!0,remaining:Math.ceil(u),status:f})},r=({remaining:u,status:f})=>{a(h=>({active:!0,remaining:Math.ceil(u),status:f??h.status}))},c=()=>{a({active:!1,remaining:0,status:void 0})};return te.on("sisuBurstStart",s),te.on("sisuBurstTick",r),te.on("sisuBurstEnd",c),()=>{te.off("sisuBurstStart",s),te.off("sisuBurstTick",r),te.off("sisuBurstEnd",c)}},[]),n}function mw(){const[n,a]=zt.useState(()=>hv());return zt.useEffect(()=>{const s=({paused:r})=>{a(r)};return te.on("game:pause-changed",s),()=>{te.off("game:pause-changed",s)}},[]),n}function jp(n){const a=n.target;if(!a)return!1;const s=a.tagName;return!!(s==="INPUT"||s==="TEXTAREA"||s==="SELECT"||a.isContentEditable)}function gw({state:n,abilities:a}){const[s,r]=zt.useState(()=>n.getResource(le.SISU)),[c,u]=zt.useState(()=>g1()),[f,h]=zt.useState(null),m=zt.useRef({}),[g,p]=zt.useState(()=>new Set),v=hw(),b=mw(),E=zt.useCallback(I=>{p(W=>{const q=new Set(W);return q.add(I),q});const ne=m.current[I];ne&&window.clearTimeout(ne),m.current[I]=window.setTimeout(()=>{p(W=>{const q=new Set(W);return q.delete(I),q}),delete m.current[I]},650)},[]);zt.useEffect(()=>{const I=({resource:ne,total:W})=>{ne===le.SISU&&r(W)};return te.on("resourceChanged",I),()=>{te.off("resourceChanged",I),Object.values(m.current).forEach(ne=>{ne&&window.clearTimeout(ne)}),m.current={}}},[]),zt.useEffect(()=>A1(u),[]);const C=a.useSisuBurst,T=a.torille,B=a.onOpenBuildPlanner,P=!C||v.active||s<Ts,L=C?v.active?"Burst already surging.":s<Ts?`Requires ${Ts} SISU.`:void 0:"Burst controls offline in this build.",F=!T||s<ks,K=T?s<ks?`Requires ${ks} SISU.`:void 0:"Torille rally is unavailable right now.",J=zt.useMemo(()=>[{id:"burst",icon:"⚡️",label:"Sisu Burst",description:"Ignite a surge of fury and resilience across your warriors.",hotkey:{code:"KeyQ",label:"Q"},accent:"primary",cost:`-${Ts} SISU`,detail:v.active?`${v.status??"Burst active"} · ${fw(v.remaining)}`:void 0,blocked:P,blockedReason:L,interactive:!!C,onActivate:()=>C?C():!1},{id:"torille",icon:"📣",label:"Torille!",description:"Call every survivor home to the sauna to regroup and heal.",hotkey:{code:"KeyW",label:"W"},accent:"primary",cost:`-${ks} SISU`,blocked:F,blockedReason:K,interactive:!!T,onActivate:()=>T?T():!1},{id:"build",icon:"🛠️",label:"Build",description:"Draft new structures to reinforce your frontier.",hotkey:{code:"KeyE",label:"E"},accent:"neutral",blocked:!B,blockedReason:B?void 0:"Construction planner will unlock in a forthcoming update.",interactive:!!B,onActivate:()=>B?B()??!0:!1},{id:"sound",icon:c?"🔇":"🔊",label:c?"Muted":"Sound",description:"Toggle combat sound effects and ambience cues.",hotkey:{code:"KeyR",label:"R"},accent:"neutral",toggled:c,detail:c?"Silence engaged":"Soundscape active",interactive:!0,blocked:!1,onActivate:()=>(p1(!c),u(!c),!0)},{id:"pause",icon:b?"⏸️":"▶️",label:b?"Paused":"Pause",description:b?"Time is frozen — resume when your strategy is ready.":"Freeze the battlefield to reassess and issue commands.",hotkey:{code:"Space",label:"Space"},accent:"neutral",toggled:b,detail:b?"Combat frozen":"Time flowing",interactive:!0,blocked:!1,onActivate:()=>(uw(),!0)}],[v.active,v.remaining,P,L,T,c,B,b,F,K,C]),ie=zt.useCallback(I=>{if(!I.interactive){E(I.id);return}if(I.blocked){E(I.id);return}I.onActivate?.()===!1&&E(I.id)},[E]);return zt.useEffect(()=>{const I=W=>{if(W.repeat||jp(W))return;const q=J.find(G=>Lp(W,G.hotkey));q&&(W.preventDefault(),h(q.id),ie(q))},ne=W=>{if(jp(W))return;const q=J.find(G=>Lp(W,G.hotkey));q&&(W.preventDefault(),h(G=>G===q.id?null:G))};return window.addEventListener("keydown",I),window.addEventListener("keyup",ne),()=>{window.removeEventListener("keydown",I),window.removeEventListener("keyup",ne)}},[J,ie]),Wt.jsx("div",{className:"pointer-events-none w-full",children:Wt.jsx("div",{className:"pointer-events-auto mx-auto flex w-full max-w-4xl flex-col gap-4 rounded-[26px] border border-white/10 bg-[linear-gradient(145deg,rgba(11,17,30,0.86),rgba(6,10,18,0.92))] p-6 shadow-[0_26px_65px_rgba(6,12,24,0.6),_inset_0_1px_0_rgba(255,255,255,0.08)] backdrop-blur-xl","aria-label":"Combat and systems action bar",children:Wt.jsx("div",{className:"flex flex-wrap items-stretch justify-center gap-4",children:J.map(I=>{const ne=f===I.id,W=g.has(I.id),G=(I.blocked??!1)||!I.interactive,O=I.detail??I.blockedReason,D=Up("group relative flex min-w-[150px] flex-1 flex-col gap-2 rounded-[20px] border border-white/10 px-5 py-4 text-left transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 focus-visible:ring-offset-0","bg-[radial-gradient(circle_at_top,rgba(56,189,248,0.22),rgba(14,25,45,0.6))] shadow-[0_18px_42px_rgba(8,25,53,0.55)]",I.accent==="primary"&&"border-sky-300/40 bg-[radial-gradient(circle_at_top,rgba(56,189,248,0.32),rgba(11,22,45,0.7))]",I.accent==="danger"&&"border-rose-400/45 bg-[radial-gradient(circle_at_top,rgba(244,114,182,0.32),rgba(45,9,25,0.75))]",ne&&"ring-2 ring-sky-300/80 ring-offset-0 translate-y-[-2px] shadow-[0_24px_48px_rgba(56,189,248,0.45)]",W&&'animate-hud-shake after:pointer-events-none after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-rose-300/45 after:bg-[radial-gradient(circle_at_center,rgba(248,113,113,0.18),rgba(248,113,113,0))] after:content-[""] after:animate-hud-pulse',!G&&!ne&&"hover:-translate-y-1 hover:shadow-[0_24px_50px_rgba(56,189,248,0.4)]",G&&"cursor-not-allowed opacity-70",I.toggled&&"border-sky-400/60 shadow-[0_0_36px_rgba(56,189,248,0.45)]");return Wt.jsxs("button",{type:"button",className:D,"aria-pressed":I.toggled?"true":void 0,"aria-disabled":G?"true":void 0,"data-hotkey":I.hotkey.label,onClick:Y=>{if(G){Y.preventDefault(),E(I.id);return}ie(I)},onKeyDown:Y=>{(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),ie(I))},title:Up(I.description,I.blockedReason),children:[Wt.jsxs("div",{className:"flex items-center justify-between gap-3",children:[Wt.jsxs("span",{className:"flex items-center gap-3 text-base font-semibold uppercase tracking-[0.18em] text-slate-100",children:[Wt.jsx("span",{"aria-hidden":"true",className:"text-2xl",children:I.icon}),I.label]}),Wt.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.28em] text-slate-300/80",children:I.hotkey.label})]}),Wt.jsx("p",{className:"text-sm leading-relaxed text-slate-200/80",children:I.description}),Wt.jsxs("div",{className:"flex items-center justify-between text-xs font-medium uppercase tracking-[0.28em] text-slate-300/70",children:[Wt.jsx("span",{children:O??"​"}),I.cost?Wt.jsx("span",{className:"text-slate-200/90",children:I.cost}):Wt.jsx("span",{className:"opacity-0",children:"cost"})]})]},I.id)})})})})}function pw(n,a,s={}){const r=_s(a),c=a.ownerDocument.createElement("div");c.dataset.component="action-bar",c.className="flex w-full justify-center";const u=r.regions.bottom,f=u.querySelector("#build-id");f?u.insertBefore(c,f):u.appendChild(c);const h=nw.createRoot(c);return h.render(Wt.jsx(gw,{state:n,abilities:s})),{destroy(){h.unmount(),c.remove()}}}const Aw="(max-width: 820px)",gv="is-mobile",pv="is-desktop";let kn=null,ic=null,Yn=!1,Qo=0;const sc=new Set,wf=new Set,lc=n=>{for(const a of wf)a.classList.toggle(gv,n),a.classList.toggle(pv,!n),a.dataset.viewport=n?"mobile":"desktop"},vw=n=>{if(Yn!==n){Yn=n,lc(Yn);for(const a of Array.from(sc))try{a(Yn)}catch(s){console.error("Failed to notify mobile listener",s)}}},Av=()=>{if(kn||typeof window>"u")return;kn=window.matchMedia(Aw),Yn=kn.matches,lc(Yn);const n=a=>{vw(a.matches)};typeof kn.addEventListener=="function"?(kn.addEventListener("change",n),ic=()=>kn?.removeEventListener("change",n)):(kn.addListener(n),ic=()=>kn?.removeListener(n))},yw=()=>{kn&&(ic?.(),ic=null,kn=null)},vv=(n,{immediate:a=!0}={})=>(Av(),sc.add(n),a&&n(Yn),()=>{sc.delete(n)}),bw=({root:n,onChange:a,immediate:s=!0}={})=>{Av();const r=n??(typeof document<"u"?document.documentElement:null);r&&(wf.add(r),lc(Yn)),Qo+=1;let c=null;return a?c=vv(a,{immediate:s}):s&&kn&&lc(Yn),{matches:()=>Yn,dispose:()=>{r&&(wf.delete(r),r.classList.remove(gv,pv),(r.dataset.viewport==="mobile"||r.dataset.viewport==="desktop")&&delete r.dataset.viewport),c&&(c(),c=null),Qo=Math.max(0,Qo-1),Qo===0&&sc.size===0&&yw()}}};function Ew(n){const a=[n.name];return n.description&&a.push(n.description),n.rarity&&a.push(`Rarity: ${n.rarity}`),n.quantity>1&&a.push(`Quantity: ${n.quantity}`),a.join(" — ")}function ww(n){const a=document.createElement("span");a.classList.add("item-icon__fallback");const s=n.trim();return a.textContent=s?s[0]?.toUpperCase()??"?":"?",a.setAttribute("aria-hidden","true"),a}function Sw(n,a){const s=document.createElement("img");return s.src=n,s.alt="",s.decoding="async",s.loading="lazy",s.classList.add("item-icon__image"),s.setAttribute("aria-hidden","true"),s.title=a,s}function xw(n){const a=document.createElement("li");a.classList.add("item-icon"),a.dataset.itemId=n.id;const s=Ew(n);if(a.title=s,a.setAttribute("aria-label",s),a.setAttribute("role","listitem"),n.rarity&&(a.dataset.rarity=n.rarity.toLowerCase()),n.icon&&n.icon.trim().length>0?a.appendChild(Sw(n.icon,n.name)):a.appendChild(ww(n.name)),n.quantity>1){const r=document.createElement("span");r.classList.add("item-icon__quantity"),r.textContent=`×${n.quantity}`,r.setAttribute("aria-hidden","true"),a.appendChild(r)}return a}const Cw=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function Sf(n){return n===1/0?"∞":!Number.isFinite(n)||n<=0?"0s":`${Cw.format(Math.ceil(n))}s`}function Rw(n){const a=[n.name];return n.description&&a.push(n.description),n.source&&a.push(`Source: ${n.source}`),n.duration!==1/0&&a.push(`Duration: ${Sf(n.duration)}`),a.push(`Remaining: ${Sf(n.remaining)}`),n.stacks&&n.stacks>1&&a.push(`Stacks: ${n.stacks}`),a.join(" — ")}function Bw(n){const a=document.createElement("li");a.classList.add("mod-pill"),a.dataset.modifierId=n.id,a.title=Rw(n),a.setAttribute("aria-label",a.title),a.setAttribute("role","listitem"),a.dataset.duration=n.duration===1/0?"infinite":String(n.duration),a.dataset.remaining=n.remaining===1/0?"infinite":String(n.remaining),n.appliedAt!==void 0&&(a.dataset.appliedAt=String(n.appliedAt)),n.stacks&&n.stacks>1&&(a.dataset.stacks=String(n.stacks));const s=document.createElement("span");if(s.classList.add("mod-pill__name"),s.textContent=n.name,s.setAttribute("aria-hidden","true"),a.appendChild(s),n.stacks&&n.stacks>1){const c=document.createElement("span");c.classList.add("mod-pill__stacks"),c.textContent=`×${n.stacks}`,c.setAttribute("aria-hidden","true"),a.appendChild(c)}const r=document.createElement("span");return r.classList.add("mod-pill__timer"),r.textContent=Sf(n.remaining),r.setAttribute("aria-hidden","true"),a.appendChild(r),n.remaining!==1/0&&n.remaining<=5&&(a.dataset.urgent="true"),a}const xf={engaged:"Engaged on the field",reserve:"On reserve duty",downed:"Recovering from battle"},Xe=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),zp="panel-roster-title";function Mw(n){return n.length===0?"No defining traits yet":n.join(" • ")}function yv(n){return Number.isFinite(n)?Math.max(0,Math.min(100,Math.round(n*100))):0}function Dw(n){const a=Xe;if(n.xpForNext===null)return`${a.format(n.xp)} XP • Max level`;const s=yv(n.progress);return`${a.format(n.xpIntoLevel)} / ${a.format(n.xpForNext)} XP • ${s}%`}function bv(n){const a=[],s=(r,c)=>{c>0&&a.push(`+${Xe.format(c)} ${r}`)};return s("Vigor",n.vigor),s("Focus",n.focus),s("Resolve",n.resolve),a.length===0?"No level bonuses yet":a.join(" • ")}function Bs(n,a){const r=Math.round(n-(typeof a=="number"?a:0));if(r===0)return"";const c=Xe.format(Math.abs(r));return r>0?` (+${c})`:` (-${c})`}function Tw(n){if(!n)return"No stat changes";const a=[],s=(r,c)=>{if(typeof c=="number"&&c!==0){const u=c>0?"+":"−";a.push(`${r} ${u}${Xe.format(Math.abs(c))}`)}};return s("HP",n.health),s("ATK",n.attackDamage),s("RNG",n.attackRange),s("MOV",n.movementRange),s("DEF",n.defense),s("Shield",n.shield),a.length===0?"No stat changes":a.join(", ")}function kw(n){const{stats:a,baseStats:s}=n,r=[`HP ${Xe.format(a.health)}/${Xe.format(a.maxHealth)}${Bs(a.maxHealth,s.maxHealth)}`];return a.shield&&a.shield>0&&r.push(`Shield ${Xe.format(a.shield)}${Bs(a.shield,s.shield)}`),r.push(`ATK ${Xe.format(a.attackDamage)}${Bs(a.attackDamage,s.attackDamage)}`),r.push(`RNG ${Xe.format(a.attackRange)}${Bs(a.attackRange,s.attackRange)}`),a.defense&&a.defense>0&&r.push(`DEF ${Xe.format(a.defense)}${Bs(a.defense,s.defense)}`),r.push(`MOV ${Xe.format(a.movementRange)}${Bs(a.movementRange,s.movementRange)}`),r.push(`Upkeep ${Xe.format(n.upkeep)} beer`),r.join(" • ")}function Hw(n){const{stats:a}=n,s=[n.name,xf[n.status]];s.push(`level ${n.progression.level}`),s.push(`health ${Xe.format(a.health)} of ${Xe.format(a.maxHealth)}`),a.shield&&a.shield>0&&s.push(`shield ${Xe.format(a.shield)}`),s.push(`attack ${Xe.format(a.attackDamage)}`),a.defense&&a.defense>0&&s.push(`defense ${Xe.format(a.defense)}`),a.attackRange>0&&s.push(`attack range ${Xe.format(a.attackRange)}`),s.push(`movement ${Xe.format(a.movementRange)}`),s.push(`upkeep ${Xe.format(n.upkeep)} beer`),n.progression.xpForNext===null?s.push(`${Xe.format(n.progression.xp)} total experience`):s.push(`${Xe.format(n.progression.xpIntoLevel)} of ${Xe.format(n.progression.xpForNext)} experience toward next level`);const r=bv(n.progression.statBonuses);r&&s.push(`level bonuses ${r}`);const c=n.equipment.filter(u=>u.item).length;return c>0&&s.push(`${c} equipped item${c===1?"":"s"}`),n.modifiers.length>0&&s.push(`${n.modifiers.length} active modifier${n.modifiers.length===1?"":"s"}`),s.join(", ")}function Ow(n,a){const s=a.filter(h=>h.status==="engaged").length,r=a.filter(h=>h.status==="reserve").length,c=a.filter(h=>h.status==="downed").length,u=(h,m,g)=>{const p=document.createElement("span");return p.classList.add("panel-roster__metric"),p.dataset.status=g,p.textContent=`${Xe.format(m)} ${h}`,p.setAttribute("aria-label",p.textContent),p},f=document.createElement("div");f.classList.add("panel-roster__metrics"),f.append(u("engaged",s,"engaged"),u("reserve",r,"reserve"),u("downed",c,"downed")),n.appendChild(f)}function Pw(n,a,s){const r=document.createElement("div");r.classList.add("panel-roster__loadout");const c=document.createElement("ul");c.classList.add("panel-roster__slots"),c.setAttribute("role","list"),c.setAttribute("aria-label",`${a.name} equipment slots`);for(const u of a.equipment){const f=document.createElement("li");f.classList.add("panel-roster__slot"),f.dataset.slot=u.id;const h=document.createElement("div");h.classList.add("panel-roster__slot-header");const m=document.createElement("span");m.classList.add("panel-roster__slot-label"),m.textContent=u.label,m.title=u.description,h.appendChild(m);const g=document.createElement("span");if(g.classList.add("panel-roster__slot-summary"),g.textContent=u.item?u.item.name:"Empty",g.title=u.description,h.appendChild(g),f.appendChild(h),u.item){const C=document.createElement("ul");C.classList.add("panel-roster__slot-icons"),C.setAttribute("role","list"),C.appendChild(xw(u.item)),f.appendChild(C)}const p=document.createElement("span");p.classList.add("panel-roster__slot-modifiers"),p.textContent=Tw(u.modifiers),p.title=p.textContent,f.appendChild(p);const v=document.createElement("div");v.classList.add("panel-roster__slot-actions");const b=document.createElement("button");b.type="button",b.classList.add("panel-roster__slot-action"),b.textContent=u.item?"Replace":"Equip",b.setAttribute("aria-label",`Equip ${u.label} for ${a.name}`),b.addEventListener("click",C=>{C.stopPropagation(),s.onEquipSlot?.(a.id,u.id)}),v.appendChild(b);const E=document.createElement("button");E.type="button",E.classList.add("panel-roster__slot-action"),E.textContent="Unequip",E.disabled=u.item===null,E.setAttribute("aria-label",`Unequip ${u.label} from ${a.name}`),E.addEventListener("click",C=>{C.stopPropagation(),E.disabled||s.onUnequipSlot?.(a.id,u.id)}),v.appendChild(E),f.appendChild(v),c.appendChild(f)}if(r.appendChild(c),a.modifiers.length>0){const u=document.createElement("ul");u.classList.add("panel-roster__mods"),u.setAttribute("role","list"),u.setAttribute("aria-label",`${a.name} active modifiers`),u.title=a.modifiers.map(f=>f.name).join(", ");for(const f of a.modifiers)u.appendChild(Bw(f));r.appendChild(u)}n.appendChild(r)}function Nw(n,a={}){return{render:r=>{n.innerHTML="",n.dataset.count=String(r.length),n.classList.add("panel-roster");const c=document.createElement("div");c.classList.add("panel-roster__header");const u=document.createElement("h4");u.classList.add("panel-roster__title"),u.textContent="Battalion Roster",u.id=zp,c.appendChild(u),n.setAttribute("aria-labelledby",zp);const f=r.length===0?"No attendants mustered yet":`${Xe.format(r.length)} attendant${r.length===1?"":"s"} enlisted`,h=document.createElement("span");if(h.classList.add("panel-roster__count"),h.textContent=f,c.appendChild(h),n.appendChild(c),r.length===0){const g=document.createElement("p");g.classList.add("panel-roster__empty"),g.textContent="No attendants have rallied to the sauna yet.",n.appendChild(g);return}Ow(n,r);const m=document.createElement("ul");m.classList.add("panel-roster__list"),m.setAttribute("role","list");for(const g of r){const p=document.createElement("li");p.classList.add("panel-roster__row");const v=document.createElement("button");v.type="button",v.classList.add("panel-roster__item"),v.dataset.unitId=g.id,v.dataset.status=g.status,v.setAttribute("aria-pressed",g.selected?"true":"false"),v.setAttribute("aria-label",Hw(g)),v.title=`${g.name} • ${xf[g.status]}`,g.selected&&v.classList.add("is-selected"),g.status==="downed"&&v.classList.add("is-downed");const b=document.createElement("div");b.classList.add("panel-roster__name-row");const E=document.createElement("div");E.classList.add("panel-roster__identity");const C=document.createElement("span");C.classList.add("panel-roster__level"),C.dataset.level=String(g.progression.level),C.style.setProperty("--level-progress","0%");const T=yv(g.progression.progress);C.style.setProperty("--level-progress",`${T}%`),C.setAttribute("role","img");const B=g.progression.xpForNext===null?`Level ${g.progression.level}, at mastery`:`Level ${g.progression.level}, ${T}% toward next level`;C.setAttribute("aria-label",B);const P=document.createElement("span");P.classList.add("panel-roster__level-value"),P.textContent=String(g.progression.level),C.appendChild(P);const L=document.createElement("span");L.classList.add("panel-roster__name"),L.textContent=g.name,L.title=g.name,E.append(C,L),b.appendChild(E);const F=document.createElement("span");F.classList.add("panel-roster__status"),F.dataset.status=g.status,F.textContent=xf[g.status],b.appendChild(F);const K=document.createElement("div");K.classList.add("panel-roster__meta");const J=kw(g);K.textContent=J,K.title=J;const ie=document.createElement("div");ie.classList.add("panel-roster__xp");const I=Dw(g.progression);ie.textContent=I,ie.title=I;const ne=document.createElement("div");ne.classList.add("panel-roster__callouts");const W=bv(g.progression.statBonuses);ne.textContent=W,ne.title=W;const q=document.createElement("div");q.classList.add("panel-roster__health");const G=document.createElement("div");G.classList.add("panel-roster__health-fill");const O=g.stats.maxHealth>0?Math.max(0,Math.min(100,Math.round(g.stats.health/g.stats.maxHealth*100))):0;G.style.width=`${O}%`,G.dataset.percent=`${O}`,q.appendChild(G);const D=document.createElement("div");D.classList.add("panel-roster__traits");const Y=Mw(g.traits);D.textContent=Y,D.title=Y,v.append(b,ie,K,ne,q,D),Pw(v,g,a),typeof a.onSelect=="function"&&v.addEventListener("click",()=>a.onSelect?.(g.id)),p.appendChild(v),m.appendChild(p)}n.appendChild(m)}}}const Ip=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function Qw(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{log:()=>{},addEvent:()=>{},renderRoster:()=>{},dispose:()=>{}};const{regions:r,mobileBar:c}=_s(s),u=r.top,f=r.right,h=s.querySelector("#right-panel");h&&h.remove();const m=s.querySelector(".right-panel-slide");m&&m.remove();const g=s.querySelector("#right-panel-toggle");g&&g.remove();const p=document.createElement("div");p.id="right-panel",p.classList.add("hud-card"),p.setAttribute("role","complementary"),p.setAttribute("aria-label","Sauna command console"),p.tabIndex=-1;const v=document.createElement("div");v.className="right-panel-slide",v.setAttribute("aria-hidden","true");const b=document.createElement("div");b.className="right-panel-slide__backdrop",b.setAttribute("aria-hidden","true");const E=document.createElement("div");E.className="right-panel-slide__sheet",E.appendChild(p),v.append(b,E);const C=window.matchMedia("(max-width: 1040px)"),T=[],B=document.createElement("button");B.type="button",B.id="right-panel-toggle",B.classList.add("hud-panel-toggle"),B.setAttribute("aria-controls",p.id);const P=document.createElement("span");P.classList.add("hud-panel-toggle__icon"),P.setAttribute("aria-hidden","true");const L=document.createElement("span");L.classList.add("hud-panel-toggle__icon-bars"),P.appendChild(L);const F=document.createElement("span");F.classList.add("hud-panel-toggle__text");const K=document.createElement("span");K.classList.add("hud-panel-toggle__title"),K.textContent="Command Console";const J=document.createElement("span");J.classList.add("hud-panel-toggle__state"),F.append(K,J),B.append(P,F);const ie=()=>{const V=u.querySelector("#topbar");V&&V.parentElement===u?V.insertAdjacentElement("afterend",B):u.prepend(B)};let I=!1,ne=!1,W=!1,q=!1;const G="is-mobile-panel-open",O=()=>{W?J.textContent=q?"Close":"Menu":J.textContent=I?"Open":"Close"},D=()=>{if(W){B.setAttribute("aria-expanded",q?"true":"false");const V=q?"Close command console panel":"Open command console panel";B.setAttribute("aria-label",V),B.title=q?"Close the sauna command console overlay":"Open the sauna command console overlay"}else{B.setAttribute("aria-expanded",I?"false":"true");const V=I?"Open command console panel":"Close command console panel";B.setAttribute("aria-label",V),B.title=I?"Open the sauna command console overlay":"Close the sauna command console overlay"}},Y=()=>{O(),D()},j=(V,se=C.matches)=>{if(W)return;const ce=I;se&&(ne=V);const ve=V&&se;I=ve,p.classList.toggle("right-panel--collapsed",ve),p.setAttribute("aria-hidden",ve?"true":"false"),Y(),ce&&!ve&&se&&p.focus({preventScroll:!0})},R=V=>{!W||!q||V.key==="Escape"&&(V.preventDefault(),z())};let U=!1;const ae=()=>{U||(document.addEventListener("keydown",R),U=!0)},de=()=>{U&&(document.removeEventListener("keydown",R),U=!1)},w=()=>{!W||q||(q=!0,v.classList.add("right-panel-slide--open"),v.setAttribute("aria-hidden","false"),p.setAttribute("aria-hidden","false"),document.body.classList.add(G),v.style.setProperty("--panel-drag-progress","1"),Y(),ae(),requestAnimationFrame(()=>{p.focus({preventScroll:!0})}))},z=({skipFocus:V=!1}={})=>{!W||!q||(Ce(),q=!1,v.classList.remove("right-panel-slide--open"),v.setAttribute("aria-hidden","true"),p.setAttribute("aria-hidden","true"),document.body.classList.remove(G),v.style.setProperty("--panel-drag-progress","0"),Y(),de(),V||B.focus({preventScroll:!0}))},ee=V=>{if(W)return;const se=V.matches;B.hidden=!se,j(se?ne:!1,se)};typeof C.addEventListener=="function"?(C.addEventListener("change",ee),T.push(()=>C.removeEventListener("change",ee))):(C.addListener(ee),T.push(()=>C.removeListener(ee)));const $=()=>{if(W){q?z():w();return}j(!I)};B.addEventListener("click",$),T.push(()=>B.removeEventListener("click",$));const re=()=>{z()};b.addEventListener("click",re),T.push(()=>b.removeEventListener("click",re));let me=null,fe=0,je=0;const Ce=()=>{me!==null&&(E.releasePointerCapture(me),me=null),E.style.transition="",E.style.transform="",v.style.setProperty("--panel-drag-progress",q?"1":"0")},Et=V=>{!W||!q||V.pointerType==="mouse"&&V.button!==0||(me=V.pointerId,fe=V.clientX,je=0,E.style.transition="none",E.setPointerCapture(V.pointerId))},en=V=>{if(!W||V.pointerId!==me||!q)return;je=Math.max(0,V.clientX-fe);const se=E.offsetWidth||1,ce=Math.min(je,se);E.style.transform=`translateX(${ce}px)`,v.style.setProperty("--panel-drag-progress",String(1-ce/se))},Cn=V=>{Ce(),V&&z()},tn=V=>{if(V.pointerId!==me)return;const se=E.offsetWidth||1,ce=je>se*.35;Cn(ce)},Ft=()=>{Cn(!1)};E.addEventListener("pointerdown",Et),E.addEventListener("pointermove",en),E.addEventListener("pointerup",tn),E.addEventListener("pointercancel",Ft),T.push(()=>{E.removeEventListener("pointerdown",Et),E.removeEventListener("pointermove",en),E.removeEventListener("pointerup",tn),E.removeEventListener("pointercancel",Ft)});const Xt=vv(V=>{W=V,W?(E.appendChild(p),v.isConnected||s.appendChild(v),c.appendChild(B),B.classList.add("hud-panel-toggle--mobile"),B.hidden=!1,q||(p.setAttribute("aria-hidden","true"),v.setAttribute("aria-hidden","true"),v.style.setProperty("--panel-drag-progress","0"))):(z({skipFocus:!0}),v.style.setProperty("--panel-drag-progress","1"),v.remove(),f.appendChild(p),ie(),B.classList.remove("hud-panel-toggle--mobile"),B.hidden=!C.matches,p.setAttribute("aria-hidden","false"),j(ne,C.matches)),Y()});T.push(Xt);const $n=document.createElement("div");$n.classList.add("panel-tabs"),p.appendChild($n);const ea=document.createElement("div");ea.classList.add("panel-content"),p.appendChild(ea);const tt=document.createElement("div");tt.id="right-panel-roster",tt.setAttribute("role","region"),tt.setAttribute("aria-live","polite"),tt.setAttribute("aria-label","Battalion roster");const ta=document.createElement("div");ta.id="right-panel-policies";const Rn=document.createElement("div");Rn.id="right-panel-events";const lt=document.createElement("div");lt.id="event-log",lt.setAttribute("role","log"),lt.setAttribute("aria-live","polite");const Dt={Roster:tt,Policies:ta,Events:Rn,Log:lt},{onRosterSelect:Fi,onRosterRendererReady:Gn,onRosterEquipSlot:ui,onRosterUnequipSlot:na}=a;for(const[V,se]of Object.entries(Dt))se.classList.add("panel-section","panel-section--scroll"),se.dataset.tab=V,se.hidden=!0;lt.classList.add("panel-section--log");function wt(V){for(const[se,ce]of Object.entries(Dt))ce.hidden=se!==V;for(const se of Array.from($n.children)){const ce=se,ve=ce.textContent===V;ce.disabled=ve,ce.setAttribute("aria-pressed",ve?"true":"false")}}for(const V of Object.keys(Dt)){const se=document.createElement("button");se.type="button",se.textContent=V;const ce=Dt[V];ce?.id&&se.setAttribute("aria-controls",ce.id),se.setAttribute("aria-pressed","false");const ve=()=>wt(V);se.addEventListener("click",ve),T.push(()=>se.removeEventListener("click",ve)),$n.appendChild(se),ea.appendChild(Dt[V])}const ht=Nw(tt,{onSelect:Fi,onEquipSlot:ui,onUnequipSlot:na}),Qt=V=>{ht.render(V)};Qt([]),typeof Gn=="function"&&Gn(Qt);const rt={[le.SAUNA_BEER]:"Sauna Beer Bottles",[le.SAUNAKUNNIA]:"Saunakunnia",[le.SISU]:"Sisu"},di=NA(),fi=new Map;function Ks(V){const se=document.createElement("span");return se.className="policy-card__badge",se.textContent=V,se}function hi(V){const se=document.createElement("article");se.className="policy-card",se.style.setProperty("--policy-gradient",V.visuals.gradient),se.style.setProperty("--policy-accent",V.visuals.accentColor);const ce=document.createElement("div");ce.className="policy-card__header";const ve=document.createElement("div");ve.className="policy-card__icon-frame";const Ye=document.createElement("img");Ye.className="policy-card__icon",Ye.src=V.visuals.icon,Ye.alt=`${V.name} icon`,ve.appendChild(Ye);const pt=document.createElement("div");pt.className="policy-card__heading";const nt=document.createElement("h4");if(nt.className="policy-card__title",nt.textContent=V.name,pt.appendChild(nt),V.visuals.badges?.length){const xt=document.createElement("div");xt.className="policy-card__badges",V.visuals.badges.forEach(Zs=>xt.appendChild(Ks(Zs))),pt.appendChild(xt)}const De=document.createElement("span");De.className="policy-card__state",De.textContent="Ready",ce.append(ve,pt,De);const hn=document.createElement("p");hn.className="policy-card__description",hn.textContent=V.description;const an=V.visuals.flair?(()=>{const xt=document.createElement("p");return xt.className="policy-card__flair",xt.textContent=V.visuals.flair??"",xt})():null,At=document.createElement("div");At.className="policy-card__actions";const Gt=document.createElement("span");Gt.className="policy-card__cost";const pi=document.createElement("span");pi.className="policy-card__cost-label",pi.textContent="Cost";const la=document.createElement("span");la.className="policy-card__cost-value",la.textContent=`${Ip.format(V.cost)} ${rt[V.resource]}`,Gt.append(pi,la);const Je=document.createElement("button");Je.type="button",Je.className="policy-card__action",Je.textContent="Enact Policy";const Ai=document.createElement("p");Ai.className="policy-card__status";const ra=document.createElement("ul");ra.className="policy-card__requirements",ra.hidden=!0,At.append(Gt,Je);const vi=()=>{n.applyPolicy(V.id)&&Bn(V)};return Je.addEventListener("click",vi),T.push(()=>Je.removeEventListener("click",vi)),se.append(ce,hn),an&&se.appendChild(an),se.append(At,Ai,ra),fi.set(V.id,{card:se,action:Je,stateBadge:De,statusCopy:Ai,requirements:ra,costChip:Gt}),se}function mi(){ta.innerHTML="",fi.clear();const V=document.createElement("div");V.className="policy-grid",di.forEach(se=>{const ce=hi(se);V.appendChild(ce)}),ta.appendChild(V),oe()}function Bn(V){const se=fi.get(V.id);if(!se)return;const ce=n.hasPolicy(V.id),ve=V.prerequisites.filter(an=>!an.isSatisfied(n)),Ye=n.canAfford(V.cost,V.resource);se.action.disabled=ce||ve.length>0||!Ye,se.action.textContent=ce?"Enacted":"Enact Policy";let pt="ready",nt="Ready",De=V.spotlight??"All signals point to go.";se.requirements.innerHTML="",se.requirements.hidden=!0,ce?(pt="applied",nt="Enacted",De=V.visuals.flair??"Policy active."):ve.length>0?(pt="locked",nt="Locked",De="Awaiting requirements:",se.requirements.hidden=!1,ve.forEach(an=>{const At=document.createElement("li");At.textContent=an.description,se.requirements.appendChild(At)})):Ye||(pt="budget",nt="Needs Resources",De=`Earn ${Ip.format(V.cost)} ${rt[V.resource]} to enact this edict.`),se.card.dataset.status=pt,se.stateBadge.textContent=nt,se.statusCopy.textContent=De;const hn=!ce&&ve.length===0&&!Ye;se.costChip.classList.toggle("policy-card__cost--warning",hn)}function oe(){di.forEach(V=>Bn(V))}mi();const ye=V=>oe(),be=V=>oe(),Me=V=>oe();te.on("resourceChanged",ye),te.on(It.APPLIED,be),te.on(It.REJECTED,Me),T.push(()=>{te.off("resourceChanged",ye),te.off(It.APPLIED,be),te.off(It.REJECTED,Me)});function mt(V,se){const ce=document.createElement("button");ce.type="button",ce.classList.add("event-card__choice"),se.accent&&ce.classList.add(`event-card__choice--${se.accent}`),ce.dataset.choiceId=se.id;const ve=document.createElement("span");if(ve.className="event-card__choice-label",ve.textContent=se.label,ce.appendChild(ve),se.description){const Ye=document.createElement("span");Ye.className="event-card__choice-detail",Ye.textContent=se.description,ce.appendChild(Ye)}return ce.addEventListener("click",()=>{if(!ce.isConnected)return;ce.disabled=!0,Ko.resolve(V.id,se.id)||(ce.disabled=!1)}),ce}function gt(V){if(Rn.innerHTML="",V.length===0){const ce=document.createElement("div");ce.className="event-card event-card--empty";const ve=document.createElement("p");ve.className="event-card__empty",ve.textContent="All clear. Command will notify you when new briefings arrive.",ce.appendChild(ve),Rn.appendChild(ce);return}const se=document.createDocumentFragment();for(const ce of V){const ve=document.createElement("article");ve.className="event-card",ve.dataset.eventId=ce.id,ve.style.setProperty("--event-accent",ce.accentColor??"var(--color-accent)");const Ye=(ce.typography??"sans").toLowerCase();ve.classList.add(`event-card--${["serif","mono"].includes(Ye)?Ye:"sans"}`);const pt=(ce.animation??"").toLowerCase();["aurora","pulse","tilt"].includes(pt)&&ve.classList.add(`event-card--${pt}`);const nt=document.createElement("div");if(nt.className="event-card__frame",ce.art){const Je=document.createElement("div");Je.className="event-card__media",Je.style.backgroundImage=`url(${ce.art})`,nt.appendChild(Je)}const De=document.createElement("div");De.className="event-card__body";const hn=document.createElement("span");hn.className="event-card__badge",hn.textContent="Priority Dispatch",De.appendChild(hn);const an=document.createElement("h4");an.className="event-card__headline",an.textContent=ce.headline,De.appendChild(an);const At=document.createElement("p");At.className="event-card__copy",At.textContent=ce.body,De.appendChild(At);const Gt=document.createElement("div");Gt.className="event-card__choices";const pi=ce.choices&&ce.choices.length>0?ce.choices:[{id:"acknowledge",label:ce.acknowledgeText??"Acknowledge"}];for(const Je of pi){const Ai=mt(ce,{id:Je.id,label:Je.label,description:Je.description,event:Je.event,payload:Je.payload,accent:Je.accent});Gt.appendChild(Ai)}De.appendChild(Gt),nt.appendChild(De);const la=document.createElement("span");la.className="event-card__shimmer",ve.append(nt,la),se.appendChild(ve)}Rn.appendChild(se)}const qt=Ko.subscribe(gt);T.push(qt);const aa=({event:V})=>{pr(`Event • ${V.headline}`)};te.on(ec.TRIGGERED,aa),T.push(()=>{te.off(ec.TRIGGERED,aa)});function Oa(V){Ko.publish(V)}const ia="autobattles:panel-log",Yt=100,nn=[];let Xi=!1;const sa=[],Un=()=>{if(typeof window>"u"||typeof window.localStorage>"u")return[];try{const V=window.localStorage.getItem(ia);if(!V)return[];const se=JSON.parse(V);if(!Array.isArray(se))return[];const ce=se.filter(ve=>typeof ve=="string");return ce.length>Yt?ce.slice(-Yt):ce}catch{return[]}},ot=V=>{if(!(typeof window>"u"||typeof window.localStorage>"u"))try{const se=V.length>Yt?V.slice(-Yt):V;window.localStorage.setItem(ia,JSON.stringify(se))}catch{}},St=V=>{const se=document.createElement("div");se.textContent=V,se.classList.add("panel-log-entry"),lt.appendChild(se)};(()=>{const V=Un();if(V.length!==0){for(const se of V)St(se),sa.push(se);lt.scrollTop=lt.scrollHeight}})();function Vs(){for(const V of nn)St(V);if(nn.length>0&&(sa.push(...nn),sa.length>Yt)){const V=sa.length-Yt;sa.splice(0,V);for(let se=0;se<V;se+=1)lt.firstChild&&lt.removeChild(lt.firstChild)}lt.scrollTop=lt.scrollHeight,nn.length=0,Xi=!1,sa.length>0?ot(sa):ot([])}function pr(V){nn.push(V),Xi||(Xi=!0,(typeof requestAnimationFrame=="function"?requestAnimationFrame:se=>setTimeout(se,16))(Vs))}return wt("Roster"),{log:pr,addEvent:Oa,renderRoster:Qt,dispose:()=>{for(const V of T.splice(0))try{V()}catch(se){console.warn("Failed to dispose HUD listener",se)}de(),Ce(),document.body.classList.remove(G),v.remove(),B.remove(),p.remove()}}}const Gw=n=>`[data-tutorial-target="${n}"]`,Xn=16,Go=12,Fp="is-tutorial-highlighted",Uw=[{id:"heat",target:"heat",title:"Heat the Sauna",description:"Keep the sauna fires roaring. This control shows when the next warrior emerges from the steam."},{id:"upkeep",target:"upkeep",title:"Mind Your Upkeep",description:"Every attendant draws upkeep. Track totals and see a featured roster member to balance your economy."},{id:"sisu",target:"sisu",title:"Stockpile SISU",description:"SISU fuels heroic bursts. Watch this meter to know when your grit reserves can power signature moves."},{id:"combat",target:"combat",title:"Command the Fight",description:"Trigger a Sisu Burst to supercharge allied attacks or rally everyone home with a Torille call."},{id:"victory",target:"victory",title:"Claim Victory",description:"Saunakunnia measures renown. Push it ever higher to unlock triumphs and close the campaign in glory."}];function Lw(n,a,s){return Math.max(a,Math.min(s,n))}function jw(n={}){const a=n.steps??Uw;if(a.length===0)throw new Error("Tutorial requires at least one step.");let s=-1,r=null,c=!1;const u=document.createElement("div");u.className="tutorial-overlay";const f=document.createElement("div");f.className="tutorial-overlay__spotlight",f.setAttribute("aria-hidden","true");const h=document.createElement("section");h.className="tutorial-card",h.setAttribute("role","dialog"),h.setAttribute("aria-modal","false"),h.tabIndex=-1;const m=document.createElement("header");m.className="tutorial-card__header";const g=document.createElement("h2");g.className="tutorial-card__title";const p=document.createElement("button");p.type="button",p.className="tutorial-card__close",p.setAttribute("aria-label","Dismiss tutorial"),p.textContent="×",m.append(g,p);const v=document.createElement("p");v.className="tutorial-card__description";const b=document.createElement("p");b.className="tutorial-card__progress";const E=document.createElement("div");E.className="tutorial-card__controls";const C=document.createElement("button");C.type="button",C.className="tutorial-card__button tutorial-card__button--secondary",C.textContent="Back";const T=document.createElement("button");T.type="button",T.className="tutorial-card__button",T.textContent="Next";const B=document.createElement("button");B.type="button",B.className="tutorial-card__skip",B.textContent="Skip tutorial",E.append(C,T),h.append(m,v,b,E,B),u.append(f,h);const P=typeof ResizeObserver<"u"?new ResizeObserver(()=>{s>=0&&I()}):null,L=()=>{s>=0&&I()};function F(){c||(document.body.appendChild(u),window.addEventListener("resize",I),document.addEventListener("scroll",L,!0),P?.observe(h),c=!0)}function K(){c&&(window.removeEventListener("resize",I),document.removeEventListener("scroll",L,!0),P?.disconnect(),u.remove(),c=!1)}function J(j){if(r&&r!==j&&(r.classList.remove(Fp),r.removeAttribute("data-tutorial-highlight")),r=j,!j){f.style.opacity="0";return}j.classList.add(Fp),j.setAttribute("data-tutorial-highlight","true"),f.style.opacity="1"}function ie(){if(!r)return null;const j=r.getBoundingClientRect();return j.width===0&&j.height===0?null:{top:j.top,left:j.left,width:j.width,height:j.height}}function I(){const j=ie();if(!j){h.style.top=`${Xn}px`,h.style.left=`${Xn}px`,h.classList.add("tutorial-card--floating"),f.style.opacity="0";return}h.classList.remove("tutorial-card--floating"),f.style.opacity="1";const R=j.top-Go,U=j.left-Go,ae=j.width+Go*2,de=j.height+Go*2;f.style.top=`${R}px`,f.style.left=`${U}px`,f.style.width=`${ae}px`,f.style.height=`${de}px`;const w=h.getBoundingClientRect();let ee=window.innerHeight-j.top-j.height>=j.top?j.top+j.height+Xn:j.top-w.height-Xn;ee<Xn?ee=Xn:ee+w.height>window.innerHeight-Xn&&(ee=window.innerHeight-Xn-w.height);let re=j.left+j.width/2-w.width/2;re=Lw(re,Xn,window.innerWidth-w.width-Xn),h.style.top=`${Math.round(ee)}px`,h.style.left=`${Math.round(re)}px`}function ne(){requestAnimationFrame(()=>{h.focus({preventScroll:!0})})}function W(j){if(j<0||j>=a.length)return;F(),s=j;const R=a[j];g.textContent=R.title,v.textContent=R.description,b.textContent=`Step ${j+1} of ${a.length}`,C.disabled=j===0,T.textContent=j===a.length-1?"Finish":"Next";const U=document.querySelector(Gw(R.target));J(U??null),I(),ne()}function q(){if(s===-1){W(0);return}if(s>=a.length-1){Y();return}W(s+1)}function G(){s<=0||W(s-1)}function O(){J(null),K(),s=-1}function D(){n.onSkip?.(),O()}function Y(){n.onComplete?.(),O()}return C.addEventListener("click",()=>{G()}),T.addEventListener("click",()=>{q()}),B.addEventListener("click",()=>{D()}),p.addEventListener("click",()=>{D()}),h.addEventListener("keydown",j=>{j.defaultPrevented||(j.key==="ArrowRight"?(j.preventDefault(),q()):j.key==="ArrowLeft"?(j.preventDefault(),G()):j.key==="Escape"&&(j.preventDefault(),D()))}),{start(){s===-1&&W(0)},next:q,previous:G,skip:D,finish:Y,destroy(){O()}}}const zw=Math.sqrt(3),Iw=2;function rc(n){return{width:n*zw,height:n*Iw}}const xa=16,Uo=2;function Fw(){return typeof window<"u"&&window.devicePixelRatio||1}function Xw(n,a){const s=Math.max(n.qMin,a.minQ),r=Math.min(n.qMax,a.maxQ),c=Math.max(n.rMin,a.minR),u=Math.min(n.rMax,a.maxR);return s>r||c>u?null:{qMin:s,qMax:r,rMin:c,rMax:u}}function qw(n,a){const s=Fw(),r=a.width/(s*n.zoom),c=a.height/(s*n.zoom);return{x:n.x-r/2,y:n.y-c/2,width:r,height:c}}function Yw(n,a){const s=[tr(n.x,n.y,a),tr(n.x+n.width,n.y,a),tr(n.x,n.y+n.height,a),tr(n.x+n.width,n.y+n.height,a)];let r=1/0,c=-1/0,u=1/0,f=-1/0;for(const h of s)r=Math.min(r,h.q),c=Math.max(c,h.q),u=Math.min(u,h.r),f=Math.max(f,h.r);return{qMin:Math.floor(r)-Uo,qMax:Math.ceil(c)+Uo,rMin:Math.floor(u)-Uo,rMax:Math.ceil(f)+Uo}}function _w(n,a,s,r){if(!s||typeof s.width!="number"||typeof s.height!="number")return{qMin:n.minQ,qMax:n.maxQ,rMin:n.minR,rMax:n.maxR};if(s.width===0||s.height===0)return{qMin:n.minQ,qMax:n.maxQ,rMin:n.minR,rMax:n.maxR};const c=qw(a,s);return Xw(Yw(c,r),n)}function Hs(n){return Math.floor(n/xa)}function Ev(n){return`${n.q},${n.r}`}function Kw(n,a){return Ev({q:Hs(n),r:Hs(a)})}function Vw(n){return{qMin:Hs(n.qMin),qMax:Hs(n.qMax),rMin:Hs(n.rMin),rMax:Hs(n.rMax)}}function wv(n){const a=[];for(let s=n.rMin;s<=n.rMax;s++)for(let r=n.qMin;r<=n.qMax;r++)a.push({q:r,r:s});return a}function Zw(n,a){const s=a.q*xa,r=a.r*xa,c=s+xa-1,u=r+xa-1,f=Math.max(s,n.minQ),h=Math.min(c,n.maxQ),m=Math.max(r,n.minR),g=Math.min(u,n.maxR);if(!(f>h||m>g))for(let p=m;p<=g;p++)for(let v=f;v<=h;v++)n.ensureTile(v,p)}function Jw(n,a){for(const s of wv(a))Zw(n,s)}const Ww="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3ePlains%20Tile%3c/title%3e%3cdesc%20id='desc'%3eRolling%20plains%20with%20sunrise%20gradients%20and%20glowing%20grasses.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='plains-bg'%20cx='50%25'%20cy='50%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230f172a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23111827'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='plains-field'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='0%25'%3e%3cstop%20offset='0%25'%20stop-color='%23facc15'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23eab308'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='plains-haze'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23fde68a'%20stop-opacity='0.8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23f59e0b'%20stop-opacity='0.2'%20/%3e%3c/linearGradient%3e%3cfilter%20id='plains-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='5'%20stdDeviation='6'%20flood-color='%23facc15'%20flood-opacity='0.35'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23plains-bg)'%20/%3e%3cg%20filter='url(%23plains-glow)'%3e%3cpath%20d='M16%2088c20-18%2036-22%2048-22s28%204%2048%2022'%20fill='url(%23plains-field)'%20stroke='%23fef9c3'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M24%20102c16-14%2032-18%2040-18s24%204%2040%2018'%20fill='none'%20stroke='%23fde68a'%20stroke-width='5'%20stroke-linecap='round'%20opacity='0.5'%20/%3e%3cpath%20d='M32%2070c12-10%2024-14%2032-14s20%204%2032%2014'%20fill='url(%23plains-haze)'%20opacity='0.7'%20/%3e%3cpath%20d='M52%2078l4%2012m8-12l4%2012m8-12l4%2012'%20stroke='%23fef3c7'%20stroke-width='3'%20stroke-linecap='round'%20opacity='0.8'%20/%3e%3c/g%3e%3ccircle%20cx='40'%20cy='36'%20r='8'%20fill='%23fef08a'%20opacity='0.7'%20/%3e%3c/svg%3e",$w="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eForest%20Tile%3c/title%3e%3cdesc%20id='desc'%3eStylised%20evergreen%20trees%20glowing%20against%20a%20deep%20night%20backdrop.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='forest-bg'%20cx='50%25'%20cy='40%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230f172a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230b1120'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='forest-leaf'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%234ade80'%20/%3e%3cstop%20offset='100%25'%20stop-color='%2315803d'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='forest-trunk'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23a855f7'%20/%3e%3cstop%20offset='100%25'%20stop-color='%237c3aed'%20/%3e%3c/linearGradient%3e%3cfilter%20id='forest-glow'%20x='-40%25'%20y='-40%25'%20width='180%25'%20height='180%25'%3e%3cfeDropShadow%20dx='0'%20dy='6'%20stdDeviation='6'%20flood-color='%234ade80'%20flood-opacity='0.25'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23forest-bg)'%20/%3e%3cg%20filter='url(%23forest-glow)'%20stroke='%23bbf7d0'%20stroke-width='2'%3e%3cpath%20fill='url(%23forest-leaf)'%20d='M64%2026L32%2080h18l-12%2022h28l-10-22h16l-10%2022h28l-12-22h18z'%20/%3e%3crect%20x='58'%20y='74'%20width='12'%20height='18'%20rx='3'%20fill='url(%23forest-trunk)'%20/%3e%3cpath%20fill='none'%20stroke-linecap='round'%20stroke-opacity='0.5'%20d='M44%2086c6-4%2012-6%2020-6s14%202%2020%206'%20/%3e%3c/g%3e%3ccircle%20cx='40'%20cy='40'%20r='6'%20fill='%23fef3c7'%20opacity='0.6'%20/%3e%3ccircle%20cx='88'%20cy='32'%20r='4'%20fill='%23fef3c7'%20opacity='0.4'%20/%3e%3c/svg%3e",eS="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eMountain%20Tile%3c/title%3e%3cdesc%20id='desc'%3eJagged%20alpine%20peaks%20with%20luminous%20snowcaps.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='mountain-bg'%20cx='50%25'%20cy='45%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%23111827'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23020617'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='mountain-rock'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%2364748b'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23334155'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='mountain-snow'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23f8fafc'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23cbd5f5'%20/%3e%3c/linearGradient%3e%3cfilter%20id='mountain-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='6'%20stdDeviation='6'%20flood-color='%23f8fafc'%20flood-opacity='0.2'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23mountain-bg)'%20/%3e%3cg%20filter='url(%23mountain-glow)'%20stroke='%23cbd5f5'%20stroke-width='2'%20stroke-linejoin='round'%3e%3cpath%20fill='url(%23mountain-rock)'%20d='M24%20100l32-52%2014%2022%2012-18%2022%2048z'%20/%3e%3cpath%20fill='url(%23mountain-snow)'%20d='M56%2048l14%2022%2012-18%2010%2022H48z'%20opacity='0.85'%20/%3e%3cpath%20fill='none'%20stroke-linecap='round'%20opacity='0.6'%20d='M32%2094c10-6%2020-9%2032-9s22%203%2032%209'%20/%3e%3c/g%3e%3ccircle%20cx='92'%20cy='32'%20r='6'%20fill='%23f1f5f9'%20opacity='0.5'%20/%3e%3c/svg%3e",tS="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eWater%20Tile%3c/title%3e%3cdesc%20id='desc'%3eGlowing%20waves%20surrounding%20a%20crystalline%20droplet.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='water-bg'%20cx='50%25'%20cy='45%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230b1120'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23020617'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='water-wave'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%2338bdf8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230ea5e9'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='water-drop'%20x1='50%25'%20y1='0%25'%20x2='50%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230284c7'%20/%3e%3c/linearGradient%3e%3cfilter%20id='water-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='4'%20stdDeviation='8'%20flood-color='%2338bdf8'%20flood-opacity='0.3'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23water-bg)'%20/%3e%3cg%20filter='url(%23water-glow)'%3e%3cpath%20d='M32%2076c12-10%2024-15%2032-15s20%205%2032%2015'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='8'%20stroke-linecap='round'%20/%3e%3cpath%20d='M28%2092c14-12%2030-18%2040-18s26%206%2040%2018'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='6'%20stroke-linecap='round'%20opacity='0.7'%20/%3e%3cpath%20d='M40%2060c10-8%2018-12%2024-12s14%204%2024%2012'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='4'%20stroke-linecap='round'%20opacity='0.5'%20/%3e%3cpath%20d='M64%2030c-12%2020-18%2032-18%2042%200%2011%208%2020%2018%2020s18-9%2018-20c0-10-6-22-18-42z'%20fill='url(%23water-drop)'%20stroke='%23e0f2fe'%20stroke-width='2'%20/%3e%3c/g%3e%3ccircle%20cx='94'%20cy='34'%20r='6'%20fill='%23f8fafc'%20opacity='0.45'%20/%3e%3c/svg%3e",nS=.01;function Sv(n){return!Number.isFinite(n)||n<=nS?1:n}function aS(n,a){return n/Sv(a)}function _n(n,a){const s=Sv(a);return Math.round(n*s)/s}const Xp={[xn.Plains]:{baseColor:"#d8b869",icon:Ww},[xn.Forest]:{baseColor:"#237a55",icon:$w},[xn.Hills]:{baseColor:"#b57c57",icon:eS},[xn.Lake]:{baseColor:"#3185d5",icon:tS}},iS=[255,255,255],Kf=[12,18,28],sS=[0,0,0],qp="rgba(56, 189, 248, 0.85)",Yp="rgba(56, 189, 248, 0.45)";let Vl=null,Zl=null;const lS=n=>Math.min(1,Math.max(0,n));function rS(n){let a=n.trim().replace("#","");a.length===3&&(a=a.split("").map(r=>r+r).join(""));const s=Number.parseInt(a,16);return[s>>16&255,s>>8&255,s&255]}function oc(n,a,s){const r=lS(s);return[Math.round(n[0]+(a[0]-n[0])*r),Math.round(n[1]+(a[1]-n[1])*r),Math.round(n[2]+(a[2]-n[2])*r)]}function _p(n){return`rgb(${n[0]}, ${n[1]}, ${n[2]})`}function cc(n,a=1){return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${a})`}function uc(n,a=1){return cc(oc(Kf,iS,n),a)}function Gs(n,a=1){return cc(oc(Kf,sS,n),a)}const oS={terrain:.05,hover:.065,selection:.085},cS={terrain:1,hover:1.35,selection:2.1};function dc(n,a,s="terrain"){const r=n*oS[s],c=aS(r,a);return Math.max(cS[s],c)}function uS(){if(Vl&&Zl)return{stroke:Vl,glow:Zl};if(typeof window<"u"){const n=getComputedStyle(document.documentElement),a=n.getPropertyValue("--tile-highlight-ring").trim(),s=n.getPropertyValue("--tile-highlight-glow").trim();Vl=a||qp,Zl=s||Yp}else Vl=qp,Zl=Yp;return{stroke:Vl,glow:Zl}}function xv(n){return Math.min(1,Math.max(0,n))}function Sc(n){let a=n.trim();if(a.startsWith("#")&&(a=a.slice(1)),a.length===3){const s=Number.parseInt(a[0]+a[0],16),r=Number.parseInt(a[1]+a[1],16),c=Number.parseInt(a[2]+a[2],16);return[s,r,c]}if(a.length===6){const s=Number.parseInt(a,16),r=s>>16&255,c=s>>8&255,u=s&255;return[r,c,u]}return[0,0,0]}function dS(n,a,s){const r=xv(s),c=(u,f)=>Math.round(u+(f-u)*r);return[c(n[0],a[0]),c(n[1],a[1]),c(n[2],a[2])]}function fS([n,a,s],r){return`rgba(${n}, ${a}, ${s}, ${xv(r)})`}function ci(n,a,s,r){return fS(dS(n,a,s),r)}function hS(n){const{ctx:a,x:s,y:r,width:c,height:u,radius:f,baseColor:h}=n,m=Sc(h);a.save(),a.lineCap="round",a.lineJoin="round";const g=ci(m,[255,255,255],.35,.24);a.strokeStyle=g,a.lineWidth=Math.max(1,f*.06);const p=3,v=6,b=s+c*.12,E=s+c*.88;for(let P=0;P<p;P++){const L=P/Math.max(1,p-1),F=r+u*.28+L*u*.32,K=f*(.18-L*.05);a.beginPath();for(let J=0;J<=v;J++){const ie=J/v,I=b+(E-b)*ie,ne=Math.sin(ie*Math.PI*1.6+P*.8)*K,W=F-Math.abs(ne)*.55;J===0?a.moveTo(I,W):a.lineTo(I,W)}a.stroke()}const C=ci(m,[18,54,32],.4,.2);a.strokeStyle=C,a.lineWidth=Math.max(.75,f*.035);const T=5,B=f*.22;for(let P=0;P<T;P++){const L=s+c*(.2+P/Math.max(1,T-1)*.6),F=r+u*.55-Math.cos(P*.9)*f*.08;a.beginPath(),a.arc(L,F,B,Math.PI*.2,Math.PI*.85),a.stroke(),a.beginPath(),a.arc(L+B*.35,F-B*.1,B*.55,Math.PI*.15,Math.PI*.95),a.stroke()}a.restore()}function mS(n){const{ctx:a,centerX:s,centerY:r,radius:c,baseColor:u}=n,f=Sc(u);a.save(),a.lineCap="round";const h=ci(f,[255,235,214],.45,.22);a.strokeStyle=h,a.lineWidth=Math.max(1,c*.05);const m=4;for(let v=0;v<m;v++){const b=v/Math.max(1,m-1),E=c*(1.25-b*.45),C=c*(.72-b*.18),T=r+c*.18*(b-.5);a.beginPath(),a.ellipse(s,T,E,C,0,Math.PI*.12,Math.PI*.88),a.stroke()}const g=ci(f,[60,36,20],.35,.18);a.strokeStyle=g,a.lineWidth=Math.max(.85,c*.032),a.setLineDash([c*.22,c*.18]);const p=3;for(let v=0;v<p;v++){const b=c*(.75-v*.1),E=r+c*.28+v*c*.08;a.beginPath(),a.arc(s+c*.08,E,b,Math.PI*.28,Math.PI*.76),a.stroke()}a.setLineDash([]),a.restore()}function gS(n){const{ctx:a,x:s,y:r,width:c,height:u,radius:f,baseColor:h}=n,m=Sc(h);a.save(),a.lineCap="round",a.lineJoin="round";const g=ci(m,[255,255,255],.55,.28);a.strokeStyle=g,a.lineWidth=Math.max(1,f*.045);const p=4,v=7,b=s+c*.12,E=s+c*.88,C=f*.16;for(let P=0;P<p;P++){const L=P/Math.max(1,p-1),F=r+u*.3+L*u*.4;a.beginPath();for(let K=0;K<=v;K++){const J=K/v,ie=b+(E-b)*J,I=Math.sin(J*Math.PI*2+P*.6)*C*(.75-L*.2),ne=F+I;K===0?a.moveTo(ie,ne):a.lineTo(ie,ne)}a.stroke()}const T=ci(m,[12,52,94],.4,.2);a.strokeStyle=T,a.lineWidth=Math.max(.8,f*.03);const B=3;for(let P=0;P<B;P++){const L=P/Math.max(1,B-1),F=r+u*.35+L*u*.35;a.beginPath();for(let K=0;K<=v;K++){const J=K/v,ie=b+(E-b)*J,I=Math.sin(J*Math.PI*2+P)*C*.35,ne=F+I;K===0?a.moveTo(ie,ne):a.lineTo(ie,ne)}a.stroke()}a.restore()}function Cv(n){const{ctx:a,x:s,y:r,width:c,height:u,radius:f,baseColor:h}=n,m=Sc(h);a.save(),a.lineCap="round";const g=ci(m,[255,255,255],.42,.18);a.strokeStyle=g,a.lineWidth=Math.max(.85,f*.03);const p=f*.55;for(let E=-1;E<=2;E++){const C=p*E;a.beginPath(),a.moveTo(s+C,r+u*.25),a.lineTo(s+C+c*.75,r+u*.85),a.stroke()}const v=ci(m,[112,82,32],.3,.16);a.strokeStyle=v,a.lineWidth=Math.max(.7,f*.025),a.setLineDash([f*.24,f*.34]);const b=f*.48;for(let E=0;E<3;E++){const C=b*E;a.beginPath(),a.moveTo(s+c*.18+C,r+u*.78),a.lineTo(s+c*.7+C,r+u*.38),a.stroke()}a.setLineDash([]),a.restore()}const Kp=new Map;let Ni=null;function pS(){if(Ni)return Ni;const n="/";if(/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(n))return Ni=n,Ni;const s=n.startsWith("/")?n:`/${n}`;return typeof window<"u"&&typeof window.location?.origin=="string"?Ni=`${window.location.origin}${s}`:Ni=`http://localhost${s}`,Ni}function AS(n){let a=Kp.get(n);if(!a){a=new Image,a.decoding="async";const s=new URL(n,pS()).href;a.src=s,Kp.set(n,a)}if(a.complete&&a.naturalWidth>0&&a.naturalHeight>0)return a}const vS={[xn.Plains]:Cv,[xn.Forest]:hS,[xn.Hills]:mS,[xn.Lake]:gS};function Rv(n,a,s,r){n.beginPath();for(let c=0;c<6;c++){const u=Math.PI/180*(60*c-30),f=a+r*Math.cos(u),h=s+r*Math.sin(u);c===0?n.moveTo(f,h):n.lineTo(f,h)}n.closePath()}function yS(n,a,s,r){Rv(n,a,s,r),n.save(),n.lineJoin="round",n.lineCap="round",n.lineWidth=dc(r,1,"terrain"),n.strokeStyle=uc(.16,.6),n.stroke(),n.restore()}function bS(n,a,s,r,c,u,f,h){const m=Xp[a.terrain]??Xp[xn.Plains],g=rS(m.baseColor),p=r+u/2,v=c+f/2;n.save(),Rv(n,p,v,h),n.clip();const b=n.createRadialGradient(p,v,h*.2,p,v,h*1.05);b.addColorStop(0,_p(oc(g,[255,255,255],.3))),b.addColorStop(.7,m.baseColor),b.addColorStop(1,_p(oc(g,Kf,.4))),n.fillStyle=b,n.shadowColor=cc(g,.35),n.shadowBlur=h*.9,n.shadowOffsetX=0,n.shadowOffsetY=0,n.fillRect(r-h*.1,c-h*.1,u+h*.2,f+h*.2);const E={ctx:n,x:r,y:c,width:u,height:f,radius:h,centerX:p,centerY:v,baseColor:m.baseColor};(vS[a.terrain]??Cv)(E),n.globalCompositeOperation="lighter";const T=n.createRadialGradient(p,v,h*.85,p,v,h*1.18);T.addColorStop(0,"rgba(255, 255, 255, 0)"),T.addColorStop(1,cc(g,.18)),n.fillStyle=T,n.fillRect(r-h*.1,c-h*.1,u+h*.2,f+h*.2),n.globalCompositeOperation="source-over",n.restore();const B=AS(m.icon);if(B){const P=Math.min(u,f)*.62,L=p-P/2,F=v-P/2;n.save(),n.globalAlpha*=.92,n.drawImage(B,L,F,P,P),n.restore()}if(a.building){const P=s[`building-${a.building}`]??s.placeholder;n.drawImage(P,r,c,u,f)}}function ES(n,a){const s=Math.max(n.q*xa,a.minQ),r=Math.min(s+xa-1,a.maxQ),c=Math.max(n.r*xa,a.minR),u=Math.min(c+xa-1,a.maxR);return{qStart:s,qEnd:r,rStart:c,rEnd:u}}class wS{constructor(a){this.map=a,this.unsubscribe=a.addTileChangeListener((s,r,c)=>{this.onTileChange(s,c)})}chunkCanvases=new Map;dirtyChunks=new Set;cachedImages;unsubscribe;dispose(){this.unsubscribe(),this.chunkCanvases.clear(),this.dirtyChunks.clear(),this.cachedImages=void 0}invalidate(){this.chunkCanvases.clear(),this.dirtyChunks.clear(),this.cachedImages=void 0}markChunkDirty(a){this.dirtyChunks.add(a)}markTileDirty(a,s){this.dirtyChunks.add(Kw(a,s))}getRenderableChunks(a,s,r,c){this.refreshAssets(r);const u=[],{width:f,height:h}=rc(s);for(const m of wv(a)){const g=Ev(m),p=this.ensureChunk(g,m,s,f,h,r,c);p&&u.push(p)}return u}refreshAssets(a){if(this.cachedImages!==a){this.cachedImages=a;for(const s of this.chunkCanvases.keys())this.dirtyChunks.add(s)}}onTileChange(a,s){(s==="created"||s==="terrain"||s==="building"||s==="fog")&&this.markTileDirty(a.q,a.r)}ensureChunk(a,s,r,c,u,f,h){const m=this.chunkCanvases.get(a);if(!m||this.dirtyChunks.has(a)){const g=this.renderChunk(a,s,r,c,u,f,h,m);return this.dirtyChunks.delete(a),g?(this.chunkCanvases.set(a,g),g):(this.chunkCanvases.delete(a),null)}return m}renderChunk(a,s,r,c,u,f,h,m){if(typeof document>"u")return null;const{qStart:g,qEnd:p,rStart:v,rEnd:b}=ES(s,this.map);if(g>p||v>b)return null;const E=c/2,C=u/2;let T=1/0,B=1/0,P=-1/0,L=-1/0;const F=[];for(let ne=g;ne<=p;ne++)for(let W=v;W<=b;W++){const q=this.map.getTile(ne,W);if(!q||q.isFogged)continue;const{x:G,y:O}=Vn({q:ne,r:W},r),D=G-h.x-E,Y=O-h.y-C;T=Math.min(T,D),B=Math.min(B,Y),P=Math.max(P,D+c),L=Math.max(L,Y+u),F.push({tile:q,x:D,y:Y})}if(!Number.isFinite(T)||!Number.isFinite(B)||!Number.isFinite(P)||!Number.isFinite(L))return null;const K=Math.max(1,Math.ceil(P-T)),J=Math.max(1,Math.ceil(L-B));let ie=m?.canvas;(!ie||ie.width!==K||ie.height!==J)&&(ie=document.createElement("canvas"),ie.width=K,ie.height=J);const I=ie.getContext("2d");if(!I)throw new Error("Canvas 2D context not available for chunk rendering");I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,K,J);for(const{tile:ne,x:W,y:q}of F){const G=W-T,O=q-B;I.save(),bS(I,ne,f,G,O,c,u,r),yS(I,G+c/2,O+u/2,r),I.restore()}return{key:a,canvas:ie,origin:{x:T,y:B},width:K,height:J}}}const SS=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],wa=new Array(512);for(let n=0;n<512;n++)wa[n]=SS[n%256];const Vp=new Map,Zp=n=>n*n*n*(n*(n*6-15)+10),ef=(n,a,s)=>n+s*(a-n),Lo=(n,a,s)=>{switch(n&3){case 0:return a+s;case 1:return-a+s;case 2:return a-s;default:return-a-s}};function xS(n,a){const s=Math.floor(n)&255,r=Math.floor(a)&255,c=n-Math.floor(n),u=a-Math.floor(a),f=wa[wa[s+1]+r+1],h=wa[wa[s]+r+1],m=wa[wa[s+1]+r],g=wa[wa[s]+r],p=Zp(c),v=Zp(u),b=ef(Lo(g,c,u),Lo(m,c-1,u),p),E=ef(Lo(h,c,u-1),Lo(f,c-1,u-1),p);return ef(b,E,v)}function CS(n,a,s=4){let r=0,c=1,u=1,f=0;for(let h=0;h<s;h++)r+=xS(n*c,a*c)*u,f+=u,u*=.5,c*=2;return f>0?r/f:0}function RS(n){const a=Math.max(32,Math.min(512,Math.round(n))),s=a,r=Vp.get(s);if(r)return r;if(typeof document>"u")return null;const c=document.createElement("canvas");c.width=a,c.height=a;const u=c.getContext("2d");if(!u)return null;const f=u.createImageData(a,a),h=a/48;let m=0;for(let g=0;g<a;g++)for(let p=0;p<a;p++){const v=CS(p/h,g/h,5),b=Math.pow((v+1)/2,1.35),E=Math.round(b*255);f.data[m]=255,f.data[m+1]=255,f.data[m+2]=255,f.data[m+3]=E,m+=4}return u.putImageData(f,0,0),Vp.set(s,c),c}function Jp(n,a,s,r){n.beginPath();for(let c=0;c<6;c++){const u=Math.PI/180*(60*c-30),f=a+r*Math.cos(u),h=s+r*Math.sin(u);c===0?n.moveTo(f,h):n.lineTo(f,h)}n.closePath()}function BS(n,a,s,r){const c=n.createRadialGradient(a,s,r*.08,a,s,r*1.12);return c.addColorStop(0,uc(.4,.35)),c.addColorStop(.35,uc(.2,.55)),c.addColorStop(.6,Gs(.1,.78)),c.addColorStop(.82,Gs(.2,.88)),c.addColorStop(1,Gs(.35,.95)),c}function MS(n,a,s,r,c){if(r<=0)return;const u=RS(r*2.2),f=r*2.5,h=a-f/2,m=s-f/2;n.save(),Jp(n,a,s,r),n.clip();const g=BS(n,a,s,r);n.fillStyle=g,n.fillRect(h,m,f,f),u&&(n.save(),n.globalCompositeOperation="lighter",n.globalAlpha*=.32,n.drawImage(u,a-r,s-r,r*2,r*2),n.restore()),n.restore(),n.save(),Jp(n,a,s,r*.99),n.lineJoin="round",n.lineCap="round",n.lineWidth=dc(r,c,"hover"),n.strokeStyle=Gs(.3,.88),n.shadowColor=Gs(.45,.42),n.shadowBlur=Math.max(3,r*.45/Math.max(c,.1)),n.stroke(),n.restore()}class DS{constructor(a){this.mapRef=a,this.terrainCache=new wS(a),this.cachedHexSize=a.hexSize}terrainCache;cachedHexSize;get hexSize(){return this.mapRef.hexSize}getOrigin(){return Vn({q:this.mapRef.minQ,r:this.mapRef.minR},this.hexSize)}invalidateCache(){this.terrainCache.invalidate()}dispose(){this.terrainCache.dispose()}draw(a,s,r){this.ensureHexSize();const c=a.canvas??null,u=_w(this.mapRef,Se,c,this.hexSize);if(!u)return;const f=Vw(u);Jw(this.mapRef,f);const h=this.getOrigin(),m=this.terrainCache.getRenderableChunks(f,this.hexSize,s,h);this.drawChunks(a,m),this.drawFogLayer(a,h,u),r&&this.drawSelection(a,h,r)}drawToCanvas(a,s,r){const c=a.getContext("2d");if(!c)throw new Error("Canvas 2D context not available");this.draw(c,s,r)}ensureHexSize(){this.cachedHexSize!==this.hexSize&&(this.cachedHexSize=this.hexSize,this.terrainCache.invalidate())}drawChunks(a,s){if(s.length!==0)for(const r of s)a.drawImage(r.canvas,r.origin.x,r.origin.y)}drawSelection(a,s,r){const{width:c,height:u}=rc(this.hexSize),{x:f,y:h}=Vn(r,this.hexSize),m=f-s.x-c/2,g=h-s.y-u/2;this.strokeHex(a,m+c/2,g+u/2,this.hexSize,!0)}drawFogLayer(a,s,r){const{width:c,height:u}=rc(this.hexSize),f=c/2,h=u/2;for(let m=r.rMin;m<=r.rMax;m++)for(let g=r.qMin;g<=r.qMax;g++){const p=this.mapRef.getTile(g,m);if(!p||!p.isFogged)continue;const{x:v,y:b}=Vn({q:g,r:m},this.hexSize),E=v-s.x-f,C=b-s.y-h,T=this.hexSize,B=E+c/2,P=C+u/2;MS(a,B,P,T,Se.zoom)}}strokeHex(a,s,r,c,u=!1){const{stroke:f,glow:h}=uS();this.hexPath(a,s,r,c),a.save(),a.lineJoin="round",a.lineCap="round",u?(a.shadowColor=h,a.shadowBlur=Math.max(6,c*.65/Math.max(Se.zoom,.1)),a.lineWidth=dc(c,Se.zoom,"selection"),a.strokeStyle=f,a.stroke()):(a.lineWidth=dc(c,Se.zoom,"hover"),a.shadowColor=uc(.1,.45),a.shadowBlur=Math.max(2,c*.4/Math.max(Se.zoom,.1)),a.strokeStyle=Gs(.1,.72),a.stroke()),a.restore()}hexPath(a,s,r,c){a.beginPath();for(let u=0;u<6;u++){const f=Math.PI/180*(60*u-30),h=s+c*Math.cos(f),m=r+c*Math.sin(f);u===0?a.moveTo(h,m):a.lineTo(h,m)}a.closePath()}}const ai={accent:"#38bdf8",accentSoft:"rgba(56, 189, 248, 0.2)",warm:"#fbbf24",surface:"rgba(15, 23, 42, 0.92)",border:"rgba(148, 163, 184, 0.34)",text:"#e2e8f0"};let ii=null;function Ms(n,a){const s=n.trim();return s.length>0?s:a}function TS(){if(ii)return ii;if(typeof window>"u"||typeof document>"u")return ii=ai,ii;try{const n=getComputedStyle(document.documentElement);return ii={accent:Ms(n.getPropertyValue("--color-accent"),ai.accent),accentSoft:Ms(n.getPropertyValue("--color-accent-soft"),ai.accentSoft),warm:Ms(n.getPropertyValue("--color-warning"),ai.warm),surface:Ms(n.getPropertyValue("--color-surface-strong"),ai.surface),border:Ms(n.getPropertyValue("--hud-border-strong"),ai.border),text:Ms(n.getPropertyValue("--color-foreground"),ai.text)},ii}catch(n){return console.warn("Failed to read sauna palette tokens from computed styles",n),ii=ai,ii}}function kS(n,a){const s=Math.max(0,n.auraRadius),r=Vn(n.pos,a),c=r.x+a,u=r.y+a;let f=a;if(s<=0)return a*1.6;for(const h of DA){const m=Vn({q:n.pos.q+h.q*s,r:n.pos.r+h.r*s},a),g=m.x+a,p=m.y+a,v=Math.hypot(g-c,p-u);v>f&&(f=v)}return f+a*.65}function HS(n,a,s,r,c,u){const f=Math.max(0,Math.min(u,Math.min(r,c)/2));n.moveTo(a+f,s),n.lineTo(a+r-f,s),n.quadraticCurveTo(a+r,s,a+r,s+f),n.lineTo(a+r,s+c-f),n.quadraticCurveTo(a+r,s+c,a+r-f,s+c),n.lineTo(a+f,s+c),n.quadraticCurveTo(a,s+c,a,s+c-f),n.lineTo(a,s+f),n.quadraticCurveTo(a,s,a+f,s),n.closePath()}function OS(n,a,{origin:s,hexSize:r,timestamp:c}){if(!a)return;const u=TS(),f=Number.isFinite(c)?c:typeof performance<"u"?performance.now():Date.now(),h=.5+.5*Math.sin(f*.0035),m=Vn(a.pos,r),g=m.x-s.x+r,p=m.y-s.y+r,v=kS(a,r);n.save(),n.globalCompositeOperation="screen";const b=v+r*(.4+h*.3),E=Math.max(r*.6,v*.58),C=n.createRadialGradient(g,p,E,g,p,b);C.addColorStop(0,u.accentSoft),C.addColorStop(.55,`rgba(56, 189, 248, ${.18+h*.12})`),C.addColorStop(1,"rgba(2, 6, 23, 0)"),n.fillStyle=C,n.beginPath(),n.arc(g,p,b,0,Math.PI*2),n.fill(),n.restore(),n.save(),n.globalCompositeOperation="lighter",n.lineWidth=Math.max(r*.28,6),n.strokeStyle=`rgba(56, 189, 248, ${(.35+h*.2).toFixed(3)})`,n.shadowColor=`rgba(56, 189, 248, ${.45+h*.1})`,n.shadowBlur=r*(.9+h*.45),n.beginPath(),n.arc(g,p,v+r*.12,0,Math.PI*2),n.stroke(),n.restore();const T=r*.9;n.save(),n.beginPath(),n.arc(g,p,T,0,Math.PI*2),n.fillStyle=u.surface,n.globalAlpha*=.96,n.fill(),n.lineWidth=Math.max(1.5,r*.06),n.strokeStyle=u.border,n.shadowColor="rgba(8, 25, 53, 0.6)",n.shadowBlur=r*.45,n.stroke(),n.restore();const B=T*.78,P=Math.max(r*.22,5);n.save(),n.lineWidth=P,n.strokeStyle="rgba(148, 163, 184, 0.24)",n.beginPath(),n.arc(g,p,B,0,Math.PI*2),n.stroke(),n.restore();const L=a.playerSpawnCooldown>0?a.playerSpawnCooldown:1,K=1-Math.min(1,Math.max(0,a.playerSpawnTimer/L)),J=-Math.PI/2,ie=J+Math.PI*2*K;if(K>0){n.save(),n.lineWidth=P,n.lineCap="round";const z=n.createLinearGradient(g,p-B,g,p+B);z.addColorStop(0,u.accent),z.addColorStop(1,u.warm),n.strokeStyle=z,n.shadowColor=`rgba(56, 189, 248, ${.42+h*.18})`,n.shadowBlur=r*(.65+h*.35),n.beginPath(),n.arc(g,p,B,J,ie,!1),n.stroke(),n.restore()}const I=Math.max(0,a.playerSpawnTimer),ne=Math.ceil(I);n.save(),n.font=`600 ${Math.max(12,r*.9)}px "Inter", "Manrope", "Segoe UI", sans-serif`,n.fillStyle=u.text,n.textAlign="center",n.textBaseline="middle",n.shadowColor="rgba(2, 6, 23, 0.6)",n.shadowBlur=r*.35,n.fillText(String(ne),g,p),n.restore(),n.save(),n.font=`500 ${Math.max(10,r*.36)}px "Inter", "Manrope", "Segoe UI", sans-serif`,n.fillStyle="rgba(148, 163, 184, 0.78)",n.textAlign="center",n.textBaseline="top",n.fillText("sec",g,p+B*.45),n.restore();const W="Sauna ♨️",q=Math.max(12,r*.58);n.save(),n.font=`600 ${q}px "Inter", "Manrope", "Segoe UI", sans-serif`;const G=n.measureText(W),O=r*.58,D=r*.32,Y=G.width+O*2,j=q+D*2,R=g-Y/2,U=p-v-j-r*.35,ae=j/2;n.beginPath(),HS(n,R,U,Y,j,ae);const de=n.createLinearGradient(R,U,R,U+j);de.addColorStop(0,"rgba(15, 23, 42, 0.94)"),de.addColorStop(.55,"rgba(15, 23, 42, 0.86)"),de.addColorStop(1,"rgba(30, 41, 59, 0.9)"),n.fillStyle=de,n.shadowColor="rgba(8, 25, 53, 0.6)",n.shadowBlur=r*.4,n.fill(),n.lineWidth=Math.max(1.5,r*.06);const w=n.createLinearGradient(R,U,R+Y,U);w.addColorStop(0,`${u.accent}`),w.addColorStop(1,`${u.warm}`),n.strokeStyle=w,n.stroke(),n.fillStyle=u.text,n.shadowColor="rgba(8, 25, 53, 0.65)",n.shadowBlur=r*.3,n.textAlign="center",n.textBaseline="middle",n.fillText(W,g,U+j/2+q*.05),n.restore()}const Bv={nativeSize:{width:64,height:64},anchor:{x:.5,y:.92},scale:{x:1,y:1},nudge:{x:0,y:-.05}},PS={default:Bv,soldier:{nativeSize:{width:128,height:128},anchor:{x:.5,y:.88},scale:{x:1.06,y:1.18},nudge:{x:0,y:-.1}},archer:{nativeSize:{width:128,height:128},anchor:{x:.5,y:.86},scale:{x:1.04,y:1.16},nudge:{x:0,y:-.08}},"avanto-marauder":{nativeSize:{width:128,height:128},anchor:{x:.5,y:.86},scale:{x:1.08,y:1.12},nudge:{x:0,y:-.12}},saunoja:{nativeSize:{width:128,height:128},anchor:{x:.5,y:.66},scale:{x:1,y:1},nudge:{x:0,y:-.02}}};function Mv(n){return PS[n]??Bv}function Dv(n,a,s,r){const{x:c,y:u}=Vn(n,a),f=r.nudge.x*a,h=r.nudge.y*a;return{x:c-s.x+f,y:u-s.y+h}}function NS({coord:n,hexSize:a,origin:s,zoom:r,type:c}){const u=Mv(c),f=Dv(n,a,s,u);return{x:_n(f.x,r),y:_n(f.y,r)}}function QS({coord:n,hexSize:a,origin:s,zoom:r,type:c}){const u=Mv(c),f=Dv(n,a,s,u),{width:h,height:m}=rc(a),g=h*u.scale.x,p=m*u.scale.y,v=_n(f.x-g*u.anchor.x,r),b=_n(f.y-p*u.anchor.y,r),E=_n(g,r),C=_n(p,r),T=v+E*u.anchor.x,B=b+C*u.anchor.y;return{drawX:v,drawY:b,width:E,height:C,centerX:T,centerY:B,metadata:u}}function GS(n){if(!n||typeof n!="object")return!1;const a=n;return!!a.coord&&typeof a.coord=="object"&&typeof a.coord.q=="number"&&typeof a.coord.r=="number"&&typeof a.range=="number"}function US(n){if(!n)return null;if(GS(n)){const a=Number.isFinite(n.range)?Math.max(0,n.range):0;return{coord:n.coord,range:a}}if("pos"in n&&"auraRadius"in n){const a=Number.isFinite(n.auraRadius)?Math.max(0,n.auraRadius):0;return{coord:n.pos,range:a}}return null}function LS(n,a,s,r,c,u){const f=window.devicePixelRatio||1,h=n.canvas.width,m=n.canvas.height;n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,h,m);const g=h/f,p=m/f;n.scale(f,f),n.translate(g/2,p/2),n.scale(Se.zoom,Se.zoom);const v=a.getOrigin();n.translate(-(Se.x-v.x),-(Se.y-v.y)),a.draw(n,s,c??void 0);const b=u?.saunojas;b&&Array.isArray(b.units)&&b.units.length>0&&b.draw(n,b.units,{originX:v.x,originY:v.y,hexRadius:a.hexSize,zoom:Se.zoom}),jS(n,a,s,r,v,u?.fx,u?.friendlyVisionSources,u?.saunaVision??u?.sauna??null),u?.sauna&&OS(n,u.sauna,{origin:v,hexSize:a.hexSize}),n.restore()}function jS(n,a,s,r,c,u,f,h){const g=(f??r).filter(v=>v.faction==="player"&&!v.isDead()).map(v=>({coord:v.coord,range:v.getVisionRange()})),p=US(h);p&&g.push(p);for(const v of r){if(v.isDead()||v.faction==="enemy"&&!g.some(({coord:J,range:ie})=>Ds(J,v.coord)<=ie))continue;const b=s[`unit-${v.type}`]??s.placeholder,E=v.getMaxHealth();n.save();const C=u?.getUnitAlpha?.(v);if(typeof C=="number"){const J=Math.min(1,Math.max(0,C));if(J<=0){n.restore();continue}n.globalAlpha*=J}v.stats.health/E<.5&&(n.filter="saturate(0)");const T=v.renderCoord??v.coord,B=QS({coord:T,hexSize:a.hexSize,origin:c,zoom:Se.zoom,type:v.type}),P=[];v.stats.health/E<.5&&P.push("saturate(0)");const L=Math.abs(T.q-v.coord.q),F=Math.abs(T.r-v.coord.r),K=Math.min(1,L+F);K>.01?(P.push("contrast(1.08)"),n.shadowColor="rgba(255, 255, 255, 0.28)",n.shadowBlur=Math.max(6,12*Se.zoom*K)):(n.shadowColor="rgba(0, 0, 0, 0)",n.shadowBlur=0),n.filter=P.length>0?P.join(" "):"none",n.drawImage(b,B.drawX,B.drawY,B.width,B.height),_f()&&v.faction==="player"&&(n.strokeStyle="rgba(255,255,255,0.5)",n.lineWidth=2,n.strokeRect(B.drawX,B.drawY,B.width,B.height)),n.restore()}}const zS=200,Wp=.001;function tf(n){return{q:n.q,r:n.r}}function jo(n,a){return!n||!a?!1:Math.abs(n.q-a.q)<Wp&&Math.abs(n.r-a.r)<Wp}class IS{constructor(a){this.redraw=a}tracks=new Map;rafId=null;enqueue(a,s){const r=this.normalizePath(s);if(r.length<2){this.clear(a,{snap:!0});return}const c=r[0];let u=this.tracks.get(a.id);u?u.current?jo(u.current.to,c)||(u=this.resetTrack(a,c)):jo(a.renderCoord,c)||(u=this.resetTrack(a,c)):(u={unit:a,queue:[]},this.tracks.set(a.id,u),jo(a.renderCoord,c)||a.setRenderCoord(c));for(let f=1;f<r.length;f++)u.queue.push(tf(r[f]));this.ensureRunning()}clear(a,s){if(!this.tracks.delete(a.id)){s?.snap&&(a.snapRenderToCoord(),this.redraw());return}(s?.snap??!0)&&(a.snapRenderToCoord(),this.redraw()),this.tracks.size===0&&this.rafId!==null&&(typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(this.rafId),this.rafId=null)}clearAll(){for(const a of this.tracks.values())a.unit.snapRenderToCoord();this.tracks.clear(),this.rafId!==null&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(this.rafId),this.rafId=null,this.redraw()}resetTrack(a,s){this.clear(a,{snap:!1});const r={unit:a,queue:[]};return this.tracks.set(a.id,r),a.setRenderCoord(s),r}ensureRunning(){this.rafId!==null||this.tracks.size===0||(this.rafId=requestAnimationFrame(this.step))}normalizePath(a){const s=[];for(const r of a){const c=tf(r);(s.length===0||!jo(s[s.length-1],c))&&s.push(c)}return s}ease(a){return a<=0?0:a>=1?1:a<.5?4*a*a*a:1-Math.pow(-2*a+2,3)/2}step=a=>{if(this.rafId=null,this.tracks.size===0)return;let s=!1;for(const[r,c]of this.tracks){if(!c.current){const b=c.queue.shift();if(!b){this.tracks.delete(r);continue}c.current={from:tf(c.unit.renderCoord??c.unit.coord),to:b,start:a}}const u=c.current;if(!u)continue;const h=(a-u.start)/zS,m=Math.min(1,Math.max(0,h)),g=this.ease(m),p=u.from.q+(u.to.q-u.from.q)*g,v=u.from.r+(u.to.r-u.from.r)*g;c.unit.setRenderCoord({q:p,r:v}),s=!0,m>=1&&(c.unit.setRenderCoord(u.to),c.current=void 0,c.queue.length===0&&this.tracks.delete(r))}s&&this.redraw(),this.tracks.size>0&&(this.rafId=requestAnimationFrame(this.step))}}const FS=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null,XS=typeof matchMedia=="function"?matchMedia("(pointer: coarse)"):null,qS=900,YS=650;function _S(n){switch(n){case"down":return{x:0,y:36};case"left":return{x:-26,y:-18};case"right":return{x:26,y:-18};case"up":default:return{x:0,y:-40}}}function KS(n){const a=document.createElement("div");a.className="ui-floater-layer",n.appendChild(a);const s=!!FS?.matches,r=!!XS?.matches;return{spawn:({text:f,x:h,y:m,color:g,direction:p="up",durationMs:v,fontSize:b})=>{const E=document.createElement("span");E.className="ui-floater",E.textContent=f,E.style.left=`${Math.round(h)}px`,E.style.top=`${Math.round(m)}px`,g&&(E.style.color=g),b&&(E.style.fontSize=`${b}px`);const C=r?12:24;for(;a.childElementCount>=C;)a.firstElementChild?.remove();a.appendChild(E);const T=v??(r?YS:qS);if(s||!E.animate){E.style.opacity="0",E.style.transition=`opacity ${Math.round(T*.8)}ms ease-out`,requestAnimationFrame(()=>{E.style.opacity="1",requestAnimationFrame(()=>{E.style.opacity="0"})}),window.setTimeout(()=>{E.remove()},T);return}const B=_S(p),P=[{transform:"translate3d(-50%, -50%, 0) translate3d(0, 0, 0)",opacity:0},{transform:"translate3d(-50%, -50%, 0) translate3d(0, 0, 0)",opacity:1,offset:.18},{transform:`translate3d(-50%, -50%, 0) translate3d(${B.x}px, ${B.y}px, 0)`,opacity:0}],L=E.animate(P,{duration:T,easing:"cubic-bezier(0.18, 0.89, 0.32, 1.28)",fill:"forwards"});L.onfinish=()=>{E.remove()}},destroy:()=>{a.remove()}}}const $p=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),VS=new Intl.NumberFormat("en-US",{maximumFractionDigits:1,minimumFractionDigits:0});function eA(n){return 1-(1-n)*(1-n)}function zo(n,a,s){return Math.min(s,Math.max(a,n))}const ZS="var(--color-danger)",JS="color-mix(in srgb, #34d399 88%, white 12%)",WS=720,$S=540,e3=220,t3=180,n3=6,a3=3,i3="color-mix(in srgb, #fbbf24 82%, white 10%)",s3=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null,l3=typeof matchMedia=="function"?matchMedia("(pointer: coarse)"):null;function r3(n){const{canvas:a,overlay:s,mapRenderer:r,getUnitById:c,requestDraw:u}=n,f=KS(s),h=new Map,m=new Map,g=[],p={x:0,y:0},v=!!s3?.matches,b=!!l3?.matches,E=b?$S:WS,C=b?t3:e3,T=b?a3:n3,B=()=>{u&&(typeof requestAnimationFrame=="function"?requestAnimationFrame(()=>u()):u())},P=q=>{const G=a.getBoundingClientRect(),O=s.getBoundingClientRect();if(G.width===0||G.height===0)return null;const{x:D,y:Y}=Vn(q,r.hexSize),j=(D-Se.x)*Se.zoom+G.width/2,R=(Y-Se.y)*Se.zoom+G.height/2,U=r.hexSize*Se.zoom*.75;return{x:j+(G.left-O.left),y:R+(G.top-O.top)-U}},L=(q,G,O,D="up")=>{const Y=c(q);if(!Y)return;const j=P(Y.renderCoord??Y.coord);j&&f.spawn({text:G,x:j.x,y:j.y,color:O,direction:D,fontSize:b?18:void 0})},F=q=>{if(!q||q.amount<=0)return;const G=$p.format(Math.max(1,Math.round(q.amount)));if(L(q.targetId,`-${G}`,ZS,"up"),!v){const O=typeof performance<"u"?performance.now():Date.now();g.push({start:O,duration:C,intensity:T,seedX:Math.random()*500,seedY:Math.random()*500})}B()},K=q=>{if(!q||q.amount<=0)return;const G=q.amount>=1?$p.format(Math.round(q.amount)):VS.format(zo(q.amount,0,9.9));L(q.unitId,`+${G}`,JS,"up"),B()},J=q=>{if(!q)return;const G=typeof performance<"u"?performance.now():Date.now();h.set(q.unitId,{start:G,duration:E}),L(q.unitId,"✖",i3,"down"),B()};return te.on("unitDamaged",F),te.on("unitHealed",K),te.on("unitDied",J),{step:q=>{if(v)p.x=0,p.y=0;else{let G=0,O=0;for(let D=g.length-1;D>=0;D--){const Y=g[D],j=q-Y.start;if(j>=Y.duration){g.splice(D,1);continue}const R=zo(j/Y.duration,0,1),U=Y.intensity*eA(1-R);G+=Math.sin((q+Y.seedX)/16)*U,O+=Math.cos((q+Y.seedY)/18)*U}p.x=G,p.y=O}for(const[G,O]of h){const D=q-O.start,Y=zo(D/O.duration,0,1),j=1-eA(Y);if(Y>=1){m.delete(G),h.delete(G);continue}m.set(G,zo(j,0,1))}},getShakeOffset:()=>({x:p.x,y:p.y}),getUnitAlpha:q=>m.get(q)??1,dispose:()=>{te.off("unitDamaged",F),te.off("unitHealed",K),te.off("unitDied",J),g.length=0,h.clear(),m.clear(),f.destroy()}}}function o3(){return`${"/".endsWith("/")?"/":"//"}${"assets/units/saunoja.svg".replace(/^\/+/,"")}`}const tA=o3();let Os=null,Jl=null;function Cf(n){return!!(n&&n.complete&&n.naturalWidth>0&&n.naturalHeight>0)}function c3(n,a){if(!a)return n;try{a(n)}catch(s){console.error("Saunoja icon onLoad callback failed",s)}return n}function Tv(n){const a=r=>n?r.then(c=>c3(c,n)):r;if(Cf(Os))return a(Promise.resolve(Os));if(Jl)return a(Jl);if(typeof Image>"u")return Promise.reject(new Error("Image constructor is not available in this environment."));const s=new Image;return s.decoding="async",Os=s,Jl=new Promise((r,c)=>{const u=()=>{s.onload=null,s.onerror=null},f=()=>{u(),r(s)};s.onload=f,s.onerror=h=>{u(),Os=null,Jl=null;const m=new Error(`Failed to load saunoja icon from ${tA}`);console.warn(m.message,h),c(m)},s.src=tA,Cf(s)&&f()}),a(Jl)}function u3(n,a,{originX:s=0,originY:r=0,hexRadius:c=Xs,zoom:u=1}={}){if(!n||!Array.isArray(a)||a.length===0)return;const f=Cf(Os)?Os:null;if(!f)return;const h=Number.isFinite(c)&&c>0?c:Xs,m=h*.98,g=[...a].sort((p,v)=>p.coord.r!==v.coord.r?p.coord.r-v.coord.r:p.coord.q!==v.coord.q?p.coord.q-v.coord.q:p.id.localeCompare(v.id));for(const p of g){const{x:v,y:b}=NS({coord:p.coord,hexSize:h,origin:{x:s,y:r},zoom:u,type:"saunoja"});n.save(),ir(n,v,b,m),n.clip();const E=h*2.15/Math.max(f.naturalWidth,f.naturalHeight||1),C=_n(f.naturalWidth*E,u),T=_n(f.naturalHeight*E,u),B=_n(v-C/2,u),P=_n(b-T*.72,u);n.save(),n.filter="grayscale(100%) contrast(112%)",n.globalAlpha*=.96,n.drawImage(f,B,P,C,T),n.restore(),n.save(),n.globalCompositeOperation="multiply";const L=n.createRadialGradient(v,b+m*.38,m*.2,v,b+m*.38,m*1.05);L.addColorStop(0,"rgba(15, 23, 42, 0.55)"),L.addColorStop(1,"rgba(15, 23, 42, 0)"),n.fillStyle=L,n.fillRect(v-m,b-m,m*2,m*2),n.restore(),n.save(),n.globalCompositeOperation="soft-light";const F=n.createLinearGradient(v,b-m,v,b+m);F.addColorStop(0,"rgba(255, 232, 210, 0.18)"),F.addColorStop(.52,"rgba(255, 183, 124, 0.32)"),F.addColorStop(1,"rgba(212, 97, 54, 0.5)"),n.fillStyle=F,n.fillRect(v-m,b-m,m*2,m*2),n.restore(),n.save(),n.globalCompositeOperation="screen",n.globalAlpha=.75;const K=n.createRadialGradient(v,b-m*.68,m*.1,v,b,m*1.12);K.addColorStop(0,"rgba(255, 255, 255, 0.85)"),K.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=K,n.fillRect(v-m,b-m,m*2,m*2),n.restore();const ie=performance.now()-p.lastHitAt,I=120;if(ie<I){const q=1-ie/I;mE(n,{centerX:v,centerY:b,radius:m,progress:q})}n.restore(),gE(n,{centerX:v,centerY:b-h*.18,radius:h*.94,intensity:p.steam});const ne=h*.42,W=b+h*.34;hE(n,{centerX:v,centerY:W,hp:p.hp,maxHp:p.maxHp,radius:ne})}}const d3=["Resolute Sauna Guardian","Steam Scholar","Frost-Hardened","Loyal Watchbearer","Aura Whisperer","Shield Brother","Stonefooted Scout","Sisu-Forged Veteran","Brewmaster Quartermaster","Icebreaker Herald","Runic Tactician","Torchbearer"],f3=["Heat Fickle","Soot Allergic","Slow to Spark","Overconfident","Distracted Dreamer","Stubborn Stoker","Thirsty Between Battles","Clumsy Footwork","Rust-Prone Gear","Echo-Lost Listener"];function nA(n,a,s){const r=[...n],c=[],u=Math.max(0,Math.min(a,r.length));for(let f=0;f<u;f++){const h=Math.floor(s()*r.length),[m]=r.splice(h,1);m&&c.push(m)}return c}function h3(n,a){for(let s=n.length-1;s>0;s--){const r=Math.floor(a()*(s+1));[n[s],n[r]]=[n[r],n[s]]}return n}function m3(n=Math.random){typeof n!="function"&&(n=Math.random);const a=nA(d3,2,n),s=nA(f3,1,n),r=[...a,...s];return h3(r,n).map(c=>c.trim()).filter(c=>c.length>0)}const g3=1;function Wl(n,a=0){return Number.isFinite(n)?n:a}function p3(n){const{heat:a,pickSpawnTile:s,spawnUnit:r,maxSpawns:c,tierHelpers:u}=n,f=Math.max(g3,Qs),h=Math.max(0,Wl(n.minUpkeepReserve??f,f));let m=Math.max(0,Wl(n.availableUpkeep,0));const g=Math.max(0,Math.floor(Wl(c??Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY))),p=Wl(n.rosterCap??Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),v=Number.isFinite(p)?Math.max(0,Math.floor(p)):Number.POSITIVE_INFINITY,b=typeof n.getRosterCount=="function"?n.getRosterCount:()=>0;let E=0,C=0,T=0,B=0,P=0,L=0,F=0;for(;(a.hasTriggerReady()||u?.hasQueuedSpawn())&&E<g;){E+=1;const K=u?.getSnapshot()??null;if(Math.max(0,Math.floor(Wl(b()??0,0)))>=v){L+=1;let W=!1;K&&u&&(W=u.queueBlockedSpawn(K,()=>a.consumeTrigger())),W?C+=a.vent(.15):C+=a.vent(.35);break}let ie=!1;if(K&&u&&u.hasQueuedSpawn()&&(ie=u.takeQueuedSpawn(K)),!ie&&!a.hasTriggerReady())break;if(m<h){B+=1,ie&&K&&u?.restoreQueuedSpawn(K),C+=a.vent(.5);break}const I=s();if(!I){P+=1,ie&&K&&u?.restoreQueuedSpawn(K),C+=a.vent(.25);break}if(!r(I)){F+=1,ie&&K&&u?.restoreQueuedSpawn(K),C+=a.vent(.25);break}if(!ie&&!a.consumeTrigger()){F+=1;break}T+=1,m=Math.max(0,m-h),K&&u?.onSpawnResolved?.(K,{usedQueue:ie})}return{spawned:T,blockedByUpkeep:B,blockedByPosition:P,blockedByRoster:L,failedSpawns:F,ventedHeat:C,remainingUpkeep:m}}function nf(n,a=0){return Number.isFinite(n)?n:a}function A3(n){const a=Math.max(0,nf(n.dt,0)),{addedHeat:s,cooledHeat:r}=n.heat.advance(a);let c=0;for(const E of n.units){if(E.isDead()||E.faction!=="player")continue;const C=Math.max(0,nf(n.getUnitUpkeep(E),0));C>0&&(c+=C)}const u=5;let h=Math.max(0,nf(n.sauna.beerUpkeepAccumulator,0)),m=0;if(c>0){if(h+=a,h>=u){const E=Math.floor(h/u);m=c*E,h-=E*u}}else h=0;n.sauna.beerUpkeepAccumulator=h,m>0&&n.state.addResource(le.SAUNA_BEER,-m);const g=n.state.getResource(le.SAUNA_BEER),p=p3({heat:n.heat,availableUpkeep:g,pickSpawnTile:n.pickSpawnTile,spawnUnit:n.spawnBaseUnit,minUpkeepReserve:n.minUpkeepReserve,maxSpawns:n.maxSpawns,rosterCap:n.rosterCap,getRosterCount:n.getRosterCount,tierHelpers:n.tierHelpers}),v=n.heat.getCooldownSeconds(),b=n.heat.timeUntilNextTrigger();return n.sauna.heat=n.heat.getHeat(),n.sauna.playerSpawnThreshold=n.heat.getThreshold(),n.sauna.playerSpawnCooldown=Number.isFinite(v)?v:0,n.sauna.playerSpawnTimer=Number.isFinite(b)?b:0,n.sauna.heatPerTick=n.heat.getBuildRate(),{addedHeat:s,cooledHeat:r,upkeepDrain:m,spawn:p,beerRemaining:n.state.getResource(le.SAUNA_BEER),availableUpkeep:p.remainingUpkeep}}function v3(){try{return globalThis.localStorage??null}catch(n){return console.warn("Unable to access localStorage for inventory persistence",n),null}}function y3(n,a){const s=n.getItem(a);if(s)try{return JSON.parse(s)}catch(r){console.warn(`Failed to parse persisted inventory for "${a}", clearing.`,r),n.removeItem(a);return}}function Io(n,a,s){const r=Number.isFinite(n.quantity)?n.quantity:1,c=Math.max(1,Math.round(r)),u=typeof n.rarity=="string"?n.rarity.trim():void 0,f=typeof n.icon=="string"?n.icon:void 0,h=typeof n.description=="string"?n.description:void 0;return{id:n.id,name:n.name,description:h,icon:f,rarity:u,quantity:c,acquiredAt:a,sourceTableId:s?.tableId,sourceEntryId:s?.entryId}}class b3{listeners=new Set;storageKey;now;maxStashSize;storage;autoEquip;stash=[];inventory=[];constructor(a={}){this.storageKey=a.storageKey??"autobattles:inventory",this.now=typeof a.now=="function"?a.now:()=>Date.now(),this.maxStashSize=Math.max(1,Math.floor(a.maxStashSize??24)),this.storage=v3(),this.autoEquip=a.autoEquip??!0,this.load()}load(){if(!this.storage)return;const a=y3(this.storage,this.storageKey);if(a){if(typeof a.autoEquip=="boolean"&&(this.autoEquip=a.autoEquip),Array.isArray(a.stash)){const s=[];for(const r of a.stash){if(!r||typeof r!="object")continue;const{id:c,name:u,quantity:f}=r;if(typeof c!="string"||typeof u!="string")continue;const h=Number.isFinite(r.acquiredAt)?r.acquiredAt:this.now();s.push(Io({id:c,name:u,description:r.description,icon:r.icon,rarity:r.rarity,quantity:f},h,{tableId:r.sourceTableId,entryId:r.sourceEntryId}))}this.stash=s.slice(0,this.maxStashSize)}if(Array.isArray(a.inventory)){const s=[];for(const r of a.inventory){if(!r||typeof r!="object")continue;const{id:c,name:u,quantity:f}=r;if(typeof c!="string"||typeof u!="string")continue;const h=Number.isFinite(r.acquiredAt)?r.acquiredAt:this.now();s.push(Io({id:c,name:u,description:r.description,icon:r.icon,rarity:r.rarity,quantity:f},h,{tableId:r.sourceTableId,entryId:r.sourceEntryId}))}this.inventory=s}}}persist(){if(!this.storage)return;const a={autoEquip:this.autoEquip,stash:this.stash.map(s=>({...s})),inventory:this.inventory.map(s=>({...s}))};try{this.storage.setItem(this.storageKey,JSON.stringify(a))}catch(s){console.warn("Failed to persist inventory state",s)}}emit(a){for(const s of this.listeners)s(a)}normalizeEquipResult(a){return typeof a=="boolean"?{success:a}:!a||typeof a!="object"?{success:!1}:{success:!!a.success,comparison:a.comparison,reason:a.reason}}on(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}isAutoEquipEnabled(){return this.autoEquip}setAutoEquip(a){this.autoEquip!==a&&(this.autoEquip=a,this.persist(),this.emit({type:"settings-updated",autoEquip:this.autoEquip}))}getStash(){return this.stash.map(a=>({...a}))}getStashSize(){return this.stash.length}getInventory(){return this.inventory.map(a=>({...a}))}getInventorySize(){return this.inventory.length}addLoot(a,s={}){return this.addItem({...a.item},{...s,sourceTableId:s.sourceTableId,sourceEntryId:s.sourceEntryId??a.entryId})}addItem(a,s={}){const r=Math.max(0,Math.round(this.now())),c=Io(a,r,{tableId:s.sourceTableId,entryId:s.sourceEntryId}),u=s.autoEquip??this.autoEquip;let f={success:!1};if(u&&s.unitId&&typeof s.equip=="function"){try{f=this.normalizeEquipResult(s.equip(s.unitId,c))}catch(h){console.warn("Failed to auto-equip inventory item",{item:c,error:h}),f={success:!1}}if(f.success)return this.persist(),this.emit({type:"item-acquired",item:c,equipped:!0,location:"equipped",unitId:s.unitId,stashSize:this.stash.length,inventorySize:this.inventory.length}),{item:c,equipped:!0,location:"equipped"}}if(this.stash.push(c),this.stash.length>this.maxStashSize){const h=this.stash.splice(0,this.stash.length-this.maxStashSize);h.length>0&&console.warn("Inventory stash full, trimming oldest items",h)}return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-acquired",item:c,equipped:!1,unitId:s.unitId,location:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),{item:c,equipped:!1,location:"stash",stashIndex:this.stash.length-1}}equipFromStash(a,s,r){if(a<0||a>=this.stash.length)return!1;const c=this.stash[a];let u={success:!1};try{u=this.normalizeEquipResult(r(s,c))}catch(h){console.warn("Failed to equip stash item",{item:c,error:h}),u={success:!1}}if(!u.success)return!1;const[f]=this.stash.splice(a,1);return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-equipped",item:f,unitId:s,from:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length,comparison:u.comparison}),!0}equipFromInventory(a,s,r){if(a<0||a>=this.inventory.length)return!1;const c=this.inventory[a];let u={success:!1};try{u=this.normalizeEquipResult(r(s,c))}catch(h){console.warn("Failed to equip inventory item",{item:c,error:h}),u={success:!1}}if(!u.success)return!1;const[f]=this.inventory.splice(a,1);return this.persist(),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"item-equipped",item:f,unitId:s,from:"inventory",stashSize:this.stash.length,inventorySize:this.inventory.length,comparison:u.comparison}),!0}moveToInventory(a){if(a<0||a>=this.stash.length)return null;const[s]=this.stash.splice(a,1);return this.inventory.push(s),this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"item-moved",item:s,from:"stash",to:"inventory",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}moveToStash(a){if(this.stash.length>=this.maxStashSize||a<0||a>=this.inventory.length)return null;const[s]=this.inventory.splice(a,1);return this.stash.push(s),this.stash.length>this.maxStashSize&&this.stash.splice(0,this.stash.length-this.maxStashSize),this.persist(),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-moved",item:s,from:"inventory",to:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}discardFromInventory(a){if(a<0||a>=this.inventory.length)return null;const[s]=this.inventory.splice(a,1);return this.persist(),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"item-discarded",item:s,location:"inventory",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}unequipToStash(a,s,r){if(this.stash.length>=this.maxStashSize)return!1;let c=null;try{c=r(a,s)??null}catch(h){console.warn("Failed to unequip item",{unitId:a,slot:s,error:h}),c=null}if(!c)return!1;const u=Math.max(0,Math.round(this.now())),f=Io(c,u);return this.stash.push(f),this.stash.length>this.maxStashSize&&this.stash.splice(0,this.stash.length-this.maxStashSize),this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-unequipped",item:f,unitId:a,slot:s,to:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),!0}discardFromStash(a){if(a<0||a>=this.stash.length)return null;const[s]=this.stash.splice(a,1);return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-discarded",item:s,location:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}}const aA={toast:990},E3={stash:"Quartermaster Stash",inventory:"Ready Inventory"},w3={stash:"Your stash is empty. Conquer enemy elites to gather new equipment.",inventory:"No gear staged. Move items into the ready inventory for quick equipping."},S3={mythic:6,legendary:5,epic:4,rare:3,uncommon:2,common:1},x3=["health","attackDamage","attackRange","movementRange","defense","shield"],C3={"birch-sap-satchel":["healing","support"],"steamed-bandages":["restoration","shielding"],"aurora-distillate":["damage","defense"],"stolen-sauna-tokens":["mobility"],"midnight-bloodwine":["healing","damage"],"sauna-incense":["range","focus"],"glacier-brand":["damage"],"emberglass-arrow":["damage","range"],"aurora-lattice":["damage","range"],"emberglass-shard":["damage","mobility"],"windstep-totem":["mobility","defense"],"searing-chant-censer":["damage","shielding"],"cracked-ice-amulet":["defense"],"myrsky-charm":["range","defense"],"frostwyrm-signet":["shielding"],"spirit-oak-charm":["healing","defense"]};function Ca(n){return(n??"").trim().toLowerCase()}function af(n){const a=new Set;for(const s of n){const r=Ca(s);r&&a.add(r)}return a}function sf(n,a){return{id:n.id,name:n.name,quantity:typeof a=="number"?a:n.quantity,rarity:n.rarity}}function Fo(n){return n?{id:n.id,name:n.name,quantity:n.quantity,rarity:n.rarity}:null}function iA(n){return C3[n]??[]}function sA(n){const a=Ca(n)||"common",s=a.charAt(0).toUpperCase()+a.slice(1);return{key:a,label:s,rank:S3[a]??0}}function R3(n){const a=hr(n.id);if(!a){const c=sA(n.rarity);return{slot:null,slotLabel:"Unassigned",rarity:c.key,rarityRank:c.rank,tags:iA(n.id),acquiredAt:n.acquiredAt}}const s=fr(a.slot),r=sA(n.rarity);return{slot:a.slot,slotLabel:s.label,rarity:r.key,rarityRank:r.rank,tags:iA(n.id),acquiredAt:n.acquiredAt}}function B3(n,a,s,r,c){return{id:n.id,name:n.name,description:n.description,icon:n.icon,rarity:n.rarity,quantity:c,slot:a,maxStacks:s,modifiers:r??{}}}function lA(n,a){const s=n[a];return typeof s=="number"&&Number.isFinite(s)?Math.round(s):0}function M3(n,a){const s=hr(n.item.id);if(!s)return{slot:null,canEquip:!1,reason:"unknown-item",equipped:null,projected:sf(n.item),stats:[]};const r=s.slot,c=fr(r),u=a.loadout.find(B=>B.slot===r)??null,f=Math.max(1,Math.round(n.item.quantity)),h=Math.max(1,Math.floor(s.maxStacks??c.maxStacks)),m=(u?.quantity??0)+f,g=m>h;if(u&&u.id!==n.item.id)return{slot:r,canEquip:!1,reason:"slot-occupied",equipped:Fo(u),projected:sf(n.item),stats:[]};if(g&&(!u||u.id!==n.item.id))return{slot:r,canEquip:!1,reason:"stack-limit",equipped:Fo(u),projected:sf(n.item,Math.min(h,m)),stats:[]};const p=Math.min(h,m),v=[];for(const B of a.loadout)B.slot!==r&&v.push({...B});const b=u&&u.id===n.item.id?{...u,quantity:p}:B3(n.item,r,h,s.modifiers,p);v.push(b);const E=a.currentStats??nc(a.baseStats,a.loadout),C=nc(a.baseStats,v),T=x3.map(B=>{const P=lA(E,B),L=lA(C,B);return{stat:B,current:P,projected:L,delta:L-P}});return{slot:r,canEquip:!0,equipped:Fo(u),projected:Fo(b),stats:T}}function rA(n,a){return n.map((s,r)=>({item:s,index:r,location:a,metadata:R3(s)}))}function D3(n,a){const s=new Map,r=new Map,c=new Map;for(const m of n){const{metadata:g}=m;if(g.slot){const E=g.slot,C=s.get(E);C?C.count+=1:s.set(E,{label:g.slotLabel,count:1})}const p=g.rarity,v=p.charAt(0).toUpperCase()+p.slice(1),b=r.get(p);b?b.count+=1:r.set(p,{label:v,count:1,rank:g.rarityRank});for(const E of g.tags){const C=Ca(E);if(!C)continue;const T=E.split(/[-_]/g).map(P=>P.charAt(0).toUpperCase()+P.slice(1)).join(" "),B=c.get(C);B?B.count+=1:c.set(C,{label:T,count:1})}}const u=Array.from(s.entries()).sort((m,g)=>{const p=Fs.indexOf(m[0]),v=Fs.indexOf(g[0]);return p-v}).map(([m,g])=>({id:m,label:g.label,count:g.count,active:a.slots.has(Ca(m))})),f=Array.from(r.entries()).sort((m,g)=>(g[1].rank??0)-(m[1].rank??0)).map(([m,g])=>({id:m,label:g.label,count:g.count,active:a.rarities.has(Ca(m))})),h=Array.from(c.entries()).sort((m,g)=>m[1].label.localeCompare(g[1].label)).map(([m,g])=>({id:m,label:g.label,count:g.count,active:a.tags.has(Ca(m))}));return{slots:u,rarities:f,tags:h}}function T3(n,a){if(a.slots.size>0){const s=n.metadata.slot?Ca(n.metadata.slot):"";if(!s||!a.slots.has(s))return!1}return!(a.rarities.size>0&&!a.rarities.has(n.metadata.rarity)||a.tags.size>0&&!n.metadata.tags.map(c=>Ca(c)).some(c=>a.tags.has(c)))}function k3(n,a){return a?[n.item.name,n.item.description??"",n.metadata.tags.join(" ")].join(" ").toLowerCase().includes(a):!0}function H3(n,a){switch(a){case"oldest":n.sort((s,r)=>s.metadata.acquiredAt-r.metadata.acquiredAt);break;case"rarity":n.sort((s,r)=>r.metadata.rarityRank!==s.metadata.rarityRank?r.metadata.rarityRank-s.metadata.rarityRank:r.metadata.acquiredAt-s.metadata.acquiredAt);break;case"name":n.sort((s,r)=>s.item.name.localeCompare(r.item.name));break;case"newest":default:n.sort((s,r)=>r.metadata.acquiredAt-s.metadata.acquiredAt);break}}function oA(n){const a={slots:af(n.filters.slots??new Set),rarities:af(n.filters.rarities??new Set),tags:af(n.filters.tags??new Set)},s=Ca(n.search),r=Math.max(1,Math.floor(n.page||1)),c=Math.max(1,Math.floor(n.pageSize||24)),u=n.collection??"stash",f=rA(n.stash,"stash"),h=rA(n.inventory,"inventory"),m=[...f,...h],g=D3(m,a),p=u==="stash"?f:h,b=[...p.filter(F=>T3(F,a)&&k3(F,s))];H3(b,n.sort??"newest");const E=Math.min(b.length,r*c),C=b.slice(0,E),T=b.length>E,B=n.comparisonContext??null,P=C.map(F=>({item:F.item,index:F.index,location:F.location,metadata:F.metadata,comparison:B?M3(F,B):null})),L=["stash","inventory"].map(F=>({id:F,label:E3[F],count:F==="stash"?n.stash.length:n.inventory.length,active:F===u}));return{collection:u,collections:L,filters:g,items:P,total:p.length,filteredTotal:b.length,search:n.search,sort:n.sort??"newest",hasMore:T,emptyMessage:w3[u]}}function O3(){return{slots:new Set,rarities:new Set,tags:new Set}}const P3="_panel_7op0d_1",N3="_header_7op0d_32",Q3="_title_7op0d_42",G3="_meta_7op0d_49",U3="_close_7op0d_54",L3="_controls_7op0d_74",j3="_settings_7op0d_82",z3="_settingRow_7op0d_93",I3="_settingCopy_7op0d_107",F3="_settingLabel_7op0d_114",X3="_settingHint_7op0d_120",q3="_settingControl_7op0d_127",Y3="_settingState_7op0d_133",_3="_settingInput_7op0d_143",K3="_settingSwitch_7op0d_149",V3="_settingTrack_7op0d_169",Z3="_settingThumb_7op0d_181",J3="_collections_7op0d_197",W3="_collectionButton_7op0d_205",$3="_searchRow_7op0d_234",e5="_search_7op0d_234",t5="_searchIcon_7op0d_266",n5="_sortSelect_7op0d_276",a5="_body_7op0d_286",i5="_grid_7op0d_292",s5="_empty_7op0d_301",l5="_footer_7op0d_312",r5="_loadMore_7op0d_317",Ne={panel:P3,header:N3,title:Q3,meta:G3,close:U3,controls:L3,settings:j3,settingRow:z3,settingCopy:I3,settingLabel:F3,settingHint:X3,settingControl:q3,settingState:Y3,settingInput:_3,settingSwitch:K3,settingTrack:V3,settingThumb:Z3,collections:J3,collectionButton:W3,searchRow:$3,search:e5,searchIcon:t5,sortSelect:n5,body:a5,grid:i5,empty:s5,footer:l5,loadMore:r5},o5="_group_18afl_1",c5="_label_18afl_11",u5="_row_18afl_19",d5="_chip_18afl_25",f5="_count_18afl_55",sr={group:o5,label:c5,row:u5,chip:d5,count:f5},h5="_card_1o0cv_1",m5="_header_1o0cv_26",g5="_icon_1o0cv_32",p5="_details_1o0cv_44",A5="_titleRow_1o0cv_51",v5="_title_1o0cv_51",y5="_rarity_1o0cv_63",b5="_slot_1o0cv_70",E5="_tags_1o0cv_75",w5="_tag_1o0cv_75",S5="_compare_1o0cv_91",x5="_tooltip_1o0cv_113",C5="_statList_1o0cv_144",R5="_stat_1o0cv_144",B5="_actions_1o0cv_169",M5="_action_1o0cv_169",D5="_primary_1o0cv_198",T5="_danger_1o0cv_209",k5="_badge_1o0cv_224",et={card:h5,header:m5,icon:g5,details:p5,titleRow:A5,title:v5,rarity:y5,slot:b5,tags:E5,tag:w5,compare:S5,tooltip:x5,statList:C5,stat:R5,actions:B5,action:M5,primary:D5,danger:T5,badge:k5},H5={health:"HP",attackDamage:"ATK",attackRange:"Range",movementRange:"Move",defense:"Defense",shield:"Shield"},cA={"slot-occupied":"Slot occupied. Unequip the current item first.","stack-limit":"Stack limit reached for this item.","unknown-item":"This item cannot be equipped yet."},Zo=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function O5(n,a){if(a.item.icon){const r=document.createElement("img");r.src=a.item.icon,r.alt="",r.loading="lazy",r.decoding="async",r.width=48,r.height=48,n.appendChild(r);return}const s=document.createElement("span");s.textContent=a.item.name.trim()[0]?.toUpperCase()??"?",n.appendChild(s)}function kv(n){if(!(!n||n.canEquip))return n.reason&&cA[n.reason]?cA[n.reason]:"Unable to equip this item right now."}function P5(n,a){const s=document.createElement("div");s.className=et.tooltip;const r=document.createElement("h4");if(a.projected?r.textContent=a.canEquip?"Projected stats":"Current loadout":r.textContent="Stats",s.appendChild(r),!a.canEquip){const u=kv(a);if(u){const f=document.createElement("p");f.textContent=u,f.style.margin="0 0 0.5rem",f.style.fontSize="0.78rem",s.appendChild(f)}}const c=document.createElement("ul");c.className=et.statList;for(const u of n){const f=document.createElement("li");f.className=et.stat,u.delta>0?f.dataset.delta="positive":u.delta<0&&(f.dataset.delta="negative");const h=document.createElement("span");h.textContent=H5[u.stat]??u.stat;const m=document.createElement("span"),g=Zo.format(u.current),p=Zo.format(u.projected),v=u.delta,b=v===0?"±0":`${v>0?"+":"−"}${Zo.format(Math.abs(v))}`;m.textContent=`${g} → ${p} (${b})`,f.append(h,m),c.appendChild(f)}return s.appendChild(c),s}function N5(n){const a=n.comparison;if(!a)return null;const s=document.createElement("div"),r=document.createElement("button");r.type="button",r.className=et.compare,r.textContent=a.canEquip?"Compare stats":"View details";const c=`${n.item.id}-compare-${n.location}-${n.index}`;r.setAttribute("aria-controls",c),r.setAttribute("aria-expanded","false"),r.setAttribute("aria-describedby",c),r.addEventListener("focus",()=>{r.setAttribute("aria-expanded","true")}),r.addEventListener("blur",()=>{r.setAttribute("aria-expanded","false")}),s.appendChild(r);const u=P5(a.stats,a);return u.id=c,s.appendChild(u),s}function Q5(n,a){if(a&&!a.canEquip){n.disabled=!0;const s=kv(a);s&&(n.title=s)}}function G5(n){return n.map(a=>{const s=a.trim();return s&&s.split(/[-_\s]/g).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")})}function U5(n,a,s){const r=document.createElement("div");r.className=et.actions;const c=document.createElement("button");c.type="button",c.className=`${et.action} ${et.primary}`,c.textContent="Equip",Q5(c,a.comparison),c.addEventListener("click",()=>{s.onEquip?.()}),r.appendChild(c);const u=document.createElement("button");u.type="button",u.className=et.action,u.textContent=a.location==="stash"?"Send to inventory":"Return to stash",u.addEventListener("click",()=>{s.onTransfer?.()}),r.appendChild(u);const f=document.createElement("button");f.type="button",f.className=`${et.action} ${et.danger}`,f.textContent="Trash";let h=null;const m=()=>{h!==null&&(window.clearTimeout(h),h=null),f.dataset.confirm="false",f.textContent="Trash"};f.addEventListener("click",()=>{if(h!==null){m(),s.onTrash?.();return}f.dataset.confirm="true",f.textContent="Confirm trash",h=window.setTimeout(()=>{m()},2600)}),r.appendChild(f),n.appendChild(r)}function L5(n,a){const s=document.createElement("li");s.className=et.card,s.dataset.location=n.location,s.setAttribute("role","listitem");const r=document.createElement("div");r.className=et.header;const c=document.createElement("div");c.className=et.icon,O5(c,n),r.appendChild(c);const u=document.createElement("div");u.className=et.details;const f=document.createElement("div");f.className=et.titleRow;const h=document.createElement("h4");h.className=et.title,h.textContent=n.item.name,f.appendChild(h);const m=document.createElement("span");m.className=et.rarity,m.textContent=n.metadata.rarity.toUpperCase(),f.appendChild(m),u.appendChild(f);const g=document.createElement("span");if(g.className=et.slot,g.textContent=n.metadata.slot?n.metadata.slotLabel:"No slot",u.appendChild(g),n.metadata.tags.length>0){const v=document.createElement("div");v.className=et.tags;for(const b of G5(n.metadata.tags)){const E=document.createElement("span");E.className=et.tag,E.textContent=b,v.appendChild(E)}u.appendChild(v)}const p=N5(n);if(p&&u.appendChild(p),r.appendChild(u),s.appendChild(r),n.item.quantity>1){const v=document.createElement("span");v.className=et.badge,v.textContent=`×${Zo.format(n.item.quantity)}`,s.appendChild(v)}return U5(s,n,a),s}const j5={newest:"Newest",oldest:"Oldest",rarity:"Rarity",name:"Name A-Z"};function lf(n){const a=document.createElement("div");a.className=sr.row;const s=document.createElement("div");s.className=sr.label,s.textContent=n;const r=document.createElement("div");return r.className=sr.group,a.append(s,r),{row:a,group:r}}function z5(n){const a=document.createElement("section");a.className=Ne.panel,a.tabIndex=-1,a.dataset.open="false",a.setAttribute("aria-label","Quartermaster stash");const s=document.createElement("header");s.className=Ne.header;const r=document.createElement("div"),c=document.createElement("h2");c.className=Ne.title,c.textContent="Quartermaster Stash",r.appendChild(c);const u=document.createElement("div");u.className=Ne.meta,u.textContent="Loading…",r.appendChild(u);const f=document.createElement("button");f.type="button",f.className=Ne.close,f.textContent="Close",f.addEventListener("click",()=>n.onClose?.()),s.append(r,f),a.appendChild(s);const h=document.createElement("div");h.className=Ne.controls;const m=document.createElement("div");m.className=Ne.collections;const g={stash:document.createElement("button"),inventory:document.createElement("button")};g.stash.type="button",g.stash.className=Ne.collectionButton,g.stash.textContent="Stash",g.stash.addEventListener("click",()=>n.onCollectionChange?.("stash")),g.inventory.type="button",g.inventory.className=Ne.collectionButton,g.inventory.textContent="Ready",g.inventory.addEventListener("click",()=>n.onCollectionChange?.("inventory")),m.append(g.stash,g.inventory),h.appendChild(m);const p=document.createElement("div");p.className=Ne.searchRow;const v=document.createElement("div");v.className=Ne.search;const b=document.createElement("input");b.type="search",b.placeholder="Search stash…",b.addEventListener("input",()=>n.onSearchChange?.(b.value));const E=document.createElement("span");E.className=Ne.searchIcon,E.textContent="🔍",v.append(E,b),p.appendChild(v);const C=document.createElement("select");C.className=Ne.sortSelect,["newest","oldest","rarity","name"].forEach(D=>{const Y=document.createElement("option");Y.value=D,Y.textContent=j5[D],C.appendChild(Y)}),C.addEventListener("change",()=>n.onSortChange?.(C.value)),p.appendChild(C),h.appendChild(p);const T=document.createElement("div");T.className=Ne.settings;const B=(D,Y,j,R)=>{const U=document.createElement("div");U.className=Ne.settingRow;const ae=document.createElement("div");ae.className=Ne.settingCopy;const de=document.createElement("span");de.className=Ne.settingLabel,de.textContent=Y,ae.appendChild(de);const w=document.createElement("p");w.className=Ne.settingHint,w.textContent=j,ae.appendChild(w);const z=document.createElement("div");z.className=Ne.settingControl;const ee=document.createElement("span");ee.className=Ne.settingState,ee.textContent="Off";const $=document.createElement("input");$.type="checkbox",$.id=D,$.className=Ne.settingInput;const re=document.createElement("label");re.className=Ne.settingSwitch,re.htmlFor=D,re.dataset.state="off";const me=document.createElement("span");me.className=Ne.settingTrack;const fe=document.createElement("span");fe.className=Ne.settingThumb,re.append(me,fe);const je=Ce=>{$.checked=Ce,re.dataset.state=Ce?"on":"off",ee.textContent=Ce?"On":"Off"};return $.addEventListener("change",()=>{je($.checked),R?.($.checked)}),z.append(ee,$,re),U.append(ae,z),{root:U,setChecked:je}},P=B("inventory-autoequip-toggle","Auto-equip loot","Try outfitting the selected attendant as soon as new gear arrives.",D=>n.onAutoEquipChange?.(D)),L=B("inventory-ui-variant-toggle","Experimental HUD","Swap to the React/Tailwind HUD. You can revert at any time.",D=>n.onUiV2Change?.(D));P.setChecked(n.getAutoEquipState?.()??!1),L.setChecked(n.getUiV2State?.()??!1),T.append(P.root,L.root),h.appendChild(T);const F=document.createElement("div"),K={slots:lf("Slots"),rarities:lf("Rarity"),tags:lf("Tags")};F.append(K.slots.row,K.rarities.row,K.tags.row),h.appendChild(F),a.appendChild(h);const J=document.createElement("div");J.className=Ne.body;const ie=document.createElement("ul");ie.className=Ne.grid;const I=document.createElement("div");I.className=Ne.empty,I.textContent="No items match the current filters.",I.hidden=!0,J.append(ie,I),a.appendChild(J);const ne=document.createElement("div");ne.className=Ne.footer;const W=document.createElement("button");W.type="button",W.className=Ne.loadMore,W.textContent="Show more",W.addEventListener("click",()=>n.onLoadMore?.()),ne.appendChild(W),a.appendChild(ne);function q(D,Y,j){D.group.innerHTML="",D.row.hidden=j.length===0;for(const R of j){const U=document.createElement("button");if(U.type="button",U.className=sr.chip,U.dataset.active=R.active?"true":"false",U.textContent=R.label,R.count>0){const ae=document.createElement("span");ae.className=sr.count,ae.textContent=String(R.count),U.appendChild(ae)}U.addEventListener("click",()=>n.onFilterToggle?.(Y,R.id)),D.group.appendChild(U)}}function G(D){ie.replaceChildren();const Y=document.createDocumentFragment();for(const j of D.items){const R={onEquip:()=>n.onItemEquip?.(j),onTransfer:()=>n.onItemTransfer?.(j),onTrash:()=>n.onItemTrash?.(j)};Y.appendChild(L5(j,R))}ie.appendChild(Y),I.hidden=D.filteredTotal!==0,I.hidden||(I.textContent=D.emptyMessage)}return{element:a,render(D){u.textContent=D.total===0?"No items yet":`${D.filteredTotal} of ${D.total} item${D.total===1?"":"s"}`;for(const[Y,j]of Object.entries(g))j.dataset.active=Y===D.collection?"true":"false";b.value!==D.search&&(b.value=D.search),C.value!==D.sort&&(C.value=D.sort),q(K.slots,"slots",D.filters.slots),q(K.rarities,"rarities",D.filters.rarities),q(K.tags,"tags",D.filters.tags),G(D),W.hidden=!D.hasMore},setOpen(D){a.dataset.open=D?"true":"false"},focus(){const D=a.focus.bind(a);try{D({preventScroll:!0})}catch(Y){console.warn("Stash panel focus without scroll prevention fallback",Y);try{D()}catch(j){console.warn("Unable to focus stash panel element",j)}}},destroy(){a.remove()},setAutoEquip(D){P.setChecked(D)},setUiV2(D){L.setChecked(D)}}}const rf=24,I5=4500,F5=400,X5={health:"HP",attackDamage:"ATK",attackRange:"RNG",movementRange:"MOV",defense:"DEF",shield:"Shield"},uA="pointer-events-none ml-auto flex w-full max-w-[min(22rem,90vw)] flex-col gap-[clamp(6px,1vw,12px)]",q5="pointer-events-auto flex w-full items-center gap-[clamp(4px,0.8vw,12px)] rounded-hud-md border border-white/15 px-4 py-3 text-[0.9rem] font-semibold leading-[1.35] shadow-[0_18px_32px_rgba(15,23,42,0.22)] backdrop-blur-[14px] backdrop-saturate-[135%] transition-all duration-300 ease-out",Y5={loot:"bg-[linear-gradient(135deg,rgba(255,255,255,0.95),rgba(215,229,255,0.95))] text-slate-900",info:"bg-[linear-gradient(135deg,rgba(219,245,255,0.95),rgba(197,228,255,0.95))] text-slate-900",warn:"bg-[linear-gradient(135deg,rgba(255,231,217,0.95),rgba(255,214,196,0.95))] text-amber-900"},_5=["-translate-y-2","opacity-0"];function fc(n){n.hidden=n.childElementCount===0}function K5(n,a){const s=n.querySelector('[data-ui="loot-toast-stack"]');if(s)return s.parentElement!==a&&a.appendChild(s),s.className=uA,s.style.zIndex=String(aA.toast),fc(s),s;const c=(n.ownerDocument??document).createElement("div");return c.dataset.ui="loot-toast-stack",c.className=uA,c.setAttribute("aria-live","polite"),c.setAttribute("role","status"),c.style.zIndex=String(aA.toast),fc(c),a.appendChild(c),c}function Jt(n,a,s){const r=(n.ownerDocument??document).createElement("div");r.dataset.variant=s,r.className=`${q5} ${Y5[s]}`,r.textContent=a,n.appendChild(r),fc(n);const c=()=>{r.remove(),fc(n)},u=window.setTimeout(()=>{r.classList.add(..._5),window.setTimeout(c,F5)},I5);r.addEventListener("click",()=>{window.clearTimeout(u),c()})}function V5(n,a){n.has(a)?n.delete(a):n.add(a)}function Z5(n){const a=n.comparison?.deltas??[];return a.length===0?null:a.map(r=>{const c=X5[r.stat]??r.stat;return`${r.delta>0?"+":""}${r.delta} ${c}`}).join(", ")}function of(n){switch(n){case"inventory":return"ready inventory";case"stash":return"stash";case"equipped":default:return"loadout"}}function J5(){const n=document.createElement("button");n.type="button",n.dataset.testid="inventory-badge",n.dataset.ui="inventory-badge",n.className="group inline-flex items-center gap-2 rounded-hud-pill border border-white/15 bg-[linear-gradient(135deg,rgba(27,36,56,0.9),rgba(39,74,110,0.9))] px-3.5 py-2 font-semibold text-sky-50 shadow-hud-sm transition-all duration-150 ease-out focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent hover:-translate-y-0.5 hover:shadow-hud-md data-[autoequip=off]:bg-[linear-gradient(135deg,rgba(56,44,25,0.9),rgba(92,72,40,0.9))]",n.setAttribute("aria-expanded","false"),n.setAttribute("aria-controls","inventory-stash-panel"),n.setAttribute("aria-label","Open quartermaster stash");const a=document.createElement("span");a.className="relative flex h-[1.65rem] w-[1.65rem] flex-shrink-0 items-center justify-center rounded-full bg-[radial-gradient(circle_at_30%_30%,rgba(255,255,255,0.9),rgba(225,235,255,0.2))] text-slate-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.35)]",a.setAttribute("aria-hidden","true");const s="http://www.w3.org/2000/svg",r=document.createElementNS(s,"svg");r.setAttribute("viewBox","0 0 24 24"),r.setAttribute("aria-hidden","true"),r.setAttribute("focusable","false"),r.setAttribute("class","h-[76%] w-[76%]");const c=document.createElementNS(s,"path");c.setAttribute("d","M8.25 7V6a3.75 3.75 0 0 1 7.5 0v1m3 0h-14.25a1.5 1.5 0 0 0-1.485 1.342l-.75 9a3 3 0 0 0 2.985 3.158h9.78a3 3 0 0 0 2.985-3.158l-.75-9A1.5 1.5 0 0 0 18.75 7Z"),c.setAttribute("fill","rgba(194, 216, 255, 0.32)"),c.setAttribute("stroke","rgba(255, 255, 255, 0.92)"),c.setAttribute("stroke-width","1.6"),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round");const u=document.createElementNS(s,"path");u.setAttribute("d","M9.75 12.25h4.5"),u.setAttribute("fill","none"),u.setAttribute("stroke","rgba(255, 255, 255, 0.85)"),u.setAttribute("stroke-width","1.4"),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("opacity","0.9"),r.append(c,u),a.appendChild(r),n.appendChild(a);const f=document.createElement("span");f.className="text-[0.75rem] uppercase tracking-[0.08em]",f.textContent="Stash",n.appendChild(f);const h=document.createElement("span");return h.className="min-w-[1.5rem] rounded-full bg-white/15 px-2 py-[0.1rem] text-center text-xs font-semibold text-white/90",h.textContent="0",h.setAttribute("aria-hidden","true"),n.appendChild(h),{button:n,count:h}}function W5(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{destroy:()=>{}};const{regions:r}=_s(s),c=r.top,u=K5(s,c);s.querySelectorAll('[data-testid="inventory-badge"]').forEach(O=>O.remove());const{button:f,count:h}=J5();f.dataset.autoequip=n.isAutoEquipEnabled()?"on":"off",c.appendChild(f),s.querySelector("#inventory-stash-panel")?.remove();const g=z5({onClose:()=>B(!1),onCollectionChange:O=>{v!==O&&(v=O,T=1,L())},onFilterToggle:(O,D)=>{const Y=b[O];V5(Y,D),T=1,L()},onSearchChange:O=>{E=O,T=1,L()},onSortChange:O=>{C=O,T=1,L()},onLoadMore:()=>{T+=1,L()},onItemEquip:O=>{K(O)},onItemTransfer:O=>{J(O)},onItemTrash:O=>{ie(O)},getAutoEquipState:()=>n.isAutoEquipEnabled(),onAutoEquipChange:O=>{n.setAutoEquip(O),f.dataset.autoequip=O?"on":"off",Jt(u,O?"Auto-equip enabled. Newly recovered gear will try to arm your selected attendant.":"Auto-equip disabled. Loot will head to the stash until you equip it manually.","info")},getUiV2State:()=>a.getUseUiV2?.()??!1,onUiV2Change:O=>{a.onUseUiV2Change?.(O),Jt(u,O?"Experimental HUD enabled. Reload to try the React/Tailwind experience.":"Classic HUD restored for your next session.","info")}});g.element.id="inventory-stash-panel",s.appendChild(g.element);let p=!1,v="stash";const b=O3();let E="",C="newest",T=1;function B(O){if(p!==O)if(p=O,g.setOpen(p),f.setAttribute("aria-expanded",p?"true":"false"),f.setAttribute("aria-label",p?"Close quartermaster stash":"Open quartermaster stash"),p){s.classList.add("inventory-panel-open");try{g.focus()}catch(D){console.warn("Unable to focus stash panel",D)}}else s.classList.remove("inventory-panel-open")}function P(){const O=a.getComparisonContext?.()??null;let D=oA({stash:n.getStash(),inventory:n.getInventory(),filters:b,search:E,sort:C,page:T,pageSize:rf,collection:v,comparisonContext:O});if(D.filteredTotal>0){const Y=Math.max(1,Math.ceil(D.filteredTotal/rf));T>Y&&(T=Y,D=oA({stash:n.getStash(),inventory:n.getInventory(),filters:b,search:E,sort:C,page:T,pageSize:rf,collection:v,comparisonContext:O}))}return D}function L(){const O=P(),Y=O.collections.find(j=>j.id==="stash")?.count??0;h.textContent=String(Y),f.dataset.count=String(Y),g.render(O)}function F(){const O=a.getSelectedUnitId?.()??null;return O||(Jt(u,"Select an attendant before equipping an item.","warn"),null)}function K(O){const D=F();if(!D)return;const Y=a.onEquip??(()=>({success:!1}));(O.location==="stash"?n.equipFromStash(O.index,D,(U,ae)=>Y(U,ae,"stash")):n.equipFromInventory(O.index,D,(U,ae)=>Y(U,ae,"inventory")))||Jt(u,"Unable to equip that item right now.","warn")}function J(O){const D=O.location==="stash"?n.moveToInventory(O.index):n.moveToStash(O.index);if(!D){Jt(u,"Unable to move that item right now.","warn");return}const Y=O.location==="stash"?"ready inventory":"stash";Jt(u,`Moved ${D.name} to the ${Y}.`,"info"),T=1,L()}function ie(O){const D=O.location==="stash"?n.discardFromStash(O.index):n.discardFromInventory(O.index);if(!D){Jt(u,"That item was already removed.","warn");return}const Y=O.location==="stash"?"stash":"ready inventory";Jt(u,`${D.name} discarded from the ${Y}.`,"warn"),L()}function I(O){switch(O.type){case"stash-updated":case"inventory-updated":L();break;case"item-acquired":if(O.equipped)Jt(u,`${O.item.name} auto-equipped successfully.`,"info");else{const D=of(O.location);Jt(u,`New item secured: ${O.item.name} (${D}).`,"loot")}break;case"item-equipped":{const D=Z5(O),Y=D?` (${D})`:"";Jt(u,`Equipped ${O.item.name}${Y}.`,"info");break}case"item-unequipped":Jt(u,`${O.item.name} returned to the stash from slot ${O.slot}.`,"info");break;case"item-moved":{const D=of(O.to);Jt(u,`Moved ${O.item.name} to the ${D}.`,"info");break}case"item-discarded":{const D=of(O.location);Jt(u,`${O.item.name} discarded from the ${D}.`,"warn");break}case"settings-updated":f.dataset.autoequip=O.autoEquip?"on":"off",g.setAutoEquip(O.autoEquip);break}}const ne=n.on(O=>I(O)),W=()=>{B(!p)};f.addEventListener("click",W);const q=O=>{O.defaultPrevented||O.code==="KeyI"&&!O.metaKey&&!O.ctrlKey&&!O.altKey&&(O.preventDefault(),B(!p))};return window.addEventListener("keydown",q),L(),{destroy:()=>{ne(),f.removeEventListener("click",W),window.removeEventListener("keydown",q),f.remove(),g.destroy(),s.classList.remove("inventory-panel-open"),u.hasChildNodes()||u.remove()}}}const $5=Object.freeze({common:1,uncommon:.6,rare:.35,epic:.18,legendary:.08,mythic:.03}),e4=Object.freeze({id:"general-salvage",label:"General Salvage",entries:Object.freeze([{id:"birch-sap-satchel",name:"Birch Sap Satchel",description:"Soothing birch sap that doubles as a brisk field tonic.",rarity:"common",quantity:{min:1,max:3},weight:6},{id:"steamed-bandages",name:"Steamed Linen Bandages",description:"Freshly steamed bandages infused with pine oils.",rarity:"common",quantity:1,weight:5},{id:"emberglass-shard",name:"Emberglass Shard",description:"A radiant shard used to kindle sauna braziers.",rarity:"uncommon",quantity:1,weight:3},{id:"aurora-distillate",name:"Aurora Distillate",description:"Vials of shimmering condensation that empower sauna rituals.",rarity:"rare",quantity:1,weight:1.5},{id:"myrsky-charm",name:"Myrsky Charm",description:"Storm-forged charm rumored to call down aurora flares.",rarity:"epic",quantity:1,weight:.7}])}),t4=Object.freeze({base:Object.freeze({id:"enemy-raiders",label:"Avanto Marauder Spoils",entries:Object.freeze([{id:"cracked-ice-amulet",name:"Cracked Ice Amulet",description:"Necklace of frostbitten charms that hum when danger nears.",rarity:"common",quantity:1,weight:5},{id:"stolen-sauna-tokens",name:"Stolen Sauna Tokens",description:"Pilfered entrance tokens, gladly accepted back at any sauna hall.",rarity:"uncommon",quantity:{min:2,max:5},weight:3},{id:"glacier-brand",name:"Glacier Brand",description:"A cleaver chilled in glacial meltwater that never dulls.",rarity:"rare",quantity:1,weight:1.25}])}),elite:Object.freeze({id:"enemy-champions",label:"Avanto Champion Cache",entries:Object.freeze([{id:"frostwyrm-signet",name:"Frostwyrm Signet",description:"An icy signet ring that wreathes its bearer in frozen vapour.",rarity:"epic",quantity:1,weight:1.1},{id:"aurora-lattice",name:"Aurora Lattice",description:"Filigree latticework that channels auroral light into focused beams.",rarity:"legendary",quantity:1,weight:.4},{id:"midnight-bloodwine",name:"Midnight Bloodwine",description:"A mythical draught said to rekindle a warrior's lost resolve.",rarity:"mythic",quantity:1,weight:.12}])})}),n4=Object.freeze({base:Object.freeze({id:"deepwood-offerings",label:"Deepwood Offerings",entries:Object.freeze([{id:"spirit-oak-charm",name:"Spirit Oak Charm",description:"Carved from living oak, it whispers guidance between sauna rounds.",rarity:"uncommon",quantity:1,weight:4},{id:"sauna-incense",name:"Sauna Incense Pouches",description:"Fragrant blends that steady breathing before the next engagement.",rarity:"common",quantity:{min:1,max:4},weight:5},{id:"emberglass-arrow",name:"Emberglass Arrow Bundle",description:"Arrowheads that glow amber when a perfect shot reveals itself.",rarity:"rare",quantity:{min:1,max:2},weight:1.75}])}),elite:Object.freeze({id:"deepwood-ritual-cache",label:"Deepwood Ritual Cache",entries:Object.freeze([{id:"windstep-totem",name:"Windstep Totem",description:"Totem etched with gale sigils that lighten every cautious stride.",rarity:"epic",quantity:1,weight:.9},{id:"searing-chant-censer",name:"Searing Chant Censer",description:"An ornate censer that empowers allies with smouldering hymns.",rarity:"legendary",quantity:1,weight:.35}])})}),a4=Object.freeze({enemy:t4,deepwood:n4});function i4(n){return a4[n]??{base:e4}}function s4(n,a=!1){const s=i4(n);return a&&s.elite?s.elite:s.base}function l4(n){if(!Number.isFinite(n))return 1;const a=Math.floor(n);return a<=0?0:Math.min(10,a)}function r4(n,a){if(typeof n=="number"&&Number.isFinite(n))return Math.max(1,Math.round(n));if(!n)return 1;const s=n,r=Math.max(1,Math.round(s.min)),u=Math.max(r,Math.round(s.max))-r+1,f=Math.floor(Math.max(0,Math.min(.999999,a()))*u);return r+f}function o4(n){const a=$5[n.rarity]??1,s=typeof n.weight=="number"?n.weight:1;return Math.max(0,s)*Math.max(0,a)}function c4(n,a){const s=n.map(f=>({entry:f,weight:o4(f)})).filter(f=>f.weight>0);if(s.length===0)return null;const r=s.reduce((f,h)=>f+h.weight,0),c=Math.max(0,Math.min(.999999,a()))*r;let u=0;for(const f of s)if(u+=f.weight,c<u)return f.entry;return s[s.length-1]?.entry??null}function u4(n,a){return{id:n.id,name:n.name,description:n.description,icon:n.icon,rarity:n.rarity,quantity:a}}function d4(n){const a=typeof n.random=="function"?n.random:Math.random,s=!!n.elite,r=n.table??s4(n.factionId,s),c=l4(n.rolls),u=[];if(c<=0||r.entries.length===0)return{factionId:n.factionId,elite:s,tableId:r.id,tableLabel:r.label,rolls:u};for(let f=0;f<c;f+=1){const h=c4(r.entries,a);if(!h)break;const m=r4(h.quantity,a);u.push({entryId:h.id,rarity:h.rarity,quantity:m,item:u4(h,m)})}return{factionId:n.factionId,elite:s,tableId:r.id,tableLabel:r.label,rolls:u}}const f4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23a4d67a'%20/%3e%3cpolygon%20points='16,48%2032,16%2048,48'%20fill='%23d2691e'%20/%3e%3crect%20x='24'%20y='32'%20width='16'%20height='16'%20fill='%23f4a460'%20/%3e%3c/svg%3e",h4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23c0c0c0'%20/%3e%3crect%20x='8'%20y='24'%20width='48'%20height='24'%20fill='%23808080'%20/%3e%3crect%20x='24'%20y='16'%20width='16'%20height='8'%20fill='%23606060'%20/%3e%3c/svg%3e",m4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23e0e0e0'%20/%3e%3crect%20x='10'%20y='22'%20width='12'%20height='30'%20fill='%23a9a9a9'%20/%3e%3crect%20x='26'%20y='14'%20width='12'%20height='38'%20fill='%23808080'%20/%3e%3crect%20x='42'%20y='26'%20width='12'%20height='26'%20fill='%23a9a9a9'%20/%3e%3c/svg%3e",g4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%238b4513'%20/%3e%3cpolygon%20points='32,10%2042,22%2022,22'%20fill='%23555'%20/%3e%3crect%20x='30'%20y='22'%20width='4'%20height='32'%20fill='%23ccc'%20/%3e%3c/svg%3e",p4="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eFrostguard%20Soldier%3c/title%3e%3cdesc%20id='desc'%3eArmored%20nordic%20soldier%20with%20glacial%20blade,%20frosted%20shield,%20and%20aurora%20glow.%3c/desc%3e%3cdefs%3e%3clinearGradient%20id='soldier-bg'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%230b2a44'%20/%3e%3cstop%20offset='100%25'%20stop-color='%2310243b'%20/%3e%3c/linearGradient%3e%3cradialGradient%20id='soldier-glow'%20cx='50%25'%20cy='28%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='rgba(191,%20219,%20254,%200.85)'%20/%3e%3cstop%20offset='100%25'%20stop-color='rgba(14,%20116,%20144,%200)'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='soldier-armor'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e2e8f0'%20/%3e%3cstop%20offset='50%25'%20stop-color='%23cbd5f5'%20/%3e%3cstop%20offset='100%25'%20stop-color='%234b5563'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='soldier-trim'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%3e%3cstop%20offset='0%25'%20stop-color='%23fcd34d'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23f97316'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='soldier-cloak'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%231e3a8a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231d4ed8'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='soldier-steel'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%2394a3b8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231f2937'%20/%3e%3c/linearGradient%3e%3cradialGradient%20id='soldier-shield'%20cx='38%25'%20cy='38%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='70%25'%20stop-color='%2360a5fa'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231d4ed8'%20/%3e%3c/radialGradient%3e%3c/defs%3e%3crect%20width='128'%20height='128'%20rx='18'%20fill='url(%23soldier-bg)'%20/%3e%3ccircle%20cx='64'%20cy='40'%20r='44'%20fill='url(%23soldier-glow)'%20opacity='0.9'%20/%3e%3cellipse%20cx='64'%20cy='108'%20rx='36'%20ry='10'%20fill='%230f172a'%20opacity='0.4'%20/%3e%3cpath%20d='M38%2038c-10%2014-14%2032-10%2052l14%208c0-18%208-34%2022-42-8-6-18-12-26-18z'%20fill='url(%23soldier-cloak)'%20opacity='0.85'%20/%3e%3cpath%20d='M90%2038c10%2014%2014%2032%2010%2052l-14%208c0-18-8-34-22-42%208-6%2018-12%2026-18z'%20fill='url(%23soldier-cloak)'%20opacity='0.65'%20/%3e%3cpath%20d='M58%2022l-8%2010c-4%206-6%2014-6%2022v20l12%2038h16l12-38V54c0-8-2-16-6-22l-8-10h-12z'%20fill='url(%23soldier-armor)'%20stroke='%231f2937'%20stroke-width='2'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M50%2054h28l4%2012c-8%208-16%2012-18%2012s-10-4-18-12l4-12z'%20fill='%23e0f2fe'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2022c-6%200-12%204-16%2010l6%208c6-6%2020-6%2026%200l6-8c-4-6-10-10-16-10z'%20fill='%23f8fafc'%20stroke='%23cbd5f5'%20stroke-width='1.5'%20/%3e%3cpath%20d='M58%2018h12l4%206-10%206-10-6%204-6z'%20fill='%23e0f2fe'%20stroke='%2394a3b8'%20stroke-width='1.5'%20/%3e%3crect%20x='46'%20y='68'%20width='12'%20height='26'%20rx='5'%20fill='%230ea5e9'%20opacity='0.8'%20/%3e%3crect%20x='70'%20y='68'%20width='12'%20height='26'%20rx='5'%20fill='%2338bdf8'%20opacity='0.8'%20/%3e%3cpath%20d='M34%2066l-10%206%2012%2028%2012-6-14-28z'%20fill='url(%23soldier-shield)'%20stroke='%231e3a8a'%20stroke-width='2'%20/%3e%3ccircle%20cx='36'%20cy='78'%20r='6'%20fill='rgba(226,%20232,%20240,%200.95)'%20/%3e%3cpath%20d='M94%2064l-4-4-18%2036%206%206%2016-38z'%20fill='url(%23soldier-steel)'%20stroke='%230f172a'%20stroke-width='2'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M86%2054l-16%2034%2010%204%2014-32-8-6z'%20fill='%23f8fafc'%20opacity='0.75'%20/%3e%3cpath%20d='M64%2090c-8%200-14%206-18%2014%208%204%2012%206%2018%206s10-2%2018-6c-4-8-10-14-18-14z'%20fill='%23dbeafe'%20stroke='%2393c5fd'%20stroke-width='1.5'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M54%2058l-6%2012c8%2010%2016%2014%2016%2014s8-4%2016-14l-6-12H54z'%20fill='url(%23soldier-trim)'%20opacity='0.85'%20/%3e%3cpath%20d='M60%2048h8l2%208-6%204-6-4%202-8z'%20fill='%23334155'%20/%3e%3ccircle%20cx='64'%20cy='52'%20r='6'%20fill='%23f1f5f9'%20stroke='%23cbd5f5'%20stroke-width='1'%20/%3e%3cpath%20d='M58%2038c-4%200-6%204-6%2010%204-2%208-4%2012-4s8%202%2012%204c0-6-2-10-6-10H58z'%20fill='%231f2937'%20opacity='0.85'%20/%3e%3c/svg%3e",A4="/assets/archer-DKJNMRtW.svg",v4="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eAvanto%20Marauder%3c/title%3e%3cdesc%20id='desc'%3eFrost-clad%20marauder%20icon%20with%20jagged%20pauldrons,%20icy%20beard,%20and%20polar%20glow.%3c/desc%3e%3cdefs%3e%3clinearGradient%20id='bg'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23082f49'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230f172a'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='armor'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e2e8f0'%20/%3e%3cstop%20offset='60%25'%20stop-color='%2394a3b8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231f2937'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='beard'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23bae6fd'%20/%3e%3c/linearGradient%3e%3cradialGradient%20id='glow'%20cx='50%25'%20cy='20%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='rgba(191,%20219,%20254,%200.85)'%20/%3e%3cstop%20offset='100%25'%20stop-color='rgba(14,%20116,%20144,%200)'%20/%3e%3c/radialGradient%3e%3c/defs%3e%3crect%20width='128'%20height='128'%20rx='20'%20fill='url(%23bg)'%20/%3e%3ccircle%20cx='64'%20cy='46'%20r='38'%20fill='url(%23glow)'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2018c-14%200-26%208-32%2020l10%204c6-8%2014-12%2022-12s16%204%2022%2012l10-4C90%2026%2078%2018%2064%2018z'%20fill='%23cffafe'%20opacity='0.4'%20/%3e%3cpath%20d='M64%2036c-14%200-28%2010-28%2028v10l-12%2016%2018%2010%2022-10%2022%2010%2018-10-12-16V64c0-18-14-28-28-28z'%20fill='url(%23armor)'%20stroke='%230f172a'%20stroke-width='2'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M48%2090l-12%206-10%2020%2020-8%2018%208%2018-8%2020%208-10-20-12-6'%20fill='%230f172a'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2046c-10%200-18%208-18%2018v10c12-8%2024-8%2036%200V64c0-10-8-18-18-18z'%20fill='%230f172a'%20/%3e%3cpath%20d='M64%2050c-8%200-14%206-14%2014%206-4%2012-6%2014-6s8%202%2014%206c0-8-6-14-14-14z'%20fill='%23bae6fd'%20opacity='0.85'%20/%3e%3cpath%20d='M58%2084c-4%200-8%202-10%206%204%200%208%200%2010-2s4-2%206-2%204%200%206%202%206%202%2010%202c-2-4-6-6-10-6h-12z'%20fill='%23f8fafc'%20opacity='0.75'%20/%3e%3cpath%20d='M64%2086c-6%200-12%204-14%2010%204%202%2010%204%2014%204s10-2%2014-4c-2-6-8-10-14-10z'%20fill='url(%23beard)'%20stroke='%23bae6fd'%20stroke-width='1.4'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M42%2064c-4-8-6-18-6-28-6%208-10%2018-10%2030%204-2%2010-2%2016-2z'%20fill='%230ea5e9'%20opacity='0.5'%20/%3e%3cpath%20d='M86%2064c4-8%206-18%206-28%206%208%2010%2018%2010%2030-4-2-10-2-16-2z'%20fill='%230ea5e9'%20opacity='0.5'%20/%3e%3cpath%20d='M34%2098c-6%202-12%206-14%2012%206%200%2012-2%2018-4'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M94%20106c6%202%2012%204%2018%204-2-6-8-10-14-12'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3c/svg%3e",$l="/",si={saunaBeer:`${$l}assets/ui/sauna-beer.svg`,saunojaRoster:`${$l}assets/ui/saunoja-roster.svg`,resource:`${$l}assets/ui/resource.svg`,sisu:`${$l}assets/ui/resource.svg`,sound:`${$l}assets/ui/sound.svg`},y4={images:{placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=","building-farm":f4,"building-barracks":h4,"building-city":m4,"building-mine":g4,"unit-soldier":p4,"unit-archer":A4,"unit-avanto-marauder":v4,"icon-sauna-beer":si.saunaBeer,"icon-saunoja-roster":si.saunojaRoster,"icon-resource":si.resource,"icon-sound":si.sound}};let Hv=null;function b4(n){Hv=n}function Ov(){return Hv}const E4=["city"],w4=1e4,S4=12e3;function x4(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function dA(n){return Object.freeze({strongholds:{...n.strongholds},roster:{...n.roster},economy:{...n.economy},sauna:{...n.sauna},startedAt:n.startedAt})}function fA(n){const a={[le.SAUNA_BEER]:0,[le.SAUNAKUNNIA]:0,[le.SISU]:0};return Object.values(le).forEach(s=>{a[s]=n.getResource(s)}),a}class C4{timeSource;state;map;getRosterCount;sauna;strongholdTypes;rosterGraceMs;bankruptcyGraceMs;progress;startResources;strongholds=new Map;progressListeners=new Set;resolutionListeners=new Set;mapDisposer=null;rosterTimeout=null;bankruptcyTimeout=null;bankruptSince=null;wipeSince=null;saunaDestroyedAt=null;resolution=null;disposed=!1;constructor(a){this.timeSource=typeof a.timeSource=="function"?a.timeSource:x4,this.state=a.state,this.map=a.map,this.getRosterCount=a.getRosterCount,this.sauna=a.sauna??null;const s=a.strongholdTypes?.length?a.strongholdTypes:E4;this.strongholdTypes=new Set(s),this.rosterGraceMs=Math.max(0,a.rosterWipeGraceMs??w4),this.bankruptcyGraceMs=Math.max(0,a.bankruptcyGraceMs??S4),this.startResources=fA(this.state);const r=this.state.getResource(le.SAUNA_BEER),c=Math.max(0,Math.round(this.getRosterCount()))||0;this.progress={strongholds:{total:0,destroyed:0,remaining:0},roster:{active:c,totalDeaths:0,wipeSince:null,wipeDurationMs:0},economy:{beer:r,worstBeer:r,bankruptSince:null,bankruptDurationMs:0},sauna:this.createSaunaProgress(),startedAt:this.timeSource()},this.bootstrapStrongholds(),this.attachMapListener(),this.attachEventListeners(),this.emitProgress(),this.evaluateResolution()}onProgress(a){this.progressListeners.add(a)}offProgress(a){this.progressListeners.delete(a)}onResolution(a){if(this.resolution){a(this.resolution);return}this.resolutionListeners.add(a)}offResolution(a){this.resolutionListeners.delete(a)}getProgress(){return dA(this.progress)}dispose(){if(!this.disposed){if(this.disposed=!0,this.clearRosterTimer(),this.clearBankruptcyTimer(),this.mapDisposer){try{this.mapDisposer()}catch(a){console.warn("Failed to detach map listener",a)}this.mapDisposer=null}te.off("unitDied",this.handleUnitDied),te.off("unitSpawned",this.handleUnitSpawned),te.off("resourceChanged",this.handleResourceChanged),te.off("saunaDamaged",this.handleSaunaDamaged),te.off("saunaDestroyed",this.handleSaunaDestroyed)}}bootstrapStrongholds(){this.map.forEachTile((a,s)=>{if(this.isStronghold(a.building)){const r=this.coordKey(s);this.strongholds.set(r,{alive:!0})}}),this.updateStrongholdTotals()}attachMapListener(){this.mapDisposer=this.map.addTileChangeListener((a,s,r)=>{if(r!=="building"&&r!=="created")return;const c=this.coordKey(a),u=this.strongholds.get(c);this.isStronghold(s.building)?u?u.alive||(u.alive=!0):this.strongholds.set(c,{alive:!0}):u?.alive&&(u.alive=!1),this.updateStrongholdTotals(),this.emitProgress(),this.evaluateResolution()})}attachEventListeners(){te.on("unitDied",this.handleUnitDied),te.on("unitSpawned",this.handleUnitSpawned),te.on("resourceChanged",this.handleResourceChanged),te.on("saunaDamaged",this.handleSaunaDamaged),te.on("saunaDestroyed",this.handleSaunaDestroyed)}handleUnitDied=({unitFaction:a})=>{a==="player"&&(this.progress.roster.totalDeaths+=1,this.refreshRosterStatus(),this.emitProgress(),this.evaluateResolution())};handleUnitSpawned=({unit:a})=>{a.faction==="player"&&(this.refreshRosterStatus(),this.emitProgress())};handleResourceChanged=({resource:a,total:s})=>{a===le.SAUNA_BEER&&(this.progress.economy.beer=s,s<this.progress.economy.worstBeer&&(this.progress.economy.worstBeer=s),s<0?this.bankruptSince===null&&(this.bankruptSince=this.timeSource(),this.progress.economy.bankruptSince=this.bankruptSince,this.startBankruptcyTimer()):(this.updateBankruptcyDuration(),this.bankruptSince=null,this.progress.economy.bankruptSince=null,this.clearBankruptcyTimer()),this.emitProgress())};handleSaunaDamaged=({remainingHealth:a})=>{this.disposed||(this.updateSaunaSnapshot(a),this.emitProgress())};handleSaunaDestroyed=a=>{this.disposed||(this.markSaunaDestroyed(),this.emitProgress(),this.resolve("lose","saunaDestroyed"))};startBankruptcyTimer(){if(this.bankruptcyTimeout===null){if(this.bankruptcyGraceMs<=0){this.resolve("lose","bankruptcy");return}this.bankruptcyTimeout=setTimeout(()=>{this.updateBankruptcyDuration(),this.resolve("lose","bankruptcy")},this.bankruptcyGraceMs)}}clearBankruptcyTimer(){this.bankruptcyTimeout!==null&&(clearTimeout(this.bankruptcyTimeout),this.bankruptcyTimeout=null)}startRosterTimer(){if(this.rosterTimeout===null){if(this.rosterGraceMs<=0){this.resolve("lose","rosterWipe");return}this.rosterTimeout=setTimeout(()=>{this.updateRosterDuration(),this.resolve("lose","rosterWipe")},this.rosterGraceMs)}}clearRosterTimer(){this.rosterTimeout!==null&&(clearTimeout(this.rosterTimeout),this.rosterTimeout=null)}updateStrongholdTotals(){const a=this.strongholds.size;let s=0;for(const r of this.strongholds.values())r.alive&&(s+=1);this.progress.strongholds.total=a,this.progress.strongholds.remaining=s,this.progress.strongholds.destroyed=Math.max(0,a-s)}refreshRosterStatus(){const a=Math.max(0,Math.round(this.getRosterCount()));this.progress.roster.active=a,a<=0?(this.wipeSince===null&&(this.wipeSince=this.timeSource(),this.progress.roster.wipeSince=this.wipeSince),this.startRosterTimer()):(this.updateRosterDuration(),this.wipeSince=null,this.progress.roster.wipeSince=null,this.clearRosterTimer())}updateBankruptcyDuration(){if(this.bankruptSince===null)return;const a=this.timeSource()-this.bankruptSince;a>this.progress.economy.bankruptDurationMs&&(this.progress.economy.bankruptDurationMs=a)}updateRosterDuration(){if(this.wipeSince===null)return;const a=this.timeSource()-this.wipeSince;a>this.progress.roster.wipeDurationMs&&(this.progress.roster.wipeDurationMs=a)}evaluateResolution(){if(!this.resolution){if(this.progress.sauna.destroyed){this.resolve("lose","saunaDestroyed");return}if(this.progress.strongholds.total>0&&this.progress.strongholds.remaining===0){this.resolve("win","strongholds");return}if(this.wipeSince!==null&&this.rosterGraceMs<=0){this.resolve("lose","rosterWipe");return}this.bankruptSince!==null&&this.bankruptcyGraceMs<=0&&this.resolve("lose","bankruptcy")}}resolve(a,s){if(this.resolution)return;this.updateRosterDuration(),this.updateBankruptcyDuration();const r=this.timeSource(),c=Math.max(0,r-this.progress.startedAt),u=dA({...this.progress,roster:{...this.progress.roster,wipeSince:this.wipeSince},economy:{...this.progress.economy,bankruptSince:this.bankruptSince},sauna:{...this.progress.sauna,destroyedAt:this.saunaDestroyedAt}}),f=this.computeRewards();this.resolution=Object.freeze({outcome:a,cause:s,timestamp:r,durationMs:c,summary:u,rewards:f}),this.emitResolution(),this.dispose()}emitProgress(){const a=this.getProgress();for(const s of this.progressListeners)try{s(a)}catch(r){console.error("Objective progress listener failed",r)}}emitResolution(){if(!this.resolution)return;const a=this.resolution;for(const s of this.resolutionListeners)try{s(a)}catch(r){console.error("Objective resolution listener failed",r)}this.resolutionListeners.clear()}computeRewards(){const a=fA(this.state);return{resources:{[le.SAUNA_BEER]:{final:a[le.SAUNA_BEER],delta:a[le.SAUNA_BEER]-this.startResources[le.SAUNA_BEER]},[le.SAUNAKUNNIA]:{final:a[le.SAUNAKUNNIA],delta:a[le.SAUNAKUNNIA]-this.startResources[le.SAUNAKUNNIA]},[le.SISU]:{final:a[le.SISU],delta:a[le.SISU]-this.startResources[le.SISU]}}}}coordKey(a){return`${a.q},${a.r}`}isStronghold(a){return a?this.strongholdTypes.has(a):!1}createSaunaProgress(){if(!this.sauna)return{maxHealth:0,health:0,destroyed:!1,destroyedAt:null};const a=Math.max(0,Math.round(this.sauna.maxHealth??0)),s=Math.max(0,Math.round(this.sauna.health??0)),r=!!this.sauna.destroyed||s<=0;return r&&this.saunaDestroyedAt===null&&(this.saunaDestroyedAt=this.timeSource()),{maxHealth:a,health:s,destroyed:r,destroyedAt:r?this.saunaDestroyedAt:null}}updateSaunaSnapshot(a){const s=Number.isFinite(a)?Math.max(0,Math.round(a)):0,r=this.sauna?Math.max(0,Math.round(this.sauna.maxHealth??0)):0,c=this.progress.sauna.maxHealth,u=Math.max(c,r,s);this.progress.sauna.maxHealth=u;const f=Math.max(0,Math.min(u,s));this.progress.sauna.health=f,f>0&&(this.progress.sauna.destroyed=!1,this.progress.sauna.destroyedAt=null,this.saunaDestroyedAt=null)}markSaunaDestroyed(){if(this.sauna){const a=Math.max(0,Math.round(this.sauna.maxHealth??0));a>this.progress.sauna.maxHealth&&(this.progress.sauna.maxHealth=a)}this.progress.sauna.health=0,this.progress.sauna.destroyed=!0,this.saunaDestroyedAt===null&&(this.saunaDestroyedAt=this.timeSource()),this.progress.sauna.destroyedAt=this.saunaDestroyedAt}}function R4(n){return new C4(n)}const On=[{level:1,xpToNext:180,cumulativeXp:0,statAwards:{vigor:0,focus:0,resolve:0}},{level:2,xpToNext:220,cumulativeXp:180,statAwards:{vigor:5,focus:2,resolve:1}},{level:3,xpToNext:260,cumulativeXp:400,statAwards:{vigor:4,focus:3,resolve:1}},{level:4,xpToNext:320,cumulativeXp:660,statAwards:{vigor:4,focus:2,resolve:2}},{level:5,xpToNext:380,cumulativeXp:980,statAwards:{vigor:6,focus:3,resolve:2}},{level:6,xpToNext:460,cumulativeXp:1360,statAwards:{vigor:7,focus:3,resolve:3}},{level:7,xpToNext:540,cumulativeXp:1820,statAwards:{vigor:6,focus:4,resolve:3}},{level:8,xpToNext:640,cumulativeXp:2360,statAwards:{vigor:7,focus:4,resolve:4}},{level:9,xpToNext:760,cumulativeXp:3e3,statAwards:{vigor:8,focus:5,resolve:4}},{level:10,xpToNext:900,cumulativeXp:3760,statAwards:{vigor:9,focus:6,resolve:5}},{level:11,xpToNext:1060,cumulativeXp:4660,statAwards:{vigor:10,focus:6,resolve:6}},{level:12,xpToNext:null,cumulativeXp:5720,statAwards:{vigor:12,focus:7,resolve:6}}];function B4(n){return Number.isNaN(n)||!Number.isFinite(n)?0:Math.max(0,Math.floor(n))}function Rf(){return{vigor:0,focus:0,resolve:0}}function M4(n){return{vigor:n.vigor,focus:n.focus,resolve:n.resolve}}function hc(n){const a=B4(n);let s=On[0];for(const f of On)if(a>=f.cumulativeXp)s=f;else break;const r=a-s.cumulativeXp,c=s.xpToNext,u=c?Math.min(1,r/c):1;return{level:s.level,xpIntoLevel:r,xpForNext:c,progressToNext:u,statAwards:s.statAwards}}function D4(n){const a=On[On.length-1].level,s=Math.max(On[0].level,Math.min(n,a)),r=On.find(c=>c.level===s);return r?M4(r.statAwards):Rf()}function T4(n){if(n<=On[0].level)return Rf();const a=On[On.length-1].level,s=Math.min(n,a),r=Rf();for(const c of On){if(c.level>s)break;c.level!==On[0].level&&(r.vigor+=c.statAwards.vigor,r.focus+=c.statAwards.focus,r.resolve+=c.statAwards.resolve)}return r}function k4(n){return hc(n).level}function cf(n){return Number.isFinite(n)?Math.max(0,Math.floor(n)):0}function Xo(n,a){return a<=0?"":`${n}/${a}`}function H4(n){let a=0;const s=Math.max(0,cf(n.queueCapacity??2)),r=f=>{f&&typeof n.log=="function"&&n.log(f)},c=()=>{const f=n.getTier();if(!f)return null;const h=cf(n.getRosterLimit()),m=cf(n.getRosterCount());return{tierId:f.id,tierName:f.name,rosterLimit:h,rosterCount:m,queued:a}};return{getSnapshot:()=>c(),hasQueuedSpawn:()=>a>0,takeQueuedSpawn:f=>a<=0?!1:(a-=1,a<=0?r(`The benches of ${f.tierName} exhale — queued attendants take the field.`):r(`${f.tierName} deploys a queued attendant. Relief teams remaining: ${Xo(a,s)}.`),!0),restoreQueuedSpawn:f=>{s>0&&a>=s||(a+=1,s>0&&(a=Math.min(a,s)),r(`${f.tierName} keeps the relief attendant on standby (${Xo(a,s)} ready).`))},queueBlockedSpawn:(f,h)=>s>0&&a>=s?(r(`${f.tierName} cannot hold more relief attendants — clear a slot to vent the pressure.`),!1):h()?(a+=1,s>0&&(a=Math.min(a,s)),r(`${f.tierName} queues a ready attendant in the wings (${Xo(a,s)} poised).`),!0):!1,onSpawnResolved:(f,h)=>{h.usedQueue&&(a>0?r(`${f.tierName} still has relief attendants waiting (${Xo(a,s)}).`):r(`${f.tierName} has cleared the relief queue.`))},clearQueue:f=>{if(!(a<=0)&&(a=0,f==="tier-change")){const h=n.getTier();h&&r(`${h.name} ushers its queued attendants into the new hall.`)}}}}const Pv="autobattles:saunojas";function Nv(){try{return globalThis.localStorage??null}catch{return null}}function O4(){const n=Nv();if(!n)return[];try{const a=n.getItem(Pv);if(!a)return[];const s=JSON.parse(a);if(!Array.isArray(s))return[];const r=[];for(const c of s){if(!c||typeof c!="object")continue;const u=c,f=u.id;if(typeof f!="string"||f.length===0)continue;const h=u.coord,m=h&&typeof h=="object"&&typeof h.q=="number"&&Number.isFinite(h.q)&&typeof h.r=="number"&&Number.isFinite(h.r)?{q:h.q,r:h.r}:void 0,g=u.traits,p=Array.isArray(g)?g.filter(E=>typeof E=="string"):void 0,v=typeof u.upkeep=="number"?u.upkeep:void 0,b=typeof u.xp=="number"?u.xp:void 0;r.push(If({id:f,name:typeof u.name=="string"?u.name:void 0,coord:m,maxHp:typeof u.maxHp=="number"?u.maxHp:void 0,hp:typeof u.hp=="number"?u.hp:void 0,steam:typeof u.steam=="number"?u.steam:void 0,traits:p,upkeep:v,xp:b,selected:!!u.selected,items:Array.isArray(u.items)?u.items:void 0,baseStats:u.baseStats,effectiveStats:u.effectiveStats,equipment:u.equipment,modifiers:Array.isArray(u.modifiers)?u.modifiers:void 0}))}return r}catch(a){return console.warn("Failed to load Saunoja units from storage",a),[]}}function P4(n){const a=Nv();if(a)try{const s=n.map(r=>({id:r.id,name:r.name,coord:{q:r.coord.q,r:r.coord.r},maxHp:r.maxHp,hp:r.hp,steam:r.steam,traits:[...r.traits],upkeep:r.upkeep,xp:r.xp,selected:r.selected,baseStats:{health:r.baseStats.health,attackDamage:r.baseStats.attackDamage,attackRange:r.baseStats.attackRange,movementRange:r.baseStats.movementRange,...typeof r.baseStats.defense=="number"&&Number.isFinite(r.baseStats.defense)?{defense:r.baseStats.defense}:{},...typeof r.baseStats.shield=="number"&&Number.isFinite(r.baseStats.shield)?{shield:r.baseStats.shield}:{},...typeof r.baseStats.visionRange=="number"&&Number.isFinite(r.baseStats.visionRange)?{visionRange:r.baseStats.visionRange}:{}},effectiveStats:{health:r.effectiveStats.health,attackDamage:r.effectiveStats.attackDamage,attackRange:r.effectiveStats.attackRange,movementRange:r.effectiveStats.movementRange,...typeof r.effectiveStats.defense=="number"&&Number.isFinite(r.effectiveStats.defense)?{defense:r.effectiveStats.defense}:{},...typeof r.effectiveStats.shield=="number"&&Number.isFinite(r.effectiveStats.shield)?{shield:r.effectiveStats.shield}:{},...typeof r.effectiveStats.visionRange=="number"&&Number.isFinite(r.effectiveStats.visionRange)?{visionRange:r.effectiveStats.visionRange}:{}},equipment:Fs.reduce((c,u)=>{const f=r.equipment?.[u]??null;return c[u]=f?{id:f.id,name:f.name,description:f.description,icon:f.icon,rarity:f.rarity,quantity:f.quantity,slot:f.slot}:null,c},{}),items:r.items.map(c=>({id:c.id,name:c.name,description:c.description,icon:c.icon,rarity:c.rarity,quantity:c.quantity})),modifiers:r.modifiers.map(c=>({id:c.id,name:c.name,description:c.description,remaining:c.remaining,duration:c.duration,appliedAt:c.appliedAt,stacks:c.stacks,source:c.source}))}));a.setItem(Pv,JSON.stringify(s))}catch(s){console.warn("Failed to persist Saunoja units",s)}}const Qv="autobattles:sauna-settings";function Gv(){try{return globalThis.localStorage??null}catch{return null}}function N4(n){return typeof n=="string"?Jn(n).id:mr}function hA(n){return Number.isFinite(n)?Math.max(0,Math.floor(n)):0}function Vf(n,a){const s=hA(n),r=hA(a),c=1+yc;return Math.max(0,Math.min(c,s,r))}function Uv(n,a,s){const r=Vf(s,s),c=typeof n=="number"&&Number.isFinite(n)?n:a,u=Math.max(0,Math.floor(c));return Math.max(0,Math.min(r,u))}function Lv(n){return n===!0||n==="true"}function er(n,a){const s=N4(n?.activeTierId),r=Jn(s),c=Vf(r.rosterCap,a);return{activeTierId:r.id,maxRosterSize:Uv(n?.maxRosterSize,c,c),useUiV2:Lv(n?.useUiV2)}}function jv(n=1+yc){const a=Gv();if(!a)return er(null,n);try{const s=a.getItem(Qv);if(!s)return er(null,n);const r=JSON.parse(s);return er(!r||typeof r!="object"?null:r,n)}catch(s){return console.warn("Failed to load sauna settings from storage",s),er(null,n)}}function zv(n){const a=Gv();if(!a)return;const s=Jn(n.activeTierId),r=Vf(s.rosterCap,s.rosterCap),c={activeTierId:s.id,maxRosterSize:Uv(n.maxRosterSize,r,r),useUiV2:Lv(n.useUiV2)};try{a.setItem(Qv,JSON.stringify(c))}catch(u){console.warn("Failed to persist sauna settings",u)}}const Q4=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),G4=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function Iv(n){return Number.isFinite(n)?Math.max(0,Math.min(100,Math.round(n*100))):0}function U4(n){const a=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});if(n.xpForNext===null)return`${a.format(n.xp)} XP • Max level`;const s=Iv(n.progress);return`${a.format(n.xpIntoLevel)} / ${a.format(n.xpForNext)} XP • ${s}%`}function L4(n){const a=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),s=[];return n.vigor>0&&s.push(`+${a.format(n.vigor)} Vigor`),n.focus>0&&s.push(`+${a.format(n.focus)} Focus`),n.resolve>0&&s.push(`+${a.format(n.resolve)} Resolve`),s.length>0?s.join(" • "):"No level bonuses yet"}function j4(n,a){const{rosterIcon:s,summaryLabel:r="Saunoja Roster"}=a;n.classList.add("sauna-roster"),n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("title","Active sauna battalion on the field"),n.dataset.tutorialTarget="upkeep",n.replaceChildren();const c=document.createElement("div");c.classList.add("sauna-roster__summary");const u=document.createElement("img");u.src=s,u.alt="Saunoja roster crest",u.decoding="async",u.classList.add("sauna-roster__icon");const f=document.createElement("div");f.classList.add("sauna-roster__text");const h=document.createElement("span");h.textContent=r,h.classList.add("sauna-roster__label");const m=document.createElement("span");m.textContent="0",m.classList.add("sauna-roster__value"),f.append(h,m),c.append(u,f);const g=document.createElement("div");g.classList.add("saunoja-card"),g.setAttribute("aria-live","polite"),g.hidden=!0;const p=document.createElement("div");p.classList.add("saunoja-card__header");const v=document.createElement("div");v.classList.add("saunoja-card__level"),v.setAttribute("role","img"),v.style.setProperty("--level-progress","0%");const b=document.createElement("span");b.classList.add("saunoja-card__level-value"),b.textContent="1",v.appendChild(b);const E=document.createElement("div");E.classList.add("saunoja-card__identity");const C=document.createElement("h3");C.classList.add("saunoja-card__name"),C.textContent="Saunoja";const T=document.createElement("div");T.classList.add("saunoja-card__xp"),T.textContent="0 / 0 XP • 0%",E.append(C,T),p.append(v,E);const B=document.createElement("p");B.classList.add("saunoja-card__traits");const P=document.createElement("div");P.classList.add("saunoja-card__callouts"),P.textContent="No level bonuses yet";const L=document.createElement("p");L.classList.add("saunoja-card__upkeep"),g.append(p,B,P,L),n.append(c,g);let F=null,K=null;function J(G){if(!G){g.hidden=!0;return}g.hidden=!1,g.dataset.unitId=G.id,C.textContent=G.name||"Saunoja";const O=G.traits.filter(w=>w.length>0),D=O.length>0?O.join(", "):"No notable traits yet";B.textContent=D,B.title=D;const Y=U4(G.progression);T.textContent=Y,T.title=Y;const j=Iv(G.progression.progress);v.style.setProperty("--level-progress",`${j}%`),b.textContent=String(G.progression.level);const R=G.progression.xpForNext===null?`Level ${G.progression.level}, at mastery`:`Level ${G.progression.level}, ${j}% toward next level`;v.setAttribute("aria-label",R);const U=L4(G.progression.statBonuses);P.textContent=U,P.title=U;const ae=Math.max(0,Math.round(G.upkeep)),de=`Upkeep: ${G4.format(ae)} Beer`;L.textContent=de,L.title=de}function ie(G){return G===1/0?"inf":!Number.isFinite(G)||G<=0?"0":String(Math.ceil(G))}function I(G){return[G.id,G.name,G.icon??"",G.rarity??"",G.description??"",G.quantity].join("^")}function ne(G){return[G.id,G.name,G.description??"",ie(G.duration),ie(G.remaining),G.appliedAt??"",G.stacks??1,G.source??""].join("^")}function W(G){const{stats:O}=G,D=G.traits.join("|"),Y=G.items.map(I).join("|"),j=G.modifiers.map(ne).join("|");return[G.id,G.name,G.upkeep,G.status,G.selected?1:0,G.progression.level,G.progression.xp,G.progression.xpIntoLevel,G.progression.xpForNext??"max",O.health,O.maxHealth,O.attackDamage,O.attackRange,O.movementRange,O.defense??0,O.shield??0,D,Y,j].join("~")}function q(G){return`${G.length}:${G.map(W).join("||")}`}return{updateSummary(G){const O=Math.max(0,Math.floor(G.count)),D=Q4.format(O);m.textContent=D,n.setAttribute("aria-label",`Saunoja roster: ${D} active attendants`),n.setAttribute("title",`Saunoja roster • ${D} active attendants`),J(G.card)},installRenderer(G){K=null,F=G},renderRoster(G){if(!F)return;const O=q(G);O!==K&&(K=O,F(G))},destroy(){F=null,K=null,n.replaceChildren()}}}const z4={[le.SAUNA_BEER]:"Sauna Beer",[le.SAUNAKUNNIA]:"Saunakunnia",[le.SISU]:"Sisu"},I4='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';function F4(n){if(!Number.isFinite(n)||n<=0)return"0:00";const a=Math.round(n/1e3),s=Math.max(0,a%60).toString().padStart(2,"0"),r=Math.floor(a/60),c=(r%60).toString().padStart(2,"0"),u=Math.floor(r/60);return u>0?`${u}:${c}:${s}`:`${r}:${s}`}function X4(n){switch(n.cause){case"strongholds":return"All rival strongholds have fallen.";case"rosterWipe":return"Every attendant is down—no one remains to hold the line.";case"bankruptcy":return"Upkeep debts have exhausted the steam reserves.";case"saunaDestroyed":return"The sauna collapsed under relentless assault—the sacred steamline has fallen silent.";default:return""}}function q4(n){if(!Number.isFinite(n)||n===0)return"±0";const a=Math.round(n*100)/100;return`${a>0?"+":""}${a}`}function Y4(n,a){const s=document.createElement("ul");s.className="end-screen__rewards-list";for(const r of Object.values(le)){const c=n.rewards.resources[r];if(!c)continue;const u=document.createElement("li");u.className="end-screen__reward-item";const f=document.createElement("span");f.className="end-screen__reward-label",f.textContent=a[r]??r;const h=document.createElement("span");h.className="end-screen__reward-value",h.textContent=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(Math.round(c.final));const m=document.createElement("span");m.className="end-screen__reward-delta",m.textContent=q4(c.delta),m.dataset.polarity=c.delta>=0?"positive":"negative",u.append(f,h,m),s.append(u)}return s}function _4(n,a,s){const r=c=>{if(c.key==="Escape"){c.preventDefault(),s?.();return}if(c.key!=="Tab")return;const u=a.querySelectorAll(I4);if(u.length===0){c.preventDefault(),a.focus();return}const f=u[0],h=u[u.length-1],m=document.activeElement;c.shiftKey?(m===f||!a.contains(m))&&(c.preventDefault(),h.focus()):(m===h||!a.contains(m))&&(c.preventDefault(),f.focus())};return n.addEventListener("keydown",r),()=>n.removeEventListener("keydown",r)}function K4(n){const{container:a,resolution:s,onNewRun:r,onDismiss:c,currentNgPlusLevel:u}=n;if(!a)return{destroy(){},focusPrimary(){}};const f={...z4,...n.resourceLabels??{}},h=document.createElement("div");h.className="end-screen",h.setAttribute("role","presentation");const m=document.createElement("section");m.className="end-screen__panel",m.setAttribute("role","dialog"),m.setAttribute("aria-modal","true");const g=`end-screen-title-${Date.now()}`;m.setAttribute("aria-labelledby",g),m.tabIndex=-1,m.dataset.outcome=s.outcome;const p=document.createElement("h2");p.className="end-screen__title",p.id=g,p.textContent=s.outcome==="win"?"Steamforged Victory":"Sauna Lost";const v=document.createElement("p");v.className="end-screen__subtitle",v.textContent=X4(s);const b=document.createElement("dl");b.className="end-screen__metrics";const E=(ne,W)=>{const q=document.createElement("dt");q.textContent=ne,q.className="end-screen__metric-label";const G=document.createElement("dd");G.textContent=W,G.className="end-screen__metric-value",b.append(q,G)};E("Run time",F4(s.durationMs)),E("Strongholds",`${s.summary.strongholds.destroyed}/${s.summary.strongholds.total}`),E("Roster losses",`${s.summary.roster.totalDeaths}`),E("Deepest beer reserve",`${Math.round(s.summary.economy.worstBeer)}`);const C=document.createElement("div");C.className="end-screen__badges";const T=document.createElement("span");T.className="end-screen__badge",T.textContent=`NG+ ${Math.max(0,u)}`,C.append(T);const B=document.createElement("h3");B.className="end-screen__section-title",B.textContent="Rewards";const P=Y4(s,f),L=document.createElement("div");L.className="end-screen__actions";const F=document.createElement("button");F.type="button",F.className="end-screen__button end-screen__button--primary",F.textContent="New run (NG+)",F.addEventListener("click",()=>{r()});const K=document.createElement("button");K.type="button",K.className="end-screen__button",K.textContent="Review battlefield",K.addEventListener("click",()=>{c?.()}),L.append(F,K),m.append(p,v,C,b,B,P,L),h.append(m),a.append(h);const J=_4(h,m,c),ie=()=>{J(),h.remove()},I=()=>{requestAnimationFrame(()=>{F.focus({preventScroll:!0})})};return I(),{destroy:ie,focusPrimary:I}}const Fv="autobattles4x.flags";function Xv(){if(typeof window>"u")return null;try{if("localStorage"in window&&window.localStorage)return window.localStorage}catch(n){console.warn("Unable to access localStorage for local flags",n)}return null}function qv(){const n=Xv();if(!n)return{};try{const a=n.getItem(Fv);if(!a)return{};const s=JSON.parse(a);if(s&&typeof s=="object")return s}catch(a){console.warn("Failed to parse local flags, resetting.",a)}return{}}function V4(n){const a=Xv();if(a)try{const s={};n.tutorial_done&&(s.tutorial_done=!0),a.setItem(Fv,JSON.stringify(s))}catch(s){console.warn("Failed to persist local flags",s)}}function Z4(){return qv().tutorial_done===!0}function mA(n){const a={...qv()};a.tutorial_done=!0,V4(a)}const gA=200,pA=3,J4=2,AA=6,W4=40,$4=250,ex=200,tx=k4(Number.MAX_SAFE_INTEGER),Bf={[le.SAUNA_BEER]:"Sauna Beer",[le.SAUNAKUNNIA]:"Saunakunnia",[le.SISU]:"Sisu"};function Yv(n,a){const s=Number.isFinite(a)?Math.max(0,Math.floor(a)):0;if(!Number.isFinite(n))return s;const r=Math.max(0,Math.floor(n));return Math.max(0,Math.min(s,r))}let Ot=Sa(Gb()),_v=1,Zf=0,xc=1,Jo={aggressionMultiplier:1,cadenceMultiplier:1,strengthMultiplier:1},Kv=1,Vv=Math.random,Zv=Math.random,Jf=null;function mc(n){Ot=Sa(n),_v=Lb(Ot),Zf=jb(Ot),xc=Ib(Ot),Jo=Fb(Ot),Kv=zb(Ot),Vv=Xg(Ot.runSeed,1),Zv=Xg(Ot.runSeed,2),Jf?.({persist:!0})}mc(Ot);let gc=null,Le=[];const Zn=new Map,li=new Map,Ii=new Map;let vA=0,pc=null,Pt=()=>{},Kn=null,ka=null,Us=null,Nn=null,Ls=null,Mt=null,Li=null,lr=null,Ra=null,ri=null,ji=!1,Sn=null,oi=null,qn=null,rr=null,Ui=0;function Jv(n){const a=li.get(n.id);return a?Ii.get(a)??null:null}function Wv(n,a){n.effectiveStats={...a},n.maxHp=Math.max(1,Math.round(a.health)),n.hp=Math.min(n.maxHp,Math.max(0,Math.round(n.hp))),n.defense=typeof a.defense=="number"?Math.max(0,a.defense):void 0,n.shield=typeof a.shield=="number"?Math.max(0,a.shield):0;const s=Jv(n);if(s){const r={health:n.effectiveStats.health,attackDamage:n.effectiveStats.attackDamage,attackRange:n.effectiveStats.attackRange,movementRange:n.effectiveStats.movementRange};typeof n.effectiveStats.defense=="number"&&(r.defense=n.effectiveStats.defense),typeof n.effectiveStats.visionRange=="number"&&(r.visionRange=n.effectiveStats.visionRange),s.updateStats(r),typeof n.effectiveStats.shield=="number"?s.setShield(n.effectiveStats.shield):n.shield<=0&&s.setShield(0)}}function Cc(n,a){const s=a??Pn(n.equipment),r=nc(n.baseStats,s);return Wv(n,r),r}function $v(n){const a=hc(n.xp);return{level:a.level,xp:Math.max(0,Math.floor(n.xp)),xpIntoLevel:a.xpIntoLevel,xpForNext:a.xpForNext,progress:a.progressToNext,statBonuses:T4(a.level)}}function nx(n){const a=[];return n.vigor>0&&a.push(`+${n.vigor} Vigor`),n.focus>0&&a.push(`+${n.focus} Focus`),n.resolve>0&&a.push(`+${n.resolve} Resolve`),a.length>0?a.join(", "):"+0 Vigor, +0 Focus, +0 Resolve"}function e2(n,a,s){if(!Number.isFinite(a)||a<=0)return null;const r=hc(n.xp),c=Math.max(0,Math.floor(n.xp+a));if(c===n.xp)return null;n.xp=c;const u=hc(n.xp),f=Math.max(0,u.level-r.level),h={vigor:0,focus:0,resolve:0};let m=0;if(f>0){for(let p=r.level+1;p<=u.level&&p<=tx;p++){const v=D4(p);h.vigor+=v.vigor,h.focus+=v.focus,h.resolve+=v.resolve;const b=Number.isFinite(n.baseStats.health)?n.baseStats.health:n.effectiveStats.health;n.baseStats.health=Math.max(1,Math.round(b+v.vigor));const E=Number.isFinite(n.baseStats.attackDamage)?n.baseStats.attackDamage:n.effectiveStats.attackDamage;n.baseStats.attackDamage=Math.max(0,Math.round(E+v.focus));const T=(Number.isFinite(n.baseStats.defense)?n.baseStats.defense??0:n.effectiveStats.defense??0)+v.resolve;n.baseStats.defense=T>0?T:void 0}m=h.vigor}m>0&&(n.hp+=m),Cc(n);const g=Jv(n);if(g&&g.setExperience(n.xp),s.source==="kill"){const p=n.name?.trim()||"Our champion",v=s.label?.trim()||"their foe",b=s.boss?" Boss toppled!":s.elite?" Elite threat routed!":"";Pt(`${p} earns ${a} XP for defeating ${v}.${b}`)}if(f>0){const p=nx(h),v=n.name?.trim()||"Our champion";Pt(`${v} reaches Level ${u.level}! ${p}.`)}return{xpAwarded:a,totalXp:n.xp,level:u.level,levelsGained:f,statBonuses:h}}function ax(n,a,s){if(!n)return null;const r=Zn.get(n.id);return r?e2(r,a,s):null}function ix(n,a){if(!Number.isFinite(n)||n<=0)return!1;let s=!1;for(const r of Le)e2(r,n,a)&&(s=!0);return s}function sx(n){return n?(n.type?.toLowerCase?.()??"").includes("boss")?{xp:$4,elite:!0,boss:!0}:m2(n)?{xp:W4,elite:!0,boss:!1}:{xp:AA,elite:!1,boss:!1}:{xp:AA,elite:!1,boss:!1}}const t2=n=>{if(!n)return;const a=Math.max(0,Math.floor(n.strongholds.destroyed));if(a>Ui){const s=a-Ui,r=ex*s;ix(r,{source:"objective",label:"stronghold"})&&(Wn(),Qn(),Pt(`Strategists toast the captured stronghold — roster gains ${r} XP.`))}if(a<Ui){Ui=a;return}Ui=a},lx=Object.freeze(["health","attackDamage","attackRange","movementRange","defense","shield"]);function yA(n){return n?{id:n.id,name:n.name,quantity:n.quantity,rarity:n.rarity}:null}function bA(n,a){const s=n[a];return typeof s=="number"&&Number.isFinite(s)?Math.round(s):0}function rx(n,a){const s=[];for(const r of lx){const c=bA(a,r),u=bA(n,r),f=c-u;f!==0&&s.push({stat:r,delta:f})}return s}function ox(n,a){if(!a||Pn(n.equipment).length>0)return;const r={health:Math.max(1,Math.round(a.getMaxHealth())),attackDamage:Math.max(0,Math.round(a.stats.attackDamage)),attackRange:Math.max(0,Math.round(a.stats.attackRange)),movementRange:Math.max(0,Math.round(a.stats.movementRange)),defense:typeof a.stats.defense=="number"&&Number.isFinite(a.stats.defense)?Math.max(0,a.stats.defense):n.baseStats.defense,shield:n.baseStats.shield??0,visionRange:typeof a.stats.visionRange=="number"&&Number.isFinite(a.stats.visionRange)?Math.max(0,a.stats.visionRange):n.baseStats.visionRange};n.baseStats=r,Cc(n)}function nr(){rr&&(rr.destroy(),rr=null)}function cx(){if(Z4()){nr();return}nr(),rr=jw({onComplete:()=>{mA(),nr()},onSkip:()=>{mA(),nr()}}),rr.start()}function EA(n){lr=n,Mt&&(Mt.installRenderer(n),Ra&&(Mt.renderRoster(Ra),Ra=null))}function ux(){return O4()}function Wn(){P4(Le)}function dx(n=Math.random){typeof n!="function"&&(n=Math.random);const a=Math.max(0,Math.floor(Qs)),s=Math.max(a,Math.floor(Vo));if(s===a)return Math.max(Qs,Math.min(Vo,a));const r=s-a+1,c=Math.floor(n()*r)+a;return Math.max(Qs,Math.min(Vo,c))}function fx(n){const s=(Array.isArray(n.traits)?n.traits:[]).length>=3,r=Number.isFinite(n.upkeep),c=Number.isFinite(n.xp);return!s||!r||!c}function n2(n){n.traits=m3(),n.upkeep=dx(),n.xp=0}function hx(n,a,s,r={}){const c=r.hudVariant??"classic",u=c==="classic";s.dataset.hudVariant=c,gc=n,Sn&&(Sn.dispose(),Sn=null),Sn=r3({canvas:n,overlay:s,mapRenderer:Wf,getUnitById:h=>Ii.get(h),requestDraw:()=>{Nt()}}),Mt&&(Mt.destroy(),Mt=null),u?(Mt=j4(a,{rosterIcon:si.saunojaRoster}),lr&&Mt.installRenderer(lr),Ra&&(Mt.renderRoster(Ra),Ra=null),Li&&(Mt.updateSummary(Li),Li=null)):(lr=null,Ra=null,Li=null),Nn?.dispose(),Nn=null,u&&(Nn=qE(Ze,{getRosterCapLimit:()=>Bc(),updateMaxRosterSize:(h,m)=>cr(h,{persist:m?.persist}),getActiveTierId:()=>st,setActiveTierId:(h,m)=>(wx(h,{persist:m?.persist})&&Nn?.update(),st),getTierContext:()=>ih()})),ka?.dispose(),ka=null,Us?.destroy(),Us=null;const f={useSisuBurst:()=>{const h=rw(Ie,ft);return h?(Ta("sisu"),Pt(`Sisu bursts forth, spending ${Ts} grit to steel our attendants.`)):Ta("error"),h},torille:()=>{const h=cw(Ie,ft,Ze.pos,$t);return h?Pt(`Torille! Our warriors regroup at the sauna to rally their spirits for ${ks} SISU.`):Ta("error"),h}};u&&(ka=YE(Ie,{saunakunnia:si.resource,sisu:si.sisu,saunaBeer:si.saunaBeer})),Us=pw(Ie,s,f),Ls?.destroy(),Ls=null,u&&(Ls=W5(or,{getSelectedUnitId:()=>Le.find(h=>h.selected)?.id??null,getComparisonContext:()=>Rx(),onEquip:(h,m,g)=>lh(h,m),getUseUiV2:bx,onUseUiV2Change:Ex})),u?(Bx(),$f(),Qn(),cx()):(Kn&&(Kn(),Kn=null),Pt=()=>{})}const $t=new Zb(10,10,32),a2=new IS(()=>Nt()),mx=new q1($t,a2),Wf=new DS($t),Ac=()=>{Wf.invalidateCache(),Nt()};te.on("buildingPlaced",Ac);te.on("buildingRemoved",Ac);$t.forEachTile(n=>n.setFogged(!0));Nb();const ft=[];function wA(n){return`${n.q},${n.r}`}function gx(){const n=new Set;for(const m of ft)m.isDead()||n.add(wA(m.coord));const a=[],{minQ:s,maxQ:r,minR:c,maxR:u}=$t,f=m=>{const g=wA(m);n.has(g)||($t.ensureTile(m.q,m.r),a.push(m))};for(let m=s;m<=r;m++)f({q:m,r:c}),u!==c&&f({q:m,r:u});for(let m=c+1;m<=u-1;m++)f({q:s,r:m}),r!==s&&f({q:r,r:m});if(a.length===0)return;const h=Math.floor(Math.random()*a.length);return a[h]}function px(n){const a=Zn.get(n);a&&(Zn.delete(n),li.get(a.id)===n&&li.delete(a.id))}function Ax(n){const a=Zn.get(n.id);if(a)return{saunoja:a,created:!1,attached:!1};let s=Le.find(f=>f.id===n.id);s||(s=Le.find(f=>!li.has(f.id)));let r=!1;s||(s=If({id:`saunoja-${Le.length+1}`,coord:{q:n.coord.q,r:n.coord.r}}),Le.push(s),r=!0);const c=li.get(s.id);c&&c!==n.id&&Zn.delete(c),Zn.set(n.id,s),li.set(s.id,n.id),ox(s,n),Wv(s,s.effectiveStats),n.setExperience(s.xp);const u=fx(s);return(r||u)&&n2(s),{saunoja:s,created:r,attached:!0}}function $f(){let n=!1;for(const a of ft){if(a.faction!=="player"||a.isDead())continue;const{saunoja:s,created:r,attached:c}=Ax(a);(r||c)&&(n=!0);const u=Number.isFinite(a.stats.health)?Math.max(0,a.stats.health):0;s.hp!==u&&(s.hp=u,n=!0);const f=Number.isFinite(a.getMaxHealth())?Math.max(1,a.getMaxHealth()):1;s.maxHp!==f&&(s.maxHp=f,n=!0);const h=a.getShield(),m=Number.isFinite(h)?Math.max(0,h):0;s.shield!==m&&(s.shield=m,n=!0);const p=a?.lastHitAt;Number.isFinite(p)&&s.lastHitAt!==p&&(s.lastHitAt=p,n=!0);const{q:v,r:b}=a.coord;(s.coord.q!==v||s.coord.r!==b)&&(s.coord={q:v,r:b},n=!0,s.selected&&sh(s.coord))}return n&&Wn(),n}function i2(n,a){if(n.faction==="player"){const u=(a??Zn.get(n.id)??null)?.name?.trim();if(u)return u}return`${(n.constructor?.name??"Unit").replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase()} ${n.id}`.trim()}function Rc(n){if(Ii.has(n.id))return;ft.push(n),Ii.set(n.id,n);let a=null;n.faction==="player"&&($f()||gr(),a=Zn.get(n.id)??null),gc&&Nt(),n.faction==="player"&&(Pt(`Our ${i2(n,a)} emerges from the steam.`),Qn())}const s2=({unit:n})=>{Rc(n)};te.on("unitSpawned",s2);const l2=()=>{gr()},js=()=>{gr()};te.on("inventoryChanged",l2);te.on("modifierAdded",js);te.on("modifierRemoved",js);te.on("modifierExpired",js);const r2=n=>{Nn?.handleDamage?.(n)},o2=n=>{Nn?.handleDestroyed?.(n)};te.on("saunaDamaged",r2);te.on("saunaDestroyed",o2);const c2=()=>{Qn()};te.on("unit:stats:changed",c2);function vx(n){const a=Zn.get(n.id);if(!a)return 0;const s=Number.isFinite(a.upkeep)?a.upkeep:0;return s>0?s*_v:0}const Ie=new qb(1e3),or=new b3,eh=Ie.load($t);if(eh){const n=Ie.getNgPlusState();mc(n),mf(n)}else{const n=Ie.setNgPlusState(Ot);mc(n),mf(n)}Ie.setEnemyScalingBase({aggression:Jo.aggressionMultiplier,cadence:Jo.cadenceMultiplier,strength:Jo.strengthMultiplier});if(!eh&&Ot.ngPlusLevel>0){const n=Math.round(75*Ot.ngPlusLevel);n>0&&Ie.addResource(le.SAUNA_BEER,n)}const zs=jv(xc),u2=()=>({ngPlusLevel:Ot.ngPlusLevel,unlockSlots:Ot.unlockSlots});let st=zs.activeTierId,Ys=zs.useUiV2;const yx=qs(Jn(st),u2());yx.unlocked||(st=mr);const Bc=()=>{const n=Jn(st),a=Math.max(0,Math.floor(n.rosterCap));return Math.min(a,xc)},vc=Yv(zs.maxRosterSize,Bc());(vc!==zs.maxRosterSize||zs.activeTierId!==st||zs.useUiV2!==Ys)&&zv({maxRosterSize:vc,activeTierId:st,useUiV2:Ys});const Ze=I1({q:Math.floor($t.width/2),r:Math.floor($t.height/2)},void 0,{maxRosterSize:vc}),bx=()=>Ys,Ex=n=>{const a=!!n;Ys!==a&&ah(Ze.maxRosterSize,{useUiV2:a})},th=H4({getTier:()=>Jn(st),getRosterLimit:()=>Bc(),getRosterCount:()=>Mc(),log:n=>Pt(n),queueCapacity:3});let d2=vc,nh=st;const ah=(n,a)=>{typeof a?.useUiV2=="boolean"&&(Ys=a.useUiV2),zv({maxRosterSize:n,activeTierId:st,useUiV2:Ys}),d2=n,nh=st},ih=()=>u2(),cr=(n,a={})=>{const s=Bc(),r=Yv(n,s);return r!==Ze.maxRosterSize&&(Ze.maxRosterSize=r),a.persist&&(st!==nh||r!==d2)&&ah(r),r};Jf=(n={})=>{const a=ih(),s=dv();let r=mr;for(const f of s)if(qs(f,a).unlocked)r=f.id;else break;if(!qs(Jn(st),a).unlocked||st!==r){const f=st;st=r,th.clearQueue?.("tier-change"),cr(Ze.maxRosterSize,{persist:n.persist}),f!==st&&Nn?.update?.();return}n.persist&&cr(Ze.maxRosterSize,{persist:!0})};Jf({persist:!0});const wx=(n,a={})=>{const s=Jn(n);return qs(s,ih()).unlocked?s.id===st?(a.persist&&st!==nh&&ah(Ze.maxRosterSize),!0):(st=s.id,th.clearQueue?.("tier-change"),cr(Ze.maxRosterSize,{persist:a.persist}),!0):!1},Sx=n=>{vA+=1;const a=`p${Date.now()}-${vA}`,s=jf(Ie,"soldier",a,n,"player");return s&&Rc(s),s??null},SA=new NE({difficulty:Kv,random:Vv,eliteOdds:Zf}),f2=new Yb(1e3,n=>{const a=n/1e3;Ie.tick(),Ko.tick(a,{state:Ie});const s=Ie.getEnemyScalingSnapshot(),r=cr(Ze.maxRosterSize);A3({dt:a,state:Ie,sauna:Ze,heat:Ze.heatTracker,units:ft,getUnitUpkeep:vx,pickSpawnTile:()=>YA(Ze.pos,ft),spawnBaseUnit:Sx,minUpkeepReserve:Math.max(1,Qs),maxSpawns:xc,rosterCap:r,getRosterCount:Mc,tierHelpers:th});const c={aggressionMultiplier:s.aggression,cadenceMultiplier:s.cadence,strengthMultiplier:s.strength,calmSecondsRemaining:s.calmSecondsRemaining};SA.update(a,ft,Rc,gx,c),Ie.advanceEnemyCalm(a);const u=SA.getSnapshot(),f=Math.max(s.calmSecondsRemaining,u.calmSecondsRemaining);if(ka){const m={stage:u.rampStageLabel,stageIndex:u.rampStageIndex,bundleTier:u.bundleTier,multiplier:u.difficultyMultiplier,cadenceSeconds:u.cadence,effectiveDifficulty:u.effectiveDifficulty,aggressionMultiplier:u.aggressionMultiplier,cadenceMultiplier:u.cadenceMultiplier,strengthMultiplier:u.strengthMultiplier,calmSecondsRemaining:f,spawnCycles:u.spawnCycles};ka.setEnemyRampSummary(m)}const h=oi?.getProgress().roster;jE(u,{wipeSince:h?.wipeSince??null,wipeDurationMs:h?.wipeDurationMs??0}),mx.tick(ft,a,Ze),S1(a),$f()&&Qn(),Ie.save();for(const m of ft)m.isDead()||m.faction!=="player"||$t.revealAround(m.coord,m.getVisionRange(),{autoFrame:!1});Nt()}),xx=n=>{ji&&(ji=!1),f2.stop(),ri!==null&&(cancelAnimationFrame(ri),ri=null),Nt();const a=document.getElementById("ui-overlay");if(!a)return;qn&&(qn.destroy(),qn=null);const s=Ot.ngPlusLevel,r=Ub(Ot,{outcome:n.outcome});mf(r),Ie.setNgPlusState(r),mc(r),qn=K4({container:a,resolution:n,currentNgPlusLevel:s,resourceLabels:Bf,onNewRun:()=>{try{typeof window<"u"&&window.localStorage?.removeItem?.("gameState")}catch(u){console.warn("Failed to reset saved game state for NG+",u)}typeof window<"u"&&typeof window.location?.reload=="function"&&window.setTimeout(()=>window.location.reload(),75)},onDismiss:()=>{qn&&(qn.destroy(),qn=null)}})};Le=ux();if(Le.length===0){const n=If({id:"saunoja-1",coord:Ze.pos,selected:!0,upkeep:0});n2(n),n.upkeep=0,Le.push(n),Wn()}else{let n=!1,a=!1;for(const s of Le)s.selected&&(n?(s.selected=!1,a=!0):n=!0);a&&Wn()}const Cx=ft.some(n=>n.faction==="player"&&!n.isDead());if(!Cx){Ie.canAfford(up,le.SAUNA_BEER)||Ie.addResource(le.SAUNA_BEER,up);const n=`u${ft.length+1}`,a=jf(Ie,"soldier",n,Ze.pos,"player");a&&Rc(a)}$t.revealAround(Ze.pos,3);oi=R4({state:Ie,map:$t,getRosterCount:Mc,sauna:Ze,rosterWipeGraceMs:8e3,bankruptcyGraceMs:12e3});Ui=oi.getProgress().strongholds.destroyed;oi.onProgress(t2);oi.onResolution(xx);function Rx(){const n=Le.find(a=>a.selected)??null;return n?{baseStats:{...n.baseStats},loadout:Pn(n.equipment),currentStats:{...n.effectiveStats}}:null}function Bx(){Kn&&(Kn(),Kn=null);const n=Qw(Ie,{onRosterSelect:kx,onRosterRendererReady:EA,onRosterEquipSlot:Ox,onRosterUnequipSlot:Px});Pt=n.log,n.addEvent,EA(n.renderRoster),Kn=n.dispose}function Mx(){Nn?.update()}function xA(n){ka?.update(n)}eh||(Ie.addResource(le.SAUNA_BEER,gA),Pt(`Quartermaster stocks ${gA} bottles of ${Bf[le.SAUNA_BEER]} to launch your campaign.`),Ie.addResource(le.SAUNAKUNNIA,pA),Pt(`Sauna elders honor your leadership with ${pA} ${Bf[le.SAUNAKUNNIA]} to celebrate your arrival.`));const uf=Le.find(n=>n.selected);uf&&(pc={q:uf.coord.q,r:uf.coord.r});function Dx(n,a){return!n||!a?n===a:n.q===a.q&&n.r===a.r}function sh(n){return Dx(pc,n)?!1:(pc=n?{q:n.q,r:n.r}:null,!0)}function h2(n){let a=!1;for(const s of Le)n&&s===n||s.selected&&(s.selected=!1,a=!0);return a}function Tx(){let n=!1;return h2()&&(n=!0),sh(null)&&(n=!0),n}function m2(n){if(!n)return!1;const a=Lf(n.type);if(!a)return!1;const s=dr(a,1),r=n.stats;return r.health>s.health||r.attackDamage>s.attackDamage||r.attackRange>s.attackRange||r.movementRange>s.movementRange}function g2(n){let a=!1;return n.selected||(n.selected=!0,a=!0),h2(n)&&(a=!0),sh(n.coord)&&(a=!0),a}function kx(n){const a=Le.find(s=>s.id===n);a&&g2(a)&&(Wn(),Qn(),Nt())}function p2(n){const a=Tb(n.x,n.y,$t.hexSize),s=Le.find(c=>c.coord.q===a.q&&c.coord.r===a.r);(s?g2(s):Tx())&&(Wn(),Qn(),Nt())}function lh(n,a){const s=Le.find(g=>g.id===n);if(!s)return{success:!1,reason:"unit-missing"};const r=Pn(s.equipment),c=nc(s.baseStats,r),u=aE(s,a);if(!u.success)return{success:!1,reason:u.reason};const f=Cc(s,u.loadout);te.emit("unit:stats:changed",{unitId:s.id,stats:f}),te.emit("inventoryChanged",{}),Wn(),Qn();const h=r.find(g=>g.slot===u.slot)??null;return{success:!0,comparison:{slot:u.slot,previous:yA(h),next:yA(u.item??null),deltas:rx(c,f)}}}function Hx(n,a){const s=Le.find(v=>v.id===n);if(!s)return null;const r=iE(s,a);if(!r.success||!r.removed)return null;const c=Cc(s,r.loadout);te.emit("unit:stats:changed",{unitId:s.id,stats:c}),te.emit("inventoryChanged",{}),Wn(),Qn();const{id:u,name:f,description:h,icon:m,rarity:g,quantity:p}=r.removed;return{id:u,name:f,description:h,icon:m,rarity:g,quantity:p}}function Ox(n,a){const r=or.getStash().findIndex(c=>sE(c.id,a));return r===-1?!1:or.equipFromStash(r,n,lh)}function Px(n,a){return or.unequipToStash(n,a,Hx)}function Nt(){if(!gc)return;const n=gc.getContext("2d"),a=Ov();if(!n||!a)return;if(Sn){const m=typeof performance<"u"?performance.now():Date.now();Sn.step(m)}const s=Sn?.getShakeOffset()??{x:0,y:0},r=Sn?{getUnitAlpha:m=>Sn.getUnitAlpha(m.id)}:void 0,c=Array.isArray(Le)&&Le.length>0,u=ft.filter(m=>m.faction==="player"&&!m.isDead()),f=Ze?{coord:Ze.pos,range:Ze.auraRadius}:null,h=c?ft.filter(m=>m.faction!=="player"):ft;n.save(),(s.x!==0||s.y!==0)&&n.translate(s.x,s.y),LS(n,Wf,a.images,h,pc,{saunojas:{units:Le,draw:u3},sauna:Ze,saunaVision:f,fx:r,friendlyVisionSources:u}),n.restore()}const A2=({policy:n})=>{Pt(`Sauna council toasts a fresh keg for policy: ${n.name}.`)};te.on(It.APPLIED,A2);const v2=({unitId:n,attackerId:a,attackerFaction:s,unitFaction:r})=>{const c=ft.findIndex(b=>b.id===n),u=c!==-1?ft[c]:null,f=u?{q:u.coord.q,r:u.coord.r}:null,h=r==="player"?Zn.get(n)??null:null;let m=!1;if(r==="player"){const b=h??Le.find(E=>li.get(E.id)===n||E.id===n)??null;b&&(b.hp!==0&&(b.hp=0,m=!0),b.shield!==0&&(b.shield=0,m=!0))}const g=u?i2(u,h):`unit ${n}`;let p=!1;if(s==="player"&&r&&r!=="player"){const b=a?Ii.get(a)??null:null,{xp:E,elite:C,boss:T}=sx(u);E>0&&ax(b,E,{source:"kill",label:g,elite:C,boss:T})&&(p=!0)}if(c!==-1&&(u&&a2.clear(u,{snap:!0}),ft.splice(c,1),Ii.delete(n),px(n),Nt()),(m||p)&&Wn(),(r==="player"||p)&&Qn(),s==="player"&&r&&r!=="player"){const b=m2(u??null)||Zv()<Zf,E=d4({factionId:r,elite:b});if(E.rolls.length>0){const C=Le.find(T=>T.selected)??null;for(const T of E.rolls)if(or.addLoot(T,{unitId:C?.id,sourceTableId:E.tableId,equip:lh}).equipped){const P=C?.name??"our champion";Pt(`Quartermaster fastens ${T.item.name} to ${P}.`)}else Pt(`Quartermaster stores ${T.item.name} recovered from ${g}.`)}}s==="player"&&r&&r!=="player"&&(Ie.addResource(le.SAUNAKUNNIA,J4),Ie.addResource(le.SISU,1),Pt("Our grit surges — +1 SISU earned for the vanquished foe.")),f&&$t.revealAround(f,1,{autoFrame:!1}),Pt(`The steam hushes as ${r==="player"?"our":"a rival"} ${g} grows still.`)};te.on("unitDied",v2);function Mf(){ji=!1,oi?.offProgress(t2),oi?.dispose(),oi=null,Ui=0,dw(),qn&&(qn.destroy(),qn=null),ri!==null&&(cancelAnimationFrame(ri),ri=null);try{Ie.save()}catch(n){console.warn("Failed to persist game state during cleanup",n)}try{Wn()}catch(n){console.warn("Failed to persist Saunoja roster during cleanup",n)}Sn&&(Sn.dispose(),Sn=null),te.off(It.APPLIED,A2),te.off("unitDied",v2),te.off("unitSpawned",s2),te.off("inventoryChanged",l2),te.off("modifierAdded",js),te.off("modifierRemoved",js),te.off("modifierExpired",js),te.off("unit:stats:changed",c2),te.off("saunaDamaged",r2),te.off("saunaDestroyed",o2),te.off("buildingPlaced",Ac),te.off("buildingRemoved",Ac),Kn&&(Kn(),Kn=null),Ls&&(Ls.destroy(),Ls=null),Nn&&(Nn.dispose(),Nn=null),ka&&(ka.dispose(),ka=null),Us&&(Us.destroy(),Us=null),Mt&&(Mt.destroy(),Mt=null),Ra=null,Li=null,lr=null,nr()}async function Nx(){if(ji)return;if(!Ov()){console.error("Cannot start game without loaded assets.");return}ji=!0,Qn(),Nt();try{await Tv(()=>{Nt()}).then(()=>{Nt()})}catch(r){console.warn("Failed to preload Saunoja icon before starting the game",r)}let a=performance.now();function s(r){if(!ji)return;const c=r-a;a=r,hv()?xA(0):(f2.tick(c),Mx(),xA(c),gr()),Nt(),ji&&(ri=requestAnimationFrame(s))}ri=requestAnimationFrame(s)}function Mc(){let n=0;for(const a of ft)a.faction==="player"&&!a.isDead()&&(n+=1);return n}function Qx(){const n={engaged:0,reserve:1,downed:2},a=Le.map(s=>{const r=li.get(s.id),c=r?Ii.get(r):void 0,u=c?!c.isDead()&&c.stats.health>0:!1,f=s.effectiveStats,h=s.baseStats,m=Math.round(c?Math.max(0,c.stats.health):Math.max(0,s.hp)),g=Math.round(c?Math.max(1,c.getMaxHealth()):Math.max(1,f.health)),p=Math.round(c?Math.max(0,c.stats.attackDamage):Math.max(0,f.attackDamage)),v=Math.round(c?Math.max(0,c.stats.attackRange):Math.max(0,f.attackRange)),b=Math.round(c?Math.max(0,c.stats.movementRange):Math.max(0,f.movementRange)),E=c?.stats.defense??f.defense??0,C=Math.round(Math.max(0,E)),T=c?c.getShield():f.shield??s.shield,B=Math.round(Math.max(0,T)),P=Math.max(0,Math.round(s.upkeep)),L=m<=0?"downed":u?"engaged":"reserve",F=$v(s),K=s.items.map(ne=>({...ne})),J=s.modifiers.map(ne=>({...ne})),ie=Fs.map(ne=>{const W=fr(ne),q=s.equipment[ne],G=q?{id:q.id,name:q.name,description:q.description,icon:q.icon,rarity:q.rarity,quantity:q.quantity,slot:ne}:null,O=q?Ux(q.modifiers,q.quantity):null;return{id:ne,label:W.label,description:W.description,maxStacks:W.maxStacks,item:G,modifiers:O}}),I={health:Math.round(Math.max(0,h.health)),maxHealth:Math.round(Math.max(1,h.health)),attackDamage:Math.round(Math.max(0,h.attackDamage)),attackRange:Math.round(Math.max(0,h.attackRange)),movementRange:Math.round(Math.max(0,h.movementRange)),defense:typeof h.defense=="number"&&h.defense>0?Math.round(h.defense):void 0,shield:typeof h.shield=="number"&&h.shield>0?Math.round(h.shield):void 0};return{id:s.id,name:s.name,upkeep:P,status:L,selected:!!s.selected,traits:[...s.traits],stats:{health:m,maxHealth:g,attackDamage:p,attackRange:v,movementRange:b,defense:C>0?C:void 0,shield:B>0?B:void 0},baseStats:I,progression:F,equipment:ie,items:K,modifiers:J}});return a.sort((s,r)=>{const c=n[s.status]-n[r.status];return c!==0?c:s.name.localeCompare(r.name,"en")}),a}function Gx(){return Le.length===0?null:Le.find(n=>n.selected)??Le.find(n=>n.hp>0)??Le[0]}function Ux(n,a){const s=Math.max(1,Math.round(a)),r={};return typeof n.health=="number"&&(r.health=n.health*s),typeof n.attackDamage=="number"&&(r.attackDamage=n.attackDamage*s),typeof n.attackRange=="number"&&(r.attackRange=n.attackRange*s),typeof n.movementRange=="number"&&(r.movementRange=n.movementRange*s),typeof n.defense=="number"&&(r.defense=n.defense*s),typeof n.shield=="number"&&(r.shield=n.shield*s),r}function Lx(){const n=Mc(),a=Gx();let s=null;return a&&(s={id:a.id,name:a.name||"Saunoja",traits:[...a.traits],upkeep:Math.max(0,Math.round(a.upkeep)),progression:$v(a)}),{count:n,card:s}}function gr(n){const a=Qx();Ra=a,Mt&&Mt.renderRoster(a)}function Qn(){const n=Lx();Mt?(Mt.updateSummary(n),Li=null):Li=n,gr()}function jx(n){const{overlay:a,resourceBar:s}=n,r=_s(a),{regions:c}=r,u=document.createElement("div");u.className="pointer-events-none absolute inset-0 grid place-items-center bg-[radial-gradient(circle_at_top,rgba(18,28,45,0.92),rgba(6,10,18,0.94))] p-[clamp(1.5rem,4vw,3.25rem)] z-overlay";const f=document.createElement("section");f.className="pointer-events-auto relative grid w-full max-w-[min(640px,90vw)] gap-4 overflow-hidden rounded-[28px] border border-[rgba(128,168,236,0.28)] bg-[linear-gradient(145deg,rgba(31,46,74,0.95),rgba(14,20,33,0.95))] p-[clamp(1.75rem,4vw,2.5rem)] text-slate-100 shadow-[0_40px_90px_rgba(10,14,28,0.6),_inset_0_1px_0_rgba(255,255,255,0.08)]",f.setAttribute("aria-live","polite"),f.setAttribute("role","status");const h=document.createElement("h1");h.className="m-0 text-[clamp(1.6rem,3vw,2.1rem)] font-semibold uppercase tracking-[0.04em]",h.textContent="Experimental HUD Enabled",f.appendChild(h);const m=document.createElement("p");m.className="m-0 text-base leading-relaxed text-slate-100/90",m.textContent="The React/Tailwind interface is bootstrapped for this session. Gameplay systems continue to run, and classic HUD elements are paused while the new shell is under construction.",f.appendChild(m);const g=document.createElement("p");g.className="m-0 text-sm leading-relaxed text-slate-200/75",g.textContent="Toggle the experimental HUD off from the quartermaster settings to return to the classic layout.",f.appendChild(g);const p=document.createElement("div");p.className="pointer-events-none absolute -left-[30%] -top-[40%] h-[420px] w-[420px] bg-[radial-gradient(circle,rgba(90,164,255,0.35),rgba(90,164,255,0))] blur-[0.5px]",f.appendChild(p);const v=document.createElement("div");return v.className="mt-2 rounded-[18px] border border-[rgba(128,168,236,0.2)] bg-[rgba(10,16,26,0.55)] p-4 shadow-[inset_0_1px_0_rgba(255,255,255,0.05)]",v.appendChild(s),f.appendChild(v),u.appendChild(f),c.content.appendChild(u),{destroy(){v.contains(s)&&a.prepend(s),u.remove()}}}function y2(n){if(!n)return{showLoader:()=>({update:()=>{},clear:()=>{},dispose:()=>{}}),showBanner:()=>null,removeTransientUI:()=>{}};const a=()=>{let f=n.querySelector(".hud-banner-stack");return f||(f=document.createElement("div"),f.className="hud-banner-stack",n.append(f)),f},s=(f,h,m)=>{let g=!1;const p=()=>{g||(g=!0,f.removeEventListener("transitionend",p),m())};f.addEventListener("transitionend",p),requestAnimationFrame(()=>{f.classList.add(h)}),window.setTimeout(p,400)};return{showLoader:(f="Heating the sauna stones…")=>{const h=document.createElement("div");h.className="hud-loader",h.setAttribute("role","status"),h.setAttribute("aria-live","polite");const m=document.createElement("div");m.className="hud-loader__card";const g=document.createElement("div");g.className="hud-loader__spinner",g.setAttribute("aria-hidden","true");const p=document.createElement("p");p.className="hud-loader__message",p.textContent=f,m.append(g,p),h.append(m),n.append(h);let v=!1;return{update(b){p.textContent=b},clear(){v||s(h,"hud-loader--hidden",()=>{v=!0,h.remove()})},dispose(){v||(v=!0,h.remove())}}},showBanner:(f,h)=>{const m=a(),g=document.createElement("section");g.className=`hud-banner hud-banner--${f}`,g.setAttribute("role",f==="error"?"alert":"status"),g.setAttribute("aria-live",f==="error"?"assertive":"polite");const p=document.createElement("header");p.className="hud-banner__header";const v=document.createElement("p");v.className="hud-banner__title",v.textContent=h.title??(f==="error"?"Attention required":f==="warning"?"Heads up":"Status update"),p.append(v);const b=document.createElement("ul");b.className="hud-banner__list";for(const B of h.messages){const P=document.createElement("li");P.textContent=B,b.append(P)}if(g.append(p),h.messages.length&&g.append(b),h.actions?.length){const B=document.createElement("div");B.className="hud-banner__actions";for(const P of h.actions){const L=document.createElement("button");L.type="button",L.className=P.variant==="secondary"?"hud-banner__button hud-banner__button--secondary":"hud-banner__button",L.textContent=P.label,L.addEventListener("click",()=>{P.onClick()}),B.append(L)}g.append(B)}let E,C=!1;const T=()=>{C||(C=!0,E&&window.clearTimeout(E),s(g,"hud-banner--hide",()=>{g.remove(),m.hasChildNodes()||m.remove()}))};if(h.dismissible!==!1){const B=document.createElement("button");B.type="button",B.className="hud-banner__close",B.setAttribute("aria-label","Dismiss notification"),B.textContent="×",B.addEventListener("click",()=>{T()}),p.append(B)}return m.append(g),h.autoCloseMs&&h.autoCloseMs>0&&(E=window.setTimeout(()=>T(),h.autoCloseMs)),{element:g,dismiss:T}},removeTransientUI:()=>{n.querySelectorAll(".hud-loader").forEach(f=>{f.remove()}),n.querySelectorAll(".hud-banner-stack").forEach(f=>{f.remove()})}}}async function zx(n){const a=Object.entries(n),s=await Promise.allSettled(a.map(([f,h])=>h.load().then(m=>({key:f,descriptor:h,value:m})))),r={},c=[],u=[];return s.forEach((f,h)=>{const[m,g]=a[h],p=g.label??String(m);if(f.status==="fulfilled"){const{value:b}=f.value;if(r[m]=b.value,b.warnings?.length)for(const E of b.warnings)c.push(p?`${p}: ${E}`:E);if(b.errors?.length)for(const E of b.errors)u.push(p?`${p}: ${E}`:E);return}const v=Ix(f.reason);u.push(p?`${p}: ${v}`:v)}),{resources:r,warnings:c,errors:u}}function Ix(n){if(n instanceof Error)return n.message;if(typeof n=="string")return n;try{return JSON.stringify(n)}catch{return String(n)}}const Fx="Heating the sauna stones…",Xx="Polishing sauna ambience…";function qx(n){if(n instanceof Error&&n.message)return n.message;if(typeof n=="string"&&n.trim().length>0)return n;try{return JSON.stringify(n)}catch{return String(n)}}function Yx(n){const a=new Set,s=f=>{a.forEach(h=>h(f))},r=n.formatError??qx;return{run:async f=>{s({type:"status",phase:"start",message:Fx});try{const{resources:h,warnings:m,errors:g}=await zx({assets:{label:"Core assets",load:async()=>{const v=await n.loadAssets(n.assetPaths);return{value:v.assets,errors:v.failures}}},saunojaIcon:{label:"Saunoja icon",load:async()=>{try{return await n.preloadSaunojaIcon(),{value:!0}}catch(v){return{value:!1,warnings:[`Unable to preload Saunoja icon (${r(v)})`]}}}}});if(n.shouldAbort?.(f)){s({type:"cancelled"});return}s({type:"status",phase:"progress",message:Xx});const p=h.assets;if(!p){const v=g.length?[...g]:["Critical assets were unavailable. Please refresh to try again."];s({type:"fatal",messages:v});return}if(g.length&&s({type:"errors",errors:g}),m.length&&s({type:"warnings",warnings:m}),n.setAssets(p),n.shouldAbort?.(f)){s({type:"cancelled"});return}n.startGame(),s({type:"ready",assets:p,warnings:m,errors:g})}catch(h){if(n.shouldAbort?.(f)){s({type:"cancelled"});return}s({type:"failure",error:h,message:r(h)})}},subscribe:f=>(a.add(f),()=>{a.delete(f)})}}const _x="grabbing";function Kx(n,a){const s=a.dragCursor??_x;let r=!1,c=null,u=0,f=0,h=null;const m=E=>{E.pointerType!=="mouse"||E.button!==0||(r=!0,c=E.pointerId,u=E.clientX,f=E.clientY,h=n.style.cursor??"",n.setPointerCapture?.(E.pointerId),n.style.cursor=s,a.onPanStart?.(E))},g=E=>{if(!r||c!==E.pointerId)return;const C=E.clientX-u,T=E.clientY-f;u=E.clientX,f=E.clientY,a.onPan(C,T,E)},p=E=>{!r||c!==E.pointerId||(r=!1,c=null,n.releasePointerCapture?.(E.pointerId),n.style.cursor=h??"",a.onPanEnd?.(E))},v=E=>{p(E)},b=E=>{p(E)};return n.addEventListener("pointerdown",m),n.addEventListener("pointermove",g),n.addEventListener("pointerup",v),n.addEventListener("pointercancel",b),n.addEventListener("pointerleave",b),()=>{n.removeEventListener("pointerdown",m),n.removeEventListener("pointermove",g),n.removeEventListener("pointerup",v),n.removeEventListener("pointercancel",b),n.removeEventListener("pointerleave",b),r&&c!==null&&n.releasePointerCapture?.(c),n.style.cursor=h??""}}const Vx=10,Zx=250;function Qi(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function Jx(n,a){const s=a.tapMaxMovement??Vx,r=a.tapMaxDuration??Zx;let c=null;const u=v=>{if(v.touches.length===1){const b=v.touches[0];c={mode:"pan",lastX:b.clientX,lastY:b.clientY,startX:b.clientX,startY:b.clientY,startTime:Qi(),moved:!1};return}if(v.touches.length>=2){const[b,E]=[v.touches[0],v.touches[1]];c={mode:"pinch",lastCenterX:(b.clientX+E.clientX)/2,lastCenterY:(b.clientY+E.clientY)/2,lastDistance:Math.hypot(b.clientX-E.clientX,b.clientY-E.clientY),startTime:Qi(),moved:!1}}},f=(v,b)=>{if(!c||c.mode!=="pan")return;const E=v.clientX-c.lastX,C=v.clientY-c.lastY;!c.moved&&Math.hypot(E,C)>1&&(c.moved=!0),c.lastX=v.clientX,c.lastY=v.clientY,a.onPan(E,C,b)},h=(v,b,E)=>{const C=(v.clientX+b.clientX)/2,T=(v.clientY+b.clientY)/2,B=Math.hypot(v.clientX-b.clientX,v.clientY-b.clientY);let P=1,L=0,F=0;c&&c.mode==="pinch"?(P=B/c.lastDistance,L=C-c.lastCenterX,F=T-c.lastCenterY):c={mode:"pinch",lastCenterX:C,lastCenterY:T,lastDistance:B,startTime:Qi(),moved:!1},!(!c||c.mode!=="pinch")&&(c.lastCenterX=C,c.lastCenterY=T,c.lastDistance=B,c.moved=!0,a.onPinch({centerX:C,centerY:T,scale:P,deltaCenterX:L,deltaCenterY:F},E))},m=v=>{if(!c||v.touches.length===0)return;if(v.preventDefault(),v.touches.length===1){const C=v.touches[0];c.mode!=="pan"&&(c={mode:"pan",lastX:C.clientX,lastY:C.clientY,startX:C.clientX,startY:C.clientY,startTime:Qi(),moved:!0}),f(C,v);return}const[b,E]=[v.touches[0],v.touches[1]];h(b,E,v)},g=()=>!c||c.mode!=="pan"||Math.hypot(c.lastX-c.startX,c.lastY-c.startY)>s?!1:Qi()-c.startTime<=r,p=v=>{if(c){if(v.touches.length===0){c.mode==="pan"&&a.onTap&&g()&&a.onTap({x:c.startX,y:c.startY},v),c=null;return}if(v.touches.length===1){const b=v.touches[0];c={mode:"pan",lastX:b.clientX,lastY:b.clientY,startX:b.clientX,startY:b.clientY,startTime:Qi(),moved:!0};return}if(v.touches.length>=2){const[b,E]=[v.touches[0],v.touches[1]];c={mode:"pinch",lastCenterX:(b.clientX+E.clientX)/2,lastCenterY:(b.clientY+E.clientY)/2,lastDistance:Math.hypot(b.clientX-E.clientX,b.clientY-E.clientY),startTime:Qi(),moved:!0}}}};return n.addEventListener("touchstart",u,{passive:!1}),n.addEventListener("touchmove",m,{passive:!1}),n.addEventListener("touchend",p),n.addEventListener("touchcancel",p),()=>{n.removeEventListener("touchstart",u),n.removeEventListener("touchmove",m),n.removeEventListener("touchend",p),n.removeEventListener("touchcancel",p),c=null}}const Wx=.5,$x=3.5;function Df(n,a,s,r,c){const u=n.getBoundingClientRect(),f=a-u.left,h=s-u.top,m=u.width/2,g=u.height/2;return{x:c.x+(f-m)/r,y:c.y+(h-g)/r}}function eC(n){return Math.min($x,Math.max(Wx,n))}function b2(n,a,s,r=Se.zoom,c=Se){return Df(n,a,s,r,c)}function E2(n,a,s,r){const c=eC(r);if(c===Se.zoom)return;const u={x:Se.x,y:Se.y},f=Df(n,a,s,Se.zoom,u),h=Df(n,a,s,c,u);Se.x+=f.x-h.x,Se.y+=f.y-h.y,Se.zoom=c,Nt()}function df(n,a){n===0&&a===0||(Se.x-=n/Se.zoom,Se.y-=a/Se.zoom,Nt())}function tC(n){const a=window.devicePixelRatio||1,s=Math.max(window.innerWidth,1),r=Math.max(window.innerHeight,1);n.style.width=`${s}px`,n.style.height=`${r}px`,n.width=Math.round(s*a),n.height=Math.round(r*a);const c=n.getContext("2d");c&&c.setTransform(1,0,0,1,0,0),Nt()}const nC=.0015,Tf=[];let rh=0,Ha=null,Dc=y2(null),Ht=null,ff="classic",kf=null;function aC(){if(typeof document>"u")return;const n=document.querySelector("[data-build-commit]");if(!n)return;const a="55d1869".trim(),s=a.length>0&&a!=="unknown",r=s?`#${a}`:"DEV BUILD";n.textContent=r,n.dataset.state=s?"commit":"dev";const c=n.closest("#build-id");if(c){const u=s?`Build commit ${a}`:"Development build";c.setAttribute("aria-label",u),c.title=s?`Autobattles build ${a}`:"Unversioned development build",c.dataset.buildState=s?"release":"development"}}aC();function Ba(n){Tf.push(n)}function iC(){for(;Tf.length;){const n=Tf.pop();try{n?.()}catch(a){console.error("Error during cleanup",a)}}}function sC(n){Ba(()=>n.dispose())}function qo(n,a){const s=Dc.showBanner(n,a);s&&Ba(()=>s.dismiss())}function lC(n){switch(n.type){case"status":if(n.phase==="start"){Ht?.dispose();const a=Dc.showLoader(n.message);Ht=a,sC(a)}else Ht&&(Ht.update(n.message),Ht.clear(),Ht=null);break;case"ready":Ht?.clear(),Ht=null;break;case"warnings":n.warnings.length&&(console.warn("Resource loader warnings",n.warnings),qo("warning",{title:"Heads up",messages:n.warnings,autoCloseMs:12e3}));break;case"errors":n.errors.length&&(console.error("Resource loader errors",n.errors),qo("error",{title:"Some resources failed to load",messages:n.errors,actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}]}));break;case"fatal":console.error("Critical assets failed to load",n.messages),Ht?.clear(),Ht=null,qo("error",{title:"Unable to start the sauna battle",messages:n.messages,actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}],dismissible:!1});break;case"failure":console.error("Failed to initialize resources",n.error),Ht?.clear(),Ht=null,qo("error",{title:"Failed to initialize",messages:[n.message],actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}]});break;case"cancelled":Ht?.dispose(),Ht=null;break}}const w2=Yx({assetPaths:y4,loadAssets:Qb,preloadSaunojaIcon:Tv,setAssets:b4,startGame:Nx,shouldAbort:n=>n!==rh});w2.subscribe(lC);function CA(n){if(!Ha)return;n.preventDefault();const a=Math.exp(-n.deltaY*nC),s=Se.zoom*a;E2(Ha,n.clientX,n.clientY,s)}function RA(n){if(!Ha)return;const a=b2(Ha,n.clientX,n.clientY);p2(a)}function rC(n){n.addEventListener("click",RA),Ba(()=>n.removeEventListener("click",RA)),n.addEventListener("wheel",CA,{passive:!1}),Ba(()=>n.removeEventListener("wheel",CA));const a=Kx(n,{onPan:(r,c)=>{df(r,c)},dragCursor:"grabbing"});Ba(a);const s=Jx(n,{onPan:(r,c)=>{df(r,c)},onPinch:({centerX:r,centerY:c,scale:u,deltaCenterX:f,deltaCenterY:h})=>{E2(n,r,c,Se.zoom*u),df(f,h)},onTap:r=>{const c=b2(n,r.x,r.y);p2(c)}});Ba(s)}function oC(){rh+=1,iC(),kf?.destroy(),kf=null,Ht?.dispose(),Ht=null,Ha&&(Ha.style.cursor=""),Ha=null,Dc.removeTransientUI(),Mf()}function cC(){const n=document.getElementById("game-canvas"),a=document.getElementById("resource-bar"),s=document.getElementById("ui-overlay");if(!n||!a||!s){console.error("Autobattles4xFinsauna shell is missing the required canvas, overlay, or resource bar elements.",{hasCanvas:!!n,hasResourceBar:!!a,hasOverlay:!!s});return}Ha&&oC();const r=++rh;ff=jv().useUiV2?"v2":"classic",Ha=n,Dc=y2(s);const u=bw();Ba(()=>u.dispose()),hx(n,a,s,{hudVariant:ff}),ff==="v2"&&(kf=jx({overlay:s,resourceBar:a})),rC(n);const f=()=>tC(n);window.addEventListener("resize",f),Ba(()=>window.removeEventListener("resize",f)),window.addEventListener("beforeunload",Mf),Ba(()=>window.removeEventListener("beforeunload",Mf)),f(),import.meta.vitest||w2.run(r)}function uC(){if(typeof document>"u")return;const n=()=>{document.removeEventListener("DOMContentLoaded",n),cC()};if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",n);return}n()}import.meta.vitest||uC();
