(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();class U1{listeners=new Map;on(a,s){const o=this.listeners.get(a)??[];o.push(s),this.listeners.set(a,o)}off(a,s){const o=this.listeners.get(a);if(!o)return;const l=o.indexOf(s);l!==-1&&(o.splice(l,1),o.length===0?this.listeners.delete(a):this.listeners.set(a,o))}emit(a,s){const o=this.listeners.get(a);if(o)for(const l of o)l(s)}}const te=new U1;class Rh{type="farm";cost=50;beerPerTick=1}class Cv{type="barracks";cost=100;trainingCapacity=1}const Rv=Math.sqrt(3),Bv=[{q:1,r:0},{q:1,r:-1},{q:0,r:-1},{q:-1,r:0},{q:-1,r:1},{q:0,r:1}];function na(n,a){return{x:a*Rv*(n.q+n.r/2),y:a*(3/2)*n.r}}function bo(n,a,s){const o=(Rv/3*n-.3333333333333333*a)/s,l=2/3*a/s;return{q:o,r:l}}function j1(n,a,s){return z1(bo(n,a,s))}function kc(n){return Bv.map(a=>({q:n.q+a.q,r:n.r+a.r}))}function Js(n,a){const s=-n.q-n.r,o=-a.q-a.r;return Math.max(Math.abs(n.q-a.q),Math.abs(n.r-a.r),Math.abs(s-o))}function z1(n){let a=n.q,s=n.r,o=-a-s,l=Math.round(a),u=Math.round(o),f=Math.round(s);const h=Math.abs(l-a),m=Math.abs(u-o),g=Math.abs(f-s);return h>m&&h>g?l=-u-f:m>g?u=-l-f:f=-l-u,{q:l,r:f}}const Hc=new Set;let xc=32;function I1(n){return`${n.q},${n.r}`}function $f(n,a){xc=a,Hc.add(I1(n))}function F1(n){if(Hc.size===0)return{center:{x:0,y:0},zoom:1};const a=xc*Math.sqrt(3),s=xc*2,o=a/2,l=s/2;let u=1/0,f=1/0,h=-1/0,m=-1/0;for(const I of Hc){const[q,Z]=I.split(",").map(Number),{x:ie,y:se}=na({q,r:Z},xc),oe=ie-o,ne=se-l;u=Math.min(u,oe),f=Math.min(f,ne),h=Math.max(h,oe+a),m=Math.max(m,ne+s)}const g=h-u,p=m-f,v=96,b={x:u+g/2,y:f+p/2},E=Math.max(0,Math.min(n.safeRight??0,n.width)),T=Math.max(n.width-E,1)/(g+v*2),D=n.height/(p+v*2),N=Math.min(T,D);return{center:{x:N>0?b.x-E/(2*N):b.x,y:b.y},zoom:N}}const Se={x:0,y:0,zoom:1};function q1(n,a=300){const s=Se.x,o=Se.y,l=Se.zoom,u=typeof performance<"u"?performance.now():Date.now(),f=h=>{const m=Math.min((h-u)/a,1);Se.x=s+(n.center.x-s)*m,Se.y=o+(n.center.y-o)*m,Se.zoom=l+(n.zoom-l)*m,m<1&&(typeof requestAnimationFrame<"u"?requestAnimationFrame(f):setTimeout(()=>f(typeof performance<"u"?performance.now():Date.now()),16))};typeof requestAnimationFrame<"u"?requestAnimationFrame(f):setTimeout(()=>f(typeof performance<"u"?performance.now():Date.now()),0)}function X1(){Hc.clear()}async function Y1(n){const a={},s={},o=[],l=Object.entries(n.images??{}).map(([f,h])=>new Promise(m=>{const g=new Image;g.onload=()=>{a[f]=g,m()},g.onerror=()=>{const p=`Failed to load image: ${h}`;console.error(p),o.push(p),m()},g.src=h})),u=Object.entries(n.sounds??{}).map(([f,h])=>new Promise(m=>{const g=new Audio;g.oncanplaythrough=()=>{s[f]=g,m()},g.onerror=()=>{const p=`Failed to load sound: ${h}`;console.error(p),o.push(p),m()},g.src=h,g.load()}));return await Promise.all([...l,...u]),{assets:{images:a,sounds:s},failures:o}}function Bh(n){if(typeof globalThis.localStorage>"u")return;const a=globalThis.localStorage.getItem(n);if(a)try{return JSON.parse(a)}catch(s){console.warn(`Failed to parse data for "${n}", clearing`,s),globalThis.localStorage.removeItem(n);return}}var ae=(n=>(n.SAUNA_BEER="sauna-beer",n.SAUNAKUNNIA="saunakunnia",n.SISU="sisu",n))(ae||{});const tc={"sauna-beer":1,saunakunnia:0,sisu:0},Mv="/assets/sauna-beer-CgafwOhX.svg",Dv="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eResource%20Icon%3c/title%3e%3cdesc%20id='desc'%3eA%20luminous%20crest%20symbolising%20generic%20resources.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='resource-bg'%20cx='50%25'%20cy='50%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='%2338bdf8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230ea5e9'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='resource-core'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%2338bdf8'%20/%3e%3c/linearGradient%3e%3cfilter%20id='resource-glow'%20x='-40%25'%20y='-40%25'%20width='180%25'%20height='180%25'%3e%3cfeDropShadow%20dx='0'%20dy='4'%20stdDeviation='6'%20flood-color='%2338bdf8'%20flood-opacity='0.45'%20/%3e%3c/filter%3e%3c/defs%3e%3cg%20filter='url(%23resource-glow)'%3e%3ccircle%20cx='32'%20cy='32'%20r='22'%20fill='%230f172a'%20stroke='url(%23resource-bg)'%20stroke-width='4'%20/%3e%3cpath%20d='M32%2016l-12%2014%2012%2022%2012-22z'%20fill='url(%23resource-core)'%20stroke='%23f8fafc'%20stroke-width='2'%20/%3e%3cpath%20d='M20%2030l-4%208%2016%2010'%20fill='none'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M44%2030l4%208-16%2010'%20fill='none'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3c/g%3e%3c/svg%3e",Tv="/assets/saunoja-roster-Bfn4ZKxh.svg",zt={APPLIED:"policy:applied",REJECTED:"policy:rejected"},kv=[{id:"eco",name:"Evergreen Eco Mandate",description:"Increase passive sauna beer brewing by one bottle each production tick.",cost:15,resource:ae.SAUNAKUNNIA,prerequisites:[],visuals:{icon:Dv,gradient:"linear-gradient(135deg, rgba(66, 240, 155, 0.9), rgba(13, 114, 234, 0.85))",accentColor:"#34d399",badges:["Economy","Sustainability"],flair:"Green-lit by the council of whisked sauna masters."},effects:[{event:zt.APPLIED,once:!0,invoke:({state:n})=>{n.modifyPassiveGeneration(ae.SAUNA_BEER,1)}}],spotlight:"Sustainably expand your brewing line with solar-heated mash tuns."},{id:"temperance",name:"Aurora Temperance Treaty",description:"Boost night shift work speed by 5% once the eco initiative is live.",cost:25,resource:ae.SAUNAKUNNIA,prerequisites:[{description:"Enact the Evergreen Eco Mandate.",isSatisfied:n=>n.hasPolicy("eco")},{description:"Stockpile at least 30 Sauna Beer bottles to brief the midnight crews.",isSatisfied:n=>n.getResource(ae.SAUNA_BEER)>=30}],visuals:{icon:Tv,gradient:"linear-gradient(140deg, rgba(46, 51, 227, 0.9), rgba(118, 75, 162, 0.85))",accentColor:"#6366f1",badges:["Discipline","Night Ops"],flair:"Whispers of aurora spirits keep the crew laser-focused after dusk."},effects:[{event:zt.APPLIED,once:!0,invoke:({state:n})=>{n.nightWorkSpeedMultiplier=Number((n.nightWorkSpeedMultiplier*1.05).toFixed(4))}}],spotlight:"Glow-lit helmets and synchronized chants keep the late shift on tempo."},{id:"steam-diplomats",name:"Steam Diplomats Accord",description:"Import two additional sauna beer bottles per tick via gilded trade routes.",cost:35,resource:ae.SAUNAKUNNIA,prerequisites:[{description:"Secure the Aurora Temperance Treaty for your envoys.",isSatisfied:n=>n.hasPolicy("temperance")},{description:"Hold a reserve of 50 Sauna Beer bottles to fund the embassy festivities.",isSatisfied:n=>n.getResource(ae.SAUNA_BEER)>=50}],visuals:{icon:Mv,gradient:"linear-gradient(150deg, rgba(255, 173, 94, 0.92), rgba(255, 99, 71, 0.85))",accentColor:"#fb923c",badges:["Diplomacy","Logistics"],flair:"Silver samovars arrive with diplomatic steam-born delights."},effects:[{event:zt.APPLIED,once:!0,invoke:({state:n})=>{n.modifyPassiveGeneration(ae.SAUNA_BEER,2)}}],spotlight:"Trade envoys pipe artisanal steam through every new supply line."}],Hv=new Map;for(const n of kv)Hv.set(n.id,n);function Ov(){return kv}function Qp(n){return Hv.get(n)}const Nv="progression:ngPlusState",Wc=5,Pv=1831565813,er=Object.freeze({aggressionMultiplier:1,cadenceMultiplier:1,strengthMultiplier:1}),Cc=Object.freeze({runSeed:0,ngPlusLevel:0,unlockSlots:0,enemyTuning:er});function gf(n,a,s,o){const l=Number(n);return Number.isFinite(l)?Math.min(s,Math.max(a,l)):o}function Mh(n){return{aggressionMultiplier:gf(n?.aggressionMultiplier,.25,6,er.aggressionMultiplier),cadenceMultiplier:gf(n?.cadenceMultiplier,.25,4,er.cadenceMultiplier),strengthMultiplier:gf(n?.strengthMultiplier,.25,6,er.strengthMultiplier)}}function Gv(){if(typeof window>"u")return null;try{return window.localStorage??null}catch(n){return console.warn("Local storage unavailable for NG+ state",n),null}}function Lp(n,a,s){const o=Number.isFinite(n)?n:Number(n);if(!Number.isFinite(o))return a;const l=Math.trunc(o);return Math.min(s,Math.max(a,l))}function Qv(n){const a=Number.isFinite(n)?n:Number(n);return!Number.isFinite(a)||a===0?0:Math.trunc(Math.abs(a))}function Lv(n=Math.random){let a=n();(!Number.isFinite(a)||a<=0||a>=1)&&(a=Math.random());const s=Math.floor(a*4294967295);return s===0?Pv:s}function Fa(n={}){const a=Cc,s=Qv(n.runSeed??a.runSeed),o=Lp(n.ngPlusLevel??a.ngPlusLevel,0,Number.MAX_SAFE_INTEGER),l=Lp(n.unlockSlots??a.unlockSlots,0,Wc),u=Mh(n.enemyTuning??a.enemyTuning);return{runSeed:s,ngPlusLevel:o,unlockSlots:l,enemyTuning:u}}function La(n,a=Math.random){const s=Fa(n);return s.runSeed!==0?s:Fa({...s,runSeed:Lv(a)})}function _1(n=Math.random){const a=Gv();if(!a)return La(Cc,n);const s=a.getItem(Nv);if(!s)return La(Cc,n);try{const o=JSON.parse(s);return La(Fa(o),n)}catch(o){return console.warn("Failed to parse NG+ state",o),La(Cc,n)}}function eh(n){const a=Gv();if(!a)return;const s=Fa(n);a.setItem(Nv,JSON.stringify(s))}function K1(n,a){const s=Fa(n),o=typeof a.random=="function"?a.random:Math.random;let l=s.ngPlusLevel,u=s.unlockSlots;if(a.outcome==="win"){l+=1;const h=Math.max(0,Math.trunc(a.bonusUnlocks??1));h>0&&(u=Math.min(Wc,u+h))}const f=Lv(o);return La(Fa({runSeed:f,ngPlusLevel:l,unlockSlots:u,enemyTuning:s.enemyTuning}),o)}function V1(n){const a=Math.max(0,n.ngPlusLevel),s=Math.max(0,n.unlockSlots)*.02;return Math.min(3,1+a*.12+s)}function Z1(n){const a=Math.max(0,n.ngPlusLevel),s=Math.max(0,n.unlockSlots)*.01,o=.1+a*.05+s;return Math.max(0,Math.min(.85,o))}function J1(n){const a=Math.max(0,n.ngPlusLevel),s=Math.max(.5,1+a*.25),o=Mh(n.enemyTuning??er);return Math.max(.25,Math.min(8,s*o.aggressionMultiplier))}function W1(n){return 1+Math.max(0,n.unlockSlots)}function $1(n){return Mh(n.enemyTuning??er)}function Up(n,a=0){let s=Qv(n)^(a|0);return s===0&&(s=Pv^(a|0)),()=>{s=s+1831565813|0;let o=Math.imul(s^s>>>15,1|s);return o^=o+Math.imul(o^o>>>7,61|o),((o^o>>>14)>>>0)/4294967296}}function pf(n){return`${n.q},${n.r}`}const Uv={farm:()=>new Rh,barracks:()=>new Cv};function eE(n){return Uv[n]?.()}const jp=Object.freeze({aggression:1,cadence:1,strength:1});function tr(n,a,s,o){const l=Number(n);return Number.isFinite(l)?Math.min(s,Math.max(a,l)):o}function zp(n,a){return{aggression:tr(a.aggression??n.aggression,.1,8,n.aggression),cadence:tr(a.cadence??n.cadence,.25,6,n.cadence),strength:tr(a.strength??n.strength,.25,12,n.strength)}}class tE{constructor(a,s="gameState"){this.tickInterval=a,this.storageKey=s}resources={[ae.SAUNA_BEER]:0,[ae.SAUNAKUNNIA]:0,[ae.SISU]:0};passiveGeneration={...tc};lastSaved=Date.now();buildings={};buildingPlacements=new Map;policies=new Set;nightWorkSpeedMultiplier=1;enemyScaling={...jp};enemyCalmSecondsRemaining=0;ngPlus=Fa();tick(){Object.keys(this.passiveGeneration).forEach(a=>{this.addResource(a,this.passiveGeneration[a])})}save(){this.lastSaved=Date.now();const a={};this.buildingPlacements.forEach((l,u)=>{a[u]=l.type});const s={resources:this.resources,lastSaved:this.lastSaved,buildings:this.buildings,buildingPlacements:a,policies:Array.from(this.policies),passiveGeneration:{...this.passiveGeneration},nightWorkSpeedMultiplier:this.nightWorkSpeedMultiplier,enemyScaling:{...this.enemyScaling},ngPlus:this.ngPlus},o=typeof localStorage<"u"&&localStorage?localStorage:void 0;if(!o){console.warn("GameState.save: localStorage is unavailable, skipping persistence.");return}try{o.setItem(this.storageKey,JSON.stringify(s))}catch(l){console.warn("GameState.save: Failed to persist state to localStorage.",l)}}load(a){const s=Bh(this.storageKey);if(!s)return this.lastSaved=Date.now(),!1;this.resources={...this.resources,...s.resources??{}},Object.keys(this.resources).forEach(m=>{Number.isFinite(this.resources[m])||(this.resources[m]=0)}),this.enemyScaling=zp(jp,s.enemyScaling??{}),this.enemyCalmSecondsRemaining=0;const o={};Object.entries(s.buildings??{}).forEach(([m,g])=>{Uv[m]&&(o[m]=g)}),this.buildings=o,this.buildingPlacements.clear(),s.buildingPlacements&&Object.entries(s.buildingPlacements).forEach(([m,g])=>{const p=eE(g);if(!p)return;this.buildingPlacements.set(m,p);const[v,b]=m.split(",").map(Number);if(a){const E=a.ensureTile(v,b);E.placeBuilding(p.type),E.reveal(),$f({q:v,r:b},a.hexSize)}te.emit("buildingPlaced",{building:p,coord:{q:v,r:b},state:this})}),this.lastSaved=s.lastSaved??Date.now();const l=s.ngPlus?Fa(s.ngPlus):this.ngPlus;if(this.ngPlus=La(l),this.policies=new Set,this.passiveGeneration={...tc},this.nightWorkSpeedMultiplier=1,(Array.isArray(s.policies)?s.policies.filter(m=>typeof m=="string"):[]).forEach(m=>{const g=Qp(m);g&&(this.policies.add(g.id),te.emit(zt.APPLIED,{policy:g,state:this}))}),s.passiveGeneration){const m={...tc};Object.keys(tc).forEach(g=>{const p=s.passiveGeneration?.[g];typeof p=="number"&&Number.isFinite(p)&&(m[g]=p)}),this.passiveGeneration=m}typeof s.nightWorkSpeedMultiplier=="number"&&Number.isFinite(s.nightWorkSpeedMultiplier)&&(this.nightWorkSpeedMultiplier=s.nightWorkSpeedMultiplier);const f=Date.now()-this.lastSaved,h=Math.floor(f/this.tickInterval);return Object.keys(this.passiveGeneration).forEach(m=>{this.resources[m]+=h*this.passiveGeneration[m]}),!0}getResource(a){return this.resources[a]}canAfford(a,s=ae.SAUNA_BEER){return this.resources[s]>=a}spendResource(a,s=ae.SAUNA_BEER){return this.spend(a,s)}spend(a,s=ae.SAUNA_BEER){return this.canAfford(a,s)?(this.resources[s]-=a,te.emit("resourceChanged",{resource:s,amount:-a,total:this.resources[s]}),!0):!1}addResource(a,s){this.resources[a]+=s,te.emit("resourceChanged",{resource:a,amount:s,total:this.resources[a]})}modifyPassiveGeneration(a,s){this.passiveGeneration[a]=(this.passiveGeneration[a]??0)+s}setEnemyScalingBase(a){return this.enemyScaling=zp(this.enemyScaling,a),{...this.enemyScaling}}applyEnemyScalingModifiers(a){const s={aggression:tr(this.enemyScaling.aggression*(a.aggression??1),.1,8,this.enemyScaling.aggression),cadence:tr(this.enemyScaling.cadence*(a.cadence??1),.25,6,this.enemyScaling.cadence),strength:tr(this.enemyScaling.strength*(a.strength??1),.25,12,this.enemyScaling.strength)};return this.enemyScaling=s,{...this.enemyScaling}}getEnemyScalingSnapshot(){return{...this.enemyScaling,calmSecondsRemaining:Math.max(0,this.enemyCalmSecondsRemaining)}}requestEnemyCalm(a){const s=Number(a);return!Number.isFinite(s)||s<=0?this.enemyCalmSecondsRemaining:(this.enemyCalmSecondsRemaining=Math.max(this.enemyCalmSecondsRemaining,s),this.enemyCalmSecondsRemaining)}advanceEnemyCalm(a){const s=Number(a);return!Number.isFinite(s)||s<=0?this.enemyCalmSecondsRemaining:(this.enemyCalmSecondsRemaining=Math.max(0,this.enemyCalmSecondsRemaining-s),this.enemyCalmSecondsRemaining)}clearEnemyCalm(){this.enemyCalmSecondsRemaining=0}construct(a,s,o=ae.SAUNA_BEER){return this.spend(s,o)?(this.buildings[a]=(this.buildings[a]??0)+1,!0):!1}placeBuilding(a,s,o,l=ae.SAUNA_BEER){const u=o.getTile(s.q,s.r);return!u||u.building||!this.construct(a.type,a.cost,l)?!1:(this.buildingPlacements.set(pf(s),a),u.placeBuilding(a.type),te.emit("buildingPlaced",{building:a,coord:s,state:this}),!0)}getBuildingAt(a){return this.buildingPlacements.get(pf(a))}removeBuilding(a,s){const o=pf(a),l=this.buildingPlacements.get(o);return l?(this.buildingPlacements.delete(o),s.getTile(a.q,a.r)?.placeBuilding(null),this.buildings[l.type]!==void 0&&(this.buildings[l.type]-=1,this.buildings[l.type]<=0&&delete this.buildings[l.type]),te.emit("buildingRemoved",{building:l,coord:a,state:this}),!0):!1}upgrade(a,s,o=ae.SAUNA_BEER){return this.construct(`upgrade:${a}`,s,o)}applyPolicy(a){const s=Qp(a);if(!s){const u={policyId:a,state:this,reason:"unknown-policy"};return te.emit(zt.REJECTED,u),!1}if(this.hasPolicy(s.id)){const u={policyId:s.id,policy:s,state:this,reason:"already-applied"};return te.emit(zt.REJECTED,u),!1}const o=s.prerequisites.filter(u=>!u.isSatisfied(this));if(o.length>0){const u={policyId:s.id,policy:s,state:this,reason:"prerequisites-not-met",missingPrerequisites:o};return te.emit(zt.REJECTED,u),!1}if(!this.spend(s.cost,s.resource)){const u={policyId:s.id,policy:s,state:this,reason:"insufficient-resources"};return te.emit(zt.REJECTED,u),!1}this.policies.add(s.id);const l={policy:s,state:this};return te.emit(zt.APPLIED,l),!0}hasPolicy(a){return this.policies.has(a)}getNgPlusState(){return{...this.ngPlus}}setNgPlusState(a){const s=Fa({...this.ngPlus,...a});return this.ngPlus=La(s),this.ngPlus}}class nE{constructor(a,s){this.baseInterval=a,this.onTick=s}timer=null;speed=1;lastTick=0;accumulator=0;start(){this.stop(),this.lastTick=Date.now();const a=this.baseInterval/this.speed;this.timer=setInterval(()=>{const s=Date.now(),o=s-this.lastTick;this.lastTick=s,this.onTick(o)},a)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}setSpeed(a){if(a<=0)throw new Error("Speed multiplier must be positive");this.speed=a,this.timer!==null&&this.start()}getSpeed(){return this.speed}getBaseInterval(){return this.baseInterval}tick(a){for(this.accumulator+=a*this.speed;this.accumulator>=this.baseInterval;)this.accumulator-=this.baseInterval,this.onTick(this.baseInterval)}}var wn=(n=>(n[n.Plains=0]="Plains",n[n.Forest=1]="Forest",n[n.Hills=2]="Hills",n[n.Lake=3]="Lake",n))(wn||{});function aE(n,a,s){let o=n*374761393+a*668265263+s*0x14057b7ef7678100;return o=(o^o>>13)*1274126177,o^=o>>16,(o>>>0)/4294967295}function iE(n,a,s=0){const o=aE(n,a,s);return o<.1?3:o<.3?1:o<.5?2:0}class sE{_terrain;_building;_isFogged;listeners=new Set;constructor(a=wn.Plains,s=null,o=!0){this._terrain=a,this._building=s,this._isFogged=o}get terrain(){return this._terrain}set terrain(a){this._terrain!==a&&(this._terrain=a,this.notify("terrain"))}get building(){return this._building}set building(a){this._building!==a&&(this._building=a,this.notify("building"))}get isFogged(){return this._isFogged}set isFogged(a){this._isFogged!==a&&(this._isFogged=a,this.notify("fog"))}reveal(){this.isFogged=!1}placeBuilding(a){this.building=a}setFogged(a){this.isFogged=a}addMutationListener(a){return this.listeners.add(a),()=>this.listeners.delete(a)}notify(a){for(const s of this.listeners)s(a)}}class rE{constructor(a=10,s=10,o=32,l=0){this.hexSize=o,this.seed=l,this.minQ=0,this.minR=0,this.maxQ=a-1,this.maxR=s-1}tiles=new Map;tileSubscriptions=new Map;changeListeners=new Set;minQ;maxQ;minR;maxR;get width(){return this.maxQ-this.minQ+1}get height(){return this.maxR-this.minR+1}key(a,s){return`${a},${s}`}addTileChangeListener(a){return this.changeListeners.add(a),()=>this.changeListeners.delete(a)}notifyTileChange(a,s,o){for(const l of this.changeListeners)l(a,s,o)}attachTileListener(a,s,o){const l=s.addMutationListener(u=>{this.notifyTileChange(o,s,u)});this.tileSubscriptions.set(a,l)}ensureTile(a,s){const o=this.key(a,s);let l=this.tiles.get(o);return l||(l=new sE(iE(a,s,this.seed)),this.tiles.set(o,l),this.minQ=Math.min(this.minQ,a),this.maxQ=Math.max(this.maxQ,a),this.minR=Math.min(this.minR,s),this.maxR=Math.max(this.maxR,s),this.attachTileListener(o,l,{q:a,r:s}),this.notifyTileChange({q:a,r:s},l,"created"),l.isFogged||$f({q:a,r:s},this.hexSize)),l}getTile(a,s){return this.tiles.get(this.key(a,s))}forEachTile(a){for(const[s,o]of this.tiles){const[l,u]=s.split(",").map(Number);a(o,{q:l,r:u})}}getNeighbors(a,s){return kc({q:a,r:s}).map(o=>this.ensureTile(o.q,o.r))}revealAround(a,s,o={}){const{autoFrame:l=!0}=o;for(let h=-s;h<=s;h++){const m=Math.max(-s,-h-s),g=Math.min(s,-h+s);for(let p=m;p<=g;p++){const v={q:a.q+h,r:a.r+p};this.ensureTile(v.q,v.r).reveal(),$f(v,this.hexSize)}}if(!l)return;const u=typeof window<"u"?(()=>{const h=Math.max(window.innerWidth,0),m=Math.max(window.innerHeight,0);let g=0;if(typeof document<"u"){const v=document.getElementById("right-panel");if(v){const b=v.getBoundingClientRect();if(b.width>0){const E=v.closest("#ui-overlay");if(E){const x=E.getBoundingClientRect(),T=window.getComputedStyle(E),D=Number.parseFloat(T.paddingRight||"0"),N=x.right-b.left,L=b.width+(Number.isFinite(D)?D:0);g=Math.max(0,Math.max(N,L))}else g=Math.max(0,b.width)}}}const p=Math.min(Math.max(g,0),h);return{width:h,height:m,safeRight:p}})():{width:0,height:0,safeRight:0},f=F1(u);q1(f,300)}}const Oc={TRIGGERED:"scheduler:eventTriggered",RESOLVED:"scheduler:eventResolved"},oE=new Map;function lE(){return globalThis.localStorage??null}function oo(n){return typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function jv(n){const a=globalThis.crypto;return a?.randomUUID?a.randomUUID():`${n}-${Date.now()}-${Math.random().toString(16).slice(2)}`}function cE(n){const a={id:String(n.id??""),label:String(n.label??""),description:n.description?String(n.description):void 0,event:n.event?String(n.event):void 0,payload:n.payload,accent:n.accent??void 0};return a.id||(a.id=jv("choice")),a.label||(a.label="Choose"),a}function Nc(n){const a={id:String(n.id??""),headline:String(n.headline??""),body:String(n.body??""),art:n.art?String(n.art):void 0,typography:n.typography,animation:n.animation,accentColor:n.accentColor?String(n.accentColor):void 0,acknowledgeText:n.acknowledgeText?String(n.acknowledgeText):void 0,choices:Array.isArray(n.choices)?n.choices.map(s=>cE(s)):void 0};return a.id||(a.id=jv("event")),a}function uE(n){return{content:Nc(n.content),trigger:n.trigger.type==="time"?{type:"time",at:Number.isFinite(n.trigger.at)?n.trigger.at:0}:{type:"condition",conditionId:String(n.trigger.conditionId),params:n.trigger.params}}}function Ip(n){return{content:Nc(n.content),triggeredAt:Number.isFinite(n.triggeredAt)?n.triggeredAt:0}}const Af=Object.freeze({clock:0,queue:[],active:[]});class dE{storageKey;eventBus;getStorage;state=oo(Af);subscribers=new Set;constructor(a={}){this.storageKey=a.storageKey??"autobattles:event-scheduler",this.eventBus=a.eventBus??te,this.getStorage=a.storageProvider??lE,this.load()}subscribe(a){return this.subscribers.add(a),a(this.getActiveEvents()),()=>{this.subscribers.delete(a)}}getActiveEvents(){return this.state.active.map(a=>({...oo(a.content),triggeredAt:a.triggeredAt}))}schedule(a){const s=Nc(a.content);if(!s.headline||!s.body||this.containsEvent(s.id))return!1;const o=a.trigger.type==="condition"?{type:"condition",conditionId:String(a.trigger.conditionId),params:a.trigger.params}:{type:"time",at:this.resolveTriggerTime(a.trigger)};return this.state.queue.push({content:s,trigger:o}),this.sortQueue(),this.save(),!0}publish(a){const s=Nc(a);this.containsEvent(s.id)||(this.state.queue=this.state.queue.filter(o=>o.content.id!==s.id),this.activateEvent({content:s,triggeredAt:this.state.clock}))}tick(a,s={}){if(!Number.isFinite(a)||a<=0)return;this.state.clock+=a;const o=[],l=[];for(const u of this.state.queue)this.shouldTrigger(u.trigger,s)?o.push(u):l.push(u);this.state.queue=l;for(const u of o)this.activateEvent({content:u.content,triggeredAt:this.state.clock});this.save()}resolve(a,s){const o=this.state.active.findIndex(h=>h.content.id===a);if(o===-1)return!1;const l=this.state.active[o],u=this.pickChoice(l.content,s),f=u?u.id:null;return this.state.active.splice(o,1),this.save(),this.notify(),this.eventBus.emit(Oc.RESOLVED,{eventId:a,choiceId:f,event:l.content}),u?.event&&this.eventBus.emit(u.event,{eventId:a,choiceId:f,payload:u.payload,event:l.content}),!0}reset(){this.state=oo(Af),this.save(),this.notify()}activateEvent(a){const s=Ip(a);this.state.active.push(s),this.save(),this.notify(),this.eventBus.emit(Oc.TRIGGERED,{event:{...oo(s.content),triggeredAt:s.triggeredAt}})}pickChoice(a,s){const o=a.choices??[];if(o.length!==0){if(s){const l=o.find(u=>u.id===s);if(l)return l}return o[0]}}shouldTrigger(a,s){if(a.type==="time")return this.state.clock>=a.at;const o=oE.get(a.conditionId);if(!o)return!1;try{return!!o(a.params,s)}catch(l){return console.warn("Scheduler condition evaluation failed",a.conditionId,l),!1}}resolveTriggerTime(a){if(Number.isFinite(a.at))return Number(a.at);const s=Number.isFinite(a.in)?Number(a.in):0;return Math.max(0,this.state.clock+s)}sortQueue(){this.state.queue.sort((a,s)=>{const o=a.trigger.type==="time"?a.trigger.at:Number.POSITIVE_INFINITY,l=s.trigger.type==="time"?s.trigger.at:Number.POSITIVE_INFINITY;return o-l})}containsEvent(a){return this.state.active.some(s=>s.content.id===a)||this.state.queue.some(s=>s.content.id===a)}notify(){const a=this.getActiveEvents();for(const s of this.subscribers)try{s(a)}catch(o){console.warn("Scheduler subscriber failed",o)}}load(){const a=Bh(this.storageKey);if(!a){this.state=oo(Af);return}const s=Number(a.clock);this.state={clock:Number.isFinite(s)?s:0,queue:Array.isArray(a.queue)?a.queue.map(o=>uE(o)):[],active:Array.isArray(a.active)?a.active.map(o=>Ip(o)):[]}}save(){const a=this.getStorage();if(a)try{a.setItem(this.storageKey,JSON.stringify({clock:this.state.clock,queue:this.state.queue,active:this.state.active}))}catch(s){console.warn("Scheduler persistence failed",s)}}}const Rc=new dE;function fE(n,a){const s=new WeakSet,o=l=>{l.policy.id===n.id&&(a.once!==!1&&s.has(l.state)||(a.invoke(l),a.once!==!1&&s.add(l.state)))};te.on(a.event,o)}for(const n of Ov())for(const a of n.effects)fE(n,a);const hE="modulepreload",mE=function(n){return"/"+n},Fp={},gE=function(a,s,o){let l=Promise.resolve();if(s&&s.length>0){let m=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");l=m(s.map(g=>{if(g=mE(g),g in Fp)return;Fp[g]=!0;const p=g.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":hE,p||(b.as="script"),b.crossOrigin="",b.href=g,h&&b.setAttribute("nonce",h),document.head.appendChild(b),p)return new Promise((E,x)=>{b.addEventListener("load",E),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return l.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return a().catch(u)})},pE=({building:n,coord:a,state:s})=>{n instanceof Rh?s.modifyPassiveGeneration(ae.SAUNA_BEER,n.beerPerTick):n instanceof Cv&&gE(async()=>{const{spawnUnit:o}=await Promise.resolve().then(()=>gw);return{spawnUnit:o}},void 0).then(({spawnUnit:o})=>{o(s,"soldier",`barracks-${a.q}-${a.r}`,a,"player")})},AE=({building:n,state:a})=>{n instanceof Rh&&a.modifyPassiveGeneration(ae.SAUNA_BEER,-n.beerPerTick)};te.on("buildingPlaced",pE);te.on("buildingRemoved",AE);const Un={master:{defaultVolume:.9,volumeKey:"audio.mixer.master.volume",muteKey:"audio.mixer.master.muted"},music:{defaultVolume:.65,volumeKey:"audio.mixer.music.volume",muteKey:"audio.mixer.music.muted"},sfx:{defaultVolume:1,volumeKey:"audio.mixer.sfx.volume",muteKey:"audio.mixer.sfx.muted"}},Ze={master:{volume:Un.master.defaultVolume,muted:!1},music:{volume:Un.music.defaultVolume,muted:!1},sfx:{volume:Un.sfx.defaultVolume,muted:!1}},Jn={};let Nn=null,th=!1;const nh=new Set;function Dh(n,a){return Number.isFinite(n)?n<=0?0:n>=1?1:n:a}function $c(){if(typeof localStorage>"u")return null;try{return localStorage}catch(n){return console.warn("Audio mixer storage unavailable",n),null}}function vE(n){const a=$c();if(!a)return null;try{const s=a.getItem(Un[n].volumeKey);if(s===null)return null;const o=Number.parseFloat(s);return Number.isFinite(o)?Dh(o,Un[n].defaultVolume):null}catch(s){return console.warn("Failed to restore volume setting",n,s),null}}function yE(n){const a=$c();if(!a)return null;try{const s=a.getItem(Un[n].muteKey);return s===null?null:s==="true"}catch(s){return console.warn("Failed to restore mute setting",n,s),null}}for(const n of Object.keys(Un)){const a=vE(n),s=yE(n);a!==null&&(Ze[n].volume=Dh(a,Un[n].defaultVolume)),s!==null&&(Ze[n].muted=s)}function bE(n){const a=$c();if(a)try{a.setItem(Un[n].volumeKey,Ze[n].volume.toFixed(3))}catch(s){console.warn("Failed to persist volume setting",n,s)}}function EE(n){const a=$c();if(a)try{a.setItem(Un[n].muteKey,Ze[n].muted?"true":"false")}catch(s){console.warn("Failed to persist mute setting",n,s)}}function qp(){if(typeof window>"u"||!Nn||th)return;const n=()=>{Nn?.resume().catch(()=>{})};window.addEventListener("pointerdown",n,{once:!0}),window.addEventListener("keydown",n,{once:!0}),th=!0}function Th(n){const a=Jn[n];if(!a)return;const{volume:s,muted:o}=Ze[n],l=o?0:s;a.gain.value=l}function zv(n){if(!Jn.master){const a=n.createGain();a.gain.value=Ze.master.muted?0:Ze.master.volume,a.connect(n.destination),Jn.master=a}if(!Jn.music){const a=n.createGain();a.gain.value=Ze.music.muted?0:Ze.music.volume,a.connect(Jn.master),Jn.music=a}if(!Jn.sfx){const a=n.createGain();a.gain.value=Ze.sfx.muted?0:Ze.sfx.volume,a.connect(Jn.master),Jn.sfx=a}}function kh(){if(Nn||typeof window>"u")return Nn;const n=window.AudioContext||window.webkitAudioContext;if(!n)return console.warn("Web Audio API not supported"),null;try{Nn=new n,zv(Nn),qp()}catch(a){return console.warn("Unable to create AudioContext",a),Nn=null,null}return Nn.state==="suspended"&&(th=!1,qp()),Nn}function wE(){return Nn??kh()}function vf(n){const a=Ze.master;if(n==="master")return a.muted?0:a.volume;const s=Ze[n];return s.muted||a.muted?0:s.volume*a.volume}function Iv(n){const a=wE();if(!a)return null;zv(a);const s=Jn[n];return s?(Th(n),s):null}function eu(){return{channels:{master:{volume:Ze.master.volume,muted:Ze.master.muted,effectiveVolume:vf("master")},music:{volume:Ze.music.volume,muted:Ze.music.muted,effectiveVolume:vf("music")},sfx:{volume:Ze.sfx.volume,muted:Ze.sfx.muted,effectiveVolume:vf("sfx")}},contextState:Nn?.state??"uninitialized"}}function Fv(){const n=eu();for(const a of nh)a(n)}function Hh(n){return nh.add(n),()=>{nh.delete(n)}}function Oh(n,a){const s=Dh(a,Un[n].defaultVolume);Ze[n].volume!==s&&(Ze[n].volume=s,bE(n),Th(n),Fv())}function Nh(n,a){Ze[n].muted!==a&&(Ze[n].muted=a,EE(n),Th(n),Fv())}function SE(n){Oh("master",n)}function xE(n){Oh("music",n)}function CE(n){Oh("sfx",n)}function RE(n){Nh("master",n)}function BE(n){Nh("music",n)}function ME(n){Nh("sfx",n)}function Xp(n){return eu().channels[n]}const Ys={attack:{payload:"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",loudness:{gain:1}},death:{payload:"UklGRkZWAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YSJWAAAAALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8AALwAeAE0AvACqwNlBB8F2AWQBkcH/AexCGMJFQrECnILHQzHDG4NFA63DlcP9Q+QECkRvhFREuASbBP1E3sU/RR8FfcVbhbiFlEXvRclGIkY6BhDGZsZ7Rk8GoYayxoNG0kbgRu0G+MbDRwyHFIcbhyFHJccpBytHLAcrxypHJ4cjxx6HGEcQhwgHPgbzBubG2UbKxvsGqkaYRoVGsQZcBkWGbkYVxjxF4gXGheoFjMWuhU9FbwUOBSxEyYTmRIIEnQR3RBDEKYPBw9lDsINGw1yDMgLGwtsCrwJCglWCKIH6wY0BnwFwgQIBE0DkgLWARoBXgCi/+b+Kv5u/bP8+Ps++4T6zPkV+V74qvf29kT2lPXl9Dj0jvPl8j7ym/H58Frwve8j74zu+O1n7drsT+zI60Trw+pG6s3pWOnm6HjoD+ip50fn6uaQ5jzm6+Wf5VflFOXV5JvkZeQ05Ajk4OO+45/jhuNx42LjV+NR41DjU+Nc42nje+OS467jzuPz4x3kTOR/5Lfk8+Q15XrlxOUT5mXmveYY53fn2+dD6K/oHumS6QnqhOoD64XrC+yU7CDtr+1C7tfucO8L8KnwSfHs8ZLyOfPj8470PPXr9Z32T/cE+Ln4cPko+uH6m/tV/BD9zP2I/kT/AAC8AHgBNALwAqsDZQQfBdgFkAZHB/wHsQhjCRUKxApyCx0MxwxuDRQOtw5XD/UPkBApEb4RURLgEmwT9RN7FP0UfBX3FW4W4hZRF70XJRiJGOgYQxmbGe0ZPBqGGssaDRtJG4EbtBvjGw0cMhxSHG4chRyXHKQcrRywHK8cqRyeHI8cehxhHEIcIBz4G8wbmxtlGysb7BqpGmEaFRrEGXAZFhm5GFcY8ReIFxoXqBYzFroVPRW8FDgUsRMmE5kSCBJ0Ed0QQxCmDwcPZQ7CDRsNcgzICxsLbAq8CQoJVgiiB+sGNAZ8BcIECARNA5IC1gEaAV4Aov/m/ir+bv2z/Pj7PvuE+sz5Ffle+Kr39vZE9pT15fQ49I7z5fI+8pvx+fBa8L3vI++M7vjtZ+3a7E/syOtE68PqRurN6Vjp5uh46A/oqedH5+rmkOY85uvln+VX5RTl1eSb5GXkNOQI5ODjvuOf44bjceNi41fjUeNQ41PjXONp43vjkuOu487j8+Md5Ezkf+S35PPkNeV65cTlE+Zl5r3mGOd359vnQ+iv6B7pkukJ6oTqA+uF6wvslOwg7a/tQu7X7nDvC/Cp8Enx7PGS8jnz4/OO9Dz16/Wd9k/3BPi5+HD5KPrh+pv7VfwQ/cz9iP5E/wAAvAB4ATQC8AKrA2UEHwXYBZAGRwf8B7EIYwkVCsQKcgsdDMcMbg0UDrcOVw/1D5AQKRG+EVES4BJsE/UTexT9FHwV9xVuFuIWURe9FyUYiRjoGEMZmxntGTwahhrLGg0bSRuBG7Qb4xsNHDIcUhxuHIUclxykHK0csByvHKkcnhyPHHocYRxCHCAc+BvMG5sbZRsrG+waqRphGhUaxBlwGRYZuRhXGPEXiBcaF6gWMxa6FT0VvBQ4FLETJhOZEggSdBHdEEMQpg8HD2UOwg0bDXIMyAsbC2wKvAkKCVYIogfrBjQGfAXCBAgETQOSAtYBGgFeAKL/5v4q/m79s/z4+z77hPrM+RX5Xviq9/b2RPaU9eX0OPSO8+XyPvKb8fnwWvC97yPvjO747Wft2uxP7MjrROvD6kbqzelY6eboeOgP6KnnR+fq5pDmPObr5Z/lV+UU5dXkm+Rl5DTkCOTg477jn+OG43HjYuNX41HjUONT41zjaeN745LjruPO4/PjHeRM5H/kt+Tz5DXleuXE5RPmZea95hjnd+fb50Por+ge6ZLpCeqE6gPrhesL7JTsIO2v7ULu1+5w7wvwqfBJ8ezxkvI58+PzjvQ89ev1nfZP9wT4ufhw+Sj64fqb+1X8EP3M/Yj+RP8=",loudness:{gain:1}},sisu:{payload:"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",loudness:{gain:1}}},qv={click:{loader:n=>TE(n),debounceMs:30},spawn:{loader:n=>kE(n),debounceMs:120},error:{loader:n=>HE(n)},attack:{loader:n=>yf(Ys.attack.payload,n),debounceMs:70,gain:Ys.attack.loudness.gain},death:{loader:n=>yf(Ys.death.payload,n),debounceMs:180,gain:Ys.death.loudness.gain},sisu:{loader:n=>yf(Ys.sisu.payload,n),debounceMs:800,gain:Ys.sisu.loudness.gain}};let nc=null;const Yp=new Map,ac=new Map,_p=new Map,ah=new Set;function Ph(){const n=Xp("master"),a=Xp("sfx");return n.muted||a.muted}function DE(){const n=Ph();for(const a of ah)a(n)}function Gh(n,a,s){const o=Math.floor(n.sampleRate*a),l=n.createBuffer(1,o,n.sampleRate),u=l.getChannelData(0);for(let f=0;f<o;f++){const h=f/n.sampleRate;u[f]=s(h)}return l}function TE(n){return Gh(n,.05,a=>Math.sin(2*Math.PI*1e3*a)*Math.exp(-40*a))}function kE(n){return Gh(n,.2,a=>(Math.sin(2*Math.PI*440*a)+Math.sin(2*Math.PI*660*a))*.5*Math.exp(-6*a))}function HE(n){return Gh(n,.3,a=>Math.sin(2*Math.PI*110*a)*Math.exp(-8*a))}function OE(n){const a=globalThis;if(typeof a.atob=="function"){const s=a.atob(n),o=s.length,l=new Uint8Array(o);for(let u=0;u<o;u++)l[u]=s.charCodeAt(u);return l}if(a.Buffer){const s=a.Buffer.from(n,"base64"),o=new Uint8Array(s.length);for(let l=0;l<s.length;l++)o[l]=s[l];return o}throw new Error("No base64 decoder available for sound payloads.")}async function yf(n,a){const s=OE(n),o=s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength);return await a.decodeAudioData(o)}function NE(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function PE(n){const a=Yp.get(n);if(a)return Promise.resolve(a);const s=ac.get(n);if(s)return s;const o=Qh();if(!o)return Promise.reject(new Error("Audio context unavailable"));const l=qv[n];if(!l)return Promise.reject(new Error(`No sound registered for ${n}`));const u=Promise.resolve(l.loader(o)).then(f=>(Yp.set(n,f),ac.delete(n),f)).catch(f=>{throw ac.delete(n),f});return ac.set(n,u),u}function aa(n){if(ih())return;const a=qv[n];if(!a)return;const s=NE(),o=a.debounceMs??0,l=_p.get(n)??0;o>0&&s-l<o||(_p.set(n,s),PE(n).then(u=>{if(ih())return;const f=Qh();if(!f)return;const h=Iv("sfx");if(!h)return;const m=f.createBufferSource();m.buffer=u;const g=a.gain;if(typeof g=="number"&&g>0&&g!==1){const p=f.createGain();p.gain.value=g,m.connect(p),p.connect(h)}else m.connect(h);try{m.start()}catch(p){console.warn("Unable to start sound",p)}}).catch(u=>{u instanceof Error&&u.message==="Audio context unavailable"||console.warn("Failed to play sound",n,u)}))}function ih(){return Ph()}function GE(n){return ah.add(n),()=>{ah.delete(n)}}typeof document<"u"&&document.addEventListener("click",n=>{n.target instanceof HTMLButtonElement&&aa("click")});let Kp=Ph();Hh(n=>{const a=n.channels.master.muted||n.channels.sfx.muted;a!==Kp&&(Kp=a,DE())});function Qh(){return nc||(nc=kh(),nc)}Qh();const Vp="__autobattlesAudioEvents__",Zp=globalThis;Zp[Vp]||(te.on("unitDamaged",n=>{!n||n.amount<=0||aa("attack")}),te.on("unitDied",()=>{aa("death")}),te.on("sisuBurstStart",()=>{aa("sisu")}),Zp[Vp]=!0);function QE(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function LE(n){const a={};if(!n)return a;for(const[s,o]of Object.entries(n))typeof o=="function"&&(a[s]=o);return a}class UE{constructor(a=te){this.emitter=a}modifiers=new Map;hookIndex=new Map;listeners=new Map;add(a){if(typeof a.id!="string"||a.id.length===0)throw new Error("Modifier id must be a non-empty string");if((typeof a.duration!="number"||!Number.isFinite(a.duration))&&a.duration!==1/0)throw new Error("Modifier duration must be a positive number or Infinity");if(Number.isFinite(a.duration)&&a.duration<=0)throw new Error("Modifier duration must be greater than zero");const s=LE(a.hooks),o=QE();this.modifiers.has(a.id)&&this.remove(a.id,"replaced");const l={...a,hooks:s,remaining:a.duration,appliedAt:o};this.modifiers.set(l.id,l),this.indexHooks(l);const u={runtime:this,modifier:l};return a.onApply?.(u),this.emit("modifierAdded",{modifier:l}),this.emitter?.emit("modifierAdded",{modifier:l}),Number.isFinite(l.remaining)&&l.remaining<=0&&this.remove(l.id,"expired"),l}has(a){return this.modifiers.has(a)}list(){return Array.from(this.modifiers.values()).map(a=>({...a,hooks:{...a.hooks}}))}remove(a,s="manual"){const o=this.modifiers.get(a);if(!o)return!1;this.modifiers.delete(a),this.unindexHooks(o);const l={runtime:this,modifier:o,reason:s};return o.onExpire?.(l),s==="expired"&&(this.emit("modifierExpired",{modifier:o}),this.emitter?.emit("modifierExpired",{modifier:o})),this.emit("modifierRemoved",{modifier:o,reason:s}),this.emitter?.emit("modifierRemoved",{modifier:o,reason:s}),!0}advance(a){if(typeof a!="number"||a<=0)return;const s=[];for(const o of this.modifiers.values())Number.isFinite(o.remaining)&&(o.remaining=Math.max(0,o.remaining-a),o.remaining<=0&&s.push(o.id));for(const o of s)this.remove(o,"expired")}trigger(a,s){const o=this.hookIndex.get(a);if(!o||o.size===0)return;const l=Array.from(o);for(const u of l){const f=this.modifiers.get(u);if(!f){o.delete(u);continue}const h=f.hooks[a];if(!h){o.delete(u);continue}h(s,{runtime:this,modifier:f})}}clear(){const a=Array.from(this.modifiers.keys());for(const s of a)this.remove(s,"manual")}on(a,s){const o=this.listeners.get(a)??new Set;o.add(s),this.listeners.set(a,o)}off(a,s){const o=this.listeners.get(a);o&&(o.delete(s),o.size===0&&this.listeners.delete(a))}emit(a,s){const o=this.listeners.get(a);if(!(!o||o.size===0))for(const l of Array.from(o))l(s)}indexHooks(a){for(const s of Object.keys(a.hooks)){const o=this.hookIndex.get(s)??new Set;o.add(a.id),this.hookIndex.set(s,o)}}unindexHooks(a){for(const s of Object.keys(a.hooks)){const o=this.hookIndex.get(s);o&&(o.delete(a.id),o.size===0&&this.hookIndex.delete(s))}}}const tu=new UE,jE=n=>tu.add(n),zE=(n,a="manual")=>tu.remove(n,a),IE=n=>{tu.advance(n)},ic=(n,a)=>{tu.trigger(n,a)};class FE{constructor(a,s,o){this.owner=a,this.entries=s,this.log=o}runTick(a,s){for(const{definition:o,state:l}of this.entries){if(!o.onTick)continue;const u=o.onTick({owner:this.owner,state:l,self:a,opponent:s}),f=Wi(u?.shieldDamage??0);if(f>0){const m=Math.min(a.shield,f);m>0&&(a.shield-=m,this.log.tickShieldDamage+=m)}const h=Wi(u?.hpDamage??0);if(h>0){const m=Math.min(a.health,h);m>0&&(a.health-=m,this.log.tickHpDamage+=m)}}}grantShield(a,s){let o=0;for(const{definition:l,state:u}of this.entries){if(!l.onGrantShield)continue;const f=Wi(l.onGrantShield({owner:this.owner,state:u,self:a,opponent:s})??0);f>0&&(o+=f)}return o>0&&(a.shield+=o,this.log.shieldGranted+=o),o}consumeShield(a,s,o){let l=Wi(a);if(l<=0)return 0;let u=0;for(const{definition:f,state:h}of this.entries){if(!f.onConsumeShield||l<=0)continue;const m=Wi(f.onConsumeShield({owner:this.owner,state:h,self:s,opponent:o,amount:l})??0);if(m<=0)continue;const g=Math.min(l,m);u+=g,l-=g}return u>0&&(this.log.shieldConsumed+=u),u}applyHit(a,s,o){if(a<=0)return 0;let l=0;for(const{definition:h,state:m}of this.entries){if(!h.onHit)continue;const g=Wi(h.onHit({owner:this.owner,state:m,self:s,opponent:o,hpDamage:a})??0);g>0&&(l+=g)}if(l<=0)return 0;const u=Math.max(0,s.maxHealth-s.health);if(u<=0)return 0;const f=Math.min(u,l);return f>0&&(s.health+=f,this.log.lifesteal+=f),f}getShieldValue(){let a=0;for(const{definition:s,state:o}of this.entries){if(!s.onGrantShield||o.keyword!=="Shield")continue;const l=sh(o);if(l<=0)continue;const u=Math.max(0,Number.isFinite(o.stacks)?o.stacks:0);u<=0||(a+=u*l)}return a}}function qE(){return{attacker:Wp(),defender:Wp()}}function Jp(n,a,s){const o=XE(n);if(o.length===0)return null;const l=[];for(const u of o){const f=Xv.get(u.keyword);f&&l.push({state:u,definition:f})}return l.length===0?null:new FE(a,l,s)}const Xv=new Map;function nu(n,a){Xv.set(n,a)}function Wp(){return{tickHpDamage:0,tickShieldDamage:0,shieldGranted:0,shieldConsumed:0,lifesteal:0,keywordShieldRemaining:0}}function Wi(n){return typeof n!="number"||!Number.isFinite(n)?0:n>0?n:0}function lr(n){return typeof n!="number"||!Number.isFinite(n)?0:n>0?n:0}function No(n){return typeof n!="number"||!Number.isFinite(n)?0:n>0?n:0}function XE(n){if(!n)return[];const a=[],s=n;if(typeof s[Symbol.iterator]=="function"){for(const o of s){const l=$p(o);l&&a.push(l)}return a}if(typeof n=="object")for(const o of Object.values(n)){const l=$p(o);l&&a.push(l)}return a}function $p(n){if(!n||typeof n!="object")return null;const a=n;if(!Object.prototype.hasOwnProperty.call(a,"stacks"))return null;const s=YE(a.keyword);if(!s)return null;const o=a;return o.keyword=s,o.stacks=lr(o.stacks),Object.prototype.hasOwnProperty.call(a,"potency")&&o.potency!==void 0&&(o.potency=No(o.potency)),o}function YE(n){if(typeof n!="string")return null;switch(n.trim().toLowerCase()){case"bleed":return"Bleed";case"burn":return"Burn";case"lifesteal":case"life-steal":return"Lifesteal";case"shield":return"Shield";default:return null}}function sh(n){const a=n.potency!==void 0?No(n.potency):1;return a>0?a:0}function _E(n){if(n.potency!==void 0){const o=No(n.potency);return o>0?o:0}const a=lr(n.stacks);if(a<=0)return 0;const s=a*.2;return s>0?s:0}nu("Bleed",{onTick({state:n,self:a}){const s=lr(n.stacks);if(s<=0||a.health<=0){n.stacks=s;return}const o=n.potency!==void 0?No(n.potency):1,l=s*o;if(l<=0)return;const u=Math.min(a.health,l);return n.stacks=Math.max(0,s-1),{hpDamage:u}}});nu("Burn",{onTick({state:n,self:a}){const s=lr(n.stacks);if(s<=0){n.stacks=s;return}const o=n.potency!==void 0?No(n.potency):1,l=s*o;if(l<=0)return;const u=Math.min(a.shield,l),f=l-u,h=Math.min(a.health,f);return n.stacks=Math.max(0,s-1),{shieldDamage:u,hpDamage:h}}});nu("Shield",{onGrantShield({state:n}){const a=lr(n.stacks);if(a<=0)return n.stacks=a,0;const s=a*sh(n);return s>0?s:0},onConsumeShield({state:n,amount:a}){const s=lr(n.stacks);if(s<=0)return n.stacks=0,0;const o=sh(n);if(o<=0)return n.stacks=0,0;const l=s*o;if(l<=0)return n.stacks=0,0;const u=Math.min(l,Wi(a)),f=u/o;return n.stacks=Math.max(0,s-f),u>0?u:0}});nu("Lifesteal",{onHit({state:n,hpDamage:a}){if(a<=0)return 0;const s=_E(n);if(s<=0)return 0;const o=a*s;return o>0?o:0}});function Pn(n){return Number.isFinite(n)?Math.max(0,n):0}function eA(n,a){const s=Pn(a?.health??n?.health??0),o=Pn(a?.shield??n?.shield??0);return{id:n?.id??"unknown",faction:n?.faction,health:s,maxHealth:n?.maxHealth,shield:o}}function tA(n){if(!n)return!1;const a=n;return typeof a.onHit=="function"||typeof a.onKill=="function"||Array.isArray(a.onHit)||Array.isArray(a.onKill)}function nA(n){return n?Array.isArray(n)?n.filter(a=>typeof a=="function"):typeof n=="function"?[n]:[]:[]}function KE(n){if(!n)return[];if(typeof n[Symbol.iterator]=="function"){const s=[];for(const o of n)tA(o)&&s.push(o);return s}return Object.values(n).filter(s=>tA(s))}function sc(n,a,s){if(!n)return;const o=nA(n.hooks?.[a]);for(const u of o)u(s);const l=KE(n.keywords);for(const u of l)for(const f of nA(u[a]))f(s)}function aA(n){const a=Pn(n?.health??0),s=Pn(n?.maxHealth??a);return{health:a,maxHealth:Math.max(s,a),shield:Pn(n?.shield??0)}}function VE(){return{health:0,maxHealth:0,shield:0}}function ZE(n){const a=n.attacker??null,s=n.defender,o=n.baseDamage,l=Pn(n.minimumDamage??1),u=Number.isFinite(o)?Pn(o):Pn(a?.attack??0),f=Pn(s.defense??0),h=qE(),m=aA(s),g=a?aA(a):null,p=Jp(s.keywords??null,"defender",h.defender),v=a?Jp(a.keywords??null,"attacker",h.attacker):null,b=g??VE();p&&p.runTick(m,b),v&&g&&v.runTick(g,m);const E=m.health>0,x=Pn(m.shield);p&&p.grantShield(m,b);const T=Pn(m.shield),D=E?Math.max(l,u-f):0,N=E?Math.min(T,D):0,L=E?Math.max(0,D-N):0;m.shield=Math.max(0,T-N);const I=Math.min(x,N),q=Math.max(0,N-I);p&&q>0&&p.consumeShield(q,m,b);const Z=p?p.getShieldValue():0;h.defender.keywordShieldRemaining=Z;const ie=Math.max(0,x-I);m.shield=ie+Z;const se=m.health;m.health=Math.max(0,se-L);const oe=m.health,ne=oe<=0;let F=0;v&&g?(F=v.applyHit(L,g,m),h.attacker.keywordShieldRemaining=v.getShieldValue()):h.attacker.keywordShieldRemaining=0;const M=eA(a,g??void 0),O=eA(s,{health:oe,shield:ie+Z}),C={attacker:M,defender:O,damage:D,shieldDamage:N,hpDamage:L,lethal:ne},X={...C,source:"defender"};if(sc(s,"onHit",X),ic("combat:onHit",X),a){const U={...C,source:"attacker"};sc(a,"onHit",U),ic("combat:onHit",U),ne&&(sc(a,"onKill",U),ic("combat:onKill",U))}return ne&&(sc(s,"onKill",X),ic("combat:onKill",X)),{damage:D,shieldDamage:N,hpDamage:L,lethal:ne,remainingHealth:oe,remainingShield:ie+Z,attackerHealing:F,attackerRemainingHealth:g?.health,attackerRemainingShield:g?.shield,keywordEffects:h}}const iA=5;function fn(n){return`${n.q},${n.r}`}function sA(n){const[a,s]=n.split(",").map(Number);return{q:a,r:s}}function _s(n){return{q:n.q,r:n.r}}class JE{constructor(a,s,o,l,u,f=[]){this.id=a,this.type=s,this.faction=l,this.stats=u,this.priorityFactions=f,this.coord=_s(o),this.renderCoord=_s(o),this.maxHealth=u.health}alive=!0;listeners={};maxHealth;healMarkerElapsed=0;healAmountBuffer=0;cachedTargetKey;cachedStartKey;cachedPath;movementCooldownSeconds=0;shield=0;immortal=!1;experience=0;combatHooks=null;combatKeywords=null;coord;renderCoord;setCoord(a,s){this.coord=_s(a),(s?.snapRender??!0)&&(this.renderCoord=_s(a))}setRenderCoord(a){this.renderCoord=_s(a)}snapRenderToCoord(a=this.coord){this.renderCoord=_s(a)}onDeath(a){(this.listeners.death??=[]).push(a)}emitDeath(){for(const a of this.listeners.death??[])a()}isDead(){return!this.alive}getMaxHealth(){return this.maxHealth}distanceTo(a){return Js(this.coord,a)}getVisionRange(){const{visionRange:a}=this.stats;return Number.isFinite(a)?a:3}attack(a){return this.distanceTo(a.coord)>this.stats.attackRange?null:a.takeDamage(this.stats.attackDamage,this)}update(a,s){if(!(this.isDead()||!s))if(Js(this.coord,s.pos)<=s.auraRadius){const o=this.stats.health;if(this.stats.health=Math.min(this.stats.health+s.regenPerSec*a,this.maxHealth),this.stats.health>o){const l=this.stats.health-o;this.healMarkerElapsed+=a,this.healAmountBuffer+=l,(this.healMarkerElapsed>=.9||this.healAmountBuffer>=2)&&this.flushHealEvent()}}else this.healAmountBuffer>0&&this.flushHealEvent(),this.healMarkerElapsed=0,this.healAmountBuffer=0}flushHealEvent(){if(this.healAmountBuffer<=0){this.healMarkerElapsed=0;return}const a=Math.round(this.healAmountBuffer*10)/10;a>0&&te.emit("unitHealed",{unitId:this.id,amount:a,remainingHealth:this.stats.health}),this.healAmountBuffer=0,this.healMarkerElapsed=0}takeDamage(a,s){const o=Number.isFinite(a);if(o&&a<=0||!o&&!s)return null;const l=s?s.toCombatParticipant():null,u=this.toCombatParticipant(),f=ZE({attacker:l,defender:u,baseDamage:o?a:void 0});this.stats.health=f.remainingHealth,this.shield=f.remainingShield;let h=f;if(f.lethal&&this.alive&&this.immortal&&(this.stats.health=Math.max(1,this.stats.health),h={...f,lethal:!1,remainingHealth:this.stats.health,remainingShield:this.shield}),s&&f.attackerRemainingHealth!==void 0){const m=Math.min(s.getMaxHealth(),Math.max(0,f.attackerRemainingHealth));s.stats.health=m}return s&&f.attackerRemainingShield!==void 0&&s.setShield(f.attackerRemainingShield),h.damage>0&&te.emit("unitDamaged",{attackerId:s?.id,targetId:this.id,amount:h.damage,remainingHealth:this.stats.health}),h.lethal&&this.alive&&(this.stats.health=0,this.alive=!1,this.snapRenderToCoord(),te.emit("unitDied",{unitId:this.id,attackerId:s?.id,unitFaction:this.faction,attackerFaction:s?.faction}),this.emitDeath()),h}getShield(){return this.shield}setShield(a){if(!Number.isFinite(a)||a<=0){this.shield=0;return}this.shield=a}updateStats(a){this.stats.attackDamage=a.attackDamage,this.stats.attackRange=a.attackRange,this.stats.movementRange=a.movementRange,typeof a.defense=="number"&&Number.isFinite(a.defense)?this.stats.defense=a.defense:delete this.stats.defense,typeof a.visionRange=="number"&&Number.isFinite(a.visionRange)&&(this.stats.visionRange=a.visionRange);const s=Math.max(1,Math.round(a.health));this.maxHealth=s,this.stats.health=Math.min(s,Math.max(0,this.stats.health))}isImmortal(){return this.immortal}setImmortal(a){this.immortal=!!a}getExperience(){return this.experience}setExperience(a){const s=Number.isFinite(a)?Math.max(0,Math.floor(a)):0;s!==this.experience&&(this.experience=s,te.emit("unit:xpChanged",{unitId:this.id,xp:this.experience}))}addExperience(a){if(!Number.isFinite(a)||a===0)return this.experience;const s=Math.max(0,Math.floor(this.experience+a));return this.setExperience(s),this.experience}toCombatParticipant(){return{id:this.id,faction:this.faction,attack:this.stats.attackDamage,defense:this.stats.defense,health:this.stats.health,maxHealth:this.maxHealth,shield:this.shield,hooks:this.combatHooks,keywords:this.combatKeywords}}addMovementTime(a){!Number.isFinite(a)||a<=0||(this.movementCooldownSeconds+=a)}canStep(a=iA){return this.movementCooldownSeconds>=a}consumeMovementCooldown(a=iA){return this.canStep(a)?(this.movementCooldownSeconds-=a,!0):!1}moveTowards(a,s,o){const l=this.getPathTo(a,s,o);if(l.length<2)return[];let u=0;const f=fn(a);for(let m=1;m<l.length;m++){const g=fn(l[m]);if(o.has(g)){g!==f&&this.clearPathCache();break}u=m}if(u===0)return[];const h=Math.min(this.stats.movementRange,u);return l.slice(0,h+1)}getPathTo(a,s,o){const l=fn(this.coord),u=fn(a);return(!this.cachedPath||this.cachedTargetKey!==u||this.cachedStartKey!==l)&&(this.cachedPath=this.findPath(a,s,o),this.cachedTargetKey=u,this.cachedStartKey=l),this.cachedPath}advancePathCache(a){!this.cachedPath||a<=0||(this.cachedPath=this.cachedPath.slice(a),this.cachedPath.length>0?this.cachedStartKey=fn(this.cachedPath[0]):(this.cachedPath=void 0,this.cachedStartKey=void 0,this.cachedTargetKey=void 0))}clearPathCache(){this.cachedPath=void 0,this.cachedStartKey=void 0,this.cachedTargetKey=void 0}findPath(a,s,o){const l=this.coord,u=fn(l),f=fn(a),h=new Set([u]),m=new Map([[u,null]]),g=new Map([[u,0]]),p=new Map([[u,Js(l,a)]]);for(;h.size>0;){let E=null,x=1/0;for(const N of h){const L=p.get(N)??1/0;L<x&&(x=L,E=N)}if(E===null||E===f)break;h.delete(E);const T=sA(E),D=g.get(E)??1/0;for(const N of kc(T)){const L=fn(N);if(L!==f&&!this.isPassable(N,s,o))continue;const I=D+1;I<(g.get(L)??1/0)&&(m.set(L,E),g.set(L,I),p.set(L,I+Js(N,a)),h.add(L))}}if(!m.has(f))return[l];const v=[];let b=f;for(;b;)v.push(sA(b)),b=m.get(b)??null;return v.reverse()}seekNearestEnemy(a,s,o){const l=new Map;for(const h of a)l.set(fn(h.coord),h);const u=[this.coord],f=new Set([fn(this.coord)]);for(;u.length>0;){const h=u.shift(),m=fn(h),g=l.get(m);if(g)return g;for(const p of kc(h)){const v=fn(p),b=l.get(v);if(b)return b;this.isPassable(p,s,o)&&(f.has(v)||(f.add(v),u.push(p)))}}return null}canTraverse(a,s,o){return this.isPassable(a,s,o)}isPassable(a,s,o){const l=s.getTile(a.q,a.r);return!l||o&&o.has(fn(a))?!1:l.terrain!==wn.Lake}}class WE{static selectTarget(a,s){let o=s.filter(u=>u.faction!==a.faction&&!u.isDead());if(o.length===0)return null;if(a.priorityFactions.length>0){const u=o.filter(f=>a.priorityFactions.includes(f.faction));u.length>0&&(o=u)}const l=o.filter(u=>a.distanceTo(u.coord)<=a.stats.attackRange);return l.length>0?(l.sort((u,f)=>u.stats.health-f.stats.health),l[0]):(o.sort((u,f)=>a.distanceTo(u.coord)-a.distanceTo(f.coord)),o[0]??null)}}const $E=4,ew=8;class tw{buckets=[];bucketCount=0;currentBucket=0;minBuckets;maxBuckets;constructor(a={}){this.minBuckets=a.minBuckets??$E,this.maxBuckets=a.maxBuckets??ew}reset(){this.buckets=[],this.bucketCount=0,this.currentBucket=0}next(a){const s=a.length;if(s===0)return this.reset(),[];const o=this.computeBucketCount(s);o!==this.bucketCount&&(this.bucketCount=o,this.currentBucket=this.currentBucket%Math.max(1,o)),this.rebuildBuckets(a);const l=this.buckets[this.currentBucket]??[];return this.bucketCount>0&&(this.currentBucket=(this.currentBucket+1)%this.bucketCount),l}rebuildBuckets(a){const s=this.bucketCount;this.buckets=Array.from({length:s},()=>[]);const o=[...a].sort((l,u)=>l.id.localeCompare(u.id));for(let l=0;l<o.length;l++){const u=l%s;this.buckets[u].push(o[l])}}computeBucketCount(a){if(a<=0)return 0;const s=Math.ceil(a/12);let o=Math.max(this.minBuckets,s);return o=Math.min(this.maxBuckets,o),o=Math.min(o,a),o=Math.max(1,o),o}}function bf(n){return`${n.q},${n.r}`}const nw=500;class aw{cache=new Map;targetIndex=new Map;targetPositions=new Map;ttlMs;constructor(a=nw){this.ttlMs=a}clearExpired(a=Date.now()){for(const[s,o]of this.cache.entries())if(o.expiresAt<=a&&(this.cache.delete(s),o.targetId)){const l=this.targetIndex.get(o.targetId);l?.delete(s),l&&l.size===0&&this.targetIndex.delete(o.targetId)}}trackUnit(a){this.invalidateIfTargetMoved(a.id,bf(a.coord))}invalidateForUnit(a){const s=this.targetIndex.get(a);if(s){for(const o of s)this.cache.delete(o);this.targetIndex.delete(a)}this.targetPositions.delete(a)}getPath(a,s,o,l,u={}){const f=u.now??Date.now(),h=u.targetId,m=bf(s);h&&this.invalidateIfTargetMoved(h,m);const g=this.hashObstacles(l),p=this.createCacheKey(bf(a.coord),m,g),v=this.cache.get(p);if(v&&v.expiresAt>f)return v.path;a.clearPathCache();const b=a.getPathTo(s,o,l);if(this.cache.set(p,{path:b,expiresAt:f+this.ttlMs,targetId:h}),h){let E=this.targetIndex.get(h);E||(E=new Set,this.targetIndex.set(h,E)),E.add(p),this.targetPositions.set(h,m)}return b}invalidateIfTargetMoved(a,s){const o=this.targetPositions.get(a);if(!o){this.targetPositions.set(a,s);return}if(o===s)return;const l=this.targetIndex.get(a);if(l){for(const u of l)this.cache.delete(u);l.clear()}this.targetPositions.set(a,s)}hashObstacles(a){return a.size===0?"empty":Array.from(a).sort().join("|")}createCacheKey(a,s,o){return`${a}->${s}|${o}`}}const iw={baseThreshold:50,heatPerSecond:50/30,thresholdGrowth:.05,coolingPerSecond:0};function Ut(n,a=0){return Number.isFinite(n)?n:a}class sw{heat;threshold;baseThreshold;thresholdGrowthFactor;heatPerSecond;coolingPerSecond;maxStoredHeat;constructor(a={}){const s={...iw,...a},o=Math.max(1,Ut(s.baseThreshold,50)),l=Math.max(1,Ut(a.initialThreshold??o,o));this.baseThreshold=o,this.threshold=l,this.thresholdGrowthFactor=1+Math.max(0,Ut(s.thresholdGrowth,0)),this.heatPerSecond=Math.max(0,Ut(s.heatPerSecond,0)),this.coolingPerSecond=Math.max(0,Ut(s.coolingPerSecond,0));const u=Ut(s.maxStoredHeat??Number.NaN,Number.NaN);this.maxStoredHeat=Number.isFinite(u)&&u>=0?u:null;const f=Math.max(0,Ut(a.initialHeat??0,0));this.heat=this.setHeatInternal(f)}getHeat(){return this.heat}getThreshold(){return this.threshold}getBuildRate(){return this.heatPerSecond}getCoolingRate(){return this.coolingPerSecond}reset(){this.heat=0,this.threshold=this.baseThreshold}setHeat(a){const s=Math.max(0,Ut(a,0));return this.heat=this.setHeatInternal(s),this.heat}setHeatInternal(a){const s=Math.max(0,Ut(a,0));return this.maxStoredHeat===null?(this.heat=s,this.heat):(this.heat=Math.min(s,this.maxStoredHeat),this.heat)}addHeat(a){const s=Math.max(0,Ut(a,0));if(s<=0)return 0;const o=this.heat,l=o+s;return this.heat=this.maxStoredHeat===null?l:Math.min(l,this.maxStoredHeat),this.heat-o}cool(a){const s=Math.max(0,Ut(a,0));if(s<=0||this.heat<=0)return 0;const o=this.heat;return this.heat=Math.max(0,this.heat-s),o-this.heat}vent(a=1){const s=Math.max(0,Math.min(1,Ut(a,1)));return s<=0?0:this.cool(this.threshold*s)}advance(a,s){const o=Math.max(0,Ut(a,0)),l=this.heatPerSecond,u=o>0?l*o:0,f=Math.max(0,Ut(s?.bonusHeat??0,0)),h=u+f,m=this.addHeat(h),g=Math.max(0,Ut(s?.coolingMultiplier??1,1)),p=o>0?this.coolingPerSecond*o*g:0,v=this.cool(p);return{addedHeat:m,cooledHeat:v,heat:this.heat}}hasTriggerReady(){return this.heat>=this.threshold-1e-6}consumeTrigger(){return this.hasTriggerReady()?(this.cool(this.threshold),this.threshold=Math.max(this.baseThreshold,this.threshold*this.thresholdGrowthFactor),!0):!1}timeUntilNextTrigger(){return this.hasTriggerReady()?0:this.heatPerSecond<=0?Number.POSITIVE_INFINITY:Math.max(0,this.threshold-this.heat)/this.heatPerSecond}getCooldownSeconds(){return this.heatPerSecond<=0?Number.POSITIVE_INFINITY:this.threshold/this.heatPerSecond}}function rw(n){return new sw(n)}const rA=500;function Yv(n,a,s){const o=typeof a=="number"?a:2,l=(typeof a=="number"?s:a)??[],u=[];for(let h=-o;h<=o;h++){const m=Math.max(-o,-h-o),g=Math.min(o,-h+o);for(let p=m;p<=g;p++){const v=Math.max(Math.abs(h),Math.abs(p),Math.abs(-h-p));if(v===0||v>o)continue;const b={q:n.q+h,r:n.r+p};l.some(x=>!x.isDead()&&x.coord.q===b.q&&x.coord.r===b.r)||u.push(b)}}if(u.length===0)return null;const f=Math.floor(Math.random()*u.length);return u[f]}function ow(n,a,s={}){const o=rw(a),l=o.getBuildRate(),u=o.getCooldownSeconds(),f=o.timeUntilNextTrigger(),h=Number.isFinite(s.maxRosterSize)?Math.max(0,Math.floor(s.maxRosterSize??0)):0,m=Number.isFinite(s.maxHealth)?Math.max(1,Math.floor(s.maxHealth??rA)):rA,g=Number.isFinite(s.health)?Math.max(0,Math.min(m,Math.floor(s.health??m))):m;return{id:"sauna",pos:n,auraRadius:2,regenPerSec:1,rallyToFront:!1,maxRosterSize:h,maxHealth:m,health:g,destroyed:g<=0,heat:o.getHeat(),heatPerTick:l,playerSpawnThreshold:o.getThreshold(),playerSpawnCooldown:Number.isFinite(u)?u:0,playerSpawnTimer:Number.isFinite(f)?f:0,beerUpkeepAccumulator:0,heatTracker:o}}function lw(n,a){if(!Number.isFinite(a)||a<=0||n.destroyed)return{amount:0,remainingHealth:Math.max(0,n.health),destroyed:n.destroyed};const s=Math.max(0,n.health),o=Math.min(s,Math.max(0,Math.floor(a))),l=Math.max(0,s-o);return n.health=l,l<=0&&(n.health=0,n.destroyed=!0),{amount:o,remainingHealth:n.health,destroyed:n.destroyed}}const cw=30;function jt(n){return`${n.q},${n.r}`}class uw{constructor(a,s){this.map=a,this.animator=s}scheduler=new tw;pathCache=new aw;lastKnownCoords=new Map;findExplorationGoal(a,s){const o=a.coord;if(this.map.ensureTile(o.q,o.r).isFogged&&a.canTraverse(o,this.map,s))return o;const u=new Set([jt(o)]),f=[o];for(;f.length>0;){const h=f.shift(),m=kc(h),g=this.map.getNeighbors(h.q,h.r);for(let p=0;p<m.length;p++){const v=m[p],b=g[p],E=jt(v);if(!u.has(E)&&(u.add(E),!!a.canTraverse(v,this.map,s))){if(b.isFogged)return v;f.push(v)}}}return null}tick(a,s,o){const l=a.length,u=Date.now();if(this.pathCache.clearExpired(u),l===0){this.scheduler.reset();return}const f=new Set,h=[],m=new Set;for(const p of a){if(p.addMovementTime(s),p.isDead()){p.clearPathCache(),this.pathCache.invalidateForUnit(p.id),this.animator?.clear(p),this.lastKnownCoords.delete(p.id);continue}const v=this.lastKnownCoords.get(p.id);v&&Js(v,p.coord)>1&&this.animator?.clear(p,{snap:!0}),this.lastKnownCoords.set(p.id,{q:p.coord.q,r:p.coord.r}),this.pathCache.trackUnit(p),h.push(p),f.add(jt(p.coord)),m.add(p.id)}for(const p of[...this.lastKnownCoords.keys()])m.has(p)||this.lastKnownCoords.delete(p);if(h.length===0){this.scheduler.reset();return}const g=this.scheduler.next(h);if(g.length!==0)for(const p of g){const v=jt(p.coord);if(f.delete(v),p.isDead()){p.clearPathCache(),this.pathCache.invalidateForUnit(p.id),this.animator?.clear(p);continue}const b=WE.selectTarget(p,a);if(!b&&o&&!o.destroyed&&this.tryAttackSauna(p,o)){const L=jt(p.coord);f.add(L);continue}if(!b){let N=null;if(o&&!o.destroyed&&(N=o.pos),N||(N=this.findExplorationGoal(p,f)),N){const I=this.computeMovementPath(p,N,f,u);if(I.length>1&&p.stats.movementRange>0){const q=I[1],Z=jt(q);if(f.has(Z))p.clearPathCache();else{if(!p.canStep()){f.add(v);continue}if(p.consumeMovementCooldown()){const ie={q:p.coord.q,r:p.coord.r};this.animator?(p.setCoord(q,{snapRender:!1}),this.animator.enqueue(p,[ie,q])):p.setCoord(q),p.advancePathCache(1);const se=jt(p.coord);se===jt(N)&&p.clearPathCache(),f.add(se),this.lastKnownCoords.set(p.id,{q:p.coord.q,r:p.coord.r});continue}}}else p.clearPathCache()}else p.clearPathCache();const L=jt(p.coord);f.add(L),o&&!o.destroyed&&this.tryAttackSauna(p,o);continue}if(b.isDead()){p.clearPathCache(),f.add(v);continue}const E=jt(b.coord),x=this.pathCache.getPath(p,b.coord,this.map,f,{now:u,targetId:b.id});if(x.length>1&&p.stats.movementRange>0){const N=x[1],L=jt(N),I=L===E;if(!f.has(L)||I){if(p.canStep()&&p.consumeMovementCooldown()){const q={q:p.coord.q,r:p.coord.r};this.animator?(p.setCoord(N,{snapRender:!1}),this.animator.enqueue(p,[q,N])):p.setCoord(N),p.advancePathCache(1)}}else p.clearPathCache()}const T=jt(p.coord);f.add(T),this.lastKnownCoords.set(p.id,{q:p.coord.q,r:p.coord.r});const D=jt(b.coord);D!==E&&p.clearPathCache(),p.distanceTo(b.coord)<=p.stats.attackRange&&!b.isDead()&&((p.attack(b)?.lethal??!1)||b.isDead())&&(f.delete(D),p.clearPathCache(),this.pathCache.invalidateForUnit(b.id),this.animator?.clear(b))}}tryAttackSauna(a,s){if(a.faction==="player")return!1;const o=a.stats.attackRange;if(o<=0||a.distanceTo(s.pos)>o)return!1;const l=lw(s,a.stats.attackDamage);if(l.amount<=0)return!1;const u={attackerId:a.id,attackerFaction:a.faction,amount:l.amount,remainingHealth:l.remainingHealth};if(te.emit("saunaDamaged",u),l.destroyed){const f={attackerId:a.id,attackerFaction:a.faction};te.emit("saunaDestroyed",f)}return!0}computeMovementPath(a,s,o,l){const u=this.pathCache.getPath(a,s,this.map,o,{now:l});if(u.length<2)return[];let f=0;const h=jt(s);for(let g=1;g<u.length;g++){const p=jt(u[g]);if(o.has(p)){p!==h&&a.clearPathCache();break}f=g}if(f===0)return[];const m=Math.min(a.stats.movementRange,f);return u.slice(0,m+1)}}function au(n){if(!Number.isFinite(n??NaN))return 1;const a=Math.floor(n);return Math.max(1,a)}function dw(n){return Math.max(0,au(n)-1)}function fw(n,a="linear"){const s=dw(n);switch(a){case"accelerating":return s*(s+1)/2;case"diminishing":return s===0?0:Math.log2(s+1);case"linear":default:return s}}function hw(n,a="round"){switch(a){case"floor":return Math.floor(n);case"ceil":return Math.ceil(n);case"none":return n;case"round":default:return Math.round(n)}}function mw(n,a,s){let o=n;return Number.isFinite(a)&&(o=Math.max(o,a)),Number.isFinite(s)&&(o=Math.min(o,s)),o}function lo(n,a){const s=au(a),o=n.curve??"linear",l=fw(s,o),u=n.base+n.growth*l,f=mw(u,n.min,n.max);return hw(f,n.round??"round")}function Po(n,a){const s=au(a),o=n.stats,l={health:lo(o.health,s),attackDamage:lo(o.attackDamage,s),attackRange:lo(o.attackRange,s),movementRange:lo(o.movementRange,s)};return o.visionRange&&(l.visionRange=lo(o.visionRange,s)),l}function oA(n){if(typeof n=="number"&&Number.isFinite(n))return n}function Pc(n,a){let s=n.health,o=n.attackDamage,l=n.attackRange,u=n.movementRange,f=oA(n.defense),h=oA(n.shield);for(const g of a){const p=Math.max(1,Math.round(g.quantity)),v=g.modifiers;typeof v.health=="number"&&(s+=v.health*p),typeof v.attackDamage=="number"&&(o+=v.attackDamage*p),typeof v.attackRange=="number"&&(l+=v.attackRange*p),typeof v.movementRange=="number"&&(u+=v.movementRange*p),typeof v.defense=="number"&&(f=(f??0)+v.defense*p),typeof v.shield=="number"&&(h=(h??0)+v.shield*p)}const m={health:Math.max(1,Math.round(s)),attackDamage:Math.max(0,Math.round(o)),attackRange:Math.max(0,Math.round(l)),movementRange:Math.max(0,Math.round(u))};return f!==void 0&&(m.defense=Math.max(0,Math.round(f))),h!==void 0&&(m.shield=Math.max(0,Math.round(h))),typeof n.visionRange=="number"&&Number.isFinite(n.visionRange)&&(m.visionRange=Math.max(0,Math.round(n.visionRange))),m}const Lh=Object.freeze({id:"soldier",displayName:"Sauna Soldier",cost:50,tags:["infantry","melee"],stats:{health:{base:20,growth:6,curve:"linear",round:"round"},attackDamage:{base:5,growth:1,curve:"linear",round:"round"},attackRange:{base:1,growth:0,round:"round"},movementRange:{base:1,growth:0,round:"round"},visionRange:{base:3,growth:0,round:"round"}}}),Uh=Object.freeze({id:"archer",displayName:"Sauna Archer",cost:75,tags:["ranged"],stats:{health:{base:15,growth:4,curve:"linear",round:"round"},attackDamage:{base:3,growth:.4,curve:"accelerating",round:"ceil"},attackRange:{base:3,growth:.5,curve:"diminishing",round:"ceil",max:5},movementRange:{base:1,growth:0,round:"round"},visionRange:{base:3,growth:.25,curve:"linear",round:"round",max:5}}}),_v=Object.freeze({id:"avanto-marauder",displayName:"Avanto Marauder",cost:0,tags:["enemy","melee"],stats:{health:{base:12,growth:5,curve:"linear",round:"round"},attackDamage:{base:4,growth:.6,curve:"accelerating",round:"ceil"},attackRange:{base:1,growth:0,round:"round"},movementRange:{base:1,growth:.25,curve:"linear",round:"round",max:2},visionRange:{base:3,growth:0,round:"round"}}}),Kv=Object.freeze({soldier:Lh,archer:Uh,"avanto-marauder":_v});function jh(n){return Kv[n]??null}Object.freeze(Object.keys(Kv));const lA=Lh.cost;Object.freeze(Po(Lh,1));Uh.cost;Object.freeze(Po(Uh,1));Object.freeze(Po(_v,1));function Vv(n,a,s,o,l){const u=au(l?.level),f=Po(n,u);return new JE(a,n.id,s,o,f,n.priorityFactions)}function Zv(n,a,s,o,l){const u=jh(n);return u?Vv(u,a,s,o,l):null}function zh(n,a,s,o,l,u){const f=jh(a);if(!f)return null;const h=f.cost;if(!n.canAfford(h,ae.SAUNA_BEER))return aa("error"),null;n.addResource(ae.SAUNA_BEER,-h);const m=Vv(f,s,o,l,u);return aa("spawn"),te.emit("unitSpawned",{unit:m}),m}const gw=Object.freeze(Object.defineProperty({__proto__:null,createUnit:Zv,spawnUnit:zh},Symbol.toStringTag,{value:"Module"})),pw=["Aino","Eero","Ilona","Kalevi","Lumi","Mika","Noora","Oskari","Saana","Tapio","Veera","Yrj"],Aw=["Emberguard","Frostwalker","Steamcaller","Dawnwatch","Gritforged","Stormchant","Snowborn","Torchbearer","Chillwarden","Sisuheart"],vw=["Aalto","Halla","Karhu","Korhonen","Laine","Mets","Niemi","Salmi","Tuomi","Virta"];function Ef(n,a){if(n.length===0)throw new Error("Cannot select a name from an empty collection.");const s=Math.floor(a()*n.length);return n[Math.min(s,n.length-1)]}function yw(n=Math.random){const a=Ef(pw,n),s=Ef(Aw,n),o=Ef(vw,n);return`${a} "${s}" ${o}`}const cr=Object.freeze(["supply","weapon","focus","relic"]);function Jv(){return{supply:null,weapon:null,focus:null,relic:null}}const bw=Object.freeze({supply:Object.freeze({id:"supply",label:"Supply Satchel",description:"Consumables and restorative provisions carried into battle.",maxStacks:5}),weapon:Object.freeze({id:"weapon",label:"Primary Armament",description:"The attendant's main weapon or ranged kit.",maxStacks:1}),focus:Object.freeze({id:"focus",label:"Battle Focus",description:"Tools that sharpen aim, steps, or battlefield intuition.",maxStacks:1}),relic:Object.freeze({id:"relic",label:"Sauna Relic",description:"Charms and relics that empower the attendant's resolve.",maxStacks:1})}),Ew=Object.freeze({"birch-sap-satchel":Object.freeze({id:"birch-sap-satchel",slot:"supply",modifiers:{health:3},maxStacks:3}),"steamed-bandages":Object.freeze({id:"steamed-bandages",slot:"supply",modifiers:{shield:4},maxStacks:2}),"aurora-distillate":Object.freeze({id:"aurora-distillate",slot:"supply",modifiers:{attackDamage:2,defense:1},maxStacks:1}),"stolen-sauna-tokens":Object.freeze({id:"stolen-sauna-tokens",slot:"supply",modifiers:{movementRange:.5},maxStacks:5}),"midnight-bloodwine":Object.freeze({id:"midnight-bloodwine",slot:"supply",modifiers:{health:6,attackDamage:1},maxStacks:1}),"sauna-incense":Object.freeze({id:"sauna-incense",slot:"supply",modifiers:{attackRange:1},maxStacks:2}),"glacier-brand":Object.freeze({id:"glacier-brand",slot:"weapon",modifiers:{attackDamage:3},maxStacks:1}),"emberglass-arrow":Object.freeze({id:"emberglass-arrow",slot:"weapon",modifiers:{attackDamage:1,attackRange:2},maxStacks:1}),"aurora-lattice":Object.freeze({id:"aurora-lattice",slot:"focus",modifiers:{attackDamage:2,attackRange:1},maxStacks:1}),"emberglass-shard":Object.freeze({id:"emberglass-shard",slot:"focus",modifiers:{attackDamage:1,movementRange:1},maxStacks:1}),"windstep-totem":Object.freeze({id:"windstep-totem",slot:"focus",modifiers:{movementRange:1,defense:1},maxStacks:1}),"searing-chant-censer":Object.freeze({id:"searing-chant-censer",slot:"focus",modifiers:{attackDamage:2,shield:2},maxStacks:1}),"cracked-ice-amulet":Object.freeze({id:"cracked-ice-amulet",slot:"relic",modifiers:{defense:2},maxStacks:1}),"myrsky-charm":Object.freeze({id:"myrsky-charm",slot:"relic",modifiers:{attackRange:1,defense:1},maxStacks:1}),"frostwyrm-signet":Object.freeze({id:"frostwyrm-signet",slot:"relic",modifiers:{shield:5},maxStacks:1}),"spirit-oak-charm":Object.freeze({id:"spirit-oak-charm",slot:"relic",modifiers:{defense:1,health:2},maxStacks:1})});function Go(n){const a=bw[n];if(!a)throw new Error(`Unknown equipment slot: ${n}`);return a}function Qo(n){return Ew[n]}function Wv(n){return Number.isFinite(n)?Math.max(1,Math.round(n)):1}function $v(n,a){return{id:n.id,name:n.name,description:n.description,icon:n.icon,rarity:n.rarity,quantity:a}}function ey(n,a,s,o){const l=Go(a),u=Math.max(1,Math.floor(s.maxStacks??l.maxStacks)),f=Math.min(u,o),h=s.modifiers??{};return{...$v(n,f),slot:a,maxStacks:u,modifiers:h}}function rh(n){n.equipment||(n.equipment=Jv());for(const a of cr)n.equipment[a]??=null;return n.equipment}function Qn(n){const a=[];for(const s of cr){const o=n[s];o&&a.push({...o})}return a}function Ih(n){return Qn(n).map(a=>$v(a,a.quantity))}function wf(n){const a=Jv();for(const s of n){const o=Qo(s.id);if(!o)continue;const l=Wv(s.quantity),u=a[o.slot];if(u&&u.id!==s.id)continue;const f=(u?.quantity??0)+l,h=ey(s,o.slot,o,f);a[o.slot]=h}return a}function ww(n,a){const s=Qo(a.id);if(!s)return{success:!1,slot:"supply",loadout:Qn(rh(n)),item:null,reason:"unknown-item"};const o=rh(n),l=s.slot,u=Go(l),f=Wv(a.quantity),h=Math.max(1,Math.floor(s.maxStacks??u.maxStacks)),m=o[l];if(m&&m.id!==a.id)return{success:!1,slot:l,loadout:Qn(o),item:m,reason:"slot-occupied"};const g=Math.min(h,(m?.quantity??0)+f);if((m?.quantity??0)+f>h)return{success:!1,slot:l,loadout:Qn(o),item:m,reason:"stack-limit"};const p=ey(a,l,s,g);return o[l]=p,n.items=Ih(o),{success:!0,slot:l,loadout:Qn(o),item:p}}function Sw(n,a){const s=rh(n),o=s[a];return o?(s[a]=null,n.items=Ih(s),{success:!0,slot:a,loadout:Qn(s),removed:o}):{success:!1,slot:a,loadout:Qn(s),removed:null,reason:"empty-slot"}}function xw(n,a){return Qo(n)?.slot===a}const Cw={q:0,r:0},Rw="Saunoja",oh=18,cA=0,nr=0,Bc=10,uA=1,rc={health:oh,attackDamage:4,attackRange:1,movementRange:1,defense:0,shield:0};function oc(n,a,s){return Math.min(Math.max(n,a),s)}function lc(n,a,s){const o=typeof n=="number"&&Number.isFinite(n)?n:a;return Math.max(s,o)}function Sf(n,a,s=0){if(typeof n=="number"&&Number.isFinite(n))return Math.max(s,n);if(typeof a=="number"&&Number.isFinite(a))return Math.max(s,a)}function dA(n,a){if(!n||typeof n!="object")return{...a};const s=n,o=lc(s.health,a.health,1),l=lc(s.attackDamage,a.attackDamage,0),u=lc(s.attackRange,a.attackRange,0),f=lc(s.movementRange,a.movementRange,0),h=Sf(s.defense,a.defense,0),m=Sf(s.shield,a.shield,0),g=Sf(s.visionRange,a.visionRange,0);return{health:o,attackDamage:l,attackRange:u,movementRange:f,defense:h,shield:m,visionRange:g}}function Bw(n,a){if(!n||typeof n!="object")return wf(a);const s=n,o=[];for(const l of Object.values(s)){const u=ty(l);u&&o.push(u)}return o.length===0?wf(a):wf(o)}function ty(n){if(!n||typeof n!="object")return null;const a=n,s=typeof a.id=="string"?a.id.trim():"",o=typeof a.name=="string"?a.name.trim():"";if(!s||!o)return null;const l=typeof a.description=="string"?a.description.trim():void 0,u=typeof a.icon=="string"?a.icon.trim():void 0,f=typeof a.rarity=="string"?a.rarity.trim():void 0,h=typeof a.quantity=="number"?a.quantity:Number(a.quantity),m=Number.isFinite(h)?Math.max(1,Math.round(h)):1;return{id:s,name:o,description:l,icon:u,rarity:f,quantity:m}}function Mw(n){if(!n||n.length===0)return[];const a=[];for(const s of n){const o=ty(s);o&&a.push(o)}return a}function Dw(n){if(!n||typeof n!="object")return null;const a=n,s=typeof a.id=="string"?a.id.trim():"",o=typeof a.name=="string"?a.name.trim():"";if(!s||!o)return null;const l=a.duration;let u=1/0;typeof l=="number"&&Number.isFinite(l)?u=Math.max(0,l):l!==1/0&&(u=1/0);const f=a.remaining;let h=u;typeof f=="number"&&Number.isFinite(f)?h=Math.max(0,f):f===1/0&&(h=1/0),u!==1/0&&h===1/0&&(h=u);const m=a.appliedAt,g=typeof m=="number"&&Number.isFinite(m)?Math.max(0,m):void 0,p=a.stacks,v=typeof p=="number"&&Number.isFinite(p)?Math.max(1,Math.round(p)):void 0,b=typeof a.description=="string"?a.description.trim():void 0,E=typeof a.source=="string"?a.source.trim():void 0;return{id:s,name:o,description:b,duration:u,remaining:h,appliedAt:g,stacks:v,source:E}}function Tw(n){if(!n||n.length===0)return[];const a=[];for(const s of n){const o=Dw(s);o&&a.push(o)}return a}function kw(n){if(typeof n=="string"){const a=n.trim();if(a.length>0)return a}try{return yw()}catch(a){return console.warn("Falling back to default Saunoja name",a),Rw}}function Fh(n){const{id:a,name:s,coord:o=Cw,maxHp:l=oh,hp:u=l,steam:f=0,defense:h,shield:m=0,traits:g=[],upkeep:p=uA,xp:v=0,lastHitAt:b=cA,selected:E=!1,items:x,modifiers:T,combatKeywords:D=null,combatHooks:N=null}=n,L=Number.isFinite(l)?Math.max(1,l):oh,I=Number.isFinite(u)?u:L,q=oc(I,0,L),Z=Number.isFinite(f)?f:0,ie=oc(Z,0,1),oe=(Array.isArray(g)?g:[]).filter(Ft=>typeof Ft=="string").map(Ft=>Ft.trim()).filter(Ft=>Ft.length>0),ne=Number.isFinite(p)?p:uA,F=oc(ne,nr,Bc),M=Number.isFinite(v)?v:0,O=Math.max(0,M),C=Number.isFinite(b)?b:cA,X=Math.max(0,C),U=Number.isFinite(m)?m:0,B=Math.max(0,U),z=Number.isFinite(h)?h:void 0,W=z!==void 0?Math.max(0,z):void 0,fe=Mw(x),w=Tw(T),Y=Bw(n.equipment,fe),ee=Ih(Y),$={...rc,health:L,defense:W??rc.defense,shield:rc.shield},le=dA(n.baseStats,$),ge={...le,health:L,defense:W??le.defense,shield:B},he=dA(n.effectiveStats,ge),Ie=Math.max(1,he.health),Ce=oc(q,0,Ie),Rt=typeof he.defense=="number"?Math.max(0,he.defense):W??void 0,Wt=typeof he.shield=="number"?Math.max(0,he.shield):B,Sn={...le,health:Math.max(1,le.health),defense:typeof le.defense=="number"?Math.max(0,le.defense):W??void 0,shield:typeof le.shield=="number"?Math.max(0,le.shield):rc.shield},$t={...he,health:Ie,defense:Rt,shield:Wt},It=kw(s);return{id:a,name:It,coord:{q:o.q,r:o.r},maxHp:Ie,hp:Ce,defense:Rt,shield:Wt,steam:ie,traits:[...oe],upkeep:F,xp:O,lastHitAt:X,selected:E,items:ee,baseStats:Sn,effectiveStats:$t,equipment:Y,modifiers:w,combatKeywords:D,combatHooks:N}}const ur=32;function So(n,a,s,o){n.beginPath();for(let l=0;l<6;l++){const u=Math.PI/3*l,f=a+o*Math.cos(u),h=s+o*Math.sin(u);l===0?n.moveTo(f,h):n.lineTo(f,h)}n.closePath()}function qh(n,a,s){return Math.min(Math.max(n,a),s)}function Hw(n,{centerX:a,centerY:s,hp:o,maxHp:l,radius:u=ur*.55}){const f=Number.isFinite(l)?Math.max(1,l):1,h=Number.isFinite(o)?o:f,m=qh(h/f,0,1);if(n.save(),So(n,a,s,u),n.fillStyle="rgba(7, 11, 18, 0.72)",n.fill(),n.restore(),m>0){n.save(),So(n,a,s,u),n.clip();const g=n.createLinearGradient(a,s+u,a,s-u);g.addColorStop(0,"rgba(46, 160, 98, 0.35)"),g.addColorStop(1,"rgba(218, 255, 239, 0.95)"),n.fillStyle=g;const p=u*2*m,v=s+u-p;n.fillRect(a-u,v,u*2,p),n.restore()}n.save(),So(n,a,s,u),n.lineWidth=Math.max(1,u*.12),n.strokeStyle="rgba(255, 255, 255, 0.28)",n.stroke(),n.restore()}function Ow(n,{centerX:a,centerY:s,radius:o=ur,progress:l=0}){const u=qh(l,0,1);if(u<=0)return;const f=Number.isFinite(o)&&o>0?o:ur;n.save(),n.globalCompositeOperation="lighter",n.globalAlpha=u;const h=n.createRadialGradient(a,s,Math.max(1,f*.1),a,s,f);h.addColorStop(0,"rgba(255, 255, 255, 0.92)"),h.addColorStop(.45,"rgba(255, 255, 255, 0.68)"),h.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=h,n.beginPath(),n.arc(a,s,f,0,Math.PI*2),n.fill(),n.restore()}function Nw(n,{centerX:a,centerY:s,radius:o=ur*.85,intensity:l=1}){const u=qh(l,0,1);if(u<=0)return;n.save(),So(n,a,s,o),n.clip();const f=n.createLinearGradient(a,s+o,a,s-o);f.addColorStop(0,"rgba(255, 255, 255, 0)"),f.addColorStop(.55,`rgba(255, 255, 255, ${.12*u})`),f.addColorStop(1,`rgba(255, 255, 255, ${.35*u})`),n.globalCompositeOperation="lighter",n.fillStyle=f,n.fillRect(a-o,s-o,o*2,o*2),n.restore(),n.save(),n.globalCompositeOperation="lighter",n.lineCap="round",n.strokeStyle=`rgba(255, 255, 255, ${.25*u})`,n.lineWidth=Math.max(1,o*.08);const h=o*.75,m=o*.35;for(let g=0;g<3;g++){const p=s-o*.5+g*m;n.beginPath(),n.moveTo(a-h,p),n.bezierCurveTo(a-h*.4,p-o*.4,a+h*.4,p+o*.2,a+h,p-o*.45),n.stroke()}n.restore()}function lh(n,a,s){return n<a?a:n>s?s:n}const xf=Object.freeze([{id:"skirmish",label:"Skirmish Patrols",minRunSeconds:0,minClears:0,cadence:26,multiplier:1,bundleTier:0},{id:"raids",label:"Raid Pressure",minRunSeconds:90,minClears:2,cadence:19,multiplier:1.35,bundleTier:1},{id:"siege",label:"Siege Lines",minRunSeconds:210,minClears:5,cadence:13,multiplier:1.8,bundleTier:2},{id:"onslaught",label:"Winter Onslaught",minRunSeconds:360,minClears:9,cadence:8.5,multiplier:2.45,bundleTier:3},{id:"maelstrom",label:"Glacier Maelstrom",minRunSeconds:540,minClears:14,cadence:6.2,multiplier:3.25,bundleTier:4}]);function Pw(n){return n>=1?1/(1+(n-1)*.45):1+(1-n)*.35}function Gw(n){if(n>=1)return 1+(n-1)*.85;const a=1-n;return lh(1-a*.4,.45,1)}function Qw(n){return{runSeconds:Math.max(0,Number.isFinite(n.runSeconds)?n.runSeconds:0),clears:Math.max(0,Number.isFinite(n.clears)?n.clears:0),spawnCycles:Math.max(0,Number.isFinite(n.spawnCycles)?n.spawnCycles:0)}}function fA(n,a){const s=Qw(a);let o=0;for(let g=0;g<xf.length;g+=1){const p=xf[g];if(s.runSeconds<p.minRunSeconds||s.clears<p.minClears)break;o=g}const l=xf[o],u=Pw(n),f=Gw(n),h=Math.max(.75,l.cadence*u),m=l.multiplier*f;return{stage:l,stageIndex:o,cadenceTarget:h,multiplierBase:m}}function hA(n){if(n>=1){const s=Math.min(3,n-1);return lh(.93-s*.035,.82,.93)}const a=Math.min(1,1-n);return lh(.93+a*.03,.9,.97)}function mA(n){if(n>=1)return .024+Math.min(3,n-1)*.012;const a=Math.min(1,1-n);return Math.max(.012,.024-a*.01)}const ny="deepwood",ay="Deepwood Wardens",iy="Reclusive guardians attuned to sauna spirits.",sy=[{id:"warding-circle",label:"Warding Circle",weight:2,units:[{unit:"soldier",level:1,quantity:2},{unit:"archer",level:1,quantity:1}],items:["spirit-oak-charm","sauna-incense"],modifiers:["barkskin-ritual"]},{id:"spirit-strike",label:"Spirit Strike",weight:1,units:[{unit:"archer",level:2,quantity:2}],items:["emberglass-arrow"],modifiers:["searing-chant","windstep"]}],Lw={id:ny,name:ay,description:iy,bundles:sy},Uw=Object.freeze(Object.defineProperty({__proto__:null,bundles:sy,default:Lw,description:iy,id:ny,name:ay},Symbol.toStringTag,{value:"Module"})),ry="enemy",oy="Avanto Marauders",ly="Frostbitten raiders who harry the sauna frontier.",cy=[{id:"iceblade-scouts",label:"Iceblade Scouts",weight:3,minRampTier:0,units:[{unit:"avanto-marauder",level:1,quantity:1}],items:["cracked-ice-amulet"],modifiers:["frost-resilience"]},{id:"raiding-party",label:"Raiding Party",weight:2,minRampTier:0,units:[{unit:"avanto-marauder",level:1,quantity:2}],items:["stolen-sauna-tokens"],modifiers:["berserker-drift"]},{id:"frost-champion",label:"Frost Champion",weight:1,minRampTier:0,units:[{unit:"avanto-marauder",level:2,quantity:1}],items:["glacier-brand"],modifiers:["glacial-ward"]},{id:"icebreaker-vanguard",label:"Icebreaker Vanguard",weight:2.5,minRampTier:1,units:[{unit:"avanto-marauder",level:2,quantity:2},{unit:"avanto-marauder",level:1,quantity:1}],items:["stormglass-pendant"],modifiers:["frost-resilience","berserker-drift"]},{id:"glacial-phalanx",label:"Glacial Phalanx",weight:2,minRampTier:2,units:[{unit:"avanto-marauder",level:3,quantity:3},{unit:"avanto-marauder",level:2,quantity:1}],items:["glacier-brand","frostshard-relic"],modifiers:["glacial-ward","polar-endurance"]},{id:"avalanche-warhost",label:"Avalanche Warhost",weight:1.25,minRampTier:3,units:[{unit:"avanto-marauder",level:4,quantity:3},{unit:"avanto-marauder",level:3,quantity:2}],items:["avalanche-totem"],modifiers:["glacial-ward","polar-endurance","berserker-drift"]}],jw={id:ry,name:oy,description:ly,bundles:cy},zw=Object.freeze(Object.defineProperty({__proto__:null,bundles:cy,default:jw,description:ly,id:ry,name:oy},Symbol.toStringTag,{value:"Module"})),Iw=Object.assign({"../content/factions/deepwood.json":Uw,"../content/factions/enemy.json":zw}),Gc=new Map;for(const[n,a]of Object.entries(Iw)){const s=Fw(a),o=_w(s,n);if(Gc.has(o.id))throw new Error(`Duplicate faction bundle id: ${o.id}`);Gc.set(o.id,o)}function Fw(n){return typeof n=="object"&&n!==null&&"default"in n?n.default:n}function Xh(n){return typeof n=="object"&&n!==null}function ch(n,a){if(typeof n!="string")throw new Error(`Expected string at ${a}`);const s=n.trim();if(!s)throw new Error(`Expected non-empty string at ${a}`);return s}function uh(n){if(typeof n!="string")return;const a=n.trim();return a||void 0}function gA(n,a){if(n===void 0)return Object.freeze([]);if(!Array.isArray(n))throw new Error(`Expected array at ${a}`);const s=n.map((o,l)=>{if(typeof o!="string")throw new Error(`Expected string at ${a}[${l}]`);const u=o.trim();if(!u)throw new Error(`Expected non-empty string at ${a}[${l}]`);return u});return Object.freeze(s)}function uy(n,a){const s=typeof n=="number"?n:Number(n);return!Number.isFinite(s)||s<=0?a:s}function pA(n,a){const s=Math.floor(uy(n,a));return s>0?s:a}function qw(n,a){if(!Xh(n))throw new Error(`Expected object at ${a}`);const s=ch(n.unit,`${a}.unit`),o=pA(n.level,1),l=pA(n.quantity,1);return Object.freeze({unit:s,level:o,quantity:l})}function Xw(n){if(n===void 0)return;const a=Number(n);if(!Number.isFinite(a))return;const s=Math.floor(a);return s>=0?s:void 0}function Yw(n,a,s){if(!Xh(n))throw new Error(`Expected object at ${a}`);const o=uh(n.id)??`${s}-bundle`,l=uh(n.label)??o,u=uy(n.weight,1),f=n.units;if(!Array.isArray(f)||f.length===0)throw new Error(`Expected non-empty units array at ${a}.units`);const h=f.map((v,b)=>qw(v,`${a}.units[${b}]`)),m=gA(n.items,`${a}.items`),g=gA(n.modifiers,`${a}.modifiers`),p=Xw(n.minRampTier);return Object.freeze({id:o,label:l,weight:u,units:Object.freeze(h),items:m,modifiers:g,minRampTier:p})}function _w(n,a){if(!Xh(n))throw new Error(`Expected object at ${a}`);const s=ch(n.id,`${a}.id`),o=ch(n.name,`${a}.name`),l=uh(n.description);if(!Array.isArray(n.bundles)||n.bundles.length===0)throw new Error(`Expected non-empty bundles array at ${a}.bundles`);const u=n.bundles.map((f,h)=>Yw(f,`${a}.bundles[${h}]`,`${s}-${h}`));return Object.freeze({id:s,name:o,description:l,bundles:Object.freeze(u)})}Object.freeze(Array.from(Gc.keys()));function Kw(n){return Gc.get(n)??null}function Vw(n){return Kw(n)?.bundles??Object.freeze([])}function Zw(){return`e${Date.now()}-${Math.floor(Math.random()*1e6)}`}function Jw(n){return{level:n}}function Ww(n,a,s){const o=Vw(n);if(o.length===0)throw new Error(`No bundles registered for faction: ${n}`);const l=Math.max(0,Math.floor(Number.isFinite(a)?a:0)),u=o.filter(v=>(typeof v.minRampTier=="number"?v.minRampTier:0)<=l),f=u.length>0?u:o,h=typeof s=="function"?s:Math.random,m=f.reduce((v,b)=>v+b.weight,0);if(!Number.isFinite(m)||m<=0)throw new Error(`Invalid bundle weights for faction: ${n}`);const g=h()*m;let p=0;for(const v of f)if(p+=v.weight,g<p)return v;return f[f.length-1]}function $w(n){let a=Math.max(0,Math.floor(n.availableSlots));const s=[];if(a<=0)return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers};const o=n.makeId??Zw,l=typeof n.random=="function"?n.random:Math.random,u=Math.max(0,Math.min(.95,typeof n.eliteOdds=="number"?n.eliteOdds:0)),f=Math.max(1,Number.isFinite(n.difficultyMultiplier)?n.difficultyMultiplier:1),h=Math.max(0,Math.floor(Number.isFinite(n.rampTier)?n.rampTier:0)),m=1+h*.25,g=Math.floor(h/2);for(const p of n.bundle.units){const v=Math.max(1,Math.round(p.quantity*f*m)),b=Math.min(v,a),E=p.unit,x=Math.max(1,Math.round((p.level+g)*f));for(let T=0;T<b;T+=1){const D=l()<u?1:0,N=Math.max(1,x+D),L=Jw(N),I=n.pickEdge();if(!I)return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers};const q=Zv(E,o(),I,n.factionId,L);if(q&&(n.addUnit(q),s.push(q),a-=1,a<=0))return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers}}}return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers}}function cc(n,a,s,o=1){const l=Number(n);return Number.isFinite(l)?Math.max(a,Math.min(s,l)):o}const AA=6;class eS{timer;interval;spawnCycles;factionId;random;makeId;difficulty;eliteOdds;cadenceDecay;multiplierGrowth;runSeconds=0;clearCount=0;boardEmpty=!0;lastClearAt=null;lastSpawnAt=null;lastCadence;lastMultiplier;rampEvaluation;rampStageIndex;currentDifficulty;cadenceScale=1;multiplierScale=1;pressureScale=1;calmUntil=null;calmSecondsRemaining=0;cadenceFloor=.3;constructor(a={}){this.factionId=a.factionId??"enemy",this.random=typeof a.random=="function"?a.random:Math.random;const s=Number.isFinite(a.difficulty)?Number(a.difficulty):1;this.difficulty=Math.max(.5,s);const o=typeof a.eliteOdds=="number"?a.eliteOdds:0;this.eliteOdds=Math.max(0,Math.min(.95,o)),this.currentDifficulty=this.difficulty,this.cadenceDecay=hA(this.currentDifficulty),this.multiplierGrowth=mA(this.currentDifficulty),this.spawnCycles=0,this.rampEvaluation=fA(this.currentDifficulty,{runSeconds:0,clears:0,spawnCycles:0}),this.rampStageIndex=this.rampEvaluation.stageIndex,this.interval=this.rampEvaluation.cadenceTarget,this.timer=this.interval,this.lastCadence=this.interval,this.lastMultiplier=this.rampEvaluation.multiplierBase;const l=(()=>{let u=0;return()=>`e${Date.now()}-${u+=1}`})();this.makeId=typeof a.idFactory=="function"?a.idFactory:l}update(a,s,o,l,u={}){if(!Number.isFinite(a)||a<=0)return;this.runSeconds+=a,this.applyRuntimeModifiers(u),this.resolveRampState();const f=this.countActiveEnemies(s);if(this.trackClears(f),this.calmUntil!==null&&this.runSeconds<this.calmUntil){const m=this.calmUntil-this.runSeconds;this.calmSecondsRemaining=m,this.timer=Math.max(this.timer,m);return}this.calmSecondsRemaining=Math.max(0,this.calmUntil!==null?this.calmUntil-this.runSeconds:0),this.timer-=a;let h=0;for(;this.timer<=0&&h<AA;){const m=this.getAvailableSlots(s);if(m<=0){this.timer=Math.max(this.timer,.5);break}const g=this.resolveRampState(),p=Ww(this.factionId,g.stage.bundleTier,this.random),v=this.computeMultiplier(g);if($w({bundle:p,factionId:this.factionId,pickEdge:l,addUnit:o,makeId:this.makeId,availableSlots:m,eliteOdds:this.eliteOdds,random:this.random,difficultyMultiplier:v,rampTier:g.stage.bundleTier}).spawned.length===0){this.timer=Math.max(this.timer,.5);break}const E=this.runSeconds+this.timer;this.lastCadence=this.lastSpawnAt===null?this.interval:Math.max(.01,E-this.lastSpawnAt),this.lastSpawnAt=E,this.lastMultiplier=v,this.spawnCycles+=1,h+=1;const x=this.resolveRampState();this.interval=this.computeNextInterval(x),this.timer+=this.interval}h===AA&&this.timer<=0&&(this.timer=this.interval)}getSnapshot(){const a=this.rampEvaluation.stage;return{runSeconds:this.runSeconds,clears:this.clearCount,spawnCycles:this.spawnCycles,rampStageIndex:this.rampStageIndex,rampStageId:a.id,rampStageLabel:a.label,bundleTier:a.bundleTier,cadence:this.interval,lastCadence:this.lastCadence,lastSpawnAt:this.lastSpawnAt,lastClearAt:this.lastClearAt,difficultyMultiplier:this.lastMultiplier,effectiveDifficulty:this.currentDifficulty,aggressionMultiplier:this.currentDifficulty/this.difficulty,cadenceMultiplier:this.cadenceScale,strengthMultiplier:this.multiplierScale,pressureMultiplier:this.pressureScale,calmSecondsRemaining:this.calmSecondsRemaining}}resolveRampState(){return this.rampEvaluation=fA(this.currentDifficulty,{runSeconds:this.runSeconds,clears:this.clearCount,spawnCycles:this.spawnCycles}),this.rampStageIndex=this.rampEvaluation.stageIndex,this.rampEvaluation}applyRuntimeModifiers(a){const s=cc(a.aggressionMultiplier,.25,6,1),o=cc(a.cadenceMultiplier,.1,10,1),l=cc(a.strengthMultiplier,.1,12,1),u=cc(a.pressureMultiplier,.1,10,1),f=Number.isFinite(a.cadenceFloor)?Math.max(.1,a.cadenceFloor):this.cadenceFloor,h=Math.max(.25,this.difficulty*s);if(h!==this.currentDifficulty&&(this.currentDifficulty=h,this.cadenceDecay=hA(this.currentDifficulty),this.multiplierGrowth=mA(this.currentDifficulty),this.resolveRampState()),this.cadenceScale=o,this.multiplierScale=l,this.pressureScale=u,this.cadenceFloor=f,Object.prototype.hasOwnProperty.call(a,"calmSecondsRemaining")){const m=a.calmSecondsRemaining;m===null?this.calmUntil=null:typeof m=="number"&&Number.isFinite(m)&&m>0?this.calmUntil=this.runSeconds+m:typeof m=="number"&&m<=0&&(this.calmUntil=null)}this.calmSecondsRemaining=Math.max(0,this.calmUntil!==null?this.calmUntil-this.runSeconds:0)}computeNextInterval(a){const s=a.cadenceTarget*this.cadenceScale,o=Math.pow(this.spawnCycles+1,.6)*.018*this.pressureScale,l=1+Math.min(4,o),u=s/l,f=this.interval*this.cadenceDecay,h=Math.min(f,u);return Math.max(this.cadenceFloor,h)}computeMultiplier(a){const s=1+this.spawnCycles*this.multiplierGrowth*this.pressureScale,o=1+a.stageIndex*.15,l=a.multiplierBase*s*o*this.multiplierScale;return Math.min(16,Math.max(1,l))}countActiveEnemies(a){return a.filter(s=>s.faction===this.factionId&&!s.isDead()).length}getAvailableSlots(a){return cw-this.countActiveEnemies(a)}trackClears(a){if(a<=0){this.boardEmpty||(this.clearCount+=1,this.lastClearAt=this.runSeconds),this.boardEmpty=!0;return}this.boardEmpty=!1}}function tS(){if(typeof window>"u")return null;try{return window.localStorage??null}catch(n){return console.warn("Structured telemetry storage unavailable",n),null}}function nS(n,a){const s={event:n,timestamp:Date.now(),payload:{...a}};return console.info(n,s),s}function aS(n,a,s={}){const o=tS();if(!o)return;const l=Number.isFinite(s.limit)?Math.max(1,Math.trunc(s.limit??16)):16,f=[...Bh(n)??[],a].slice(-l);try{o.setItem(n,JSON.stringify(f))}catch(h){console.warn("Failed to persist structured telemetry",{storageKey:n,error:h})}}let vA=-1,yA=-1,Cf=null,Rf=0,Bf=0;const iS="telemetry:enemy-scaling:summaries";function sS(n,a={}){const s=n.rampStageIndex!==vA,o=n.spawnCycles>=yA+10,l=n.lastClearAt!==null&&n.lastClearAt!==Cf;if(!s&&!o&&!l)return;vA=n.rampStageIndex,yA=n.spawnCycles,Cf=n.lastClearAt??Cf,Rf=Math.max(Rf,n.difficultyMultiplier);const u=Math.max(0,Math.round(n.calmSecondsRemaining*1e3));u>Bf&&(Bf=u);const f={stage:n.rampStageLabel,stageIndex:n.rampStageIndex,bundleTier:n.bundleTier,cadenceSeconds:Number(n.cadence.toFixed(2)),lastCadenceSeconds:Number(n.lastCadence.toFixed(2)),multiplier:Number(n.difficultyMultiplier.toFixed(2)),effectiveDifficulty:Number(n.effectiveDifficulty.toFixed(2)),aggressionMultiplier:Number(n.aggressionMultiplier.toFixed(2)),cadenceMultiplier:Number(n.cadenceMultiplier.toFixed(2)),strengthMultiplier:Number(n.strengthMultiplier.toFixed(2)),pressureMultiplier:Number(n.pressureMultiplier.toFixed(2)),calmSecondsRemaining:Number(n.calmSecondsRemaining.toFixed(2)),runSeconds:Math.round(n.runSeconds),spawnCycles:n.spawnCycles,clears:n.clears,wipeSince:a.wipeSince??null,longestWipeMs:a.wipeDurationMs??0,peakMultiplier:Number(Rf.toFixed(2)),longestCalmMs:Bf},h=nS("enemy-scaling",f);aS(iS,h,{limit:24})}const rS=Object.freeze({ngPlusLevel:0,unlockSlots:0}),oS={default:"Included with the sauna key",ngPlusLevel:"Reach NG+ level",unlockSlots:"Earn roster unlocks"},Yh=Object.freeze([{id:"ember-circuit",name:"Ember Circuit",rosterCap:3,description:"Classic cedar benches with a loyal trio of attendants.",art:{badge:Tv,glow:"linear-gradient(145deg, rgba(255,161,76,0.65), rgba(255,226,173,0.18))"},unlock:{type:"default",label:"Available from the first steam session"}},{id:"aurora-ward",name:"Aurora Ward",rosterCap:4,description:"Glacial glass benches and a quartet ready to repel sieges.",art:{badge:Mv,glow:"linear-gradient(140deg, rgba(128,208,255,0.7), rgba(61,184,255,0.2))"},unlock:{type:"unlockSlots",slots:2,label:"Secure 2 roster unlocks"}},{id:"mythic-conclave",name:"Mythic Conclave",rosterCap:6,description:"Runic obsidian tiers where six legends guard the lyly.",art:{badge:Dv,glow:"linear-gradient(135deg, rgba(176,106,255,0.72), rgba(245,199,255,0.2))"},unlock:{type:"ngPlusLevel",level:3,label:"Prestige to NG+ level 3"}}]),Lo=Yh[0].id,Mf=new Map(Yh.map(n=>[n.id,n]));function dy(){return Yh}function ra(n){return n&&Mf.has(n)?Mf.get(n):Mf.get(Lo)}function bA(n,a,s){if(!Number.isFinite(n))return a;const o=Math.max(a,Math.min(s,n));return Number.isNaN(o)?a:o}function uc(n){if(n.label)return n.label;const a=oS[n.type];if(!a)return"";switch(n.type){case"ngPlusLevel":return`${a} ${n.level}`;case"unlockSlots":return`${a} ${n.slots}`;default:return a}}function dr(n,a){const s=a??rS;if(n.unlock.type==="default")return{tier:n,unlocked:!0,progress:1,requirementLabel:uc(n.unlock)};if(n.unlock.type==="ngPlusLevel"){const o=bA(s.ngPlusLevel/n.unlock.level,0,1);return{tier:n,unlocked:s.ngPlusLevel>=n.unlock.level,progress:o,requirementLabel:uc(n.unlock)}}if(n.unlock.type==="unlockSlots"){const o=bA(s.unlockSlots/n.unlock.slots,0,1);return{tier:n,unlocked:s.unlockSlots>=n.unlock.slots,progress:o,requirementLabel:uc(n.unlock)}}return{tier:n,unlocked:!1,progress:0,requirementLabel:uc(n.unlock)}}const EA=["hud-grid","grid","grid-rows-[64px_1fr_80px]","grid-cols-[280px_1fr_340px]","gap-[clamp(16px,3vw,28px)]"],wA={top:["col-span-3","row-span-1","row-start-1"],left:["col-start-1","row-start-2","row-span-1"],content:["col-start-2","row-start-2","row-span-1"],right:["col-start-3","row-start-2","row-span-1"],bottom:["col-span-3","row-start-3","row-span-1"]};function lS(n,a){let s=n.querySelector("[data-hud-root]");return s||(s=a.createElement("div"),s.dataset.hudRoot="true",s.className="hud-layout-root",n.prepend(s)),s}function co(n,a,s,o){let l=n.querySelector(`[data-hud-region="${s}"]`);return l||(l=a.createElement("div"),l.dataset.hudRegion=s,n.appendChild(l)),l.classList.add("hud-region",...o),l.parentElement!==n&&n.appendChild(l),l}function cS(n,a,s){if(s){n.classList.add(...EA);for(const[o,l]of Object.entries(wA))a[o].classList.add(...l)}else{n.classList.remove(...EA);for(const[o,l]of Object.entries(wA))a[o].classList.remove(...l)}}function hr(n){const a=n.ownerDocument??document,s=lS(n,a),o={top:co(s,a,"top",["hud-top-row"]),left:co(s,a,"left",["hud-actions"]),content:co(s,a,"content",["hud-content"]),right:co(s,a,"right",["hud-right-column"]),bottom:co(s,a,"bottom",["hud-bottom-row"])};s.append(o.top,o.left,o.content,o.right,o.bottom);const l=n.dataset.hudVariant==="v2";if(cS(n,o,l),!l){const g=n.querySelector("#resource-bar");g&&g.parentElement!==o.right&&o.right.prepend(g)}const u=n.querySelector("#build-menu");u&&u.parentElement!==o.left&&o.left.appendChild(u);const f=n.querySelector("#build-id");f&&f.parentElement!==o.bottom&&o.bottom.appendChild(f);let h=n.querySelector(".hud-mobile-bar__tray"),m=h?.closest(".hud-mobile-bar")??null;return(!h||!m)&&(m=a.createElement("div"),m.className="hud-mobile-bar",h=a.createElement("div"),h.className="hud-mobile-bar__tray",m.appendChild(h)),m.parentElement!==o.bottom&&o.bottom.appendChild(m),{root:s,regions:o,actions:o.left,side:o.right,mobileBar:h}}const SA=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function uS(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{update:()=>{},dispose:()=>{}};const o=document.createElement("div");o.classList.add("sauna-control"),o.dataset.tutorialTarget="heat";const l=()=>{const ce=a.getActiveTierId?.();return ra(ce??Lo).id},u=()=>a.getTierContext?.()??null,f=document.createElement("button");f.type="button",f.textContent="Sauna ",f.classList.add("topbar-button","sauna-toggle"),f.setAttribute("aria-expanded","false"),o.appendChild(f);const h=document.createElement("div");h.classList.add("sauna-card","hud-card"),h.hidden=!0;const m=document.createElement("section");m.classList.add("sauna-health");const g=`sauna-health-label-${Math.floor(Math.random()*1e5)}`,p=document.createElement("div");p.classList.add("sauna-health__header");const v=document.createElement("span");v.id=g,v.classList.add("sauna-health__title"),v.textContent="Sauna Integrity",p.appendChild(v);const b=document.createElement("span");b.classList.add("sauna-health__value"),b.setAttribute("aria-live","polite"),p.appendChild(b),m.appendChild(p);const E=document.createElement("div");E.classList.add("sauna-health__bar"),E.setAttribute("role","meter"),E.setAttribute("aria-valuemin","0"),E.setAttribute("aria-labelledby",g);const x=document.createElement("div");x.classList.add("sauna-health__fill"),E.appendChild(x),m.appendChild(E);const T=document.createElement("div");T.classList.add("sauna-health__destruction"),T.hidden=!0,E.appendChild(T);const D=document.createElement("div");D.classList.add("sauna-progress");const N=document.createElement("div");N.classList.add("sauna-progress__fill"),D.appendChild(N),h.appendChild(m),h.appendChild(D);const L=dy(),I=new Map,q=document.createElement("section");q.classList.add("sauna-tier");const Z=document.createElement("div");Z.classList.add("sauna-tier__header");const ie=document.createElement("span");ie.classList.add("sauna-tier__title"),ie.textContent="Premium Tiers",Z.appendChild(ie);const se=document.createElement("p");se.classList.add("sauna-tier__subtitle"),se.textContent="Align the lyly with your prestige to unlock lavish benches and roster headroom.",Z.appendChild(se),q.appendChild(Z);const oe=document.createElement("div");oe.classList.add("sauna-tier__grid"),q.appendChild(oe);for(const ce of L){const ye=document.createElement("button");ye.type="button",ye.classList.add("sauna-tier__option"),ye.dataset.tierId=ce.id,ye.setAttribute("aria-pressed","false");const be=document.createElement("div");be.classList.add("sauna-tier__badge"),be.style.setProperty("--sauna-tier-badge-image",`url(${ce.art.badge})`),ce.art.glow&&be.style.setProperty("--sauna-tier-glow",ce.art.glow),ye.appendChild(be);const De=document.createElement("div");De.classList.add("sauna-tier__copy"),ye.appendChild(De);const Et=document.createElement("span");Et.classList.add("sauna-tier__name"),Et.textContent=ce.name,De.appendChild(Et);const ht=document.createElement("span");ht.classList.add("sauna-tier__cap"),ht.textContent=`Cap ${ce.rosterCap}`,De.appendChild(ht);const Bt=document.createElement("p");Bt.classList.add("sauna-tier__description"),Bt.textContent=ce.description,De.appendChild(Bt);const fa=document.createElement("div");fa.classList.add("sauna-tier__progress");const ha=document.createElement("div");ha.classList.add("sauna-tier__progress-fill"),fa.appendChild(ha);const ma=document.createElement("span");ma.classList.add("sauna-tier__progress-label"),fa.appendChild(ma),De.appendChild(fa);const ga=document.createElement("span");ga.classList.add("sauna-tier__requirement"),De.appendChild(ga);const pa={tier:ce,button:ye,fill:ha,progressLabel:ma,requirement:ga,handleClick:()=>{Sn(ce,pa)}};ye.addEventListener("click",pa.handleClick),I.set(ce.id,pa),oe.appendChild(ye)}h.appendChild(q),Wt();const ne=document.createElement("div");ne.classList.add("sauna-roster");const F=document.createElement("div");F.classList.add("sauna-roster__header");const M=document.createElement("span");M.textContent="Roster Cap",M.classList.add("sauna-roster__title"),F.appendChild(M);const O=document.createElement("span");O.classList.add("sauna-roster__value"),O.setAttribute("aria-live","polite"),F.appendChild(O),ne.appendChild(F);const C=document.createElement("p");C.classList.add("sauna-roster__description"),C.textContent="Tune how many attendants may be active before new recruits wait in the steam.",ne.appendChild(C);const X=`sauna-roster-${Math.floor(Math.random()*1e5)}`,U=document.createElement("label");U.classList.add("sauna-roster__label"),U.htmlFor=X,U.textContent="Active attendants";const B=document.createElement("input");B.type="range",B.id=X,B.min="0",B.step="1",B.classList.add("sauna-roster__slider");const z=document.createElement("input");z.type="number",z.min="0",z.step="1",z.inputMode="numeric",z.classList.add("sauna-roster__number");const W=document.createElement("div");W.classList.add("sauna-roster__controls"),W.appendChild(U),W.appendChild(B),W.appendChild(z),ne.appendChild(W),h.appendChild(ne);const fe=document.createElement("label");fe.classList.add("sauna-option");const w=document.createElement("input");w.type="checkbox",w.classList.add("sauna-option__input"),w.checked=n.rallyToFront,w.addEventListener("change",()=>{n.rallyToFront=w.checked}),fe.appendChild(w);const Y=document.createElement("span");Y.textContent="Rally to Front",Y.classList.add("sauna-option__label"),fe.appendChild(Y),h.appendChild(fe),o.appendChild(h);const{regions:ee}=hr(s),$=ee.top,le=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null;let ge=!!le?.matches;const he=(ce,ye)=>{typeof ce.addEventListener=="function"?ce.addEventListener("change",ye):typeof ce.addListener=="function"&&ce.addListener(ye)},Ie=(ce,ye)=>{typeof ce.removeEventListener=="function"?ce.removeEventListener("change",ye):typeof ce.removeListener=="function"&&ce.removeListener(ye)},Ce=ce=>{ge=!!ce.matches,m.dataset.motion=ge?"reduced":"full"};m.dataset.motion=ge?"reduced":"full",le&&he(le,Ce);const Rt=()=>{const ce=ra(l()),ye=Math.max(0,Math.floor(ce.rosterCap)),be=a.getRosterCapLimit?.();if(typeof be=="number"&&Number.isFinite(be)){const De=Math.max(0,Math.floor(be));return Math.max(0,Math.min(ye,De))}return ye};function Wt(){const ce=l(),ye=u();for(const be of I.values()){const De=dr(be.tier,ye),Et=Math.round(Math.max(0,Math.min(De.progress,1))*100);be.fill.style.width=`${Et}%`,be.progressLabel.textContent=De.unlocked?"Unlocked":`${Et}% ready`,be.requirement.textContent=De.unlocked?`Roster cap ${be.tier.rosterCap}`:De.requirementLabel,be.button.dataset.state=De.unlocked?be.tier.id===ce?"active":"available":"locked",be.button.setAttribute("aria-pressed",be.tier.id===ce?"true":"false"),be.button.setAttribute("aria-disabled",De.unlocked?"false":"true")}}function Sn(ce,ye){if(!dr(ce,u()).unlocked){ye.button.classList.remove("sauna-tier__option--denied"),ye.button.offsetWidth,ye.button.classList.add("sauna-tier__option--denied");return}(a.setActiveTierId?.(ce.id,{persist:!0})??!1)&&It(n.maxRosterSize,!0),Wt()}const $t=(ce,ye)=>{const be=Math.max(0,Math.min(ce,Math.floor(ye)));B.max=String(ce),B.value=String(be),B.setAttribute("aria-valuemax",B.max),B.setAttribute("aria-valuenow",B.value),z.max=String(ce),z.value=String(be),O.textContent=be===0?"Paused":`${be}`,O.dataset.state=be===0?"paused":"active",z.setAttribute("aria-label",`Roster cap set to ${be}`)};function It(ce,ye){const be=Number(ce),De=Rt(),Et=Number.isFinite(be)?Math.max(0,Math.floor(be)):0;let ht=Math.max(0,Math.min(De,Et));return a.updateMaxRosterSize?ht=a.updateMaxRosterSize(ht,{persist:ye}):n.maxRosterSize=ht,$t(De,ht),ht}const Ft=()=>{It(Number(B.value),!1)},la=()=>{It(Number(B.value),!0)};B.addEventListener("input",Ft),B.addEventListener("change",la);const ca=ce=>{It(Number(z.value),ce)},lt=()=>{ca(!1)},ua=()=>{ca(!0)},xn=()=>{ca(!0)};z.addEventListener("input",lt),z.addEventListener("change",ua),z.addEventListener("blur",xn),It(n.maxRosterSize,!1);const hn=()=>{o.parentElement!==$&&$.appendChild(o);const ce=$.querySelector("#topbar");return ce&&ce.parentElement===$?(ce.nextSibling!==o&&$.insertBefore(o,ce.nextSibling),!0):!1};let qt=null;hn()||(qt=new MutationObserver(()=>{hn()&&qt?.disconnect()}),qt.observe($,{childList:!0}));const _a=()=>{const ce=!h.hidden;h.hidden=ce,f.setAttribute("aria-expanded",String(!ce))};f.addEventListener("click",_a);const Cn=()=>{const ce=Math.max(1,Math.floor(n.maxHealth)),ye=Math.max(0,Math.min(ce,Math.floor(Number.isFinite(n.health)?n.health:0))),be=ce>0?ye/ce:0,De=Math.max(0,Math.min(be,1));x.style.width=`${De*100}%`;const Et=SA.format(ye),ht=SA.format(ce);b.textContent=`${Et} / ${ht}`,E.setAttribute("aria-valuenow",String(ye)),E.setAttribute("aria-valuemax",String(ce)),E.setAttribute("aria-valuetext",`${Et} of ${ht} health`);const Bt=n.destroyed?"offline":De<=.2?"critical":De<=.55?"warning":"stable";E.dataset.level=Bt,b.dataset.state=Bt,m.dataset.state=n.destroyed?"destroyed":"active"},zn=()=>{T.classList.remove("sauna-health__destruction--active"),T.hidden=!0};let Rn=null,Ne=null;const Je=()=>{Rn!==null&&(window.clearTimeout(Rn),Rn=null),E.classList.remove("sauna-health__bar--impact")},en=()=>{x.classList.remove("sauna-health__fill--damage")};x.addEventListener("animationend",en);const ft=()=>{zn()};T.addEventListener("animationend",ft);const cs=()=>{Je(),E.classList.add("sauna-health__bar--impact"),ge||(x.classList.remove("sauna-health__fill--damage"),x.offsetWidth,x.classList.add("sauna-health__fill--damage")),Rn=window.setTimeout(()=>{E.classList.remove("sauna-health__bar--impact"),Rn=null},ge?360:560)},mr=()=>{Ne!==null&&(window.clearTimeout(Ne),Ne=null),T.hidden=!1,T.classList.remove("sauna-health__destruction--active"),T.offsetWidth,T.classList.add("sauna-health__destruction--active"),Ne=window.setTimeout(()=>{zn(),Ne=null},ge?720:1100)},us=()=>{Cn();const ce=n.playerSpawnCooldown>0?n.playerSpawnCooldown:1,ye=1-n.playerSpawnTimer/ce;N.style.width=`${Math.max(0,Math.min(ye,1))*100}%`,w.checked=n.rallyToFront;const be=Rt(),De=Math.max(0,Math.min(be,Math.floor(n.maxRosterSize)));if(De!==n.maxRosterSize)if(a.updateMaxRosterSize){const Et=a.updateMaxRosterSize(De,{persist:!0});$t(be,Et)}else n.maxRosterSize=De,$t(be,De);else $t(be,De);Wt()};return Cn(),{update:us,handleDamage:ce=>{Cn(),cs()},handleDestroyed:ce=>{h.hidden=!1,f.setAttribute("aria-expanded","true"),Cn(),cs(),mr()},dispose:()=>{qt?.disconnect(),qt=null,f.removeEventListener("click",_a),B.removeEventListener("input",Ft),B.removeEventListener("change",la),z.removeEventListener("input",lt),z.removeEventListener("change",ua),z.removeEventListener("blur",xn),le&&Ie(le,Ce),x.removeEventListener("animationend",en),T.removeEventListener("animationend",ft),Je(),Ne!==null&&(window.clearTimeout(Ne),Ne=null),zn();for(const ce of I.values())ce.button.removeEventListener("click",ce.handleClick);I.clear(),o.remove()}}}function uo(n,a={}){const{iconSrc:s,description:o,srLabel:l}=a,u=document.createElement("div");if(u.classList.add("topbar-badge"),u.setAttribute("role","status"),u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),s){const v=document.createElement("img");v.src=s,v.alt=n,v.decoding="async",v.classList.add("topbar-badge-icon"),u.appendChild(v)}const f=document.createElement("div");f.classList.add("badge-text");const h=document.createElement("span");h.textContent=n,h.classList.add("badge-label"),f.appendChild(h);const m=document.createElement("span");m.textContent="0",m.classList.add("badge-value"),m.setAttribute("aria-hidden","true"),f.appendChild(m);const g=document.createElement("span");g.classList.add("badge-delta"),g.style.opacity="0",g.style.transform="translateY(-6px)",g.style.transition="opacity 0.5s ease, transform 0.5s ease",g.setAttribute("aria-hidden","true"),u.append(f,g),o&&(u.title=o);const p=l??n;return u.dataset.label=p,u.setAttribute("aria-label",`${p}: 0`),{container:u,value:m,delta:g,label:p}}function dS(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{update:()=>{},dispose:()=>{}};const{regions:o}=hr(s),l=o.top,u=document.createElement("div");u.id="topbar",l.prepend(u);const f=document.createElement("div");f.className="topbar-badge-row",u.appendChild(f);const h={[ae.SAUNA_BEER]:"Sauna beer bottles chilled for construction crews and eager recruits.",[ae.SAUNAKUNNIA]:"Saunakunniaprestige earned from sauna rituals and triumphant battles.",[ae.SISU]:"Sisuthe relentless grit forged when your warriors triumph on the snow."},m=uo("Sauna Beer",{iconSrc:a.saunaBeer,description:h[ae.SAUNA_BEER],srLabel:"Sauna beer reserves"});m.container.classList.add("badge-sauna-beer");const g=uo("Sisu",{iconSrc:a.sisu,description:h[ae.SISU],srLabel:"Sisu reserves"});g.container.classList.add("badge-sisu"),g.container.dataset.tutorialTarget="sisu";const p=uo("Saunakunnia",{iconSrc:a.saunakunnia,description:h[ae.SAUNAKUNNIA],srLabel:"Saunakunnia"});p.container.classList.add("badge-sauna"),p.container.dataset.tutorialTarget="victory";const v=uo("Time");v.container.classList.add("badge-time"),v.delta.style.display="none";const b=uo("Enemy Ramp",{srLabel:"Enemy ramp intensity"});b.container.classList.add("badge-ramp"),b.delta.style.display="none",b.container.dataset.tutorialTarget="enemy-ramp",b.container.title="Enemy ramp intensity and cadence.",f.appendChild(m.container),f.appendChild(g.container),f.appendChild(p.container),f.appendChild(b.container),f.appendChild(v.container);const E=new Intl.NumberFormat("en-US"),x=new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}),T={[ae.SAUNA_BEER]:"Sauna Beer",[ae.SAUNAKUNNIA]:"Saunakunnia",[ae.SISU]:"Sisu"},D={[ae.SAUNA_BEER]:{singular:"bottle",plural:"bottles"},[ae.SAUNAKUNNIA]:{singular:"Saunakunnia",plural:"Saunakunnia"},[ae.SISU]:{singular:"Sisu",plural:"Sisu"}},N={[ae.SAUNA_BEER]:"",[ae.SAUNAKUNNIA]:"",[ae.SISU]:""},L={[ae.SAUNA_BEER]:m,[ae.SAUNAKUNNIA]:p,[ae.SISU]:g},I={};let q=null;function Z(C){if(q=C,!C){b.value.textContent="Stage 1  1.00",b.delta.textContent="",b.delta.style.display="none",b.container.dataset.state="idle",b.container.title="Enemy ramp idle",b.container.setAttribute("aria-label","Enemy ramp idle.");return}const X=C.stage||`Stage ${C.stageIndex+1}`,U=`${C.multiplier.toFixed(2)}`,B=`${C.cadenceSeconds.toFixed(2)}s cadence`,z=`${C.effectiveDifficulty.toFixed(2)}`,W=C.calmSecondsRemaining>.05,fe=W?`Calm remaining: ${Math.ceil(C.calmSecondsRemaining)}s`:"Calm inactive";b.value.textContent=`${X}  ${U}`,b.delta.style.display=W?"":"none",b.delta.textContent=W?`Calm ${Math.ceil(C.calmSecondsRemaining)}s`:"",b.container.dataset.state=W?"calm":"active",b.container.title=[`Stage: ${X} (Tier ${C.bundleTier})`,`Cadence: ${B}`,`Multiplier: ${U}`,`Difficulty: ${z}`,`Aggression ${C.aggressionMultiplier.toFixed(2)}  Cadence ${C.cadenceMultiplier.toFixed(2)}  Strength ${C.strengthMultiplier.toFixed(2)}`,fe,`Spawn cycles: ${C.spawnCycles}`].join(`
`),b.container.setAttribute("aria-label",[`Enemy ramp ${X}`,`Multiplier ${U}`,`Cadence ${C.cadenceSeconds.toFixed(2)} seconds`,`Difficulty ${z}`,W?`Calm remaining ${Math.ceil(C.calmSecondsRemaining)} seconds`:"Calm inactive"].join("  "))}function ie(C,X){const U=Number.isFinite(X)?X:0;return C===ae.SAUNA_BEER?Math.trunc(U):Math.max(0,Math.round(U))}function se(C,X){return E.format(ie(C,X))}function oe(C,X){return X===0?"":`${x.format(X)}${N[C]}`}function ne(C,X){if(X===0)return"";const U=X>0?"gained":"spent",B=E.format(Math.abs(X)),z=D[C];if(z){const fe=Math.abs(X)===1?z.singular:z.plural,w=T[C],Y=[w];fe&&fe!==w&&Y.push(fe);const ee=Y.filter(Boolean).join(" ");return`${U} ${B}${ee?` ${ee}`:""}`}const W=T[C];return`${U} ${B}${W?` ${W}`:""}`}function F(C,X,U=0){const B=L[C];if(!B)return;const z=ie(C,X),W=se(C,X);B.value.textContent=W;const fe=C===ae.SAUNA_BEER&&z<0;if(B.container.classList.toggle("topbar-badge--debt",fe),U!==0){B.delta.textContent=oe(C,U),B.delta.style.opacity="1",B.delta.style.transform="translateY(0)";const ee=I[C];ee&&clearTimeout(ee),I[C]=setTimeout(()=>{B.delta.style.opacity="0",B.delta.style.transform="translateY(-6px)",delete I[C]},1e3)}else B.delta.textContent="",B.delta.style.opacity="0",B.delta.style.transform="translateY(-6px)";const w=ne(C,U),Y=[`${B.label} ${W}`];if(fe){const ee=E.format(Math.abs(z)),$=D[C];if($){const le=Math.abs(z)===1?$.singular:$.plural,ge=le&&le!==T[C];Y.push(ge?`Debt of ${ee} ${le}`:`Debt of ${ee}`)}else Y.push(`Debt of ${ee}`)}w&&Y.push(w),B.container.setAttribute("aria-label",Y.join("  "))}F(ae.SAUNA_BEER,n.getResource(ae.SAUNA_BEER)),F(ae.SAUNAKUNNIA,n.getResource(ae.SAUNAKUNNIA)),F(ae.SISU,n.getResource(ae.SISU)),Z(q);const M=({resource:C,amount:X,total:U})=>{L[C]&&F(C,U,X)};te.on("resourceChanged",M);let O=0;return{update(C){O+=C;const X=Math.floor(O/1e3),U=Math.floor(X/60),B=X%60;v.value.textContent=`${U}:${B.toString().padStart(2,"0")}`},setEnemyRampSummary(C){Z(C)},dispose(){te.off("resourceChanged",M),Object.values(I).forEach(C=>{C&&clearTimeout(C)}),u.remove()}}}var Df={exports:{}},fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA;function fS(){if(xA)return fo;xA=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(o,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:o,key:f,ref:l!==void 0?l:null,props:u}}return fo.Fragment=a,fo.jsx=s,fo.jsxs=s,fo}var CA;function hS(){return CA||(CA=1,Df.exports=fS()),Df.exports}var Zt=hS(),Tf={exports:{}},ho={},kf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function mS(){return RA||(RA=1,(function(n){function a(B,z){var W=B.length;B.push(z);e:for(;0<W;){var fe=W-1>>>1,w=B[fe];if(0<l(w,z))B[fe]=z,B[W]=w,W=fe;else break e}}function s(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var z=B[0],W=B.pop();if(W!==z){B[0]=W;e:for(var fe=0,w=B.length,Y=w>>>1;fe<Y;){var ee=2*(fe+1)-1,$=B[ee],le=ee+1,ge=B[le];if(0>l($,W))le<w&&0>l(ge,$)?(B[fe]=ge,B[le]=W,fe=le):(B[fe]=$,B[ee]=W,fe=ee);else if(le<w&&0>l(ge,W))B[fe]=ge,B[le]=W,fe=le;else break e}}return z}function l(B,z){var W=B.sortIndex-z.sortIndex;return W!==0?W:B.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var m=[],g=[],p=1,v=null,b=3,E=!1,x=!1,T=!1,D=!1,N=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function q(B){for(var z=s(g);z!==null;){if(z.callback===null)o(g);else if(z.startTime<=B)o(g),z.sortIndex=z.expirationTime,a(m,z);else break;z=s(g)}}function Z(B){if(T=!1,q(B),!x)if(s(m)!==null)x=!0,ie||(ie=!0,O());else{var z=s(g);z!==null&&U(Z,z.startTime-B)}}var ie=!1,se=-1,oe=5,ne=-1;function F(){return D?!0:!(n.unstable_now()-ne<oe)}function M(){if(D=!1,ie){var B=n.unstable_now();ne=B;var z=!0;try{e:{x=!1,T&&(T=!1,L(se),se=-1),E=!0;var W=b;try{t:{for(q(B),v=s(m);v!==null&&!(v.expirationTime>B&&F());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,b=v.priorityLevel;var w=fe(v.expirationTime<=B);if(B=n.unstable_now(),typeof w=="function"){v.callback=w,q(B),z=!0;break t}v===s(m)&&o(m),q(B)}else o(m);v=s(m)}if(v!==null)z=!0;else{var Y=s(g);Y!==null&&U(Z,Y.startTime-B),z=!1}}break e}finally{v=null,b=W,E=!1}z=void 0}}finally{z?O():ie=!1}}}var O;if(typeof I=="function")O=function(){I(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,X=C.port2;C.port1.onmessage=M,O=function(){X.postMessage(null)}}else O=function(){N(M,0)};function U(B,z){se=N(function(){B(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(B){switch(b){case 1:case 2:case 3:var z=3;break;default:z=b}var W=b;b=z;try{return B()}finally{b=W}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=b;b=B;try{return z()}finally{b=W}},n.unstable_scheduleCallback=function(B,z,W){var fe=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?fe+W:fe):W=fe,B){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=W+w,B={id:p++,callback:z,priorityLevel:B,startTime:W,expirationTime:w,sortIndex:-1},W>fe?(B.sortIndex=W,a(g,B),s(m)===null&&B===s(g)&&(T?(L(se),se=-1):T=!0,U(Z,W-fe))):(B.sortIndex=w,a(m,B),x||E||(x=!0,ie||(ie=!0,O()))),B},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(B){var z=b;return function(){var W=b;b=z;try{return B.apply(this,arguments)}finally{b=W}}}})(Hf)),Hf}var BA;function gS(){return BA||(BA=1,kf.exports=mS()),kf.exports}var Of={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA;function pS(){if(MA)return Ee;MA=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function D(w,Y,ee){this.props=w,this.context=Y,this.refs=T,this.updater=ee||E}D.prototype.isReactComponent={},D.prototype.setState=function(w,Y){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Y,"setState")},D.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function N(){}N.prototype=D.prototype;function L(w,Y,ee){this.props=w,this.context=Y,this.refs=T,this.updater=ee||E}var I=L.prototype=new N;I.constructor=L,x(I,D.prototype),I.isPureReactComponent=!0;var q=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function se(w,Y,ee,$,le,ge){return ee=ge.ref,{$$typeof:n,type:w,key:Y,ref:ee!==void 0?ee:null,props:ge}}function oe(w,Y){return se(w.type,Y,void 0,void 0,void 0,w.props)}function ne(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function F(w){var Y={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ee){return Y[ee]})}var M=/\/+/g;function O(w,Y){return typeof w=="object"&&w!==null&&w.key!=null?F(""+w.key):Y.toString(36)}function C(){}function X(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(C,C):(w.status="pending",w.then(function(Y){w.status==="pending"&&(w.status="fulfilled",w.value=Y)},function(Y){w.status==="pending"&&(w.status="rejected",w.reason=Y)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function U(w,Y,ee,$,le){var ge=typeof w;(ge==="undefined"||ge==="boolean")&&(w=null);var he=!1;if(w===null)he=!0;else switch(ge){case"bigint":case"string":case"number":he=!0;break;case"object":switch(w.$$typeof){case n:case a:he=!0;break;case p:return he=w._init,U(he(w._payload),Y,ee,$,le)}}if(he)return le=le(w),he=$===""?"."+O(w,0):$,q(le)?(ee="",he!=null&&(ee=he.replace(M,"$&/")+"/"),U(le,Y,ee,"",function(Rt){return Rt})):le!=null&&(ne(le)&&(le=oe(le,ee+(le.key==null||w&&w.key===le.key?"":(""+le.key).replace(M,"$&/")+"/")+he)),Y.push(le)),1;he=0;var Ie=$===""?".":$+":";if(q(w))for(var Ce=0;Ce<w.length;Ce++)$=w[Ce],ge=Ie+O($,Ce),he+=U($,Y,ee,ge,le);else if(Ce=b(w),typeof Ce=="function")for(w=Ce.call(w),Ce=0;!($=w.next()).done;)$=$.value,ge=Ie+O($,Ce++),he+=U($,Y,ee,ge,le);else if(ge==="object"){if(typeof w.then=="function")return U(X(w),Y,ee,$,le);throw Y=String(w),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return he}function B(w,Y,ee){if(w==null)return w;var $=[],le=0;return U(w,$,"","",function(ge){return Y.call(ee,ge,le++)}),$}function z(w){if(w._status===-1){var Y=w._result;Y=Y(),Y.then(function(ee){(w._status===0||w._status===-1)&&(w._status=1,w._result=ee)},function(ee){(w._status===0||w._status===-1)&&(w._status=2,w._result=ee)}),w._status===-1&&(w._status=0,w._result=Y)}if(w._status===1)return w._result.default;throw w._result}var W=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function fe(){}return Ee.Children={map:B,forEach:function(w,Y,ee){B(w,function(){Y.apply(this,arguments)},ee)},count:function(w){var Y=0;return B(w,function(){Y++}),Y},toArray:function(w){return B(w,function(Y){return Y})||[]},only:function(w){if(!ne(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Ee.Component=D,Ee.Fragment=s,Ee.Profiler=l,Ee.PureComponent=L,Ee.StrictMode=o,Ee.Suspense=m,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Z.H.useMemoCache(w)}},Ee.cache=function(w){return function(){return w.apply(null,arguments)}},Ee.cloneElement=function(w,Y,ee){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var $=x({},w.props),le=w.key,ge=void 0;if(Y!=null)for(he in Y.ref!==void 0&&(ge=void 0),Y.key!==void 0&&(le=""+Y.key),Y)!ie.call(Y,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Y.ref===void 0||($[he]=Y[he]);var he=arguments.length-2;if(he===1)$.children=ee;else if(1<he){for(var Ie=Array(he),Ce=0;Ce<he;Ce++)Ie[Ce]=arguments[Ce+2];$.children=Ie}return se(w.type,le,void 0,void 0,ge,$)},Ee.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},Ee.createElement=function(w,Y,ee){var $,le={},ge=null;if(Y!=null)for($ in Y.key!==void 0&&(ge=""+Y.key),Y)ie.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(le[$]=Y[$]);var he=arguments.length-2;if(he===1)le.children=ee;else if(1<he){for(var Ie=Array(he),Ce=0;Ce<he;Ce++)Ie[Ce]=arguments[Ce+2];le.children=Ie}if(w&&w.defaultProps)for($ in he=w.defaultProps,he)le[$]===void 0&&(le[$]=he[$]);return se(w,ge,void 0,void 0,null,le)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(w){return{$$typeof:h,render:w}},Ee.isValidElement=ne,Ee.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:z}},Ee.memo=function(w,Y){return{$$typeof:g,type:w,compare:Y===void 0?null:Y}},Ee.startTransition=function(w){var Y=Z.T,ee={};Z.T=ee;try{var $=w(),le=Z.S;le!==null&&le(ee,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(fe,W)}catch(ge){W(ge)}finally{Z.T=Y}},Ee.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ee.use=function(w){return Z.H.use(w)},Ee.useActionState=function(w,Y,ee){return Z.H.useActionState(w,Y,ee)},Ee.useCallback=function(w,Y){return Z.H.useCallback(w,Y)},Ee.useContext=function(w){return Z.H.useContext(w)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(w,Y){return Z.H.useDeferredValue(w,Y)},Ee.useEffect=function(w,Y,ee){var $=Z.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(w,Y)},Ee.useId=function(){return Z.H.useId()},Ee.useImperativeHandle=function(w,Y,ee){return Z.H.useImperativeHandle(w,Y,ee)},Ee.useInsertionEffect=function(w,Y){return Z.H.useInsertionEffect(w,Y)},Ee.useLayoutEffect=function(w,Y){return Z.H.useLayoutEffect(w,Y)},Ee.useMemo=function(w,Y){return Z.H.useMemo(w,Y)},Ee.useOptimistic=function(w,Y){return Z.H.useOptimistic(w,Y)},Ee.useReducer=function(w,Y,ee){return Z.H.useReducer(w,Y,ee)},Ee.useRef=function(w){return Z.H.useRef(w)},Ee.useState=function(w){return Z.H.useState(w)},Ee.useSyncExternalStore=function(w,Y,ee){return Z.H.useSyncExternalStore(w,Y,ee)},Ee.useTransition=function(){return Z.H.useTransition()},Ee.version="19.1.1",Ee}var DA;function _h(){return DA||(DA=1,Of.exports=pS()),Of.exports}var Nf={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA;function AS(){if(TA)return Ot;TA=1;var n=_h();function a(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(m,g,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:m,containerInfo:g,implementation:p}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ot.createPortal=function(m,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return u(m,g,null,p)},Ot.flushSync=function(m){var g=f.T,p=o.p;try{if(f.T=null,o.p=2,m)return m()}finally{f.T=g,o.p=p,o.d.f()}},Ot.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(m,g))},Ot.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},Ot.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var p=g.as,v=h(p,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?o.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):p==="script"&&o.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ot.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);o.d.M(m,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(m)},Ot.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,v=h(p,g.crossOrigin);o.d.L(m,p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ot.preloadModule=function(m,g){if(typeof m=="string")if(g){var p=h(g.as,g.crossOrigin);o.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(m)},Ot.requestFormReset=function(m){o.d.r(m)},Ot.unstable_batchedUpdates=function(m,g){return m(g)},Ot.useFormState=function(m,g,p){return f.H.useFormState(m,g,p)},Ot.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ot.version="19.1.1",Ot}var kA;function vS(){if(kA)return Nf.exports;kA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Nf.exports=AS(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function yS(){if(HA)return ho;HA=1;var n=gS(),a=_h(),s=vS();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(o(188))}function m(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(o(188));return t!==e?null:e}for(var i=e,r=t;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(r=c.return,r!==null){i=r;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return h(c),e;if(d===r)return h(c),t;d=d.sibling}throw Error(o(188))}if(i.return!==r.return)i=c,r=d;else{for(var A=!1,y=c.child;y;){if(y===i){A=!0,i=c,r=d;break}if(y===r){A=!0,r=c,i=d;break}y=y.sibling}if(!A){for(y=d.child;y;){if(y===i){A=!0,i=d,r=c;break}if(y===r){A=!0,r=d,i=c;break}y=y.sibling}if(!A)throw Error(o(189))}}if(i.alternate!==r)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),I=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function X(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case D:return"Profiler";case T:return"StrictMode";case Z:return"Suspense";case ie:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case I:return(e.displayName||"Context")+".Provider";case L:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return t=e.displayName||null,t!==null?t:X(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return X(e(t))}catch{}}return null}var U=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},fe=[],w=-1;function Y(e){return{current:e}}function ee(e){0>w||(e.current=fe[w],fe[w]=null,w--)}function $(e,t){w++,fe[w]=e.current,e.current=t}var le=Y(null),ge=Y(null),he=Y(null),Ie=Y(null);function Ce(e,t){switch($(he,t),$(ge,e),$(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dp(t),e=fp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(le),$(le,e)}function Rt(){ee(le),ee(ge),ee(he)}function Wt(e){e.memoizedState!==null&&$(Ie,e);var t=le.current,i=fp(t,e.type);t!==i&&($(ge,e),$(le,i))}function Sn(e){ge.current===e&&(ee(le),ee(ge)),Ie.current===e&&(ee(Ie),no._currentValue=W)}var $t=Object.prototype.hasOwnProperty,It=n.unstable_scheduleCallback,Ft=n.unstable_cancelCallback,la=n.unstable_shouldYield,ca=n.unstable_requestPaint,lt=n.unstable_now,ua=n.unstable_getCurrentPriorityLevel,xn=n.unstable_ImmediatePriority,hn=n.unstable_UserBlockingPriority,qt=n.unstable_NormalPriority,_a=n.unstable_LowPriority,Cn=n.unstable_IdlePriority,zn=n.log,Rn=n.unstable_setDisableYieldValue,Ne=null,Je=null;function en(e){if(typeof zn=="function"&&Rn(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Ne,e)}catch{}}var ft=Math.clz32?Math.clz32:us,cs=Math.log,mr=Math.LN2;function us(e){return e>>>=0,e===0?32:31-(cs(e)/mr|0)|0}var Mi=256,da=4194304;function Bn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ce(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var c=0,d=e.suspendedLanes,A=e.pingedLanes;e=e.warmLanes;var y=r&134217727;return y!==0?(r=y&~d,r!==0?c=Bn(r):(A&=y,A!==0?c=Bn(A):i||(i=y&~e,i!==0&&(c=Bn(i))))):(y=r&~d,y!==0?c=Bn(y):A!==0?c=Bn(A):i||(i=r&~e,i!==0&&(c=Bn(i)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,i=t&-t,d>=i||d===32&&(i&4194048)!==0)?t:c}function ye(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var e=Mi;return Mi<<=1,(Mi&4194048)===0&&(Mi=256),e}function Et(){var e=da;return da<<=1,(da&62914560)===0&&(da=4194304),e}function ht(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Bt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fa(e,t,i,r,c,d){var A=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,G=e.hiddenUpdates;for(i=A&~i;0<i;){var K=31-ft(i),J=1<<K;y[K]=0,S[K]=-1;var Q=G[K];if(Q!==null)for(G[K]=null,K=0;K<Q.length;K++){var j=Q[K];j!==null&&(j.lane&=-536870913)}i&=~J}r!==0&&ha(e,r,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(A&~t))}function ha(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ft(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&4194090}function ma(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-ft(i),c=1<<r;c&t|e[r]&t&&(e[r]|=t),i&=~c}}function ga(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jo(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:kp(e.type))}function zo(e,t){var i=z.p;try{return z.p=e,t()}finally{z.p=i}}var In=Math.random().toString(36).slice(2),We="__reactFiber$"+In,mt="__reactProps$"+In,Aa="__reactContainer$"+In,Ka="__reactEvents$"+In,Mn="__reactListeners$"+In,ds="__reactHandles$"+In,Di="__reactResources$"+In,Ti="__reactMarker$"+In;function fs(e){delete e[We],delete e[mt],delete e[Ka],delete e[Mn],delete e[ds]}function va(e){var t=e[We];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Aa]||i[We]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=pp(e);e!==null;){if(i=e[We])return i;e=pp(e)}return t}e=i,i=e.parentNode}return null}function Va(e){if(e=e[We]||e[Aa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ya(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ba(e){var t=e[Di];return t||(t=e[Di]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[Ti]=!0}var hs=new Set,Io={};function Fn(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(Io[e]=t,e=0;e<t.length;e++)hs.add(t[e])}var Fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Xo={};function Yo(e){return $t.call(Xo,e)?!0:$t.call(qo,e)?!1:Fo.test(e)?Xo[e]=!0:(qo[e]=!0,!1)}function ki(e,t,i){if(Yo(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Hi(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Dn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}var _o,k;function _(e){if(_o===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);_o=t&&t[1]||"",k=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_o+e+k}var re=!1;function de(e,t){if(!e||re)return"";re=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(j){var Q=j}Reflect.construct(e,[],J)}else{try{J.call()}catch(j){Q=j}e.call(J.prototype)}}else{try{throw Error()}catch(j){Q=j}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(j){if(j&&Q&&typeof j.stack=="string")return[j.stack,Q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),A=d[0],y=d[1];if(A&&y){var S=A.split(`
`),G=y.split(`
`);for(c=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;if(r===S.length||c===G.length)for(r=S.length-1,c=G.length-1;1<=r&&0<=c&&S[r]!==G[c];)c--;for(;1<=r&&0<=c;r--,c--)if(S[r]!==G[c]){if(r!==1||c!==1)do if(r--,c--,0>c||S[r]!==G[c]){var K=`
`+S[r].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=r&&0<=c);break}}}finally{re=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?_(i):""}function Te(e){switch(e.tag){case 26:case 27:case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 15:return de(e.type,!1);case 11:return de(e.type.render,!1);case 1:return de(e.type,!0);case 31:return _("Activity");default:return""}}function Fe(e){try{var t="";do t+=Te(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function et(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tn(e){var t=et(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(A){r=""+A,d.call(this,A)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wt(e){e._valueTracker||(e._valueTracker=tn(e))}function nn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=et(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function an(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Oi=/[\n"\\]/g;function gt(e){return e.replace(Oi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function tt(e,t,i,r,c,d,A,y){e.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.type=A:e.removeAttribute("type"),t!=null?A==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Me(t)):e.value!==""+Me(t)&&(e.value=""+Me(t)):A!=="submit"&&A!=="reset"||e.removeAttribute("value"),t!=null?Wa(e,A,Me(t)):i!=null?Wa(e,A,Me(i)):r!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Me(y):e.removeAttribute("name")}function Ja(e,t,i,r,c,d,A,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;i=i!=null?""+Me(i):"",t=t!=null?""+Me(t):i,y||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=y?e.checked:!!r,e.defaultChecked=!!r,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(e.name=A)}function Wa(e,t,i){t==="number"&&an(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ea(e,t,i,r){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Me(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function qn(e,t,i){if(t!=null&&(t=""+Me(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Me(i):""}function Ko(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(o(92));if(U(r)){if(1<r.length)throw Error(o(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=Me(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r)}function ms(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var G2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dm(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||G2.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function fm(e,t,i){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&i[c]!==r&&dm(e,c,r)}else for(var d in t)t.hasOwnProperty(d)&&dm(e,d,t[d])}function hu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(e){return L2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var mu=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,ps=null;function hm(e){var t=Va(e);if(t&&(e=t.stateNode)){var i=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(tt(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var c=r[mt]||null;if(!c)throw Error(o(90));tt(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&nn(r)}break e;case"textarea":qn(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Ea(e,!!i.multiple,t,!1)}}}var pu=!1;function mm(e,t,i){if(pu)return e(t,i);pu=!0;try{var r=e(t);return r}finally{if(pu=!1,(gs!==null||ps!==null)&&(Nl(),gs&&(t=gs,e=ps,ps=gs=null,hm(t),e)))for(t=0;t<e.length;t++)hm(e[t])}}function gr(e,t){var i=e.stateNode;if(i===null)return null;var r=i[mt]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,t,typeof i));return i}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=!1;if(wa)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Au=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Au=!1}var $a=null,vu=null,Zo=null;function gm(){if(Zo)return Zo;var e,t=vu,i=t.length,r,c="value"in $a?$a.value:$a.textContent,d=c.length;for(e=0;e<i&&t[e]===c[e];e++);var A=i-e;for(r=1;r<=A&&t[i-r]===c[d-r];r++);return Zo=c.slice(e,1<r?1-r:void 0)}function Jo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wo(){return!0}function pm(){return!1}function Xt(e){function t(i,r,c,d,A){this._reactName=i,this._targetInst=c,this.type=r,this.nativeEvent=d,this.target=A,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wo:pm,this.isPropagationStopped=pm,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),t}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=Xt(Ni),Ar=p({},Ni,{view:0,detail:0}),U2=Xt(Ar),yu,bu,vr,el=p({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(yu=e.screenX-vr.screenX,bu=e.screenY-vr.screenY):bu=yu=0,vr=e),yu)},movementY:function(e){return"movementY"in e?e.movementY:bu}}),Am=Xt(el),j2=p({},el,{dataTransfer:0}),z2=Xt(j2),I2=p({},Ar,{relatedTarget:0}),Eu=Xt(I2),F2=p({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),q2=Xt(F2),X2=p({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Y2=Xt(X2),_2=p({},Ni,{data:0}),vm=Xt(_2),K2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Z2[e])?!!t[e]:!1}function wu(){return J2}var W2=p({},Ar,{key:function(e){if(e.key){var t=K2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(e){return e.type==="keypress"?Jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$2=Xt(W2),eb=p({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ym=Xt(eb),tb=p({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),nb=Xt(tb),ab=p({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),ib=Xt(ab),sb=p({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=Xt(sb),ob=p({},Ni,{newState:0,oldState:0}),lb=Xt(ob),cb=[9,13,27,32],Su=wa&&"CompositionEvent"in window,yr=null;wa&&"documentMode"in document&&(yr=document.documentMode);var ub=wa&&"TextEvent"in window&&!yr,bm=wa&&(!Su||yr&&8<yr&&11>=yr),Em=" ",wm=!1;function Sm(e,t){switch(e){case"keyup":return cb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function db(e,t){switch(e){case"compositionend":return xm(t);case"keypress":return t.which!==32?null:(wm=!0,Em);case"textInput":return e=t.data,e===Em&&wm?null:e;default:return null}}function fb(e,t){if(As)return e==="compositionend"||!Su&&Sm(e,t)?(e=gm(),Zo=vu=$a=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bm&&t.locale!=="ko"?null:t.data;default:return null}}var hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hb[e.type]:t==="textarea"}function Rm(e,t,i,r){gs?ps?ps.push(r):ps=[r]:gs=r,t=jl(t,"onChange"),0<t.length&&(i=new $o("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var br=null,Er=null;function mb(e){rp(e,0)}function tl(e){var t=ya(e);if(nn(t))return e}function Bm(e,t){if(e==="change")return t}var Mm=!1;if(wa){var xu;if(wa){var Cu="oninput"in document;if(!Cu){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),Cu=typeof Dm.oninput=="function"}xu=Cu}else xu=!1;Mm=xu&&(!document.documentMode||9<document.documentMode)}function Tm(){br&&(br.detachEvent("onpropertychange",km),Er=br=null)}function km(e){if(e.propertyName==="value"&&tl(Er)){var t=[];Rm(t,Er,e,gu(e)),mm(mb,t)}}function gb(e,t,i){e==="focusin"?(Tm(),br=t,Er=i,br.attachEvent("onpropertychange",km)):e==="focusout"&&Tm()}function pb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(Er)}function Ab(e,t){if(e==="click")return tl(t)}function vb(e,t){if(e==="input"||e==="change")return tl(t)}function yb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:yb;function wr(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var c=i[r];if(!$t.call(t,c)||!sn(e[c],t[c]))return!1}return!0}function Hm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Om(e,t){var i=Hm(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Hm(i)}}function Nm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=an(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=an(e.document)}return t}function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var bb=wa&&"documentMode"in document&&11>=document.documentMode,vs=null,Bu=null,Sr=null,Mu=!1;function Gm(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Mu||vs==null||vs!==an(r)||(r=vs,"selectionStart"in r&&Ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&wr(Sr,r)||(Sr=r,r=jl(Bu,"onSelect"),0<r.length&&(t=new $o("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=vs)))}function Pi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ys={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Du={},Qm={};wa&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Gi(e){if(Du[e])return Du[e];if(!ys[e])return e;var t=ys[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Qm)return Du[e]=t[i];return e}var Lm=Gi("animationend"),Um=Gi("animationiteration"),jm=Gi("animationstart"),Eb=Gi("transitionrun"),wb=Gi("transitionstart"),Sb=Gi("transitioncancel"),zm=Gi("transitionend"),Im=new Map,Tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tu.push("scrollEnd");function Tn(e,t){Im.set(e,t),Fn(t,[e])}var Fm=new WeakMap;function mn(e,t){if(typeof e=="object"&&e!==null){var i=Fm.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Fe(t)},Fm.set(e,t),t)}return{value:e,source:t,stack:Fe(t)}}var gn=[],bs=0,ku=0;function nl(){for(var e=bs,t=ku=bs=0;t<e;){var i=gn[t];gn[t++]=null;var r=gn[t];gn[t++]=null;var c=gn[t];gn[t++]=null;var d=gn[t];if(gn[t++]=null,r!==null&&c!==null){var A=r.pending;A===null?c.next=c:(c.next=A.next,A.next=c),r.pending=c}d!==0&&qm(i,c,d)}}function al(e,t,i,r){gn[bs++]=e,gn[bs++]=t,gn[bs++]=i,gn[bs++]=r,ku|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Hu(e,t,i,r){return al(e,t,i,r),il(e)}function Es(e,t){return al(e,null,null,t),il(e)}function qm(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var c=!1,d=e.return;d!==null;)d.childLanes|=i,r=d.alternate,r!==null&&(r.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-ft(i),e=d.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=i|536870912),d):null}function il(e){if(50<Kr)throw Kr=0,Ld=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ws={};function xb(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,i,r){return new xb(e,t,i,r)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sa(e,t){var i=e.alternate;return i===null?(i=rn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Xm(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function sl(e,t,i,r,c,d){var A=0;if(r=e,typeof e=="function")Ou(e)&&(A=1);else if(typeof e=="string")A=R1(e,i,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=rn(31,i,t,c),e.elementType=ne,e.lanes=d,e;case x:return Qi(i.children,c,d,t);case T:A=8,c|=24;break;case D:return e=rn(12,i,t,c|2),e.elementType=D,e.lanes=d,e;case Z:return e=rn(13,i,t,c),e.elementType=Z,e.lanes=d,e;case ie:return e=rn(19,i,t,c),e.elementType=ie,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:case I:A=10;break e;case L:A=9;break e;case q:A=11;break e;case se:A=14;break e;case oe:A=16,r=null;break e}A=29,i=Error(o(130,e===null?"null":typeof e,"")),r=null}return t=rn(A,i,t,c),t.elementType=e,t.type=r,t.lanes=d,t}function Qi(e,t,i,r){return e=rn(7,e,r,t),e.lanes=i,e}function Nu(e,t,i){return e=rn(6,e,null,t),e.lanes=i,e}function Pu(e,t,i){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ss=[],xs=0,rl=null,ol=0,pn=[],An=0,Li=null,xa=1,Ca="";function Ui(e,t){Ss[xs++]=ol,Ss[xs++]=rl,rl=e,ol=t}function Ym(e,t,i){pn[An++]=xa,pn[An++]=Ca,pn[An++]=Li,Li=e;var r=xa;e=Ca;var c=32-ft(r)-1;r&=~(1<<c),i+=1;var d=32-ft(t)+c;if(30<d){var A=c-c%5;d=(r&(1<<A)-1).toString(32),r>>=A,c-=A,xa=1<<32-ft(t)+c|i<<c|r,Ca=d+e}else xa=1<<d|i<<c|r,Ca=e}function Gu(e){e.return!==null&&(Ui(e,1),Ym(e,1,0))}function Qu(e){for(;e===rl;)rl=Ss[--xs],Ss[xs]=null,ol=Ss[--xs],Ss[xs]=null;for(;e===Li;)Li=pn[--An],pn[An]=null,Ca=pn[--An],pn[An]=null,xa=pn[--An],pn[An]=null}var Lt=null,nt=null,Oe=!1,ji=null,Xn=!1,Lu=Error(o(519));function zi(e){var t=Error(o(418,""));throw Rr(mn(t,e)),Lu}function _m(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[We]=e,t[mt]=r,i){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(i=0;i<Zr.length;i++)Be(Zr[i],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),Ja(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),wt(t);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),Ko(t,r.value,r.defaultValue,r.children),wt(t)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||up(t.textContent,i)?(r.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),r.onScroll!=null&&Be("scroll",t),r.onScrollEnd!=null&&Be("scrollend",t),r.onClick!=null&&(t.onclick=zl),t=!0):t=!1,t||zi(e)}function Km(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Lt=Lt.return}}function xr(e){if(e!==Lt)return!1;if(!Oe)return Km(e),Oe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ef(e.type,e.memoizedProps)),i=!i),i&&nt&&zi(e),Km(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){nt=Hn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}nt=null}}else t===27?(t=nt,gi(e.type)?(e=sf,sf=null,nt=e):nt=t):nt=Lt?Hn(e.stateNode.nextSibling):null;return!0}function Cr(){nt=Lt=null,Oe=!1}function Vm(){var e=ji;return e!==null&&(Kt===null?Kt=e:Kt.push.apply(Kt,e),ji=null),e}function Rr(e){ji===null?ji=[e]:ji.push(e)}var Uu=Y(null),Ii=null,Ra=null;function ei(e,t,i){$(Uu,t._currentValue),t._currentValue=i}function Ba(e){e._currentValue=Uu.current,ee(Uu)}function ju(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function zu(e,t,i,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var A=c.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=c;for(var S=0;S<t.length;S++)if(y.context===t[S]){d.lanes|=i,y=d.alternate,y!==null&&(y.lanes|=i),ju(d.return,i,e),r||(A=null);break e}d=y.next}}else if(c.tag===18){if(A=c.return,A===null)throw Error(o(341));A.lanes|=i,d=A.alternate,d!==null&&(d.lanes|=i),ju(A,i,e),A=null}else A=c.child;if(A!==null)A.return=c;else for(A=c;A!==null;){if(A===e){A=null;break}if(c=A.sibling,c!==null){c.return=A.return,A=c;break}A=A.return}c=A}}function Br(e,t,i,r){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var A=c.alternate;if(A===null)throw Error(o(387));if(A=A.memoizedProps,A!==null){var y=c.type;sn(c.pendingProps.value,A.value)||(e!==null?e.push(y):e=[y])}}else if(c===Ie.current){if(A=c.alternate,A===null)throw Error(o(387));A.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(no):e=[no])}c=c.return}e!==null&&zu(t,e,i,r),t.flags|=262144}function ll(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fi(e){Ii=e,Ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return Zm(Ii,e)}function cl(e,t){return Ii===null&&Fi(e),Zm(e,t)}function Zm(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Ra===null){if(e===null)throw Error(o(308));Ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ra=Ra.next=t;return i}var Cb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Rb=n.unstable_scheduleCallback,Bb=n.unstable_NormalPriority,pt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Iu(){return{controller:new Cb,data:new Map,refCount:0}}function Mr(e){e.refCount--,e.refCount===0&&Rb(Bb,function(){e.controller.abort()})}var Dr=null,Fu=0,Cs=0,Rs=null;function Mb(e,t){if(Dr===null){var i=Dr=[];Fu=0,Cs=Xd(),Rs={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Fu++,t.then(Jm,Jm),t}function Jm(){if(--Fu===0&&Dr!==null){Rs!==null&&(Rs.status="fulfilled");var e=Dr;Dr=null,Cs=0,Rs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Db(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),r}var Wm=B.S;B.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mb(e,t),Wm!==null&&Wm(e,t)};var qi=Y(null);function qu(){var e=qi.current;return e!==null?e:Ye.pooledCache}function ul(e,t){t===null?$(qi,qi.current):$(qi,t.pool)}function $m(){var e=qu();return e===null?null:{parent:pt._currentValue,pool:e}}var Tr=Error(o(460)),e0=Error(o(474)),dl=Error(o(542)),Xu={then:function(){}};function t0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fl(){}function n0(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(fl,fl),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,i0(e),e;default:if(typeof t.status=="string")t.then(fl,fl);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,i0(e),e}throw kr=t,Tr}}var kr=null;function a0(){if(kr===null)throw Error(o(459));var e=kr;return kr=null,e}function i0(e){if(e===Tr||e===dl)throw Error(o(483))}var ti=!1;function Yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ai(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Pe&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=il(e),qm(e,null,i),t}return al(e,r,t,i),il(e)}function Hr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,ma(e,i)}}function Ku(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var A={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?c=d=A:d=d.next=A,i=i.next}while(i!==null);d===null?c=d=t:d=d.next=t}else c=d=t;i={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Vu=!1;function Or(){if(Vu){var e=Rs;if(e!==null)throw e}}function Nr(e,t,i,r){Vu=!1;var c=e.updateQueue;ti=!1;var d=c.firstBaseUpdate,A=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var S=y,G=S.next;S.next=null,A===null?d=G:A.next=G,A=S;var K=e.alternate;K!==null&&(K=K.updateQueue,y=K.lastBaseUpdate,y!==A&&(y===null?K.firstBaseUpdate=G:y.next=G,K.lastBaseUpdate=S))}if(d!==null){var J=c.baseState;A=0,K=G=S=null,y=d;do{var Q=y.lane&-536870913,j=Q!==y.lane;if(j?(ke&Q)===Q:(r&Q)===Q){Q!==0&&Q===Cs&&(Vu=!0),K!==null&&(K=K.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ve=e,pe=y;Q=t;var je=i;switch(pe.tag){case 1:if(ve=pe.payload,typeof ve=="function"){J=ve.call(je,J,Q);break e}J=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=pe.payload,Q=typeof ve=="function"?ve.call(je,J,Q):ve,Q==null)break e;J=p({},J,Q);break e;case 2:ti=!0}}Q=y.callback,Q!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[Q]:j.push(Q))}else j={lane:Q,tag:y.tag,payload:y.payload,callback:y.callback,next:null},K===null?(G=K=j,S=J):K=K.next=j,A|=Q;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;j=y,y=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);K===null&&(S=J),c.baseState=S,c.firstBaseUpdate=G,c.lastBaseUpdate=K,d===null&&(c.shared.lanes=0),di|=A,e.lanes=A,e.memoizedState=J}}function s0(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function r0(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)s0(i[e],t)}var Bs=Y(null),hl=Y(0);function o0(e,t){e=Na,$(hl,e),$(Bs,t),Na=e|t.baseLanes}function Zu(){$(hl,Na),$(Bs,Bs.current)}function Ju(){Na=hl.current,ee(Bs),ee(hl)}var ii=0,we=null,Le=null,ct=null,ml=!1,Ms=!1,Xi=!1,gl=0,Pr=0,Ds=null,Tb=0;function st(){throw Error(o(321))}function Wu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!sn(e[i],t[i]))return!1;return!0}function $u(e,t,i,r,c,d){return ii=d,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?q0:X0,Xi=!1,d=i(r,c),Xi=!1,Ms&&(d=c0(t,i,r,c)),l0(e),d}function l0(e){B.H=El;var t=Le!==null&&Le.next!==null;if(ii=0,ct=Le=we=null,ml=!1,Pr=0,Ds=null,t)throw Error(o(300));e===null||St||(e=e.dependencies,e!==null&&ll(e)&&(St=!0))}function c0(e,t,i,r){we=e;var c=0;do{if(Ms&&(Ds=null),Pr=0,Ms=!1,25<=c)throw Error(o(301));if(c+=1,ct=Le=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=Qb,d=t(i,r)}while(Ms);return d}function kb(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?Gr(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(we.flags|=1024),t}function ed(){var e=gl!==0;return gl=0,e}function td(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function nd(e){if(ml){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ml=!1}ii=0,ct=Le=we=null,Ms=!1,Pr=gl=0,Ds=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?we.memoizedState=ct=e:ct=ct.next=e,ct}function ut(){if(Le===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=ct===null?we.memoizedState:ct.next;if(t!==null)ct=t,Le=e;else{if(e===null)throw we.alternate===null?Error(o(467)):Error(o(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ct===null?we.memoizedState=ct=e:ct=ct.next=e}return ct}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gr(e){var t=Pr;return Pr+=1,Ds===null&&(Ds=[]),e=n0(Ds,e,t),t=we,(ct===null?t.memoizedState:ct.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?q0:X0),e}function pl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gr(e);if(e.$$typeof===I)return Ht(e)}throw Error(o(438,String(e)))}function id(e){var t=null,i=we.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=we.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=ad(),we.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=F;return t.index++,i}function Ma(e,t){return typeof t=="function"?t(e):t}function Al(e){var t=ut();return sd(t,Le,e)}function sd(e,t,i){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=i;var c=e.baseQueue,d=r.pending;if(d!==null){if(c!==null){var A=c.next;c.next=d.next,d.next=A}t.baseQueue=c=d,r.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var y=A=null,S=null,G=t,K=!1;do{var J=G.lane&-536870913;if(J!==G.lane?(ke&J)===J:(ii&J)===J){var Q=G.revertLane;if(Q===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),J===Cs&&(K=!0);else if((ii&Q)===Q){G=G.next,Q===Cs&&(K=!0);continue}else J={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},S===null?(y=S=J,A=d):S=S.next=J,we.lanes|=Q,di|=Q;J=G.action,Xi&&i(d,J),d=G.hasEagerState?G.eagerState:i(d,J)}else Q={lane:J,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},S===null?(y=S=Q,A=d):S=S.next=Q,we.lanes|=J,di|=J;G=G.next}while(G!==null&&G!==t);if(S===null?A=d:S.next=y,!sn(d,e.memoizedState)&&(St=!0,K&&(i=Rs,i!==null)))throw i;e.memoizedState=d,e.baseState=A,e.baseQueue=S,r.lastRenderedState=d}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function rd(e){var t=ut(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var r=i.dispatch,c=i.pending,d=t.memoizedState;if(c!==null){i.pending=null;var A=c=c.next;do d=e(d,A.action),A=A.next;while(A!==c);sn(d,t.memoizedState)||(St=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,r]}function u0(e,t,i){var r=we,c=ut(),d=Oe;if(d){if(i===void 0)throw Error(o(407));i=i()}else i=t();var A=!sn((Le||c).memoizedState,i);A&&(c.memoizedState=i,St=!0),c=c.queue;var y=h0.bind(null,r,c,e);if(Qr(2048,8,y,[e]),c.getSnapshot!==t||A||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,Ts(9,vl(),f0.bind(null,r,c,i,t),null),Ye===null)throw Error(o(349));d||(ii&124)!==0||d0(r,t,i)}return i}function d0(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=we.updateQueue,t===null?(t=ad(),we.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function f0(e,t,i,r){t.value=i,t.getSnapshot=r,m0(t)&&g0(e)}function h0(e,t,i){return i(function(){m0(t)&&g0(e)})}function m0(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!sn(e,i)}catch{return!0}}function g0(e){var t=Es(e,2);t!==null&&dn(t,e,2)}function od(e){var t=Yt();if(typeof e=="function"){var i=e;if(e=i(),Xi){en(!0);try{i()}finally{en(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t}function p0(e,t,i,r){return e.baseState=i,sd(e,Le,typeof r=="function"?r:Ma)}function Hb(e,t,i,r,c){if(bl(e))throw Error(o(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){d.listeners.push(A)}};B.T!==null?i(!0):d.isTransition=!1,r(d),i=t.pending,i===null?(d.next=t.pending=d,A0(t,d)):(d.next=i.next,t.pending=i.next=d)}}function A0(e,t){var i=t.action,r=t.payload,c=e.state;if(t.isTransition){var d=B.T,A={};B.T=A;try{var y=i(c,r),S=B.S;S!==null&&S(A,y),v0(e,t,y)}catch(G){ld(e,t,G)}finally{B.T=d}}else try{d=i(c,r),v0(e,t,d)}catch(G){ld(e,t,G)}}function v0(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){y0(e,t,r)},function(r){return ld(e,t,r)}):y0(e,t,i)}function y0(e,t,i){t.status="fulfilled",t.value=i,b0(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,A0(e,i)))}function ld(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,b0(t),t=t.next;while(t!==r)}e.action=null}function b0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function E0(e,t){return t}function w0(e,t){if(Oe){var i=Ye.formState;if(i!==null){e:{var r=we;if(Oe){if(nt){t:{for(var c=nt,d=Xn;c.nodeType!==8;){if(!d){c=null;break t}if(c=Hn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){nt=Hn(c.nextSibling),r=c.data==="F!";break e}}zi(r)}r=!1}r&&(t=i[0])}}return i=Yt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:t},i.queue=r,i=z0.bind(null,we,r),r.dispatch=i,r=od(!1),d=hd.bind(null,we,!1,r.queue),r=Yt(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,i=Hb.bind(null,we,c,d,i),c.dispatch=i,r.memoizedState=e,[t,i,!1]}function S0(e){var t=ut();return x0(t,Le,e)}function x0(e,t,i){if(t=sd(e,t,E0)[0],e=Al(Ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Gr(t)}catch(A){throw A===Tr?dl:A}else r=t;t=ut();var c=t.queue,d=c.dispatch;return i!==t.memoizedState&&(we.flags|=2048,Ts(9,vl(),Ob.bind(null,c,i),null)),[r,d,e]}function Ob(e,t){e.action=t}function C0(e){var t=ut(),i=Le;if(i!==null)return x0(t,i,e);ut(),t=t.memoizedState,i=ut();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function Ts(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=we.updateQueue,t===null&&(t=ad(),we.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function vl(){return{destroy:void 0,resource:void 0}}function R0(){return ut().memoizedState}function yl(e,t,i,r){var c=Yt();r=r===void 0?null:r,we.flags|=e,c.memoizedState=Ts(1|t,vl(),i,r)}function Qr(e,t,i,r){var c=ut();r=r===void 0?null:r;var d=c.memoizedState.inst;Le!==null&&r!==null&&Wu(r,Le.memoizedState.deps)?c.memoizedState=Ts(t,d,i,r):(we.flags|=e,c.memoizedState=Ts(1|t,d,i,r))}function B0(e,t){yl(8390656,8,e,t)}function M0(e,t){Qr(2048,8,e,t)}function D0(e,t){return Qr(4,2,e,t)}function T0(e,t){return Qr(4,4,e,t)}function k0(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function H0(e,t,i){i=i!=null?i.concat([e]):null,Qr(4,4,k0.bind(null,t,e),i)}function cd(){}function O0(e,t){var i=ut();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&Wu(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function N0(e,t){var i=ut();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&Wu(t,r[1]))return r[0];if(r=e(),Xi){en(!0);try{e()}finally{en(!1)}}return i.memoizedState=[r,t],r}function ud(e,t,i){return i===void 0||(ii&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Qg(),we.lanes|=e,di|=e,i)}function P0(e,t,i,r){return sn(i,t)?i:Bs.current!==null?(e=ud(e,i,r),sn(e,t)||(St=!0),e):(ii&42)===0?(St=!0,e.memoizedState=i):(e=Qg(),we.lanes|=e,di|=e,t)}function G0(e,t,i,r,c){var d=z.p;z.p=d!==0&&8>d?d:8;var A=B.T,y={};B.T=y,hd(e,!1,t,i);try{var S=c(),G=B.S;if(G!==null&&G(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var K=Db(S,r);Lr(e,t,K,un(e))}else Lr(e,t,r,un(e))}catch(J){Lr(e,t,{then:function(){},status:"rejected",reason:J},un())}finally{z.p=d,B.T=A}}function Nb(){}function dd(e,t,i,r){if(e.tag!==5)throw Error(o(476));var c=Q0(e).queue;G0(e,c,t,W,i===null?Nb:function(){return L0(e),i(r)})}function Q0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:W},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function L0(e){var t=Q0(e).next.queue;Lr(e,t,{},un())}function fd(){return Ht(no)}function U0(){return ut().memoizedState}function j0(){return ut().memoizedState}function Pb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=un();e=ni(i);var r=ai(t,e,i);r!==null&&(dn(r,t,i),Hr(r,t,i)),t={cache:Iu()},e.payload=t;return}t=t.return}}function Gb(e,t,i){var r=un();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},bl(e)?I0(t,i):(i=Hu(e,t,i,r),i!==null&&(dn(i,e,r),F0(i,t,r)))}function z0(e,t,i){var r=un();Lr(e,t,i,r)}function Lr(e,t,i,r){var c={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(bl(e))I0(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var A=t.lastRenderedState,y=d(A,i);if(c.hasEagerState=!0,c.eagerState=y,sn(y,A))return al(e,t,c,0),Ye===null&&nl(),!1}catch{}finally{}if(i=Hu(e,t,c,r),i!==null)return dn(i,e,r),F0(i,t,r),!0}return!1}function hd(e,t,i,r){if(r={lane:2,revertLane:Xd(),action:r,hasEagerState:!1,eagerState:null,next:null},bl(e)){if(t)throw Error(o(479))}else t=Hu(e,i,r,2),t!==null&&dn(t,e,2)}function bl(e){var t=e.alternate;return e===we||t!==null&&t===we}function I0(e,t){Ms=ml=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function F0(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,ma(e,i)}}var El={readContext:Ht,use:pl,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st},q0={readContext:Ht,use:pl,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:B0,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,yl(4194308,4,k0.bind(null,t,e),i)},useLayoutEffect:function(e,t){return yl(4194308,4,e,t)},useInsertionEffect:function(e,t){yl(4,2,e,t)},useMemo:function(e,t){var i=Yt();t=t===void 0?null:t;var r=e();if(Xi){en(!0);try{e()}finally{en(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=Yt();if(i!==void 0){var c=i(t);if(Xi){en(!0);try{i(t)}finally{en(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Gb.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:function(e){e=od(e);var t=e.queue,i=z0.bind(null,we,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:cd,useDeferredValue:function(e,t){var i=Yt();return ud(i,e,t)},useTransition:function(){var e=od(!1);return e=G0.bind(null,we,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=we,c=Yt();if(Oe){if(i===void 0)throw Error(o(407));i=i()}else{if(i=t(),Ye===null)throw Error(o(349));(ke&124)!==0||d0(r,t,i)}c.memoizedState=i;var d={value:i,getSnapshot:t};return c.queue=d,B0(h0.bind(null,r,d,e),[e]),r.flags|=2048,Ts(9,vl(),f0.bind(null,r,d,i,t),null),i},useId:function(){var e=Yt(),t=Ye.identifierPrefix;if(Oe){var i=Ca,r=xa;i=(r&~(1<<32-ft(r)-1)).toString(32)+i,t=""+t+"R"+i,i=gl++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=Tb++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:fd,useFormState:w0,useActionState:w0,useOptimistic:function(e){var t=Yt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=hd.bind(null,we,!0,i),i.dispatch=t,[e,t]},useMemoCache:id,useCacheRefresh:function(){return Yt().memoizedState=Pb.bind(null,we)}},X0={readContext:Ht,use:pl,useCallback:O0,useContext:Ht,useEffect:M0,useImperativeHandle:H0,useInsertionEffect:D0,useLayoutEffect:T0,useMemo:N0,useReducer:Al,useRef:R0,useState:function(){return Al(Ma)},useDebugValue:cd,useDeferredValue:function(e,t){var i=ut();return P0(i,Le.memoizedState,e,t)},useTransition:function(){var e=Al(Ma)[0],t=ut().memoizedState;return[typeof e=="boolean"?e:Gr(e),t]},useSyncExternalStore:u0,useId:U0,useHostTransitionStatus:fd,useFormState:S0,useActionState:S0,useOptimistic:function(e,t){var i=ut();return p0(i,Le,e,t)},useMemoCache:id,useCacheRefresh:j0},Qb={readContext:Ht,use:pl,useCallback:O0,useContext:Ht,useEffect:M0,useImperativeHandle:H0,useInsertionEffect:D0,useLayoutEffect:T0,useMemo:N0,useReducer:rd,useRef:R0,useState:function(){return rd(Ma)},useDebugValue:cd,useDeferredValue:function(e,t){var i=ut();return Le===null?ud(i,e,t):P0(i,Le.memoizedState,e,t)},useTransition:function(){var e=rd(Ma)[0],t=ut().memoizedState;return[typeof e=="boolean"?e:Gr(e),t]},useSyncExternalStore:u0,useId:U0,useHostTransitionStatus:fd,useFormState:C0,useActionState:C0,useOptimistic:function(e,t){var i=ut();return Le!==null?p0(i,Le,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:id,useCacheRefresh:j0},ks=null,Ur=0;function wl(e){var t=Ur;return Ur+=1,ks===null&&(ks=[]),n0(ks,e,t)}function jr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sl(e,t){throw t.$$typeof===v?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Y0(e){var t=e._init;return t(e._payload)}function _0(e){function t(H,R){if(e){var P=H.deletions;P===null?(H.deletions=[R],H.flags|=16):P.push(R)}}function i(H,R){if(!e)return null;for(;R!==null;)t(H,R),R=R.sibling;return null}function r(H){for(var R=new Map;H!==null;)H.key!==null?R.set(H.key,H):R.set(H.index,H),H=H.sibling;return R}function c(H,R){return H=Sa(H,R),H.index=0,H.sibling=null,H}function d(H,R,P){return H.index=P,e?(P=H.alternate,P!==null?(P=P.index,P<R?(H.flags|=67108866,R):P):(H.flags|=67108866,R)):(H.flags|=1048576,R)}function A(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function y(H,R,P,V){return R===null||R.tag!==6?(R=Nu(P,H.mode,V),R.return=H,R):(R=c(R,P),R.return=H,R)}function S(H,R,P,V){var ue=P.type;return ue===x?K(H,R,P.props.children,V,P.key):R!==null&&(R.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===oe&&Y0(ue)===R.type)?(R=c(R,P.props),jr(R,P),R.return=H,R):(R=sl(P.type,P.key,P.props,null,H.mode,V),jr(R,P),R.return=H,R)}function G(H,R,P,V){return R===null||R.tag!==4||R.stateNode.containerInfo!==P.containerInfo||R.stateNode.implementation!==P.implementation?(R=Pu(P,H.mode,V),R.return=H,R):(R=c(R,P.children||[]),R.return=H,R)}function K(H,R,P,V,ue){return R===null||R.tag!==7?(R=Qi(P,H.mode,V,ue),R.return=H,R):(R=c(R,P),R.return=H,R)}function J(H,R,P){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Nu(""+R,H.mode,P),R.return=H,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return P=sl(R.type,R.key,R.props,null,H.mode,P),jr(P,R),P.return=H,P;case E:return R=Pu(R,H.mode,P),R.return=H,R;case oe:var V=R._init;return R=V(R._payload),J(H,R,P)}if(U(R)||O(R))return R=Qi(R,H.mode,P,null),R.return=H,R;if(typeof R.then=="function")return J(H,wl(R),P);if(R.$$typeof===I)return J(H,cl(H,R),P);Sl(H,R)}return null}function Q(H,R,P,V){var ue=R!==null?R.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ue!==null?null:y(H,R,""+P,V);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return P.key===ue?S(H,R,P,V):null;case E:return P.key===ue?G(H,R,P,V):null;case oe:return ue=P._init,P=ue(P._payload),Q(H,R,P,V)}if(U(P)||O(P))return ue!==null?null:K(H,R,P,V,null);if(typeof P.then=="function")return Q(H,R,wl(P),V);if(P.$$typeof===I)return Q(H,R,cl(H,P),V);Sl(H,P)}return null}function j(H,R,P,V,ue){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return H=H.get(P)||null,y(R,H,""+V,ue);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return H=H.get(V.key===null?P:V.key)||null,S(R,H,V,ue);case E:return H=H.get(V.key===null?P:V.key)||null,G(R,H,V,ue);case oe:var xe=V._init;return V=xe(V._payload),j(H,R,P,V,ue)}if(U(V)||O(V))return H=H.get(P)||null,K(R,H,V,ue,null);if(typeof V.then=="function")return j(H,R,P,wl(V),ue);if(V.$$typeof===I)return j(H,R,P,cl(R,V),ue);Sl(R,V)}return null}function ve(H,R,P,V){for(var ue=null,xe=null,me=R,Ae=R=0,Ct=null;me!==null&&Ae<P.length;Ae++){me.index>Ae?(Ct=me,me=null):Ct=me.sibling;var He=Q(H,me,P[Ae],V);if(He===null){me===null&&(me=Ct);break}e&&me&&He.alternate===null&&t(H,me),R=d(He,R,Ae),xe===null?ue=He:xe.sibling=He,xe=He,me=Ct}if(Ae===P.length)return i(H,me),Oe&&Ui(H,Ae),ue;if(me===null){for(;Ae<P.length;Ae++)me=J(H,P[Ae],V),me!==null&&(R=d(me,R,Ae),xe===null?ue=me:xe.sibling=me,xe=me);return Oe&&Ui(H,Ae),ue}for(me=r(me);Ae<P.length;Ae++)Ct=j(me,H,Ae,P[Ae],V),Ct!==null&&(e&&Ct.alternate!==null&&me.delete(Ct.key===null?Ae:Ct.key),R=d(Ct,R,Ae),xe===null?ue=Ct:xe.sibling=Ct,xe=Ct);return e&&me.forEach(function(bi){return t(H,bi)}),Oe&&Ui(H,Ae),ue}function pe(H,R,P,V){if(P==null)throw Error(o(151));for(var ue=null,xe=null,me=R,Ae=R=0,Ct=null,He=P.next();me!==null&&!He.done;Ae++,He=P.next()){me.index>Ae?(Ct=me,me=null):Ct=me.sibling;var bi=Q(H,me,He.value,V);if(bi===null){me===null&&(me=Ct);break}e&&me&&bi.alternate===null&&t(H,me),R=d(bi,R,Ae),xe===null?ue=bi:xe.sibling=bi,xe=bi,me=Ct}if(He.done)return i(H,me),Oe&&Ui(H,Ae),ue;if(me===null){for(;!He.done;Ae++,He=P.next())He=J(H,He.value,V),He!==null&&(R=d(He,R,Ae),xe===null?ue=He:xe.sibling=He,xe=He);return Oe&&Ui(H,Ae),ue}for(me=r(me);!He.done;Ae++,He=P.next())He=j(me,H,Ae,He.value,V),He!==null&&(e&&He.alternate!==null&&me.delete(He.key===null?Ae:He.key),R=d(He,R,Ae),xe===null?ue=He:xe.sibling=He,xe=He);return e&&me.forEach(function(L1){return t(H,L1)}),Oe&&Ui(H,Ae),ue}function je(H,R,P,V){if(typeof P=="object"&&P!==null&&P.type===x&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case b:e:{for(var ue=P.key;R!==null;){if(R.key===ue){if(ue=P.type,ue===x){if(R.tag===7){i(H,R.sibling),V=c(R,P.props.children),V.return=H,H=V;break e}}else if(R.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===oe&&Y0(ue)===R.type){i(H,R.sibling),V=c(R,P.props),jr(V,P),V.return=H,H=V;break e}i(H,R);break}else t(H,R);R=R.sibling}P.type===x?(V=Qi(P.props.children,H.mode,V,P.key),V.return=H,H=V):(V=sl(P.type,P.key,P.props,null,H.mode,V),jr(V,P),V.return=H,H=V)}return A(H);case E:e:{for(ue=P.key;R!==null;){if(R.key===ue)if(R.tag===4&&R.stateNode.containerInfo===P.containerInfo&&R.stateNode.implementation===P.implementation){i(H,R.sibling),V=c(R,P.children||[]),V.return=H,H=V;break e}else{i(H,R);break}else t(H,R);R=R.sibling}V=Pu(P,H.mode,V),V.return=H,H=V}return A(H);case oe:return ue=P._init,P=ue(P._payload),je(H,R,P,V)}if(U(P))return ve(H,R,P,V);if(O(P)){if(ue=O(P),typeof ue!="function")throw Error(o(150));return P=ue.call(P),pe(H,R,P,V)}if(typeof P.then=="function")return je(H,R,wl(P),V);if(P.$$typeof===I)return je(H,R,cl(H,P),V);Sl(H,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,R!==null&&R.tag===6?(i(H,R.sibling),V=c(R,P),V.return=H,H=V):(i(H,R),V=Nu(P,H.mode,V),V.return=H,H=V),A(H)):i(H,R)}return function(H,R,P,V){try{Ur=0;var ue=je(H,R,P,V);return ks=null,ue}catch(me){if(me===Tr||me===dl)throw me;var xe=rn(29,me,null,H.mode);return xe.lanes=V,xe.return=H,xe}finally{}}}var Hs=_0(!0),K0=_0(!1),vn=Y(null),Yn=null;function si(e){var t=e.alternate;$(At,At.current&1),$(vn,e),Yn===null&&(t===null||Bs.current!==null||t.memoizedState!==null)&&(Yn=e)}function V0(e){if(e.tag===22){if($(At,At.current),$(vn,e),Yn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Yn=e)}}else ri()}function ri(){$(At,At.current),$(vn,vn.current)}function Da(e){ee(vn),Yn===e&&(Yn=null),ee(At)}var At=Y(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||af(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function md(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:p({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var gd={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=un(),c=ni(r);c.payload=t,i!=null&&(c.callback=i),t=ai(e,c,r),t!==null&&(dn(t,e,r),Hr(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=un(),c=ni(r);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=ai(e,c,r),t!==null&&(dn(t,e,r),Hr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=un(),r=ni(i);r.tag=2,t!=null&&(r.callback=t),t=ai(e,r,i),t!==null&&(dn(t,e,i),Hr(t,e,i))}};function Z0(e,t,i,r,c,d,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,A):t.prototype&&t.prototype.isPureReactComponent?!wr(i,r)||!wr(c,d):!0}function J0(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&gd.enqueueReplaceState(t,t.state,null)}function Yi(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=p({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var Cl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function W0(e){Cl(e)}function $0(e){console.error(e)}function eg(e){Cl(e)}function Rl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function tg(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function pd(e,t,i){return i=ni(i),i.tag=3,i.payload={element:null},i.callback=function(){Rl(e,t)},i}function ng(e){return e=ni(e),e.tag=3,e}function ag(e,t,i,r){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;e.payload=function(){return c(d)},e.callback=function(){tg(t,i,r)}}var A=i.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(e.callback=function(){tg(t,i,r),typeof c!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})})}function Lb(e,t,i,r,c){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&Br(t,i,c,!0),i=vn.current,i!==null){switch(i.tag){case 13:return Yn===null?jd():i.alternate===null&&at===0&&(at=3),i.flags&=-257,i.flags|=65536,i.lanes=c,r===Xu?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),Id(e,r,c)),!1;case 22:return i.flags|=65536,r===Xu?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),Id(e,r,c)),!1}throw Error(o(435,i.tag))}return Id(e,r,c),jd(),!1}if(Oe)return t=vn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==Lu&&(e=Error(o(422),{cause:r}),Rr(mn(e,i)))):(r!==Lu&&(t=Error(o(423),{cause:r}),Rr(mn(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=mn(r,i),c=pd(e.stateNode,r,c),Ku(e,c),at!==4&&(at=2)),!1;var d=Error(o(520),{cause:r});if(d=mn(d,i),_r===null?_r=[d]:_r.push(d),at!==4&&(at=2),t===null)return!0;r=mn(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=pd(i.stateNode,r,e),Ku(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fi===null||!fi.has(d))))return i.flags|=65536,c&=-c,i.lanes|=c,c=ng(c),ag(c,e,i,r),Ku(i,c),!1}i=i.return}while(i!==null);return!1}var ig=Error(o(461)),St=!1;function Mt(e,t,i,r){t.child=e===null?K0(t,null,i,r):Hs(t,e.child,i,r)}function sg(e,t,i,r,c){i=i.render;var d=t.ref;if("ref"in r){var A={};for(var y in r)y!=="ref"&&(A[y]=r[y])}else A=r;return Fi(t),r=$u(e,t,i,A,d,c),y=ed(),e!==null&&!St?(td(e,t,c),Ta(e,t,c)):(Oe&&y&&Gu(t),t.flags|=1,Mt(e,t,r,c),t.child)}function rg(e,t,i,r,c){if(e===null){var d=i.type;return typeof d=="function"&&!Ou(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,og(e,t,d,r,c)):(e=sl(i.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!xd(e,c)){var A=d.memoizedProps;if(i=i.compare,i=i!==null?i:wr,i(A,r)&&e.ref===t.ref)return Ta(e,t,c)}return t.flags|=1,e=Sa(d,r),e.ref=t.ref,e.return=t,t.child=e}function og(e,t,i,r,c){if(e!==null){var d=e.memoizedProps;if(wr(d,r)&&e.ref===t.ref)if(St=!1,t.pendingProps=r=d,xd(e,c))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,Ta(e,t,c)}return Ad(e,t,i,r,c)}function lg(e,t,i){var r=t.pendingProps,c=r.children,d=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=d!==null?d.baseLanes|i:i,e!==null){for(c=t.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;t.childLanes=d&~r}else t.childLanes=0,t.child=null;return cg(e,t,r,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ul(t,d!==null?d.cachePool:null),d!==null?o0(t,d):Zu(),V0(t);else return t.lanes=t.childLanes=536870912,cg(e,t,d!==null?d.baseLanes|i:i,i)}else d!==null?(ul(t,d.cachePool),o0(t,d),ri(),t.memoizedState=null):(e!==null&&ul(t,null),Zu(),ri());return Mt(e,t,c,i),t.child}function cg(e,t,i,r){var c=qu();return c=c===null?null:{parent:pt._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&ul(t,null),Zu(),V0(t),e!==null&&Br(e,t,r,!0),null}function Bl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(o(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Ad(e,t,i,r,c){return Fi(t),i=$u(e,t,i,r,void 0,c),r=ed(),e!==null&&!St?(td(e,t,c),Ta(e,t,c)):(Oe&&r&&Gu(t),t.flags|=1,Mt(e,t,i,c),t.child)}function ug(e,t,i,r,c,d){return Fi(t),t.updateQueue=null,i=c0(t,r,i,c),l0(e),r=ed(),e!==null&&!St?(td(e,t,d),Ta(e,t,d)):(Oe&&r&&Gu(t),t.flags|=1,Mt(e,t,i,d),t.child)}function dg(e,t,i,r,c){if(Fi(t),t.stateNode===null){var d=ws,A=i.contextType;typeof A=="object"&&A!==null&&(d=Ht(A)),d=new i(r,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=r,d.state=t.memoizedState,d.refs={},Yu(t),A=i.contextType,d.context=typeof A=="object"&&A!==null?Ht(A):ws,d.state=t.memoizedState,A=i.getDerivedStateFromProps,typeof A=="function"&&(md(t,i,A,r),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(A=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),A!==d.state&&gd.enqueueReplaceState(d,d.state,null),Nr(t,r,d,c),Or(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){d=t.stateNode;var y=t.memoizedProps,S=Yi(i,y);d.props=S;var G=d.context,K=i.contextType;A=ws,typeof K=="object"&&K!==null&&(A=Ht(K));var J=i.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||G!==A)&&J0(t,d,r,A),ti=!1;var Q=t.memoizedState;d.state=Q,Nr(t,r,d,c),Or(),G=t.memoizedState,y||Q!==G||ti?(typeof J=="function"&&(md(t,i,J,r),G=t.memoizedState),(S=ti||Z0(t,i,S,r,Q,G,A))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=G),d.props=r,d.state=G,d.context=A,r=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,_u(e,t),A=t.memoizedProps,K=Yi(i,A),d.props=K,J=t.pendingProps,Q=d.context,G=i.contextType,S=ws,typeof G=="object"&&G!==null&&(S=Ht(G)),y=i.getDerivedStateFromProps,(G=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A!==J||Q!==S)&&J0(t,d,r,S),ti=!1,Q=t.memoizedState,d.state=Q,Nr(t,r,d,c),Or();var j=t.memoizedState;A!==J||Q!==j||ti||e!==null&&e.dependencies!==null&&ll(e.dependencies)?(typeof y=="function"&&(md(t,i,y,r),j=t.memoizedState),(K=ti||Z0(t,i,K,r,Q,j,S)||e!==null&&e.dependencies!==null&&ll(e.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,j,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,j,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||A===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),d.props=r,d.state=j,d.context=S,r=K):(typeof d.componentDidUpdate!="function"||A===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),r=!1)}return d=r,Bl(e,t),r=(t.flags&128)!==0,d||r?(d=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&r?(t.child=Hs(t,e.child,null,c),t.child=Hs(t,null,i,c)):Mt(e,t,i,c),t.memoizedState=d.state,e=t.child):e=Ta(e,t,c),e}function fg(e,t,i,r){return Cr(),t.flags|=256,Mt(e,t,i,r),t.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(e){return{baseLanes:e,cachePool:$m()}}function bd(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=yn),e}function hg(e,t,i){var r=t.pendingProps,c=!1,d=(t.flags&128)!==0,A;if((A=d)||(A=e!==null&&e.memoizedState===null?!1:(At.current&2)!==0),A&&(c=!0,t.flags&=-129),A=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(c?si(t):ri(),Oe){var y=nt,S;if(S=y){e:{for(S=y,y=Xn;S.nodeType!==8;){if(!y){y=null;break e}if(S=Hn(S.nextSibling),S===null){y=null;break e}}y=S}y!==null?(t.memoizedState={dehydrated:y,treeContext:Li!==null?{id:xa,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},S=rn(18,null,null,0),S.stateNode=y,S.return=t,t.child=S,Lt=t,nt=null,S=!0):S=!1}S||zi(t)}if(y=t.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return af(y)?t.lanes=32:t.lanes=536870912,null;Da(t)}return y=r.children,r=r.fallback,c?(ri(),c=t.mode,y=Ml({mode:"hidden",children:y},c),r=Qi(r,c,i,null),y.return=t,r.return=t,y.sibling=r,t.child=y,c=t.child,c.memoizedState=yd(i),c.childLanes=bd(e,A,i),t.memoizedState=vd,r):(si(t),Ed(t,y))}if(S=e.memoizedState,S!==null&&(y=S.dehydrated,y!==null)){if(d)t.flags&256?(si(t),t.flags&=-257,t=wd(e,t,i)):t.memoizedState!==null?(ri(),t.child=e.child,t.flags|=128,t=null):(ri(),c=r.fallback,y=t.mode,r=Ml({mode:"visible",children:r.children},y),c=Qi(c,y,i,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Hs(t,e.child,null,i),r=t.child,r.memoizedState=yd(i),r.childLanes=bd(e,A,i),t.memoizedState=vd,t=c);else if(si(t),af(y)){if(A=y.nextSibling&&y.nextSibling.dataset,A)var G=A.dgst;A=G,r=Error(o(419)),r.stack="",r.digest=A,Rr({value:r,source:null,stack:null}),t=wd(e,t,i)}else if(St||Br(e,t,i,!1),A=(i&e.childLanes)!==0,St||A){if(A=Ye,A!==null&&(r=i&-i,r=(r&42)!==0?1:ga(r),r=(r&(A.suspendedLanes|i))!==0?0:r,r!==0&&r!==S.retryLane))throw S.retryLane=r,Es(e,r),dn(A,e,r),ig;y.data==="$?"||jd(),t=wd(e,t,i)}else y.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,nt=Hn(y.nextSibling),Lt=t,Oe=!0,ji=null,Xn=!1,e!==null&&(pn[An++]=xa,pn[An++]=Ca,pn[An++]=Li,xa=e.id,Ca=e.overflow,Li=t),t=Ed(t,r.children),t.flags|=4096);return t}return c?(ri(),c=r.fallback,y=t.mode,S=e.child,G=S.sibling,r=Sa(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,G!==null?c=Sa(G,c):(c=Qi(c,y,i,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,y=e.child.memoizedState,y===null?y=yd(i):(S=y.cachePool,S!==null?(G=pt._currentValue,S=S.parent!==G?{parent:G,pool:G}:S):S=$m(),y={baseLanes:y.baseLanes|i,cachePool:S}),c.memoizedState=y,c.childLanes=bd(e,A,i),t.memoizedState=vd,r):(si(t),i=e.child,e=i.sibling,i=Sa(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(A=t.deletions,A===null?(t.deletions=[e],t.flags|=16):A.push(e)),t.child=i,t.memoizedState=null,i)}function Ed(e,t){return t=Ml({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ml(e,t){return e=rn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wd(e,t,i){return Hs(t,e.child,null,i),e=Ed(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mg(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ju(e.return,t,i)}function Sd(e,t,i,r,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=i,d.tailMode=c)}function gg(e,t,i){var r=t.pendingProps,c=r.revealOrder,d=r.tail;if(Mt(e,t,r.children,i),r=At.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mg(e,i,t);else if(e.tag===19)mg(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch($(At,r),c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&xl(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Sd(t,!1,c,i,d);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&xl(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Sd(t,!0,i,null,d);break;case"together":Sd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ta(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),di|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Br(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,i=Sa(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Sa(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function xd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ll(e)))}function Ub(e,t,i){switch(t.tag){case 3:Ce(t,t.stateNode.containerInfo),ei(t,pt,e.memoizedState.cache),Cr();break;case 27:case 5:Wt(t);break;case 4:Ce(t,t.stateNode.containerInfo);break;case 10:ei(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(si(t),t.flags|=128,null):(i&t.child.childLanes)!==0?hg(e,t,i):(si(t),e=Ta(e,t,i),e!==null?e.sibling:null);si(t);break;case 19:var c=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(Br(e,t,i,!1),r=(i&t.childLanes)!==0),c){if(r)return gg(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(At,At.current),r)break;return null;case 22:case 23:return t.lanes=0,lg(e,t,i);case 24:ei(t,pt,e.memoizedState.cache)}return Ta(e,t,i)}function pg(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!xd(e,i)&&(t.flags&128)===0)return St=!1,Ub(e,t,i);St=(e.flags&131072)!==0}else St=!1,Oe&&(t.flags&1048576)!==0&&Ym(t,ol,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,c=r._init;if(r=c(r._payload),t.type=r,typeof r=="function")Ou(r)?(e=Yi(r,e),t.tag=1,t=dg(null,t,r,e,i)):(t.tag=0,t=Ad(null,t,r,e,i));else{if(r!=null){if(c=r.$$typeof,c===q){t.tag=11,t=sg(null,t,r,e,i);break e}else if(c===se){t.tag=14,t=rg(null,t,r,e,i);break e}}throw t=X(r)||r,Error(o(306,t,""))}}return t;case 0:return Ad(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,c=Yi(r,t.pendingProps),dg(e,t,r,c,i);case 3:e:{if(Ce(t,t.stateNode.containerInfo),e===null)throw Error(o(387));r=t.pendingProps;var d=t.memoizedState;c=d.element,_u(e,t),Nr(t,r,null,i);var A=t.memoizedState;if(r=A.cache,ei(t,pt,r),r!==d.cache&&zu(t,[pt],i,!0),Or(),r=A.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:A.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=fg(e,t,r,i);break e}else if(r!==c){c=mn(Error(o(424)),t),Rr(c),t=fg(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(nt=Hn(e.firstChild),Lt=t,Oe=!0,ji=null,Xn=!0,i=K0(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Cr(),r===c){t=Ta(e,t,i);break e}Mt(e,t,r,i)}t=t.child}return t;case 26:return Bl(e,t),e===null?(i=bp(t.type,null,t.pendingProps,null))?t.memoizedState=i:Oe||(i=t.type,e=t.pendingProps,r=Il(he.current).createElement(i),r[We]=t,r[mt]=e,Tt(r,i,e),$e(r),t.stateNode=r):t.memoizedState=bp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wt(t),e===null&&Oe&&(r=t.stateNode=Ap(t.type,t.pendingProps,he.current),Lt=t,Xn=!0,c=nt,gi(t.type)?(sf=c,nt=Hn(r.firstChild)):nt=c),Mt(e,t,t.pendingProps.children,i),Bl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((c=r=nt)&&(r=h1(r,t.type,t.pendingProps,Xn),r!==null?(t.stateNode=r,Lt=t,nt=Hn(r.firstChild),Xn=!1,c=!0):c=!1),c||zi(t)),Wt(t),c=t.type,d=t.pendingProps,A=e!==null?e.memoizedProps:null,r=d.children,ef(c,d)?r=null:A!==null&&ef(c,A)&&(t.flags|=32),t.memoizedState!==null&&(c=$u(e,t,kb,null,null,i),no._currentValue=c),Bl(e,t),Mt(e,t,r,i),t.child;case 6:return e===null&&Oe&&((e=i=nt)&&(i=m1(i,t.pendingProps,Xn),i!==null?(t.stateNode=i,Lt=t,nt=null,e=!0):e=!1),e||zi(t)),null;case 13:return hg(e,t,i);case 4:return Ce(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hs(t,null,r,i):Mt(e,t,r,i),t.child;case 11:return sg(e,t,t.type,t.pendingProps,i);case 7:return Mt(e,t,t.pendingProps,i),t.child;case 8:return Mt(e,t,t.pendingProps.children,i),t.child;case 12:return Mt(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,ei(t,t.type,r.value),Mt(e,t,r.children,i),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,Fi(t),c=Ht(c),r=r(c),t.flags|=1,Mt(e,t,r,i),t.child;case 14:return rg(e,t,t.type,t.pendingProps,i);case 15:return og(e,t,t.type,t.pendingProps,i);case 19:return gg(e,t,i);case 31:return r=t.pendingProps,i=t.mode,r={mode:r.mode,children:r.children},e===null?(i=Ml(r,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=Sa(e.child,r),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return lg(e,t,i);case 24:return Fi(t),r=Ht(pt),e===null?(c=qu(),c===null&&(c=Ye,d=Iu(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=i),c=d),t.memoizedState={parent:r,cache:c},Yu(t),ei(t,pt,c)):((e.lanes&i)!==0&&(_u(e,t),Nr(t,null,null,i),Or()),c=e.memoizedState,d=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ei(t,pt,r)):(r=d.cache,ei(t,pt,r),r!==c.cache&&zu(t,[pt],i,!0))),Mt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ka(e){e.flags|=4}function Ag(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cp(t)){if(t=vn.current,t!==null&&((ke&4194048)===ke?Yn!==null:(ke&62914560)!==ke&&(ke&536870912)===0||t!==Yn))throw kr=Xu,e0;e.flags|=8192}}function Dl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Et():536870912,e.lanes|=t,Gs|=t)}function zr(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function jb(e,t,i){var r=t.pendingProps;switch(Qu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ba(pt),Rt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(xr(t)?ka(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vm())),Ve(t),null;case 26:return i=t.memoizedState,e===null?(ka(t),i!==null?(Ve(t),Ag(t,i)):(Ve(t),t.flags&=-16777217)):i?i!==e.memoizedState?(ka(t),Ve(t),Ag(t,i)):(Ve(t),t.flags&=-16777217):(e.memoizedProps!==r&&ka(t),Ve(t),t.flags&=-16777217),null;case 27:Sn(t),i=he.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ka(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Ve(t),null}e=le.current,xr(t)?_m(t):(e=Ap(c,r,i),t.stateNode=e,ka(t))}return Ve(t),null;case 5:if(Sn(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ka(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Ve(t),null}if(e=le.current,xr(t))_m(t);else{switch(c=Il(he.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?c.createElement(i,{is:r.is}):c.createElement(i)}}e[We]=t,e[mt]=r;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(Tt(e,i,r),i){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ka(t)}}return Ve(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ka(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(e=he.current,xr(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,c=Lt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[We]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||up(e.nodeValue,i)),e||zi(t)}else e=Il(e).createTextNode(r),e[We]=t,t.stateNode=e}return Ve(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=xr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[We]=t}else Cr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),c=!1}else c=Vm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Da(t),t):(Da(t),null)}if(Da(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=r!==null,e=e!==null&&e.memoizedState!==null,i){r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var d=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Dl(t,t.updateQueue),Ve(t),null;case 4:return Rt(),e===null&&Vd(t.stateNode.containerInfo),Ve(t),null;case 10:return Ba(t.type),Ve(t),null;case 19:if(ee(At),c=t.memoizedState,c===null)return Ve(t),null;if(r=(t.flags&128)!==0,d=c.rendering,d===null)if(r)zr(c,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=xl(e),d!==null){for(t.flags|=128,zr(c,!1),e=d.updateQueue,t.updateQueue=e,Dl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Xm(i,e),i=i.sibling;return $(At,At.current&1|2),t.child}e=e.sibling}c.tail!==null&&lt()>Hl&&(t.flags|=128,r=!0,zr(c,!1),t.lanes=4194304)}else{if(!r)if(e=xl(d),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Dl(t,e),zr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Oe)return Ve(t),null}else 2*lt()-c.renderingStartTime>Hl&&i!==536870912&&(t.flags|=128,r=!0,zr(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(e=c.last,e!==null?e.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=lt(),t.sibling=null,e=At.current,$(At,r?e&1|2:e&1),t):(Ve(t),null);case 22:case 23:return Da(t),Ju(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),i=t.updateQueue,i!==null&&Dl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&ee(qi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ba(pt),Ve(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function zb(e,t){switch(Qu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ba(pt),Rt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Sn(t),null;case 13:if(Da(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(At),null;case 4:return Rt(),null;case 10:return Ba(t.type),null;case 22:case 23:return Da(t),Ju(),e!==null&&ee(qi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ba(pt),null;case 25:return null;default:return null}}function vg(e,t){switch(Qu(t),t.tag){case 3:Ba(pt),Rt();break;case 26:case 27:case 5:Sn(t);break;case 4:Rt();break;case 13:Da(t);break;case 19:ee(At);break;case 10:Ba(t.type);break;case 22:case 23:Da(t),Ju(),e!==null&&ee(qi);break;case 24:Ba(pt)}}function Ir(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&e)===e){r=void 0;var d=i.create,A=i.inst;r=d(),A.destroy=r}i=i.next}while(i!==c)}}catch(y){qe(t,t.return,y)}}function oi(e,t,i){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&e)===e){var A=r.inst,y=A.destroy;if(y!==void 0){A.destroy=void 0,c=t;var S=i,G=y;try{G()}catch(K){qe(c,S,K)}}}r=r.next}while(r!==d)}}catch(K){qe(t,t.return,K)}}function yg(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{r0(t,i)}catch(r){qe(e,e.return,r)}}}function bg(e,t,i){i.props=Yi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){qe(e,t,r)}}function Fr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(c){qe(e,t,c)}}function _n(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(c){qe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){qe(e,t,c)}else i.current=null}function Eg(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(c){qe(e,e.return,c)}}function Cd(e,t,i){try{var r=e.stateNode;l1(r,e.type,i,t),r[mt]=t}catch(c){qe(e,e.return,c)}}function wg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gi(e.type)||e.tag===4}function Rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bd(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=zl));else if(r!==4&&(r===27&&gi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Bd(e,t,i),e=e.sibling;e!==null;)Bd(e,t,i),e=e.sibling}function Tl(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&gi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Tl(e,t,i),e=e.sibling;e!==null;)Tl(e,t,i),e=e.sibling}function Sg(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Tt(t,r,i),t[We]=e,t[mt]=i}catch(d){qe(e,e.return,d)}}var Ha=!1,rt=!1,Md=!1,xg=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Ib(e,t){if(e=e.containerInfo,Wd=Kl,e=Pm(e),Ru(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var c=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var A=0,y=-1,S=-1,G=0,K=0,J=e,Q=null;t:for(;;){for(var j;J!==i||c!==0&&J.nodeType!==3||(y=A+c),J!==d||r!==0&&J.nodeType!==3||(S=A+r),J.nodeType===3&&(A+=J.nodeValue.length),(j=J.firstChild)!==null;)Q=J,J=j;for(;;){if(J===e)break t;if(Q===i&&++G===c&&(y=A),Q===d&&++K===r&&(S=A),(j=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=j}i=y===-1||S===-1?null:{start:y,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for($d={focusedElem:e,selectionRange:i},Kl=!1,xt=t;xt!==null;)if(t=xt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,xt=e;else for(;xt!==null;){switch(t=xt,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,c=d.memoizedProps,d=d.memoizedState,r=i.stateNode;try{var ve=Yi(i.type,c,i.elementType===i.type);e=r.getSnapshotBeforeUpdate(ve,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(pe){qe(i,i.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)nf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,xt=e;break}xt=t.return}}function Cg(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:li(e,i),r&4&&Ir(5,i);break;case 1:if(li(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(A){qe(i,i.return,A)}else{var c=Yi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(A){qe(i,i.return,A)}}r&64&&yg(i),r&512&&Fr(i,i.return);break;case 3:if(li(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{r0(e,t)}catch(A){qe(i,i.return,A)}}break;case 27:t===null&&r&4&&Sg(i);case 26:case 5:li(e,i),t===null&&r&4&&Eg(i),r&512&&Fr(i,i.return);break;case 12:li(e,i);break;case 13:li(e,i),r&4&&Mg(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Jb.bind(null,i),g1(e,i))));break;case 22:if(r=i.memoizedState!==null||Ha,!r){t=t!==null&&t.memoizedState!==null||rt,c=Ha;var d=rt;Ha=r,(rt=t)&&!d?ci(e,i,(i.subtreeFlags&8772)!==0):li(e,i),Ha=c,rt=d}break;case 30:break;default:li(e,i)}}function Rg(e){var t=e.alternate;t!==null&&(e.alternate=null,Rg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,_t=!1;function Oa(e,t,i){for(i=i.child;i!==null;)Bg(e,t,i),i=i.sibling}function Bg(e,t,i){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Ne,i)}catch{}switch(i.tag){case 26:rt||_n(i,t),Oa(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:rt||_n(i,t);var r=Ke,c=_t;gi(i.type)&&(Ke=i.stateNode,_t=!1),Oa(e,t,i),Wr(i.stateNode),Ke=r,_t=c;break;case 5:rt||_n(i,t);case 6:if(r=Ke,c=_t,Ke=null,Oa(e,t,i),Ke=r,_t=c,Ke!==null)if(_t)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(i.stateNode)}catch(d){qe(i,t,d)}else try{Ke.removeChild(i.stateNode)}catch(d){qe(i,t,d)}break;case 18:Ke!==null&&(_t?(e=Ke,gp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ro(e)):gp(Ke,i.stateNode));break;case 4:r=Ke,c=_t,Ke=i.stateNode.containerInfo,_t=!0,Oa(e,t,i),Ke=r,_t=c;break;case 0:case 11:case 14:case 15:rt||oi(2,i,t),rt||oi(4,i,t),Oa(e,t,i);break;case 1:rt||(_n(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&bg(i,t,r)),Oa(e,t,i);break;case 21:Oa(e,t,i);break;case 22:rt=(r=rt)||i.memoizedState!==null,Oa(e,t,i),rt=r;break;default:Oa(e,t,i)}}function Mg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ro(e)}catch(i){qe(t,t.return,i)}}function Fb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new xg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new xg),t;default:throw Error(o(435,e.tag))}}function Dd(e,t){var i=Fb(e);t.forEach(function(r){var c=Wb.bind(null,e,r);i.has(r)||(i.add(r),r.then(c,c))})}function on(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var c=i[r],d=e,A=t,y=A;e:for(;y!==null;){switch(y.tag){case 27:if(gi(y.type)){Ke=y.stateNode,_t=!1;break e}break;case 5:Ke=y.stateNode,_t=!1;break e;case 3:case 4:Ke=y.stateNode.containerInfo,_t=!0;break e}y=y.return}if(Ke===null)throw Error(o(160));Bg(d,A,c),Ke=null,_t=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Dg(t,e),t=t.sibling}var kn=null;function Dg(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(t,e),ln(e),r&4&&(oi(3,e,e.return),Ir(3,e),oi(5,e,e.return));break;case 1:on(t,e),ln(e),r&512&&(rt||i===null||_n(i,i.return)),r&64&&Ha&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var c=kn;if(on(t,e),ln(e),r&512&&(rt||i===null||_n(i,i.return)),r&4){var d=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ti]||d[We]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(r),c.head.insertBefore(d,c.querySelector("head > title"))),Tt(d,r,i),d[We]=e,$e(d),r=d;break e;case"link":var A=Sp("link","href",c).get(r+(i.href||""));if(A){for(var y=0;y<A.length;y++)if(d=A[y],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){A.splice(y,1);break t}}d=c.createElement(r),Tt(d,r,i),c.head.appendChild(d);break;case"meta":if(A=Sp("meta","content",c).get(r+(i.content||""))){for(y=0;y<A.length;y++)if(d=A[y],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){A.splice(y,1);break t}}d=c.createElement(r),Tt(d,r,i),c.head.appendChild(d);break;default:throw Error(o(468,r))}d[We]=e,$e(d),r=d}e.stateNode=r}else xp(c,e.type,e.stateNode);else e.stateNode=wp(c,r,e.memoizedProps);else d!==r?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,r===null?xp(c,e.type,e.stateNode):wp(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Cd(e,e.memoizedProps,i.memoizedProps)}break;case 27:on(t,e),ln(e),r&512&&(rt||i===null||_n(i,i.return)),i!==null&&r&4&&Cd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(on(t,e),ln(e),r&512&&(rt||i===null||_n(i,i.return)),e.flags&32){c=e.stateNode;try{ms(c,"")}catch(j){qe(e,e.return,j)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Cd(e,c,i!==null?i.memoizedProps:c)),r&1024&&(Md=!0);break;case 6:if(on(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(j){qe(e,e.return,j)}}break;case 3:if(Xl=null,c=kn,kn=Fl(t.containerInfo),on(t,e),kn=c,ln(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{ro(t.containerInfo)}catch(j){qe(e,e.return,j)}Md&&(Md=!1,Tg(e));break;case 4:r=kn,kn=Fl(e.stateNode.containerInfo),on(t,e),ln(e),kn=r;break;case 12:on(t,e),ln(e);break;case 13:on(t,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Pd=lt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dd(e,r)));break;case 22:c=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,G=Ha,K=rt;if(Ha=G||c,rt=K||S,on(t,e),rt=K,Ha=G,ln(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||S||Ha||rt||_i(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(d=S.stateNode,c)A=d.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{y=S.stateNode;var J=S.memoizedProps.style,Q=J!=null&&J.hasOwnProperty("display")?J.display:null;y.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(j){qe(S,S.return,j)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(j){qe(S,S.return,j)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Dd(e,i))));break;case 19:on(t,e),ln(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dd(e,r)));break;case 30:break;case 21:break;default:on(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(wg(r)){i=r;break}r=r.return}if(i==null)throw Error(o(160));switch(i.tag){case 27:var c=i.stateNode,d=Rd(e);Tl(e,d,c);break;case 5:var A=i.stateNode;i.flags&32&&(ms(A,""),i.flags&=-33);var y=Rd(e);Tl(e,y,A);break;case 3:case 4:var S=i.stateNode.containerInfo,G=Rd(e);Bd(e,G,S);break;default:throw Error(o(161))}}catch(K){qe(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Tg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function li(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cg(e,t.alternate,t),t=t.sibling}function _i(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oi(4,t,t.return),_i(t);break;case 1:_n(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&bg(t,t.return,i),_i(t);break;case 27:Wr(t.stateNode);case 26:case 5:_n(t,t.return),_i(t);break;case 22:t.memoizedState===null&&_i(t);break;case 30:_i(t);break;default:_i(t)}e=e.sibling}}function ci(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,d=t,A=d.flags;switch(d.tag){case 0:case 11:case 15:ci(c,d,i),Ir(4,d);break;case 1:if(ci(c,d,i),r=d,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(G){qe(r,r.return,G)}if(r=d,c=r.updateQueue,c!==null){var y=r.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)s0(S[c],y)}catch(G){qe(r,r.return,G)}}i&&A&64&&yg(d),Fr(d,d.return);break;case 27:Sg(d);case 26:case 5:ci(c,d,i),i&&r===null&&A&4&&Eg(d),Fr(d,d.return);break;case 12:ci(c,d,i);break;case 13:ci(c,d,i),i&&A&4&&Mg(c,d);break;case 22:d.memoizedState===null&&ci(c,d,i),Fr(d,d.return);break;case 30:break;default:ci(c,d,i)}t=t.sibling}}function Td(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Mr(i))}function kd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Mr(e))}function Kn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kg(e,t,i,r),t=t.sibling}function kg(e,t,i,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Kn(e,t,i,r),c&2048&&Ir(9,t);break;case 1:Kn(e,t,i,r);break;case 3:Kn(e,t,i,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Mr(e)));break;case 12:if(c&2048){Kn(e,t,i,r),e=t.stateNode;try{var d=t.memoizedProps,A=d.id,y=d.onPostCommit;typeof y=="function"&&y(A,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){qe(t,t.return,S)}}else Kn(e,t,i,r);break;case 13:Kn(e,t,i,r);break;case 23:break;case 22:d=t.stateNode,A=t.alternate,t.memoizedState!==null?d._visibility&2?Kn(e,t,i,r):qr(e,t):d._visibility&2?Kn(e,t,i,r):(d._visibility|=2,Os(e,t,i,r,(t.subtreeFlags&10256)!==0)),c&2048&&Td(A,t);break;case 24:Kn(e,t,i,r),c&2048&&kd(t.alternate,t);break;default:Kn(e,t,i,r)}}function Os(e,t,i,r,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,A=t,y=i,S=r,G=A.flags;switch(A.tag){case 0:case 11:case 15:Os(d,A,y,S,c),Ir(8,A);break;case 23:break;case 22:var K=A.stateNode;A.memoizedState!==null?K._visibility&2?Os(d,A,y,S,c):qr(d,A):(K._visibility|=2,Os(d,A,y,S,c)),c&&G&2048&&Td(A.alternate,A);break;case 24:Os(d,A,y,S,c),c&&G&2048&&kd(A.alternate,A);break;default:Os(d,A,y,S,c)}t=t.sibling}}function qr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,c=r.flags;switch(r.tag){case 22:qr(i,r),c&2048&&Td(r.alternate,r);break;case 24:qr(i,r),c&2048&&kd(r.alternate,r);break;default:qr(i,r)}t=t.sibling}}var Xr=8192;function Ns(e){if(e.subtreeFlags&Xr)for(e=e.child;e!==null;)Hg(e),e=e.sibling}function Hg(e){switch(e.tag){case 26:Ns(e),e.flags&Xr&&e.memoizedState!==null&&M1(kn,e.memoizedState,e.memoizedProps);break;case 5:Ns(e);break;case 3:case 4:var t=kn;kn=Fl(e.stateNode.containerInfo),Ns(e),kn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Xr,Xr=16777216,Ns(e),Xr=t):Ns(e));break;default:Ns(e)}}function Og(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];xt=r,Pg(r,e)}Og(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ng(e),e=e.sibling}function Ng(e){switch(e.tag){case 0:case 11:case 15:Yr(e),e.flags&2048&&oi(9,e,e.return);break;case 3:Yr(e);break;case 12:Yr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kl(e)):Yr(e);break;default:Yr(e)}}function kl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];xt=r,Pg(r,e)}Og(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:oi(8,t,t.return),kl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,kl(t));break;default:kl(t)}e=e.sibling}}function Pg(e,t){for(;xt!==null;){var i=xt;switch(i.tag){case 0:case 11:case 15:oi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Mr(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,xt=r;else e:for(i=e;xt!==null;){r=xt;var c=r.sibling,d=r.return;if(Rg(r),r===i){xt=null;break e}if(c!==null){c.return=d,xt=c;break e}xt=d}}}var qb={getCacheForType:function(e){var t=Ht(pt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},Xb=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ye=null,Re=null,ke=0,Ge=0,cn=null,ui=!1,Ps=!1,Hd=!1,Na=0,at=0,di=0,Ki=0,Od=0,yn=0,Gs=0,_r=null,Kt=null,Nd=!1,Pd=0,Hl=1/0,Ol=null,fi=null,Dt=0,hi=null,Qs=null,Ls=0,Gd=0,Qd=null,Gg=null,Kr=0,Ld=null;function un(){if((Pe&2)!==0&&ke!==0)return ke&-ke;if(B.T!==null){var e=Cs;return e!==0?e:Xd()}return jo()}function Qg(){yn===0&&(yn=(ke&536870912)===0||Oe?De():536870912);var e=vn.current;return e!==null&&(e.flags|=32),yn}function dn(e,t,i){(e===Ye&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(Us(e,0),mi(e,ke,yn,!1)),Bt(e,i),((Pe&2)===0||e!==Ye)&&(e===Ye&&((Pe&2)===0&&(Ki|=i),at===4&&mi(e,ke,yn,!1)),Vn(e))}function Lg(e,t,i){if((Pe&6)!==0)throw Error(o(327));var r=!i&&(t&124)===0&&(t&e.expiredLanes)===0||ye(e,t),c=r?Kb(e,t):zd(e,t,!0),d=r;do{if(c===0){Ps&&!r&&mi(e,t,0,!1);break}else{if(i=e.current.alternate,d&&!Yb(i)){c=zd(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var A=0;else A=e.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){t=A;e:{var y=e;c=_r;var S=y.current.memoizedState.isDehydrated;if(S&&(Us(y,A).flags|=256),A=zd(y,A,!1),A!==2){if(Hd&&!S){y.errorRecoveryDisabledLanes|=d,Ki|=d,c=4;break e}d=Kt,Kt=c,d!==null&&(Kt===null?Kt=d:Kt.push.apply(Kt,d))}c=A}if(d=!1,c!==2)continue}}if(c===1){Us(e,0),mi(e,t,0,!0);break}e:{switch(r=e,d=c,d){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:mi(r,t,yn,!ui);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Pd+300-lt(),10<c)){if(mi(r,t,yn,!ui),ce(r,0,!0)!==0)break e;r.timeoutHandle=hp(Ug.bind(null,r,i,Kt,Ol,Nd,t,yn,Ki,Gs,ui,d,2,-0,0),c);break e}Ug(r,i,Kt,Ol,Nd,t,yn,Ki,Gs,ui,d,0,-0,0)}}break}while(!0);Vn(e)}function Ug(e,t,i,r,c,d,A,y,S,G,K,J,Q,j){if(e.timeoutHandle=-1,J=t.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(to={stylesheets:null,count:0,unsuspend:B1},Hg(t),J=D1(),J!==null)){e.cancelPendingCommit=J(Yg.bind(null,e,t,d,i,r,c,A,y,S,K,1,Q,j)),mi(e,d,A,!G);return}Yg(e,t,d,i,r,c,A,y,S)}function Yb(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var c=i[r],d=c.getSnapshot;c=c.value;try{if(!sn(d(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mi(e,t,i,r){t&=~Od,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var d=31-ft(c),A=1<<d;r[d]=-1,c&=~A}i!==0&&ha(e,i,t)}function Nl(){return(Pe&6)===0?(Vr(0),!1):!0}function Ud(){if(Re!==null){if(Ge===0)var e=Re.return;else e=Re,Ra=Ii=null,nd(e),ks=null,Ur=0,e=Re;for(;e!==null;)vg(e.alternate,e),e=e.return;Re=null}}function Us(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,u1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Ud(),Ye=e,Re=i=Sa(e.current,null),ke=t,Ge=0,cn=null,ui=!1,Ps=ye(e,t),Hd=!1,Gs=yn=Od=Ki=di=at=0,Kt=_r=null,Nd=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-ft(r),d=1<<c;t|=e[c],r&=~d}return Na=t,nl(),i}function jg(e,t){we=null,B.H=El,t===Tr||t===dl?(t=a0(),Ge=3):t===e0?(t=a0(),Ge=4):Ge=t===ig?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,cn=t,Re===null&&(at=1,Rl(e,mn(t,e.current)))}function zg(){var e=B.H;return B.H=El,e===null?El:e}function Ig(){var e=B.A;return B.A=qb,e}function jd(){at=4,ui||(ke&4194048)!==ke&&vn.current!==null||(Ps=!0),(di&134217727)===0&&(Ki&134217727)===0||Ye===null||mi(Ye,ke,yn,!1)}function zd(e,t,i){var r=Pe;Pe|=2;var c=zg(),d=Ig();(Ye!==e||ke!==t)&&(Ol=null,Us(e,t)),t=!1;var A=at;e:do try{if(Ge!==0&&Re!==null){var y=Re,S=cn;switch(Ge){case 8:Ud(),A=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(t=!0);var G=Ge;if(Ge=0,cn=null,js(e,y,S,G),i&&Ps){A=0;break e}break;default:G=Ge,Ge=0,cn=null,js(e,y,S,G)}}_b(),A=at;break}catch(K){jg(e,K)}while(!0);return t&&e.shellSuspendCounter++,Ra=Ii=null,Pe=r,B.H=c,B.A=d,Re===null&&(Ye=null,ke=0,nl()),A}function _b(){for(;Re!==null;)Fg(Re)}function Kb(e,t){var i=Pe;Pe|=2;var r=zg(),c=Ig();Ye!==e||ke!==t?(Ol=null,Hl=lt()+500,Us(e,t)):Ps=ye(e,t);e:do try{if(Ge!==0&&Re!==null){t=Re;var d=cn;t:switch(Ge){case 1:Ge=0,cn=null,js(e,t,d,1);break;case 2:case 9:if(t0(d)){Ge=0,cn=null,qg(t);break}t=function(){Ge!==2&&Ge!==9||Ye!==e||(Ge=7),Vn(e)},d.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:t0(d)?(Ge=0,cn=null,qg(t)):(Ge=0,cn=null,js(e,t,d,7));break;case 5:var A=null;switch(Re.tag){case 26:A=Re.memoizedState;case 5:case 27:var y=Re;if(!A||Cp(A)){Ge=0,cn=null;var S=y.sibling;if(S!==null)Re=S;else{var G=y.return;G!==null?(Re=G,Pl(G)):Re=null}break t}}Ge=0,cn=null,js(e,t,d,5);break;case 6:Ge=0,cn=null,js(e,t,d,6);break;case 8:Ud(),at=6;break e;default:throw Error(o(462))}}Vb();break}catch(K){jg(e,K)}while(!0);return Ra=Ii=null,B.H=r,B.A=c,Pe=i,Re!==null?0:(Ye=null,ke=0,nl(),at)}function Vb(){for(;Re!==null&&!la();)Fg(Re)}function Fg(e){var t=pg(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?Pl(e):Re=t}function qg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=ug(i,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=ug(i,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:nd(t);default:vg(i,t),t=Re=Xm(t,Na),t=pg(i,t,Na)}e.memoizedProps=e.pendingProps,t===null?Pl(e):Re=t}function js(e,t,i,r){Ra=Ii=null,nd(t),ks=null,Ur=0;var c=t.return;try{if(Lb(e,c,t,i,ke)){at=1,Rl(e,mn(i,e.current)),Re=null;return}}catch(d){if(c!==null)throw Re=c,d;at=1,Rl(e,mn(i,e.current)),Re=null;return}t.flags&32768?(Oe||r===1?e=!0:Ps||(ke&536870912)!==0?e=!1:(ui=e=!0,(r===2||r===9||r===3||r===6)&&(r=vn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Xg(t,e)):Pl(t)}function Pl(e){var t=e;do{if((t.flags&32768)!==0){Xg(t,ui);return}e=t.return;var i=jb(t.alternate,t,Na);if(i!==null){Re=i;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);at===0&&(at=5)}function Xg(e,t){do{var i=zb(e.alternate,e);if(i!==null){i.flags&=32767,Re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=i}while(e!==null);at=6,Re=null}function Yg(e,t,i,r,c,d,A,y,S){e.cancelPendingCommit=null;do Gl();while(Dt!==0);if((Pe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(d=t.lanes|t.childLanes,d|=ku,fa(e,i,d,A,y,S),e===Ye&&(Re=Ye=null,ke=0),Qs=t,hi=e,Ls=i,Gd=d,Qd=c,Gg=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$b(qt,function(){return Jg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=B.T,B.T=null,c=z.p,z.p=2,A=Pe,Pe|=4;try{Ib(e,t,i)}finally{Pe=A,z.p=c,B.T=r}}Dt=1,_g(),Kg(),Vg()}}function _g(){if(Dt===1){Dt=0;var e=hi,t=Qs,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var r=z.p;z.p=2;var c=Pe;Pe|=4;try{Dg(t,e);var d=$d,A=Pm(e.containerInfo),y=d.focusedElem,S=d.selectionRange;if(A!==y&&y&&y.ownerDocument&&Nm(y.ownerDocument.documentElement,y)){if(S!==null&&Ru(y)){var G=S.start,K=S.end;if(K===void 0&&(K=G),"selectionStart"in y)y.selectionStart=G,y.selectionEnd=Math.min(K,y.value.length);else{var J=y.ownerDocument||document,Q=J&&J.defaultView||window;if(Q.getSelection){var j=Q.getSelection(),ve=y.textContent.length,pe=Math.min(S.start,ve),je=S.end===void 0?pe:Math.min(S.end,ve);!j.extend&&pe>je&&(A=je,je=pe,pe=A);var H=Om(y,pe),R=Om(y,je);if(H&&R&&(j.rangeCount!==1||j.anchorNode!==H.node||j.anchorOffset!==H.offset||j.focusNode!==R.node||j.focusOffset!==R.offset)){var P=J.createRange();P.setStart(H.node,H.offset),j.removeAllRanges(),pe>je?(j.addRange(P),j.extend(R.node,R.offset)):(P.setEnd(R.node,R.offset),j.addRange(P))}}}}for(J=[],j=y;j=j.parentNode;)j.nodeType===1&&J.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<J.length;y++){var V=J[y];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Kl=!!Wd,$d=Wd=null}finally{Pe=c,z.p=r,B.T=i}}e.current=t,Dt=2}}function Kg(){if(Dt===2){Dt=0;var e=hi,t=Qs,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var r=z.p;z.p=2;var c=Pe;Pe|=4;try{Cg(e,t.alternate,t)}finally{Pe=c,z.p=r,B.T=i}}Dt=3}}function Vg(){if(Dt===4||Dt===3){Dt=0,ca();var e=hi,t=Qs,i=Ls,r=Gg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Dt=5:(Dt=0,Qs=hi=null,Zg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(fi=null),pa(i),t=t.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Ne,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=B.T,c=z.p,z.p=2,B.T=null;try{for(var d=e.onRecoverableError,A=0;A<r.length;A++){var y=r[A];d(y.value,{componentStack:y.stack})}}finally{B.T=t,z.p=c}}(Ls&3)!==0&&Gl(),Vn(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===Ld?Kr++:(Kr=0,Ld=e):Kr=0,Vr(0)}}function Zg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Mr(t)))}function Gl(e){return _g(),Kg(),Vg(),Jg()}function Jg(){if(Dt!==5)return!1;var e=hi,t=Gd;Gd=0;var i=pa(Ls),r=B.T,c=z.p;try{z.p=32>i?32:i,B.T=null,i=Qd,Qd=null;var d=hi,A=Ls;if(Dt=0,Qs=hi=null,Ls=0,(Pe&6)!==0)throw Error(o(331));var y=Pe;if(Pe|=4,Ng(d.current),kg(d,d.current,A,i),Pe=y,Vr(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Ne,d)}catch{}return!0}finally{z.p=c,B.T=r,Zg(e,t)}}function Wg(e,t,i){t=mn(i,t),t=pd(e.stateNode,t,2),e=ai(e,t,2),e!==null&&(Bt(e,2),Vn(e))}function qe(e,t,i){if(e.tag===3)Wg(e,e,i);else for(;t!==null;){if(t.tag===3){Wg(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){e=mn(i,e),i=ng(2),r=ai(t,i,2),r!==null&&(ag(i,r,t,e),Bt(r,2),Vn(r));break}}t=t.return}}function Id(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new Xb;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(i)||(Hd=!0,c.add(i),e=Zb.bind(null,e,t,i),t.then(e,e))}function Zb(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ye===e&&(ke&i)===i&&(at===4||at===3&&(ke&62914560)===ke&&300>lt()-Pd?(Pe&2)===0&&Us(e,0):Od|=i,Gs===ke&&(Gs=0)),Vn(e)}function $g(e,t){t===0&&(t=Et()),e=Es(e,t),e!==null&&(Bt(e,t),Vn(e))}function Jb(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),$g(e,i)}function Wb(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(t),$g(e,i)}function $b(e,t){return It(e,t)}var Ql=null,zs=null,Fd=!1,Ll=!1,qd=!1,Vi=0;function Vn(e){e!==zs&&e.next===null&&(zs===null?Ql=zs=e:zs=zs.next=e),Ll=!0,Fd||(Fd=!0,t1())}function Vr(e,t){if(!qd&&Ll){qd=!0;do for(var i=!1,r=Ql;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var d=0;else{var A=r.suspendedLanes,y=r.pingedLanes;d=(1<<31-ft(42|e)+1)-1,d&=c&~(A&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,ap(r,d))}else d=ke,d=ce(r,r===Ye?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||ye(r,d)||(i=!0,ap(r,d));r=r.next}while(i);qd=!1}}function e1(){ep()}function ep(){Ll=Fd=!1;var e=0;Vi!==0&&(c1()&&(e=Vi),Vi=0);for(var t=lt(),i=null,r=Ql;r!==null;){var c=r.next,d=tp(r,t);d===0?(r.next=null,i===null?Ql=c:i.next=c,c===null&&(zs=i)):(i=r,(e!==0||(d&3)!==0)&&(Ll=!0)),r=c}Vr(e)}function tp(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var A=31-ft(d),y=1<<A,S=c[A];S===-1?((y&i)===0||(y&r)!==0)&&(c[A]=be(y,t)):S<=t&&(e.expiredLanes|=y),d&=~y}if(t=Ye,i=ke,i=ce(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ft(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ye(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Ft(r),pa(i)){case 2:case 8:i=hn;break;case 32:i=qt;break;case 268435456:i=Cn;break;default:i=qt}return r=np.bind(null,e),i=It(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Ft(r),e.callbackPriority=2,e.callbackNode=null,2}function np(e,t){if(Dt!==0&&Dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Gl()&&e.callbackNode!==i)return null;var r=ke;return r=ce(e,e===Ye?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Lg(e,r,t),tp(e,lt()),e.callbackNode!=null&&e.callbackNode===i?np.bind(null,e):null)}function ap(e,t){if(Gl())return null;Lg(e,t,!0)}function t1(){d1(function(){(Pe&6)!==0?It(xn,e1):ep()})}function Xd(){return Vi===0&&(Vi=De()),Vi}function ip(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vo(""+e)}function sp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function n1(e,t,i,r,c){if(t==="submit"&&i&&i.stateNode===c){var d=ip((c[mt]||null).action),A=r.submitter;A&&(t=(t=A[mt]||null)?ip(t.formAction):A.getAttribute("formAction"),t!==null&&(d=t,A=null));var y=new $o("action","action",null,r,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Vi!==0){var S=A?sp(c,A):new FormData(c);dd(i,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(y.preventDefault(),S=A?sp(c,A):new FormData(c),dd(i,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var Yd=0;Yd<Tu.length;Yd++){var _d=Tu[Yd],a1=_d.toLowerCase(),i1=_d[0].toUpperCase()+_d.slice(1);Tn(a1,"on"+i1)}Tn(Lm,"onAnimationEnd"),Tn(Um,"onAnimationIteration"),Tn(jm,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Eb,"onTransitionRun"),Tn(wb,"onTransitionStart"),Tn(Sb,"onTransitionCancel"),Tn(zm,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zr));function rp(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],c=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var A=r.length-1;0<=A;A--){var y=r[A],S=y.instance,G=y.currentTarget;if(y=y.listener,S!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=G;try{d(c)}catch(K){Cl(K)}c.currentTarget=null,d=S}else for(A=0;A<r.length;A++){if(y=r[A],S=y.instance,G=y.currentTarget,y=y.listener,S!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=G;try{d(c)}catch(K){Cl(K)}c.currentTarget=null,d=S}}}}function Be(e,t){var i=t[Ka];i===void 0&&(i=t[Ka]=new Set);var r=e+"__bubble";i.has(r)||(op(t,e,2,!1),i.add(r))}function Kd(e,t,i){var r=0;t&&(r|=4),op(i,e,r,t)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[Ul]){e[Ul]=!0,hs.forEach(function(i){i!=="selectionchange"&&(s1.has(i)||Kd(i,!1,e),Kd(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ul]||(t[Ul]=!0,Kd("selectionchange",!1,t))}}function op(e,t,i,r){switch(kp(t)){case 2:var c=H1;break;case 8:c=O1;break;default:c=uf}i=c.bind(null,t,i,e),c=void 0,!Au||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Zd(e,t,i,r,c){var d=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var y=r.stateNode.containerInfo;if(y===c)break;if(A===4)for(A=r.return;A!==null;){var S=A.tag;if((S===3||S===4)&&A.stateNode.containerInfo===c)return;A=A.return}for(;y!==null;){if(A=va(y),A===null)return;if(S=A.tag,S===5||S===6||S===26||S===27){r=d=A;continue e}y=y.parentNode}}r=r.return}mm(function(){var G=d,K=gu(i),J=[];e:{var Q=Im.get(e);if(Q!==void 0){var j=$o,ve=e;switch(e){case"keypress":if(Jo(i)===0)break e;case"keydown":case"keyup":j=$2;break;case"focusin":ve="focus",j=Eu;break;case"focusout":ve="blur",j=Eu;break;case"beforeblur":case"afterblur":j=Eu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=z2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=nb;break;case Lm:case Um:case jm:j=q2;break;case zm:j=ib;break;case"scroll":case"scrollend":j=U2;break;case"wheel":j=rb;break;case"copy":case"cut":case"paste":j=Y2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=ym;break;case"toggle":case"beforetoggle":j=lb}var pe=(t&4)!==0,je=!pe&&(e==="scroll"||e==="scrollend"),H=pe?Q!==null?Q+"Capture":null:Q;pe=[];for(var R=G,P;R!==null;){var V=R;if(P=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||P===null||H===null||(V=gr(R,H),V!=null&&pe.push(Jr(R,V,P))),je)break;R=R.return}0<pe.length&&(Q=new j(Q,ve,null,i,K),J.push({event:Q,listeners:pe}))}}if((t&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",Q&&i!==mu&&(ve=i.relatedTarget||i.fromElement)&&(va(ve)||ve[Aa]))break e;if((j||Q)&&(Q=K.window===K?K:(Q=K.ownerDocument)?Q.defaultView||Q.parentWindow:window,j?(ve=i.relatedTarget||i.toElement,j=G,ve=ve?va(ve):null,ve!==null&&(je=u(ve),pe=ve.tag,ve!==je||pe!==5&&pe!==27&&pe!==6)&&(ve=null)):(j=null,ve=G),j!==ve)){if(pe=Am,V="onMouseLeave",H="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(pe=ym,V="onPointerLeave",H="onPointerEnter",R="pointer"),je=j==null?Q:ya(j),P=ve==null?Q:ya(ve),Q=new pe(V,R+"leave",j,i,K),Q.target=je,Q.relatedTarget=P,V=null,va(K)===G&&(pe=new pe(H,R+"enter",ve,i,K),pe.target=P,pe.relatedTarget=je,V=pe),je=V,j&&ve)t:{for(pe=j,H=ve,R=0,P=pe;P;P=Is(P))R++;for(P=0,V=H;V;V=Is(V))P++;for(;0<R-P;)pe=Is(pe),R--;for(;0<P-R;)H=Is(H),P--;for(;R--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=Is(pe),H=Is(H)}pe=null}else pe=null;j!==null&&lp(J,Q,j,pe,!1),ve!==null&&je!==null&&lp(J,je,ve,pe,!0)}}e:{if(Q=G?ya(G):window,j=Q.nodeName&&Q.nodeName.toLowerCase(),j==="select"||j==="input"&&Q.type==="file")var ue=Bm;else if(Cm(Q))if(Mm)ue=vb;else{ue=pb;var xe=gb}else j=Q.nodeName,!j||j.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&hu(G.elementType)&&(ue=Bm):ue=Ab;if(ue&&(ue=ue(e,G))){Rm(J,ue,i,K);break e}xe&&xe(e,Q,G),e==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Wa(Q,"number",Q.value)}switch(xe=G?ya(G):window,e){case"focusin":(Cm(xe)||xe.contentEditable==="true")&&(vs=xe,Bu=G,Sr=null);break;case"focusout":Sr=Bu=vs=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,Gm(J,i,K);break;case"selectionchange":if(bb)break;case"keydown":case"keyup":Gm(J,i,K)}var me;if(Su)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else As?Sm(e,i)&&(Ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ae="onCompositionStart");Ae&&(bm&&i.locale!=="ko"&&(As||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&As&&(me=gm()):($a=K,vu="value"in $a?$a.value:$a.textContent,As=!0)),xe=jl(G,Ae),0<xe.length&&(Ae=new vm(Ae,e,null,i,K),J.push({event:Ae,listeners:xe}),me?Ae.data=me:(me=xm(i),me!==null&&(Ae.data=me)))),(me=ub?db(e,i):fb(e,i))&&(Ae=jl(G,"onBeforeInput"),0<Ae.length&&(xe=new vm("onBeforeInput","beforeinput",null,i,K),J.push({event:xe,listeners:Ae}),xe.data=me)),n1(J,e,G,i,K)}rp(J,t)})}function Jr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function jl(e,t){for(var i=t+"Capture",r=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=gr(e,i),c!=null&&r.unshift(Jr(e,c,d)),c=gr(e,t),c!=null&&r.push(Jr(e,c,d))),e.tag===3)return r;e=e.return}return[]}function Is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lp(e,t,i,r,c){for(var d=t._reactName,A=[];i!==null&&i!==r;){var y=i,S=y.alternate,G=y.stateNode;if(y=y.tag,S!==null&&S===r)break;y!==5&&y!==26&&y!==27||G===null||(S=G,c?(G=gr(i,d),G!=null&&A.unshift(Jr(i,G,S))):c||(G=gr(i,d),G!=null&&A.push(Jr(i,G,S)))),i=i.return}A.length!==0&&e.push({event:t,listeners:A})}var r1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function cp(e){return(typeof e=="string"?e:""+e).replace(r1,`
`).replace(o1,"")}function up(e,t){return t=cp(t),cp(e)===t}function zl(){}function Ue(e,t,i,r,c,d){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||ms(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&ms(e,""+r);break;case"className":Hi(e,"class",r);break;case"tabIndex":Hi(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(e,i,r);break;case"style":fm(e,r,d);break;case"data":if(t!=="object"){Hi(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Vo(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&Ue(e,t,"name",c.name,c,null),Ue(e,t,"formEncType",c.formEncType,c,null),Ue(e,t,"formMethod",c.formMethod,c,null),Ue(e,t,"formTarget",c.formTarget,c,null)):(Ue(e,t,"encType",c.encType,c,null),Ue(e,t,"method",c.method,c,null),Ue(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Vo(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=zl);break;case"onScroll":r!=null&&Be("scroll",e);break;case"onScrollEnd":r!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Vo(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":Be("beforetoggle",e),Be("toggle",e),ki(e,"popover",r);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ki(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Q2.get(i)||i,ki(e,i,r))}}function Jd(e,t,i,r,c,d){switch(i){case"style":fm(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=i}}break;case"children":typeof r=="string"?ms(e,r):(typeof r=="number"||typeof r=="bigint")&&ms(e,""+r);break;case"onScroll":r!=null&&Be("scroll",e);break;case"onScrollEnd":r!=null&&Be("scrollend",e);break;case"onClick":r!=null&&(e.onclick=zl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),d=e[mt]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof r=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,c);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):ki(e,i,r)}}}function Tt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var r=!1,c=!1,d;for(d in i)if(i.hasOwnProperty(d)){var A=i[d];if(A!=null)switch(d){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ue(e,t,d,A,i,null)}}c&&Ue(e,t,"srcSet",i.srcSet,i,null),r&&Ue(e,t,"src",i.src,i,null);return;case"input":Be("invalid",e);var y=d=A=c=null,S=null,G=null;for(r in i)if(i.hasOwnProperty(r)){var K=i[r];if(K!=null)switch(r){case"name":c=K;break;case"type":A=K;break;case"checked":S=K;break;case"defaultChecked":G=K;break;case"value":d=K;break;case"defaultValue":y=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,t));break;default:Ue(e,t,r,K,i,null)}}Ja(e,d,y,S,G,A,c,!1),wt(e);return;case"select":Be("invalid",e),r=A=d=null;for(c in i)if(i.hasOwnProperty(c)&&(y=i[c],y!=null))switch(c){case"value":d=y;break;case"defaultValue":A=y;break;case"multiple":r=y;default:Ue(e,t,c,y,i,null)}t=d,i=A,e.multiple=!!r,t!=null?Ea(e,!!r,t,!1):i!=null&&Ea(e,!!r,i,!0);return;case"textarea":Be("invalid",e),d=c=r=null;for(A in i)if(i.hasOwnProperty(A)&&(y=i[A],y!=null))switch(A){case"value":r=y;break;case"defaultValue":c=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(o(91));break;default:Ue(e,t,A,y,i,null)}Ko(e,r,c,d),wt(e);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(r=i[S],r!=null))switch(S){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ue(e,t,S,r,i,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(r=0;r<Zr.length;r++)Be(Zr[r],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in i)if(i.hasOwnProperty(G)&&(r=i[G],r!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ue(e,t,G,r,i,null)}return;default:if(hu(t)){for(K in i)i.hasOwnProperty(K)&&(r=i[K],r!==void 0&&Jd(e,t,K,r,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(r=i[y],r!=null&&Ue(e,t,y,r,i,null))}function l1(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,A=null,y=null,S=null,G=null,K=null;for(j in i){var J=i[j];if(i.hasOwnProperty(j)&&J!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":S=J;default:r.hasOwnProperty(j)||Ue(e,t,j,null,r,J)}}for(var Q in r){var j=r[Q];if(J=i[Q],r.hasOwnProperty(Q)&&(j!=null||J!=null))switch(Q){case"type":d=j;break;case"name":c=j;break;case"checked":G=j;break;case"defaultChecked":K=j;break;case"value":A=j;break;case"defaultValue":y=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(137,t));break;default:j!==J&&Ue(e,t,Q,j,r,J)}}tt(e,A,y,S,G,K,d,c);return;case"select":j=A=y=Q=null;for(d in i)if(S=i[d],i.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":j=S;default:r.hasOwnProperty(d)||Ue(e,t,d,null,r,S)}for(c in r)if(d=r[c],S=i[c],r.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":Q=d;break;case"defaultValue":y=d;break;case"multiple":A=d;default:d!==S&&Ue(e,t,c,d,r,S)}t=y,i=A,r=j,Q!=null?Ea(e,!!i,Q,!1):!!r!=!!i&&(t!=null?Ea(e,!!i,t,!0):Ea(e,!!i,i?[]:"",!1));return;case"textarea":j=Q=null;for(y in i)if(c=i[y],i.hasOwnProperty(y)&&c!=null&&!r.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ue(e,t,y,null,r,c)}for(A in r)if(c=r[A],d=i[A],r.hasOwnProperty(A)&&(c!=null||d!=null))switch(A){case"value":Q=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==d&&Ue(e,t,A,c,r,d)}qn(e,Q,j);return;case"option":for(var ve in i)if(Q=i[ve],i.hasOwnProperty(ve)&&Q!=null&&!r.hasOwnProperty(ve))switch(ve){case"selected":e.selected=!1;break;default:Ue(e,t,ve,null,r,Q)}for(S in r)if(Q=r[S],j=i[S],r.hasOwnProperty(S)&&Q!==j&&(Q!=null||j!=null))switch(S){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ue(e,t,S,Q,r,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in i)Q=i[pe],i.hasOwnProperty(pe)&&Q!=null&&!r.hasOwnProperty(pe)&&Ue(e,t,pe,null,r,Q);for(G in r)if(Q=r[G],j=i[G],r.hasOwnProperty(G)&&Q!==j&&(Q!=null||j!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:Ue(e,t,G,Q,r,j)}return;default:if(hu(t)){for(var je in i)Q=i[je],i.hasOwnProperty(je)&&Q!==void 0&&!r.hasOwnProperty(je)&&Jd(e,t,je,void 0,r,Q);for(K in r)Q=r[K],j=i[K],!r.hasOwnProperty(K)||Q===j||Q===void 0&&j===void 0||Jd(e,t,K,Q,r,j);return}}for(var H in i)Q=i[H],i.hasOwnProperty(H)&&Q!=null&&!r.hasOwnProperty(H)&&Ue(e,t,H,null,r,Q);for(J in r)Q=r[J],j=i[J],!r.hasOwnProperty(J)||Q===j||Q==null&&j==null||Ue(e,t,J,Q,r,j)}var Wd=null,$d=null;function Il(e){return e.nodeType===9?e:e.ownerDocument}function dp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ef(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tf=null;function c1(){var e=window.event;return e&&e.type==="popstate"?e===tf?!1:(tf=e,!0):(tf=null,!1)}var hp=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(e){return mp.resolve(null).then(e).catch(f1)}:hp;function f1(e){setTimeout(function(){throw e})}function gi(e){return e==="head"}function gp(e,t){var i=t,r=0,c=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(0<r&&8>r){i=r;var A=e.ownerDocument;if(i&1&&Wr(A.documentElement),i&2&&Wr(A.body),i&4)for(i=A.head,Wr(i),A=i.firstChild;A;){var y=A.nextSibling,S=A.nodeName;A[Ti]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&A.rel.toLowerCase()==="stylesheet"||i.removeChild(A),A=y}}if(c===0){e.removeChild(d),ro(t);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:r=i.charCodeAt(0)-48;else r=0;i=d}while(i);ro(t)}function nf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":nf(i),fs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function h1(e,t,i,r){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ti])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function m1(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Hn(e.nextSibling),e===null))return null;return e}function af(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function g1(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var sf=null;function pp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function Ap(e,t,i){switch(t=Il(i),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Wr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fs(e)}var bn=new Map,vp=new Set;function Fl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pa=z.d;z.d={f:p1,r:A1,D:v1,C:y1,L:b1,m:E1,X:S1,S:w1,M:x1};function p1(){var e=Pa.f(),t=Nl();return e||t}function A1(e){var t=Va(e);t!==null&&t.tag===5&&t.type==="form"?L0(t):Pa.r(e)}var Fs=typeof document>"u"?null:document;function yp(e,t,i){var r=Fs;if(r&&typeof t=="string"&&t){var c=gt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),vp.has(c)||(vp.add(c),e={rel:e,crossOrigin:i,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),Tt(t,"link",e),$e(t),r.head.appendChild(t)))}}function v1(e){Pa.D(e),yp("dns-prefetch",e,null)}function y1(e,t){Pa.C(e,t),yp("preconnect",e,t)}function b1(e,t,i){Pa.L(e,t,i);var r=Fs;if(r&&e&&t){var c='link[rel="preload"][as="'+gt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+gt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+gt(i.imageSizes)+'"]')):c+='[href="'+gt(e)+'"]';var d=c;switch(t){case"style":d=qs(e);break;case"script":d=Xs(e)}bn.has(d)||(e=p({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),bn.set(d,e),r.querySelector(c)!==null||t==="style"&&r.querySelector($r(d))||t==="script"&&r.querySelector(eo(d))||(t=r.createElement("link"),Tt(t,"link",e),$e(t),r.head.appendChild(t)))}}function E1(e,t){Pa.m(e,t);var i=Fs;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',d=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xs(e)}if(!bn.has(d)&&(e=p({rel:"modulepreload",href:e},t),bn.set(d,e),i.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(eo(d)))return}r=i.createElement("link"),Tt(r,"link",e),$e(r),i.head.appendChild(r)}}}function w1(e,t,i){Pa.S(e,t,i);var r=Fs;if(r&&e){var c=ba(r).hoistableStyles,d=qs(e);t=t||"default";var A=c.get(d);if(!A){var y={loading:0,preload:null};if(A=r.querySelector($r(d)))y.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},i),(i=bn.get(d))&&rf(e,i);var S=A=r.createElement("link");$e(S),Tt(S,"link",e),S._p=new Promise(function(G,K){S.onload=G,S.onerror=K}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,ql(A,t,r)}A={type:"stylesheet",instance:A,count:1,state:y},c.set(d,A)}}}function S1(e,t){Pa.X(e,t);var i=Fs;if(i&&e){var r=ba(i).hoistableScripts,c=Xs(e),d=r.get(c);d||(d=i.querySelector(eo(c)),d||(e=p({src:e,async:!0},t),(t=bn.get(c))&&of(e,t),d=i.createElement("script"),$e(d),Tt(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function x1(e,t){Pa.M(e,t);var i=Fs;if(i&&e){var r=ba(i).hoistableScripts,c=Xs(e),d=r.get(c);d||(d=i.querySelector(eo(c)),d||(e=p({src:e,async:!0,type:"module"},t),(t=bn.get(c))&&of(e,t),d=i.createElement("script"),$e(d),Tt(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function bp(e,t,i,r){var c=(c=he.current)?Fl(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=qs(i.href),i=ba(c).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=qs(i.href);var d=ba(c).hoistableStyles,A=d.get(e);if(A||(c=c.ownerDocument||c,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,A),(d=c.querySelector($r(e)))&&!d._p&&(A.instance=d,A.state.loading=5),bn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},bn.set(e,i),d||C1(c,e,i,A.state))),t&&r===null)throw Error(o(528,""));return A}if(t&&r!==null)throw Error(o(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xs(i),i=ba(c).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function qs(e){return'href="'+gt(e)+'"'}function $r(e){return'link[rel="stylesheet"]['+e+"]"}function Ep(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function C1(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Tt(t,"link",i),$e(t),e.head.appendChild(t))}function Xs(e){return'[src="'+gt(e)+'"]'}function eo(e){return"script[async]"+e}function wp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(i.href)+'"]');if(r)return t.instance=r,$e(r),r;var c=p({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),$e(r),Tt(r,"style",c),ql(r,i.precedence,e),t.instance=r;case"stylesheet":c=qs(i.href);var d=e.querySelector($r(c));if(d)return t.state.loading|=4,t.instance=d,$e(d),d;r=Ep(i),(c=bn.get(c))&&rf(r,c),d=(e.ownerDocument||e).createElement("link"),$e(d);var A=d;return A._p=new Promise(function(y,S){A.onload=y,A.onerror=S}),Tt(d,"link",r),t.state.loading|=4,ql(d,i.precedence,e),t.instance=d;case"script":return d=Xs(i.src),(c=e.querySelector(eo(d)))?(t.instance=c,$e(c),c):(r=i,(c=bn.get(d))&&(r=p({},i),of(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),$e(c),Tt(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,ql(r,i.precedence,e));return t.instance}function ql(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,d=c,A=0;A<r.length;A++){var y=r[A];if(y.dataset.precedence===t)d=y;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function rf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function of(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xl=null;function Sp(e,t,i){if(Xl===null){var r=new Map,c=Xl=new Map;c.set(i,r)}else c=Xl,r=c.get(i),r||(r=new Map,c.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var d=i[c];if(!(d[Ti]||d[We]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var A=d.getAttribute(t)||"";A=e+A;var y=r.get(A);y?y.push(d):r.set(A,[d])}}return r}function xp(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function R1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Cp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var to=null;function B1(){}function M1(e,t,i){if(to===null)throw Error(o(475));var r=to;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=qs(i.href),d=e.querySelector($r(c));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Yl.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=d,$e(d);return}d=e.ownerDocument||e,i=Ep(i),(c=bn.get(c))&&rf(i,c),d=d.createElement("link"),$e(d);var A=d;A._p=new Promise(function(y,S){A.onload=y,A.onerror=S}),Tt(d,"link",i),t.instance=d}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=Yl.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function D1(){if(to===null)throw Error(o(475));var e=to;return e.stylesheets&&e.count===0&&lf(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&lf(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Yl(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _l=null;function lf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_l=new Map,t.forEach(T1,e),_l=null,Yl.call(e))}function T1(e,t){if(!(t.state.loading&4)){var i=_l.get(e);if(i)var r=i.get(null);else{i=new Map,_l.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var A=c[d];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(i.set(A.dataset.precedence,A),r=A)}r&&i.set(null,r)}c=t.instance,A=c.getAttribute("data-precedence"),d=i.get(A)||r,d===r&&i.set(null,c),i.set(A,c),this.count++,r=Yl.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var no={$$typeof:I,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function k1(e,t,i,r,c,d,A,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.hiddenUpdates=ht(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Rp(e,t,i,r,c,d,A,y,S,G,K,J){return e=new k1(e,t,i,A,y,S,G,J),t=1,d===!0&&(t|=24),d=rn(3,null,null,t),e.current=d,d.stateNode=e,t=Iu(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:r,isDehydrated:i,cache:t},Yu(d),e}function Bp(e){return e?(e=ws,e):ws}function Mp(e,t,i,r,c,d){c=Bp(c),r.context===null?r.context=c:r.pendingContext=c,r=ni(t),r.payload={element:i},d=d===void 0?null:d,d!==null&&(r.callback=d),i=ai(e,r,t),i!==null&&(dn(i,e,t),Hr(i,e,t))}function Dp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function cf(e,t){Dp(e,t),(e=e.alternate)&&Dp(e,t)}function Tp(e){if(e.tag===13){var t=Es(e,67108864);t!==null&&dn(t,e,67108864),cf(e,67108864)}}var Kl=!0;function H1(e,t,i,r){var c=B.T;B.T=null;var d=z.p;try{z.p=2,uf(e,t,i,r)}finally{z.p=d,B.T=c}}function O1(e,t,i,r){var c=B.T;B.T=null;var d=z.p;try{z.p=8,uf(e,t,i,r)}finally{z.p=d,B.T=c}}function uf(e,t,i,r){if(Kl){var c=df(r);if(c===null)Zd(e,t,r,Vl,i),Hp(e,r);else if(P1(c,e,t,i,r))r.stopPropagation();else if(Hp(e,r),t&4&&-1<N1.indexOf(e)){for(;c!==null;){var d=Va(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var A=Bn(d.pendingLanes);if(A!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;A;){var S=1<<31-ft(A);y.entanglements[1]|=S,A&=~S}Vn(d),(Pe&6)===0&&(Hl=lt()+500,Vr(0))}}break;case 13:y=Es(d,2),y!==null&&dn(y,d,2),Nl(),cf(d,2)}if(d=df(r),d===null&&Zd(e,t,r,Vl,i),d===c)break;c=d}c!==null&&r.stopPropagation()}else Zd(e,t,r,null,i)}}function df(e){return e=gu(e),ff(e)}var Vl=null;function ff(e){if(Vl=null,e=va(e),e!==null){var t=u(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vl=e,null}function kp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case xn:return 2;case hn:return 8;case qt:case _a:return 32;case Cn:return 268435456;default:return 32}default:return 32}}var hf=!1,pi=null,Ai=null,vi=null,ao=new Map,io=new Map,yi=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hp(e,t){switch(e){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function so(e,t,i,r,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Va(t),t!==null&&Tp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function P1(e,t,i,r,c){switch(t){case"focusin":return pi=so(pi,e,t,i,r,c),!0;case"dragenter":return Ai=so(Ai,e,t,i,r,c),!0;case"mouseover":return vi=so(vi,e,t,i,r,c),!0;case"pointerover":var d=c.pointerId;return ao.set(d,so(ao.get(d)||null,e,t,i,r,c)),!0;case"gotpointercapture":return d=c.pointerId,io.set(d,so(io.get(d)||null,e,t,i,r,c)),!0}return!1}function Op(e){var t=va(e.target);if(t!==null){var i=u(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,zo(e.priority,function(){if(i.tag===13){var r=un();r=ga(r);var c=Es(i,r);c!==null&&dn(c,i,r),cf(i,r)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=df(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);mu=r,i.target.dispatchEvent(r),mu=null}else return t=Va(i),t!==null&&Tp(t),e.blockedOn=i,!1;t.shift()}return!0}function Np(e,t,i){Zl(e)&&i.delete(t)}function G1(){hf=!1,pi!==null&&Zl(pi)&&(pi=null),Ai!==null&&Zl(Ai)&&(Ai=null),vi!==null&&Zl(vi)&&(vi=null),ao.forEach(Np),io.forEach(Np)}function Jl(e,t){e.blockedOn===t&&(e.blockedOn=null,hf||(hf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,G1)))}var Wl=null;function Pp(e){Wl!==e&&(Wl=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wl===e&&(Wl=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(ff(r||i)===null)continue;break}var d=Va(i);d!==null&&(e.splice(t,3),t-=3,dd(d,{pending:!0,data:c,method:i.method,action:r},r,c))}}))}function ro(e){function t(S){return Jl(S,e)}pi!==null&&Jl(pi,e),Ai!==null&&Jl(Ai,e),vi!==null&&Jl(vi,e),ao.forEach(t),io.forEach(t);for(var i=0;i<yi.length;i++){var r=yi[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yi.length&&(i=yi[0],i.blockedOn===null);)Op(i),i.blockedOn===null&&yi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var c=i[r],d=i[r+1],A=c[mt]||null;if(typeof d=="function")A||Pp(i);else if(A){var y=null;if(d&&d.hasAttribute("formAction")){if(c=d,A=d[mt]||null)y=A.formAction;else if(ff(c)!==null)continue}else y=A.action;typeof y=="function"?i[r+1]=y:(i.splice(r,3),r-=3),Pp(i)}}}function mf(e){this._internalRoot=e}$l.prototype.render=mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var i=t.current,r=un();Mp(i,r,e,t,null,null)},$l.prototype.unmount=mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mp(e.current,2,null,e,null,null),Nl(),t[Aa]=null}};function $l(e){this._internalRoot=e}$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=jo();e={blockedOn:null,target:e,priority:t};for(var i=0;i<yi.length&&t!==0&&t<yi[i].priority;i++);yi.splice(i,0,e),i===0&&Op(e)}};var Gp=a.version;if(Gp!=="19.1.1")throw Error(o(527,Gp,"19.1.1"));z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Q1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Ne=ec.inject(Q1),Je=ec}catch{}}return ho.createRoot=function(e,t){if(!l(e))throw Error(o(299));var i=!1,r="",c=W0,d=$0,A=eg,y=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(A=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(y=t.unstable_transitionCallbacks)),t=Rp(e,1,!1,null,null,i,r,c,d,A,y,null),e[Aa]=t.current,Vd(e),new mf(t)},ho.hydrateRoot=function(e,t,i){if(!l(e))throw Error(o(299));var r=!1,c="",d=W0,A=$0,y=eg,S=null,G=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(A=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(G=i.formState)),t=Rp(e,1,!0,t,i??null,r,c,d,A,y,S,G),t.context=Bp(null),i=t.current,r=un(),r=ga(r),c=ni(r),c.callback=null,ai(i,c,r),i=r,t.current.lanes=i,Bt(t,i),Vn(t),e[Aa]=t.current,Vd(e),new $l(t)},ho.version="19.1.1",ho}var OA;function bS(){if(OA)return Tf.exports;OA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Tf.exports=yS(),Tf.exports}var ES=bS(),vt=_h();const dc=10,wS=1.5,SS=1.5,NA=1,xS=.6,PA=" +50% attack   Barrier   Immortal",ts=5,ns=3;let yt=null;function CS(){yt&&(yt.tickTimer&&clearInterval(yt.tickTimer),yt.timeout&&clearTimeout(yt.timeout),yt=null)}function Kh(){return yt!==null}function fy(){return yt?Math.max(0,yt.endTime-performance.now())/1e3:0}function RS(n,a){if(Kh()||!n.spendResource(ts,ae.SISU))return!1;const s=[];for(const l of a){if(l.faction!=="player"||l.isDead())continue;const u=`sisu-burst-${l.id}`,f={unit:l,attackDelta:0,movementDelta:0,shieldBonusApplied:NA,shieldBonusRemaining:NA,wasImmortal:l.isImmortal()};jE({id:u,duration:dc,data:f,onApply:()=>{const h=l.stats.attackDamage,m=Math.round(h*wS);f.attackDelta=Math.max(0,m-h),f.attackDelta!==0&&(l.stats.attackDamage=h+f.attackDelta);const g=l.stats.movementRange,p=Math.max(1,Math.round(g*SS));f.movementDelta=Math.max(0,p-g),f.movementDelta!==0&&(l.stats.movementRange=g+f.movementDelta),f.shieldBonusRemaining=f.shieldBonusApplied,l.setShield(l.getShield()+f.shieldBonusApplied),l.setImmortal(!0),l.fearless=!0},onExpire:()=>{let h=!1;if(f.attackDelta!==0){const g=l.stats.attackDamage,p=Math.max(0,g-f.attackDelta);p!==g&&(l.stats.attackDamage=p,h=!0)}if(f.movementDelta!==0){const g=l.stats.movementRange,p=Math.max(0,g-f.movementDelta);p!==g&&(l.stats.movementRange=p,h=!0)}l.setImmortal(f.wasImmortal);const m=Math.max(0,Math.min(f.shieldBonusApplied,f.shieldBonusRemaining));m>0&&l.setShield(Math.max(0,l.getShield()-m)),delete l.fearless,h&&te.emit("unit:stats:changed",{unitId:l.id,stats:{...l.stats}}),yt&&(yt.affected=yt.affected.filter(g=>g.modifierId!==u))},hooks:{"combat:onHit":h=>{const m=h;if(m.source!=="defender"||m.defender.id!==l.id||m.shieldDamage<=0||f.shieldBonusRemaining<=0)return;const g=Math.min(f.shieldBonusRemaining,m.shieldDamage);f.shieldBonusRemaining=Math.max(0,f.shieldBonusRemaining-g)}}}),s.push({unit:l,modifierId:u,state:f})}return yt={endTime:performance.now()+dc*1e3,status:PA,affected:s,tickTimer:null,timeout:null},te.emit("sisuBurstStart",{remaining:dc,status:PA}),yt.tickTimer=setInterval(()=>{if(!yt)return;const l=Math.max(0,Math.ceil(fy()));l>0&&te.emit("sisuBurstTick",{remaining:l,status:yt.status})},1e3),yt.timeout=setTimeout(()=>{BS()},dc*1e3),!0}function BS(){if(yt){for(const n of yt.affected)zE(n.modifierId);CS(),te.emit("sisuBurstEnd",{})}}function MS(n,a,s,o){const l=a.filter(u=>u.faction==="player"&&!u.isDead());if(l.length===0||!n.spendResource(ns,ae.SISU))return!1;for(const u of l){const f=Yv(s,3,a)??{...s};u.setCoord(f);const h=Math.round(u.getMaxHealth()*xS);u.stats.health=Math.min(u.getMaxHealth(),Math.max(u.stats.health,h))}return o.revealAround(s,3,{autoFrame:!1}),te.emit("torilleRecalled",{count:l.length}),!0}let rs=!1;function hy(){return rs}function my(n){rs!==n&&(rs=n,te.emit("game:pause-changed",{paused:rs}))}function DS(){return my(!rs),rs}function TS(){rs&&my(!1)}const kS=["/assets/sounds/sauna-forest.ogg","/assets/sounds/sauna-forest.mp3"],gy="audio_enabled",dh=new Set,iu=new Set;let as=null,fc=null,Qa=null,xo=null;function HS(n){if(typeof localStorage>"u")return null;try{return localStorage.getItem(n)}catch(a){return console.warn("Unable to read ambience preference",n,a),null}}const py=HS(gy);let Ya=py==="true",Co=py!==null;const fh=eu();let Mc=vy(fh.channels.music.volume,.65),os=!1,ia=fh.channels.master.muted||fh.channels.music.muted;const Zs=typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)"):null;let Ay=Zs?.matches??!1;if(Zs){const n=a=>{Ay=a.matches};typeof Zs.addEventListener=="function"?Zs.addEventListener("change",n):typeof Zs.addListener=="function"&&Zs.addListener(n)}if(typeof window<"u"&&!Co){const n=()=>{Co||(Co=!0,Sy(!0),su())};window.addEventListener("pointerdown",n,{once:!0}),window.addEventListener("keydown",n,{once:!0})}Hh(n=>{const a=vy(n.channels.music.volume,Mc),s=n.channels.master.muted||n.channels.music.muted,o=Math.abs(a-Mc)>5e-4;if(Mc=a,s!==ia){ia=s,ia?wy():Ya?su():(ko(!0),To());return}o&&To()});function vy(n,a){return Number.isFinite(n)?n<0?0:n>1?1:n:a}function To(){const n=xy();for(const a of dh)a(n)}function OS(n){if(!(typeof localStorage>"u"))try{localStorage.setItem(gy,n?"true":"false")}catch(a){console.warn("Unable to persist ambience preference",a)}}function yy(n){if(Qa)return Qa;const a=n.createGain();a.gain.value=Ya&&!ia?1:0;const s=Iv("music");return s?a.connect(s):a.connect(n.destination),Qa=a,a}function ko(n=!1){if(!Qa)return;const a=Qa.context,s=Ya&&!ia?1:0,o=a.currentTime;Qa.gain.cancelScheduledValues(o),n?Qa.gain.setValueAtTime(s,o):Qa.gain.setTargetAtTime(s,o,.25)}function NS(){return Ay?.6:4.2}function by(){xo!==null&&(clearTimeout(xo),xo=null)}function hh(n){try{n.source.stop()}catch{}n.source.disconnect(),n.gain.disconnect(),iu.delete(n)}function PS(){for(const n of[...iu])hh(n)}async function GS(n){return as||(fc||(fc=(async()=>{for(const a of kS)try{const s=await fetch(a);if(!s.ok)continue;const o=await s.arrayBuffer();return await n.decodeAudioData(o)}catch(s){console.warn("Failed to fetch ambience source",a,s)}throw new Error("No ambience sources available")})().then(a=>(as=a,a)).catch(a=>{throw fc=null,a})),fc)}function QS(n,a){if(!os)return;by();const s=Math.max(0,n-a.currentTime-.05);xo=setTimeout(()=>{xo=null,os&&Ey(n)},s*1e3)}function Ey(n){const a=Qa?.context??Cy();if(!a||!as)return;const s=a.createGain(),o=a.createBufferSource();o.buffer=as,o.loop=!1,o.connect(s),s.connect(yy(a));const l=Math.min(NS(),as.duration/2),u=Number.isFinite(l)&&l>0?l:.25,f=Math.max(a.currentTime,n);s.gain.setValueAtTime(0,f),s.gain.linearRampToValueAtTime(1,f+u);const h=n+as.duration,m=h-u;m>f&&s.gain.setValueAtTime(1,m),s.gain.linearRampToValueAtTime(.001,h+.1);const g={source:o,gain:s,stopTime:h};iu.add(g),o.addEventListener("ended",()=>{hh(g)});try{o.start(n)}catch(p){console.warn("Failed to start ambience layer",p),hh(g);return}QS(h-u,a)}async function su(){if(os||!Ya||ia){ko();return}const n=Cy();if(n){yy(n),ko();try{const a=await GS(n);if(!Ya||ia)return;await n.resume().catch(()=>{}),os=!0;const s=Math.max(n.currentTime+.12,n.currentTime);Ey(s),To()}catch(a){console.warn("Unable to start ambience",a)}}}function wy(){if(!os&&iu.size===0){ko(!0);return}os=!1,by(),PS(),ko(!0),To()}function Sy(n){Ya===n&&Co||(Ya=n,Co=!0,OS(n),n?ia||su():wy(),To())}function xy(){return{enabled:Ya,playing:os,volume:Mc,globallyMuted:ia}}function LS(n){return dh.add(n),()=>{dh.delete(n)}}Ya&&!ia&&su();function Cy(){return kh()}const US='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',Pf={master:"Master mix",music:"Ambience soundscape",sfx:"Effects & interface"},jS={master:"Controls the overall loudness for every channel in the frontier.",music:"Shapes the ambience loops and atmospheric swells around the sauna.",sfx:"Balances unit callouts, UI clicks, and battle feedback cues."},zS="linear-gradient(90deg, rgba(59,130,246,0.85) 0%, rgba(14,165,233,0.9) VAR%, rgba(148,163,184,0.35) VAR%, rgba(71,85,105,0.2) 100%)";function mh(n,a){n.style.backgroundImage=zS.replace(/VAR/g,`${a}%`)}function gh(n){return`${Math.round(n)}%`}function IS(n,a,s){const o=l=>{if(l.key==="Escape"){l.preventDefault(),s();return}if(l.key!=="Tab")return;const u=a.querySelectorAll(US);if(u.length===0){l.preventDefault(),a.focus();return}const f=u[0],h=u[u.length-1],m=document.activeElement;l.shiftKey?(m===f||!a.contains(m))&&(l.preventDefault(),h.focus()):(m===h||!a.contains(m))&&(l.preventDefault(),f.focus())};return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)}function Ry(n,a,s){const o=a.channels[n],l=a.channels.master;if(n==="music"&&!s.enabled)return"Ambience paused";if(o.muted)return"Muted at mixer";if(n!=="master"&&l.muted)return"Master mute active";const u=Math.round(o.effectiveVolume*100);return u<=0?"Output silent":n==="master"?`Master output ${u}%`:n==="music"?`Soundscape live ${u}%`:`Effects live ${u}%`}function Gf(n,a,s,o,l,u,f){const h=n.createElement("section");h.className="rounded-hud-xl border border-white/12 bg-[linear-gradient(155deg,rgba(15,26,56,0.92),rgba(9,14,34,0.96))] p-5 shadow-[0_24px_45px_rgba(4,10,25,0.55)] backdrop-blur-[18px] backdrop-saturate-[140%]";const m=n.createElement("header");m.className="flex flex-wrap items-start justify-between gap-3";const g=n.createElement("div");g.className="space-y-1";const p=n.createElement("h3");p.className="text-lg font-semibold tracking-tight text-white",p.textContent=Pf[a];const v=n.createElement("p");v.className="max-w-[32ch] text-sm text-slate-300/85",v.textContent=jS[a],g.append(p,v);const b=n.createElement("span");b.className="inline-flex items-center gap-2 rounded-full border border-white/15 bg-slate-800/65 px-3 py-1 text-xs font-semibold uppercase tracking-[0.08em] text-white/70",b.textContent=Ry(a,s,o),m.append(g,b);const E=n.createElement("div");E.className="mt-5 flex items-center gap-4";const x=n.createElement("input");x.type="range",x.min="0",x.max="100",x.step="1",x.className="h-2 flex-1 appearance-none rounded-full bg-slate-600/30 accent-accent transition-[background-image] duration-200 ease-out focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent",x.setAttribute("aria-label",`${Pf[a]} level`);const T=n.createElement("span");T.className="text-sm font-semibold text-slate-200",E.append(x,T);const D=n.createElement("div");D.className="mt-4 flex flex-wrap items-center gap-3";const N=n.createElement("button");if(N.type="button",N.className="inline-flex items-center gap-2 rounded-full border border-white/15 bg-slate-800/60 px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.08em] text-white/80 transition-all duration-150 ease-out hover:bg-slate-700/70 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent",N.setAttribute("aria-label",`Toggle mute for ${Pf[a]}`),N.addEventListener("click",()=>{const q=!$i.channels[a].muted;l(a,q)}),D.append(N),a==="sfx"){const q=n.createElement("button");q.type="button",q.className="inline-flex items-center gap-2 rounded-full border border-accent/40 bg-accent/15 px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.08em] text-accent-200 transition-all duration-150 ease-out hover:bg-accent/25 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent",q.textContent="Play sample",q.addEventListener("click",()=>{aa("spawn")}),D.append(q)}let L;a==="music"&&f&&(L=n.createElement("button"),L.type="button",L.className="inline-flex items-center gap-2 rounded-full border border-emerald-300/25 bg-emerald-400/15 px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.08em] text-emerald-200 transition-all duration-150 ease-out hover:bg-emerald-400/25 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-300",L.addEventListener("click",()=>{f()}),D.append(L));const I=Math.round(s.channels[a].volume*100);return x.value=String(I),mh(x,I),T.textContent=gh(I),N.setAttribute("aria-pressed",s.channels[a].muted?"true":"false"),N.textContent=s.channels[a].muted?"Muted":"Active",a==="music"&&(x.title=o.enabled?"Adjust ambience loudness":"Ambience paused  set the level ahead of resuming."),x.addEventListener("input",()=>{const q=Number(x.value);mh(x,q),T.textContent=gh(q),u(a,q/100)}),h.append(m,E,D),{card:h,slider:x,value:T,muteButton:N,status:b,ambienceToggle:L}}let $i=eu();function FS(n){const{container:a,onClose:s}=n;if(!a)return{destroy(){},focus(){}};const o=a.ownerDocument??document,l=o.createElement("div");l.className="pointer-events-auto fixed inset-0 z-[1200] flex items-center justify-center bg-slate-950/75 p-4 backdrop-blur-[22px] backdrop-saturate-[140%]",l.setAttribute("role","presentation");const u=o.createElement("section");u.className="w-full max-w-[min(580px,92vw)] space-y-6 rounded-hud-xl border border-white/12 bg-[linear-gradient(145deg,rgba(12,22,45,0.95),rgba(7,13,29,0.97))] p-6 text-slate-100 shadow-[0_32px_60px_rgba(4,10,24,0.7)] backdrop-blur-[24px] backdrop-saturate-[150%]",u.setAttribute("role","dialog"),u.setAttribute("aria-modal","true");const f=`audio-mixer-title-${Date.now()}`;u.setAttribute("aria-labelledby",f),u.tabIndex=-1;const h=o.createElement("header");h.className="flex items-start justify-between gap-4";const m=o.createElement("div");m.className="space-y-1";const g=o.createElement("h2");g.id=f,g.className="text-2xl font-semibold tracking-tight text-white",g.textContent="Audio mixer";const p=o.createElement("p");p.className="max-w-[46ch] text-sm text-slate-300/85",p.textContent="Dial in the master bus, ambience beds, and tactical feedback without leaving the battlefield.",m.append(g,p);const v=o.createElement("button");v.type="button",v.className="rounded-full border border-white/20 bg-slate-800/70 px-3 py-1 text-sm font-semibold text-white/70 transition-all duration-150 hover:bg-slate-700/70 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent",v.textContent="Close",h.append(m,v);const b=o.createElement("span");b.className="inline-flex items-center gap-2 rounded-full border border-white/15 bg-slate-800/65 px-3 py-1 text-xs font-semibold uppercase tracking-[0.08em] text-white/70";const E=o.createElement("div");E.className="space-y-5";let x=xy();const T={master:Gf(o,"master",$i,x,(F,M)=>{RE(M)},(F,M)=>{SE(M)},null),music:Gf(o,"music",$i,x,(F,M)=>{BE(M)},(F,M)=>{xE(M)},()=>{Sy(!x.enabled)}),sfx:Gf(o,"sfx",$i,x,(F,M)=>{ME(M)},(F,M)=>{CE(M)},null)};E.append(T.master.card,T.music.card,T.sfx.card),u.append(h,b,E),l.append(u),a.append(l);let D=!1;function N(){const F=T.music.ambienceToggle;F&&(F.setAttribute("aria-pressed",x.enabled?"true":"false"),F.textContent=x.enabled?"Ambience enabled":"Ambience paused",F.title=x.enabled?"Disable ambience loops":"Enable ambience loops")}function L(F){$i=F;const M=F.contextState==="uninitialized"?"Context idle":F.contextState==="running"?"Context running":"Context suspended";b.textContent=M,["master","music","sfx"].forEach(O=>{const C=T[O],X=F.channels[O],U=Math.round(X.volume*100);C.slider.value=String(U),mh(C.slider,U),C.value.textContent=gh(U),C.muteButton.setAttribute("aria-pressed",X.muted?"true":"false"),C.muteButton.textContent=X.muted?"Muted":"Active",C.status.textContent=Ry(O,F,x),O==="music"&&(C.slider.title=x.enabled?"Adjust ambience loudness":"Ambience paused  set the level ahead of resuming.")}),N()}function I(){D||(D=!0,q(),l.parentElement&&l.remove(),s?.())}function q(){Z.forEach(F=>{try{F()}catch{}}),Z.length=0}const Z=[],ie=F=>{F.target===l&&I()};l.addEventListener("click",ie),Z.push(()=>l.removeEventListener("click",ie)),v.addEventListener("click",I),Z.push(()=>v.removeEventListener("click",I));const se=IS(l,u,I);Z.push(se);const oe=Hh(F=>{L(F)});Z.push(oe);const ne=LS(F=>{x=F,N(),L($i)});return Z.push(ne),L($i),u.focus(),{destroy(){I()},focus(){u.focus()}}}function GA(...n){return n.filter(Boolean).join(" ")}function QA(n,a){return!(n.code!==a.code||(a.shift??!1)!==n.shiftKey||(a.alt??!1)!==n.altKey||(a.meta??!1)!==n.metaKey||(a.ctrl??!1)!==n.ctrlKey)}function qS(n){return!Number.isFinite(n)||n<=0?"0s":`${Math.max(0,Math.ceil(n))}s`}function XS(){const[n,a]=vt.useState(()=>{const s=Kh();return{active:s,remaining:s?Math.ceil(fy()):0,status:s?"Burst active":void 0}});return vt.useEffect(()=>{const s=({remaining:u,status:f})=>{a({active:!0,remaining:Math.ceil(u),status:f})},o=({remaining:u,status:f})=>{a(h=>({active:!0,remaining:Math.ceil(u),status:f??h.status}))},l=()=>{a({active:!1,remaining:0,status:void 0})};return te.on("sisuBurstStart",s),te.on("sisuBurstTick",o),te.on("sisuBurstEnd",l),()=>{te.off("sisuBurstStart",s),te.off("sisuBurstTick",o),te.off("sisuBurstEnd",l)}},[]),n}function YS(){const[n,a]=vt.useState(()=>hy());return vt.useEffect(()=>{const s=({paused:o})=>{a(o)};return te.on("game:pause-changed",s),()=>{te.off("game:pause-changed",s)}},[]),n}function LA(n){const a=n.target;if(!a)return!1;const s=a.tagName;return!!(s==="INPUT"||s==="TEXTAREA"||s==="SELECT"||a.isContentEditable)}function _S({state:n,abilities:a}){const[s,o]=vt.useState(()=>n.getResource(ae.SISU)),[l,u]=vt.useState(()=>ih()),[f,h]=vt.useState(!1),[m,g]=vt.useState(null),p=vt.useRef({}),[v,b]=vt.useState(()=>new Set),E=XS(),x=YS(),T=vt.useRef(null),D=vt.useCallback(M=>{b(C=>{const X=new Set(C);return X.add(M),X});const O=p.current[M];O&&window.clearTimeout(O),p.current[M]=window.setTimeout(()=>{b(C=>{const X=new Set(C);return X.delete(M),X}),delete p.current[M]},650)},[]);vt.useEffect(()=>{const M=({resource:O,total:C})=>{O===ae.SISU&&o(C)};return te.on("resourceChanged",M),()=>{te.off("resourceChanged",M),Object.values(p.current).forEach(O=>{O&&window.clearTimeout(O)}),p.current={}}},[]),vt.useEffect(()=>GE(u),[]),vt.useEffect(()=>()=>{T.current?.destroy(),T.current=null},[]);const N=vt.useCallback(()=>{const M=document.getElementById("ui-overlay");if(!M)return!1;if(T.current)return T.current.destroy(),T.current=null,h(!1),!0;const O=FS({container:M,onClose:()=>{T.current=null,h(!1)}});return T.current=O,h(!0),O.focus(),!0},[]),L=a.useSisuBurst,I=a.torille,q=a.onOpenBuildPlanner,Z=!L||E.active||s<ts,ie=L?E.active?"Burst already surging.":s<ts?`Requires ${ts} SISU.`:void 0:"Burst controls offline in this build.",se=!I||s<ns,oe=I?s<ns?`Requires ${ns} SISU.`:void 0:"Torille rally is unavailable right now.",ne=vt.useMemo(()=>[{id:"burst",icon:"",label:"Sisu Burst",description:"Ignite a surge of fury and resilience across your warriors.",hotkey:{code:"KeyQ",label:"Q"},accent:"primary",cost:`-${ts} SISU`,detail:E.active?`${E.status??"Burst active"}  ${qS(E.remaining)}`:void 0,blocked:Z,blockedReason:ie,interactive:!!L,onActivate:()=>L?L():!1},{id:"torille",icon:"",label:"Torille!",description:"Call every survivor home to the sauna to regroup and heal.",hotkey:{code:"KeyW",label:"W"},accent:"primary",cost:`-${ns} SISU`,blocked:se,blockedReason:oe,interactive:!!I,onActivate:()=>I?I():!1},{id:"build",icon:"",label:"Build",description:"Draft new structures to reinforce your frontier.",hotkey:{code:"KeyE",label:"E"},accent:"neutral",blocked:!q,blockedReason:q?void 0:"Construction planner will unlock in a forthcoming update.",interactive:!!q,onActivate:()=>q?q()??!0:!1},{id:"sound",icon:l?"":f?"":"",label:"Audio",description:"Open the in-game mixer to balance master, ambience, and effects.",hotkey:{code:"KeyR",label:"R"},accent:"neutral",toggled:f,detail:f?"Mixer open":l?"Muted":"Live mix",interactive:!0,blocked:!1,onActivate:()=>!!N()},{id:"pause",icon:x?"":"",label:x?"Paused":"Pause",description:x?"Time is frozen  resume when your strategy is ready.":"Freeze the battlefield to reassess and issue commands.",hotkey:{code:"Space",label:"Space"},accent:"neutral",toggled:x,detail:x?"Combat frozen":"Time flowing",interactive:!0,blocked:!1,onActivate:()=>(DS(),!0)}],[E.active,E.remaining,Z,ie,I,f,l,q,x,se,oe,L]),F=vt.useCallback(M=>{if(!M.interactive){D(M.id);return}if(M.blocked){D(M.id);return}M.onActivate?.()===!1&&D(M.id)},[D]);return vt.useEffect(()=>{const M=C=>{if(C.repeat||LA(C))return;const X=ne.find(U=>QA(C,U.hotkey));X&&(C.preventDefault(),g(X.id),F(X))},O=C=>{if(LA(C))return;const X=ne.find(U=>QA(C,U.hotkey));X&&(C.preventDefault(),g(U=>U===X.id?null:U))};return window.addEventListener("keydown",M),window.addEventListener("keyup",O),()=>{window.removeEventListener("keydown",M),window.removeEventListener("keyup",O)}},[ne,F]),Zt.jsx("div",{className:"pointer-events-none w-full",children:Zt.jsx("div",{className:"pointer-events-auto mx-auto flex w-full max-w-4xl flex-col gap-4 rounded-[26px] border border-white/10 bg-[linear-gradient(145deg,rgba(11,17,30,0.86),rgba(6,10,18,0.92))] p-6 shadow-[0_26px_65px_rgba(6,12,24,0.6),_inset_0_1px_0_rgba(255,255,255,0.08)] backdrop-blur-xl","aria-label":"Combat and systems action bar",children:Zt.jsx("div",{className:"flex flex-wrap items-stretch justify-center gap-4",children:ne.map(M=>{const O=m===M.id,C=v.has(M.id),U=(M.blocked??!1)||!M.interactive,B=M.detail??M.blockedReason,z=GA("group relative flex min-w-[150px] flex-1 flex-col gap-2 rounded-[20px] border border-white/10 px-5 py-4 text-left transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 focus-visible:ring-offset-0","bg-[radial-gradient(circle_at_top,rgba(56,189,248,0.22),rgba(14,25,45,0.6))] shadow-[0_18px_42px_rgba(8,25,53,0.55)]",M.accent==="primary"&&"border-sky-300/40 bg-[radial-gradient(circle_at_top,rgba(56,189,248,0.32),rgba(11,22,45,0.7))]",M.accent==="danger"&&"border-rose-400/45 bg-[radial-gradient(circle_at_top,rgba(244,114,182,0.32),rgba(45,9,25,0.75))]",O&&"ring-2 ring-sky-300/80 ring-offset-0 translate-y-[-2px] shadow-[0_24px_48px_rgba(56,189,248,0.45)]",C&&'animate-hud-shake after:pointer-events-none after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-rose-300/45 after:bg-[radial-gradient(circle_at_center,rgba(248,113,113,0.18),rgba(248,113,113,0))] after:content-[""] after:animate-hud-pulse',!U&&!O&&"hover:-translate-y-1 hover:shadow-[0_24px_50px_rgba(56,189,248,0.4)]",U&&"cursor-not-allowed opacity-70",M.toggled&&"border-sky-400/60 shadow-[0_0_36px_rgba(56,189,248,0.45)]");return Zt.jsxs("button",{type:"button",className:z,"aria-pressed":M.toggled?"true":void 0,"aria-disabled":U?"true":void 0,"data-hotkey":M.hotkey.label,onClick:W=>{if(U){W.preventDefault(),D(M.id);return}F(M)},onKeyDown:W=>{(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),F(M))},title:GA(M.description,M.blockedReason),children:[Zt.jsxs("div",{className:"flex items-center justify-between gap-3",children:[Zt.jsxs("span",{className:"flex items-center gap-3 text-base font-semibold uppercase tracking-[0.18em] text-slate-100",children:[Zt.jsx("span",{"aria-hidden":"true",className:"text-2xl",children:M.icon}),M.label]}),Zt.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.28em] text-slate-300/80",children:M.hotkey.label})]}),Zt.jsx("p",{className:"text-sm leading-relaxed text-slate-200/80",children:M.description}),Zt.jsxs("div",{className:"flex items-center justify-between text-xs font-medium uppercase tracking-[0.28em] text-slate-300/70",children:[Zt.jsx("span",{children:B??""}),M.cost?Zt.jsx("span",{className:"text-slate-200/90",children:M.cost}):Zt.jsx("span",{className:"opacity-0",children:"cost"})]})]},M.id)})})})})}function KS(n,a,s={}){const o=hr(a),l=a.ownerDocument.createElement("div");l.dataset.component="action-bar",l.className="flex w-full justify-center";const u=o.regions.bottom,f=u.querySelector("#build-id");f?u.insertBefore(l,f):u.appendChild(l);const h=ES.createRoot(l);return h.render(Zt.jsx(_S,{state:n,abilities:s})),{destroy(){h.unmount(),l.remove()}}}const VS="(max-width: 820px)",By="is-mobile",My="is-desktop";let On=null,Qc=null,$n=!1,hc=0;const Lc=new Set,ph=new Set,Uc=n=>{for(const a of ph)a.classList.toggle(By,n),a.classList.toggle(My,!n),a.dataset.viewport=n?"mobile":"desktop"},ZS=n=>{if($n!==n){$n=n,Uc($n);for(const a of Array.from(Lc))try{a($n)}catch(s){console.error("Failed to notify mobile listener",s)}}},Dy=()=>{if(On||typeof window>"u")return;On=window.matchMedia(VS),$n=On.matches,Uc($n);const n=a=>{ZS(a.matches)};typeof On.addEventListener=="function"?(On.addEventListener("change",n),Qc=()=>On?.removeEventListener("change",n)):(On.addListener(n),Qc=()=>On?.removeListener(n))},JS=()=>{On&&(Qc?.(),Qc=null,On=null)},Ty=(n,{immediate:a=!0}={})=>(Dy(),Lc.add(n),a&&n($n),()=>{Lc.delete(n)}),WS=({root:n,onChange:a,immediate:s=!0}={})=>{Dy();const o=n??(typeof document<"u"?document.documentElement:null);o&&(ph.add(o),Uc($n)),hc+=1;let l=null;return a?l=Ty(a,{immediate:s}):s&&On&&Uc($n),{matches:()=>$n,dispose:()=>{o&&(ph.delete(o),o.classList.remove(By,My),(o.dataset.viewport==="mobile"||o.dataset.viewport==="desktop")&&delete o.dataset.viewport),l&&(l(),l=null),hc=Math.max(0,hc-1),hc===0&&Lc.size===0&&JS()}}};function $S(n){const a=[n.name];return n.description&&a.push(n.description),n.rarity&&a.push(`Rarity: ${n.rarity}`),n.quantity>1&&a.push(`Quantity: ${n.quantity}`),a.join("  ")}function ex(n){const a=document.createElement("span");a.classList.add("item-icon__fallback");const s=n.trim();return a.textContent=s?s[0]?.toUpperCase()??"?":"?",a.setAttribute("aria-hidden","true"),a}function tx(n,a){const s=document.createElement("img");return s.src=n,s.alt="",s.decoding="async",s.loading="lazy",s.classList.add("item-icon__image"),s.setAttribute("aria-hidden","true"),s.title=a,s}function nx(n){const a=document.createElement("li");a.classList.add("item-icon"),a.dataset.itemId=n.id;const s=$S(n);if(a.title=s,a.setAttribute("aria-label",s),a.setAttribute("role","listitem"),n.rarity&&(a.dataset.rarity=n.rarity.toLowerCase()),n.icon&&n.icon.trim().length>0?a.appendChild(tx(n.icon,n.name)):a.appendChild(ex(n.name)),n.quantity>1){const o=document.createElement("span");o.classList.add("item-icon__quantity"),o.textContent=`${n.quantity}`,o.setAttribute("aria-hidden","true"),a.appendChild(o)}return a}const ax=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function Ah(n){return n===1/0?"":!Number.isFinite(n)||n<=0?"0s":`${ax.format(Math.ceil(n))}s`}function ix(n){const a=[n.name];return n.description&&a.push(n.description),n.source&&a.push(`Source: ${n.source}`),n.duration!==1/0&&a.push(`Duration: ${Ah(n.duration)}`),a.push(`Remaining: ${Ah(n.remaining)}`),n.stacks&&n.stacks>1&&a.push(`Stacks: ${n.stacks}`),a.join("  ")}function sx(n){const a=document.createElement("li");a.classList.add("mod-pill"),a.dataset.modifierId=n.id,a.title=ix(n),a.setAttribute("aria-label",a.title),a.setAttribute("role","listitem"),a.dataset.duration=n.duration===1/0?"infinite":String(n.duration),a.dataset.remaining=n.remaining===1/0?"infinite":String(n.remaining),n.appliedAt!==void 0&&(a.dataset.appliedAt=String(n.appliedAt)),n.stacks&&n.stacks>1&&(a.dataset.stacks=String(n.stacks));const s=document.createElement("span");if(s.classList.add("mod-pill__name"),s.textContent=n.name,s.setAttribute("aria-hidden","true"),a.appendChild(s),n.stacks&&n.stacks>1){const l=document.createElement("span");l.classList.add("mod-pill__stacks"),l.textContent=`${n.stacks}`,l.setAttribute("aria-hidden","true"),a.appendChild(l)}const o=document.createElement("span");return o.classList.add("mod-pill__timer"),o.textContent=Ah(n.remaining),o.setAttribute("aria-hidden","true"),a.appendChild(o),n.remaining!==1/0&&n.remaining<=5&&(a.dataset.urgent="true"),a}const vh={engaged:"Engaged on the field",reserve:"On reserve duty",downed:"Recovering from battle"},_e=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),UA="panel-roster-title";function rx(n){return n.length===0?"No defining traits yet":n.join("  ")}function ky(n){return Number.isFinite(n)?Math.max(0,Math.min(100,Math.round(n*100))):0}function ox(n){const a=_e;if(n.xpForNext===null)return`${a.format(n.xp)} XP  Max level`;const s=ky(n.progress);return`${a.format(n.xpIntoLevel)} / ${a.format(n.xpForNext)} XP  ${s}%`}function Hy(n){const a=[],s=(o,l)=>{l>0&&a.push(`+${_e.format(l)} ${o}`)};return s("Vigor",n.vigor),s("Focus",n.focus),s("Resolve",n.resolve),a.length===0?"No level bonuses yet":a.join("  ")}function Ks(n,a){const o=Math.round(n-(typeof a=="number"?a:0));if(o===0)return"";const l=_e.format(Math.abs(o));return o>0?` (+${l})`:` (-${l})`}function lx(n){if(!n)return"No stat changes";const a=[],s=(o,l)=>{if(typeof l=="number"&&l!==0){const u=l>0?"+":"";a.push(`${o} ${u}${_e.format(Math.abs(l))}`)}};return s("HP",n.health),s("ATK",n.attackDamage),s("RNG",n.attackRange),s("MOV",n.movementRange),s("DEF",n.defense),s("Shield",n.shield),a.length===0?"No stat changes":a.join(", ")}function cx(n){const{stats:a,baseStats:s}=n,o=[`HP ${_e.format(a.health)}/${_e.format(a.maxHealth)}${Ks(a.maxHealth,s.maxHealth)}`];return a.shield&&a.shield>0&&o.push(`Shield ${_e.format(a.shield)}${Ks(a.shield,s.shield)}`),o.push(`ATK ${_e.format(a.attackDamage)}${Ks(a.attackDamage,s.attackDamage)}`),o.push(`RNG ${_e.format(a.attackRange)}${Ks(a.attackRange,s.attackRange)}`),a.defense&&a.defense>0&&o.push(`DEF ${_e.format(a.defense)}${Ks(a.defense,s.defense)}`),o.push(`MOV ${_e.format(a.movementRange)}${Ks(a.movementRange,s.movementRange)}`),o.push(`Upkeep ${_e.format(n.upkeep)} beer`),o.join("  ")}function ux(n){const{stats:a}=n,s=[n.name,vh[n.status]];s.push(`level ${n.progression.level}`),s.push(`health ${_e.format(a.health)} of ${_e.format(a.maxHealth)}`),a.shield&&a.shield>0&&s.push(`shield ${_e.format(a.shield)}`),s.push(`attack ${_e.format(a.attackDamage)}`),a.defense&&a.defense>0&&s.push(`defense ${_e.format(a.defense)}`),a.attackRange>0&&s.push(`attack range ${_e.format(a.attackRange)}`),s.push(`movement ${_e.format(a.movementRange)}`),s.push(`upkeep ${_e.format(n.upkeep)} beer`),n.progression.xpForNext===null?s.push(`${_e.format(n.progression.xp)} total experience`):s.push(`${_e.format(n.progression.xpIntoLevel)} of ${_e.format(n.progression.xpForNext)} experience toward next level`);const o=Hy(n.progression.statBonuses);o&&s.push(`level bonuses ${o}`);const l=n.equipment.filter(u=>u.item).length;return l>0&&s.push(`${l} equipped item${l===1?"":"s"}`),n.modifiers.length>0&&s.push(`${n.modifiers.length} active modifier${n.modifiers.length===1?"":"s"}`),s.join(", ")}function dx(n,a){const s=a.filter(h=>h.status==="engaged").length,o=a.filter(h=>h.status==="reserve").length,l=a.filter(h=>h.status==="downed").length,u=(h,m,g)=>{const p=document.createElement("span");return p.classList.add("panel-roster__metric"),p.dataset.status=g,p.textContent=`${_e.format(m)} ${h}`,p.setAttribute("aria-label",p.textContent),p},f=document.createElement("div");f.classList.add("panel-roster__metrics"),f.append(u("engaged",s,"engaged"),u("reserve",o,"reserve"),u("downed",l,"downed")),n.appendChild(f)}function fx(n,a,s){const o=document.createElement("div");o.classList.add("panel-roster__loadout");const l=document.createElement("ul");l.classList.add("panel-roster__slots"),l.setAttribute("role","list"),l.setAttribute("aria-label",`${a.name} equipment slots`);for(const u of a.equipment){const f=document.createElement("li");f.classList.add("panel-roster__slot"),f.dataset.slot=u.id;const h=document.createElement("div");h.classList.add("panel-roster__slot-header");const m=document.createElement("span");m.classList.add("panel-roster__slot-label"),m.textContent=u.label,m.title=u.description,h.appendChild(m);const g=document.createElement("span");if(g.classList.add("panel-roster__slot-summary"),g.textContent=u.item?u.item.name:"Empty",g.title=u.description,h.appendChild(g),f.appendChild(h),u.item){const x=document.createElement("ul");x.classList.add("panel-roster__slot-icons"),x.setAttribute("role","list"),x.appendChild(nx(u.item)),f.appendChild(x)}const p=document.createElement("span");p.classList.add("panel-roster__slot-modifiers"),p.textContent=lx(u.modifiers),p.title=p.textContent,f.appendChild(p);const v=document.createElement("div");v.classList.add("panel-roster__slot-actions");const b=document.createElement("button");b.type="button",b.classList.add("panel-roster__slot-action"),b.textContent=u.item?"Replace":"Equip",b.setAttribute("aria-label",`Equip ${u.label} for ${a.name}`),b.addEventListener("click",x=>{x.stopPropagation(),s.onEquipSlot?.(a.id,u.id)}),v.appendChild(b);const E=document.createElement("button");E.type="button",E.classList.add("panel-roster__slot-action"),E.textContent="Unequip",E.disabled=u.item===null,E.setAttribute("aria-label",`Unequip ${u.label} from ${a.name}`),E.addEventListener("click",x=>{x.stopPropagation(),E.disabled||s.onUnequipSlot?.(a.id,u.id)}),v.appendChild(E),f.appendChild(v),l.appendChild(f)}if(o.appendChild(l),a.modifiers.length>0){const u=document.createElement("ul");u.classList.add("panel-roster__mods"),u.setAttribute("role","list"),u.setAttribute("aria-label",`${a.name} active modifiers`),u.title=a.modifiers.map(f=>f.name).join(", ");for(const f of a.modifiers)u.appendChild(sx(f));o.appendChild(u)}n.appendChild(o)}function hx(n,a={}){return{render:o=>{n.innerHTML="",n.dataset.count=String(o.length),n.classList.add("panel-roster");const l=document.createElement("div");l.classList.add("panel-roster__header");const u=document.createElement("h4");u.classList.add("panel-roster__title"),u.textContent="Battalion Roster",u.id=UA,l.appendChild(u),n.setAttribute("aria-labelledby",UA);const f=o.length===0?"No attendants mustered yet":`${_e.format(o.length)} attendant${o.length===1?"":"s"} enlisted`,h=document.createElement("span");if(h.classList.add("panel-roster__count"),h.textContent=f,l.appendChild(h),n.appendChild(l),o.length===0){const g=document.createElement("p");g.classList.add("panel-roster__empty"),g.textContent="No attendants have rallied to the sauna yet.",n.appendChild(g);return}dx(n,o);const m=document.createElement("ul");m.classList.add("panel-roster__list"),m.setAttribute("role","list");for(const g of o){const p=document.createElement("li");p.classList.add("panel-roster__row");const v=document.createElement("button");v.type="button",v.classList.add("panel-roster__item"),v.dataset.unitId=g.id,v.dataset.status=g.status,v.setAttribute("aria-pressed",g.selected?"true":"false"),v.setAttribute("aria-label",ux(g)),v.title=`${g.name}  ${vh[g.status]}`,g.selected&&v.classList.add("is-selected"),g.status==="downed"&&v.classList.add("is-downed");const b=document.createElement("div");b.classList.add("panel-roster__name-row");const E=document.createElement("div");E.classList.add("panel-roster__identity");const x=document.createElement("span");x.classList.add("panel-roster__level"),x.dataset.level=String(g.progression.level),x.style.setProperty("--level-progress","0%");const T=ky(g.progression.progress);x.style.setProperty("--level-progress",`${T}%`),x.setAttribute("role","img");const D=g.progression.xpForNext===null?`Level ${g.progression.level}, at mastery`:`Level ${g.progression.level}, ${T}% toward next level`;x.setAttribute("aria-label",D);const N=document.createElement("span");N.classList.add("panel-roster__level-value"),N.textContent=String(g.progression.level),x.appendChild(N);const L=document.createElement("span");L.classList.add("panel-roster__name"),L.textContent=g.name,L.title=g.name,E.append(x,L),b.appendChild(E);const I=document.createElement("span");I.classList.add("panel-roster__status"),I.dataset.status=g.status,I.textContent=vh[g.status],b.appendChild(I);const q=document.createElement("div");q.classList.add("panel-roster__meta");const Z=cx(g);q.textContent=Z,q.title=Z;const ie=document.createElement("div");ie.classList.add("panel-roster__xp");const se=ox(g.progression);ie.textContent=se,ie.title=se;const oe=document.createElement("div");oe.classList.add("panel-roster__callouts");const ne=Hy(g.progression.statBonuses);oe.textContent=ne,oe.title=ne;const F=document.createElement("div");F.classList.add("panel-roster__health");const M=document.createElement("div");M.classList.add("panel-roster__health-fill");const O=g.stats.maxHealth>0?Math.max(0,Math.min(100,Math.round(g.stats.health/g.stats.maxHealth*100))):0;M.style.width=`${O}%`,M.dataset.percent=`${O}`,F.appendChild(M);const C=document.createElement("div");C.classList.add("panel-roster__traits");const X=rx(g.traits);C.textContent=X,C.title=X,v.append(b,ie,q,oe,F,C),fx(v,g,a),typeof a.onSelect=="function"&&v.addEventListener("click",()=>a.onSelect?.(g.id)),p.appendChild(v),m.appendChild(p)}n.appendChild(m)}}}const mx=150,gx="autobattles:log-history:v2",Oy="autobattles:log-preferences:v1",Vh=typeof window<"u"&&typeof window.localStorage<"u"?window.localStorage:null;let jA=0;const zA=()=>(jA+=1,`${Date.now().toString(36)}-${jA.toString(36)}`),Eo=n=>{if(Array.isArray(n))return n.map(a=>typeof a=="string"?a.trim():"").filter(a=>a.length>0);if(typeof n=="string"){const a=n.trim();return a?[a]:[]}return[]},Qf=n=>n?typeof n!="object"?{}:{...n}:{},px=n=>{if(!n)return null;if(typeof n.unitId=="string"&&n.unitId.trim().length>0)return n.unitId.trim();const a=Eo(n.unitIds);return a.length>0?a[a.length-1]:null},Ax=(n,a)=>{const s=Eo(n.unitIds??n.unitId),o=Eo(a.unitIds??a.unitId),l=Array.from(new Set([...s,...o])),u=Eo(n.unitNames??n.unitName),f=Eo(a.unitNames??a.unitName),h=Array.from(new Set([...u,...f])),m=typeof a.steward=="string"?a.steward:n.steward,g={...n,...a,unitIds:l,unitNames:h};return typeof m=="string"&&(g.steward=m),h.length>0&&(g.unitName=h[h.length-1]),l.length>0&&(g.unitId=l[l.length-1]),g};class vx{history=[];listeners=new Set;storage;storageKey;maxEntries;constructor(a={}){this.storage=a.storage??Vh,this.storageKey=a.storageKey??gx,this.maxEntries=Math.max(1,a.maxEntries??mx),this.hydrate()}hydrate(){if(this.storage)try{const a=this.storage.getItem(this.storageKey);if(!a)return;const s=JSON.parse(a);if(!Array.isArray(s))return;const o=[];for(const l of s){if(!l||typeof l!="object")continue;const u=l;if(typeof u.type!="string"||typeof u.message!="string")continue;const f={id:typeof u.id=="string"?u.id:zA(),type:u.type,message:u.message,metadata:Qf(u.metadata),timestamp:typeof u.timestamp=="number"&&Number.isFinite(u.timestamp)?u.timestamp:Date.now(),occurrences:typeof u.occurrences=="number"&&u.occurrences>0?Math.floor(u.occurrences):1};o.push(f)}o.length>0&&(o.length>this.maxEntries?this.history=o.slice(-this.maxEntries):this.history=o)}catch{this.history=[]}}persist(){if(this.storage)try{const a=JSON.stringify(this.history.map(s=>({id:s.id,type:s.type,message:s.message,metadata:s.metadata,timestamp:s.timestamp,occurrences:s.occurrences})));this.storage.setItem(this.storageKey,a)}catch{}}getHistory(){return this.history.map(a=>({...a,metadata:Qf(a.metadata)}))}subscribe(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}clear(){if(this.history.length===0)return;const a=this.history.slice();this.history=[],this.persist(),this.emitChange({kind:"remove",entries:a})}emit(a){const s=Qf(a.metadata),o={id:zA(),type:a.type,message:a.message,metadata:s,timestamp:Date.now(),occurrences:1},l=this.tryAggregate(o);if(l)return this.history[l.index]=l.entry,this.persist(),this.emitChange({kind:"update",entry:l.entry,index:l.index}),l.entry;this.history.push(o);const u=[];for(;this.history.length>this.maxEntries;){const h=this.history.shift();h&&u.push(h)}this.persist(),u.length>0&&this.emitChange({kind:"remove",entries:u});const f=this.history.length-1;return this.emitChange({kind:"append",entry:o,index:f}),o}tryAggregate(a){if(a.type!=="spawn"||!px(a.metadata)||this.history.length===0)return null;const o=this.history.length-1,l=this.history[o];return l.type!=="spawn"?null:{entry:{...l,id:l.id,message:a.message,metadata:Ax(l.metadata??{},a.metadata??{}),timestamp:a.timestamp,occurrences:l.occurrences+a.occurrences},index:o}}emitChange(a){for(const s of this.listeners)try{s(a)}catch(o){console.warn("Failed to handle log change",o)}}}const Zh=new vx,Gt=n=>Zh.emit(n),yx=n=>Zh.subscribe(n),bx=()=>Zh.getHistory(),Ro={combat:{label:"Combat",accent:"var(--color-accent-red)"},spawn:{label:"Reinforcements",accent:"var(--color-accent-green)"},loot:{label:"Loot",accent:"var(--color-accent-gold)"},progression:{label:"Progression",accent:"var(--color-accent-blue)"},ability:{label:"Abilities",accent:"var(--color-accent-purple)"},resource:{label:"Economy",accent:"var(--color-accent-cyan)"},policy:{label:"Policies",accent:"var(--color-accent-orange)"},event:{label:"Events",accent:"var(--color-accent-pink)"},system:{label:"Systems",accent:"var(--color-muted)"}},IA=["combat","spawn","loot","progression","ability","resource","policy","event","system"],mc={mutedTypes:[]},Ex=(n=Vh)=>{if(!n)return{...mc};try{const a=n.getItem(Oy);if(!a)return{...mc};const s=JSON.parse(a);if(!s||typeof s!="object")return{...mc};const o=Array.isArray(s.mutedTypes)?s.mutedTypes.filter(l=>typeof l=="string"&&l in Ro):[];return{mutedTypes:Array.from(new Set(o))}}catch{return{...mc}}},wx=(n,a=Vh)=>{if(a)try{const s=Array.isArray(n.mutedTypes)?n.mutedTypes.filter(o=>o in Ro):[];a.setItem(Oy,JSON.stringify({mutedTypes:Array.from(new Set(s))}))}catch{}},Lf=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function Sx(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{log:()=>{},addEvent:()=>{},renderRoster:()=>{},dispose:()=>{}};const{regions:o,mobileBar:l}=hr(s),u=o.top,f=o.right,h=s.querySelector("#right-panel");h&&h.remove();const m=s.querySelector(".right-panel-slide");m&&m.remove();const g=s.querySelector("#right-panel-toggle");g&&g.remove();const p=document.createElement("div");p.id="right-panel",p.classList.add("hud-card"),p.setAttribute("role","complementary"),p.setAttribute("aria-label","Sauna command console"),p.tabIndex=-1;const v=document.createElement("div");v.className="right-panel-slide",v.setAttribute("aria-hidden","true");const b=document.createElement("div");b.className="right-panel-slide__backdrop",b.setAttribute("aria-hidden","true");const E=document.createElement("div");E.className="right-panel-slide__sheet",E.appendChild(p),v.append(b,E);const x=window.matchMedia("(max-width: 1040px)"),T=[],D=document.createElement("button");D.type="button",D.id="right-panel-toggle",D.classList.add("hud-panel-toggle"),D.setAttribute("aria-controls",p.id);const N=document.createElement("span");N.classList.add("hud-panel-toggle__icon"),N.setAttribute("aria-hidden","true");const L=document.createElement("span");L.classList.add("hud-panel-toggle__icon-bars"),N.appendChild(L);const I=document.createElement("span");I.classList.add("hud-panel-toggle__text");const q=document.createElement("span");q.classList.add("hud-panel-toggle__title"),q.textContent="Command Console";const Z=document.createElement("span");Z.classList.add("hud-panel-toggle__state"),I.append(q,Z),D.append(N,I);const ie=()=>{const k=u.querySelector("#topbar");k&&k.parentElement===u?k.insertAdjacentElement("afterend",D):u.prepend(D)};let se=!1,oe=!1,ne=!1,F=!1;const M="is-mobile-panel-open",O=()=>{ne?Z.textContent=F?"Close":"Menu":Z.textContent=se?"Open":"Close"},C=()=>{if(ne){D.setAttribute("aria-expanded",F?"true":"false");const k=F?"Close command console panel":"Open command console panel";D.setAttribute("aria-label",k),D.title=F?"Close the sauna command console overlay":"Open the sauna command console overlay"}else{D.setAttribute("aria-expanded",se?"false":"true");const k=se?"Open command console panel":"Close command console panel";D.setAttribute("aria-label",k),D.title=se?"Open the sauna command console overlay":"Close the sauna command console overlay"}},X=()=>{O(),C()},U=(k,_=x.matches)=>{if(ne)return;const re=se;_&&(oe=k);const de=k&&_;se=de,p.classList.toggle("right-panel--collapsed",de),p.setAttribute("aria-hidden",de?"true":"false"),X(),re&&!de&&_&&p.focus({preventScroll:!0})},B=k=>{!ne||!F||k.key==="Escape"&&(k.preventDefault(),Y())};let z=!1;const W=()=>{z||(document.addEventListener("keydown",B),z=!0)},fe=()=>{z&&(document.removeEventListener("keydown",B),z=!1)},w=()=>{!ne||F||(F=!0,v.classList.add("right-panel-slide--open"),v.setAttribute("aria-hidden","false"),p.setAttribute("aria-hidden","false"),document.body.classList.add(M),v.style.setProperty("--panel-drag-progress","1"),X(),W(),requestAnimationFrame(()=>{p.focus({preventScroll:!0})}))},Y=({skipFocus:k=!1}={})=>{!ne||!F||(Ce(),F=!1,v.classList.remove("right-panel-slide--open"),v.setAttribute("aria-hidden","true"),p.setAttribute("aria-hidden","true"),document.body.classList.remove(M),v.style.setProperty("--panel-drag-progress","0"),X(),fe(),k||D.focus({preventScroll:!0}))},ee=k=>{if(ne)return;const _=k.matches;D.hidden=!_,U(_?oe:!1,_)};typeof x.addEventListener=="function"?(x.addEventListener("change",ee),T.push(()=>x.removeEventListener("change",ee))):(x.addListener(ee),T.push(()=>x.removeListener(ee)));const $=()=>{if(ne){F?Y():w();return}U(!se)};D.addEventListener("click",$),T.push(()=>D.removeEventListener("click",$));const le=()=>{Y()};b.addEventListener("click",le),T.push(()=>b.removeEventListener("click",le));let ge=null,he=0,Ie=0;const Ce=()=>{ge!==null&&(E.releasePointerCapture(ge),ge=null),E.style.transition="",E.style.transform="",v.style.setProperty("--panel-drag-progress",F?"1":"0")},Rt=k=>{!ne||!F||k.pointerType==="mouse"&&k.button!==0||(ge=k.pointerId,he=k.clientX,Ie=0,E.style.transition="none",E.setPointerCapture(k.pointerId))},Wt=k=>{if(!ne||k.pointerId!==ge||!F)return;Ie=Math.max(0,k.clientX-he);const _=E.offsetWidth||1,re=Math.min(Ie,_);E.style.transform=`translateX(${re}px)`,v.style.setProperty("--panel-drag-progress",String(1-re/_))},Sn=k=>{Ce(),k&&Y()},$t=k=>{if(k.pointerId!==ge)return;const _=E.offsetWidth||1,re=Ie>_*.35;Sn(re)},It=()=>{Sn(!1)};E.addEventListener("pointerdown",Rt),E.addEventListener("pointermove",Wt),E.addEventListener("pointerup",$t),E.addEventListener("pointercancel",It),T.push(()=>{E.removeEventListener("pointerdown",Rt),E.removeEventListener("pointermove",Wt),E.removeEventListener("pointerup",$t),E.removeEventListener("pointercancel",It)});const Ft=Ty(k=>{ne=k,ne?(E.appendChild(p),v.isConnected||s.appendChild(v),l.appendChild(D),D.classList.add("hud-panel-toggle--mobile"),D.hidden=!1,F||(p.setAttribute("aria-hidden","true"),v.setAttribute("aria-hidden","true"),v.style.setProperty("--panel-drag-progress","0"))):(Y({skipFocus:!0}),v.style.setProperty("--panel-drag-progress","1"),v.remove(),f.appendChild(p),ie(),D.classList.remove("hud-panel-toggle--mobile"),D.hidden=!x.matches,p.setAttribute("aria-hidden","false"),U(oe,x.matches)),X()});T.push(Ft);const la=document.createElement("div");la.classList.add("panel-tabs"),p.appendChild(la);const ca=document.createElement("div");ca.classList.add("panel-content"),p.appendChild(ca);const lt=document.createElement("div");lt.id="right-panel-roster",lt.setAttribute("role","region"),lt.setAttribute("aria-live","polite"),lt.setAttribute("aria-label","Battalion roster");const ua=document.createElement("div");ua.id="right-panel-policies";const xn=document.createElement("div");xn.id="right-panel-events";const hn=document.createElement("div");hn.id="right-panel-log",hn.setAttribute("role","region"),hn.setAttribute("aria-label","Combat log");const qt=document.createElement("section");qt.className="panel-log";const _a=document.createElement("header");_a.className="panel-log__header";const Cn=document.createElement("h3");Cn.className="panel-log__title",Cn.textContent="Combat Log";const zn=document.createElement("span");zn.className="panel-log__total",zn.textContent="0 entries",_a.append(Cn,zn);const Rn=document.createElement("div");Rn.className="panel-log__filters";const Ne=document.createElement("div");Ne.id="event-log",Ne.className="panel-log__feed",Ne.setAttribute("role","log"),Ne.setAttribute("aria-live","polite"),qt.append(_a,Rn,Ne),hn.appendChild(qt);const Je={Roster:lt,Policies:ua,Events:xn,Log:hn},{onRosterSelect:en,onRosterRendererReady:ft,onRosterEquipSlot:cs,onRosterUnequipSlot:mr}=a;for(const[k,_]of Object.entries(Je))_.classList.add("panel-section","panel-section--scroll"),_.dataset.tab=k,_.hidden=!0;hn.classList.add("panel-section--log");function us(k){for(const[_,re]of Object.entries(Je))re.hidden=_!==k;for(const _ of Array.from(la.children)){const re=_,de=re.textContent===k;re.disabled=de,re.setAttribute("aria-pressed",de?"true":"false")}}for(const k of Object.keys(Je)){const _=document.createElement("button");_.type="button",_.textContent=k;const re=Je[k];re?.id&&_.setAttribute("aria-controls",re.id),_.setAttribute("aria-pressed","false");const de=()=>us(k);_.addEventListener("click",de),T.push(()=>_.removeEventListener("click",de)),la.appendChild(_),ca.appendChild(Je[k])}const Mi=hx(lt,{onSelect:en,onEquipSlot:cs,onUnequipSlot:mr}),da=k=>{Mi.render(k)};da([]),typeof ft=="function"&&ft(da);const Bn={[ae.SAUNA_BEER]:"Sauna Beer Bottles",[ae.SAUNAKUNNIA]:"Saunakunnia",[ae.SISU]:"Sisu"},ce=Ov(),ye=new Map;function be(k){const _=document.createElement("span");return _.className="policy-card__badge",_.textContent=k,_}function De(k){const _=document.createElement("article");_.className="policy-card",_.style.setProperty("--policy-gradient",k.visuals.gradient),_.style.setProperty("--policy-accent",k.visuals.accentColor);const re=document.createElement("div");re.className="policy-card__header";const de=document.createElement("div");de.className="policy-card__icon-frame";const Te=document.createElement("img");Te.className="policy-card__icon",Te.src=k.visuals.icon,Te.alt=`${k.name} icon`,de.appendChild(Te);const Fe=document.createElement("div");Fe.className="policy-card__heading";const Me=document.createElement("h4");if(Me.className="policy-card__title",Me.textContent=k.name,Fe.appendChild(Me),k.visuals.badges?.length){const qn=document.createElement("div");qn.className="policy-card__badges",k.visuals.badges.forEach(Ko=>qn.appendChild(be(Ko))),Fe.appendChild(qn)}const et=document.createElement("span");et.className="policy-card__state",et.textContent="Ready",re.append(de,Fe,et);const tn=document.createElement("p");tn.className="policy-card__description",tn.textContent=k.description;const wt=k.visuals.flair?(()=>{const qn=document.createElement("p");return qn.className="policy-card__flair",qn.textContent=k.visuals.flair??"",qn})():null,nn=document.createElement("div");nn.className="policy-card__actions";const an=document.createElement("span");an.className="policy-card__cost";const Oi=document.createElement("span");Oi.className="policy-card__cost-label",Oi.textContent="Cost";const gt=document.createElement("span");gt.className="policy-card__cost-value",gt.textContent=`${Lf.format(k.cost)} ${Bn[k.resource]}`,an.append(Oi,gt);const tt=document.createElement("button");tt.type="button",tt.className="policy-card__action",tt.textContent="Enact Policy";const Ja=document.createElement("p");Ja.className="policy-card__status";const Wa=document.createElement("ul");Wa.className="policy-card__requirements",Wa.hidden=!0,nn.append(an,tt);const Ea=()=>{n.applyPolicy(k.id)&&ht(k)};return tt.addEventListener("click",Ea),T.push(()=>tt.removeEventListener("click",Ea)),_.append(re,tn),wt&&_.appendChild(wt),_.append(nn,Ja,Wa),ye.set(k.id,{card:_,action:tt,stateBadge:et,statusCopy:Ja,requirements:Wa,costChip:an}),_}function Et(){ua.innerHTML="",ye.clear();const k=document.createElement("div");k.className="policy-grid",ce.forEach(_=>{const re=De(_);k.appendChild(re)}),ua.appendChild(k),Bt()}function ht(k){const _=ye.get(k.id);if(!_)return;const re=n.hasPolicy(k.id),de=k.prerequisites.filter(wt=>!wt.isSatisfied(n)),Te=n.canAfford(k.cost,k.resource);_.action.disabled=re||de.length>0||!Te,_.action.textContent=re?"Enacted":"Enact Policy";let Fe="ready",Me="Ready",et=k.spotlight??"All signals point to go.";_.requirements.innerHTML="",_.requirements.hidden=!0,re?(Fe="applied",Me="Enacted",et=k.visuals.flair??"Policy active."):de.length>0?(Fe="locked",Me="Locked",et="Awaiting requirements:",_.requirements.hidden=!1,de.forEach(wt=>{const nn=document.createElement("li");nn.textContent=wt.description,_.requirements.appendChild(nn)})):Te||(Fe="budget",Me="Needs Resources",et=`Earn ${Lf.format(k.cost)} ${Bn[k.resource]} to enact this edict.`),_.card.dataset.status=Fe,_.stateBadge.textContent=Me,_.statusCopy.textContent=et;const tn=!re&&de.length===0&&!Te;_.costChip.classList.toggle("policy-card__cost--warning",tn)}function Bt(){ce.forEach(k=>ht(k))}Et();const fa=k=>Bt(),ha=k=>Bt(),ma=k=>Bt();te.on("resourceChanged",fa),te.on(zt.APPLIED,ha),te.on(zt.REJECTED,ma),T.push(()=>{te.off("resourceChanged",fa),te.off(zt.APPLIED,ha),te.off(zt.REJECTED,ma)});function ga(k,_){const re=document.createElement("button");re.type="button",re.classList.add("event-card__choice"),_.accent&&re.classList.add(`event-card__choice--${_.accent}`),re.dataset.choiceId=_.id;const de=document.createElement("span");if(de.className="event-card__choice-label",de.textContent=_.label,re.appendChild(de),_.description){const Te=document.createElement("span");Te.className="event-card__choice-detail",Te.textContent=_.description,re.appendChild(Te)}return re.addEventListener("click",()=>{if(!re.isConnected)return;re.disabled=!0,Rc.resolve(k.id,_.id)||(re.disabled=!1)}),re}function pa(k){if(xn.innerHTML="",k.length===0){const re=document.createElement("div");re.className="event-card event-card--empty";const de=document.createElement("p");de.className="event-card__empty",de.textContent="All clear. Command will notify you when new briefings arrive.",re.appendChild(de),xn.appendChild(re);return}const _=document.createDocumentFragment();for(const re of k){const de=document.createElement("article");de.className="event-card",de.dataset.eventId=re.id,de.style.setProperty("--event-accent",re.accentColor??"var(--color-accent)");const Te=(re.typography??"sans").toLowerCase();de.classList.add(`event-card--${["serif","mono"].includes(Te)?Te:"sans"}`);const Fe=(re.animation??"").toLowerCase();["aurora","pulse","tilt"].includes(Fe)&&de.classList.add(`event-card--${Fe}`);const Me=document.createElement("div");if(Me.className="event-card__frame",re.art){const tt=document.createElement("div");tt.className="event-card__media",tt.style.backgroundImage=`url(${re.art})`,Me.appendChild(tt)}const et=document.createElement("div");et.className="event-card__body";const tn=document.createElement("span");tn.className="event-card__badge",tn.textContent="Priority Dispatch",et.appendChild(tn);const wt=document.createElement("h4");wt.className="event-card__headline",wt.textContent=re.headline,et.appendChild(wt);const nn=document.createElement("p");nn.className="event-card__copy",nn.textContent=re.body,et.appendChild(nn);const an=document.createElement("div");an.className="event-card__choices";const Oi=re.choices&&re.choices.length>0?re.choices:[{id:"acknowledge",label:re.acknowledgeText??"Acknowledge"}];for(const tt of Oi){const Ja=ga(re,{id:tt.id,label:tt.label,description:tt.description,event:tt.event,payload:tt.payload,accent:tt.accent});an.appendChild(Ja)}et.appendChild(an),Me.appendChild(et);const gt=document.createElement("span");gt.className="event-card__shimmer",de.append(Me,gt),_.appendChild(de)}xn.appendChild(_)}const jo=Rc.subscribe(pa);T.push(jo);const zo=({event:k})=>{Gt({type:"event",message:`Event  ${k.headline}`,metadata:{eventId:k?.id??k.headline,headline:k.headline}})};te.on(Oc.TRIGGERED,zo),T.push(()=>{te.off(Oc.TRIGGERED,zo)});function In(k){Rc.publish(k)}const We=new Map,mt=new Map,Aa=new Map,Ka=new Set(Ex().mutedTypes??[]),Mn=new Set;for(const k of IA)Ka.has(k)||Mn.add(k),mt.set(k,0);let ds=0,Di=!0;const Ti=typeof requestAnimationFrame=="function"?requestAnimationFrame:k=>setTimeout(k,16),fs=k=>Lf.format(Math.max(0,k)),va=()=>{const k=ds===1?"entry":"entries";zn.textContent=`${fs(ds)} ${k}`},Va=k=>{const _=Aa.get(k);_&&(_.textContent=fs(mt.get(k)??0))},ya=(k,_)=>{if(_===0)return;const re=mt.get(k)??0;mt.set(k,Math.max(0,re+_)),ds=Math.max(0,ds+_),Va(k),va()},ba=()=>Ne.scrollHeight-(Ne.scrollTop+Ne.clientHeight)<48,$e=()=>{Ti(()=>{Ne.scrollTop=Ne.scrollHeight,Di=!0})},hs=k=>{const _=Mn.has(k.type);k.element.hidden=!_,k.element.classList.toggle("panel-log-entry--muted",!_)},Io=k=>{const _=k.metadata??{};return(Array.isArray(_.unitNames)?_.unitNames:typeof _.unitName=="string"?[_.unitName]:[]).map(de=>typeof de=="string"?de.trim():"").filter(de=>de.length>0)},Fn=(k,_)=>{if(_.type!=="spawn"){k.replaceChildren(),k.hidden=!0;return}const re=Io(_),de=re.map(Fe=>{const Me=document.createElement("span");return Me.className="panel-log-entry__token",Me.textContent=Fe,Me}),Te=_.occurrences-re.length;if(Te>0){const Fe=document.createElement("span");Fe.className="panel-log-entry__token panel-log-entry__token--more",Fe.textContent=`+${Te}`,de.push(Fe)}de.length===0?(k.replaceChildren(),k.hidden=!0):(k.replaceChildren(...de),k.hidden=!1)},Za=k=>{const _=document.createElement("article");_.className="panel-log-entry",_.dataset.logType=k.type,_.style.setProperty("--log-entry-accent",Ro[k.type]?.accent??"var(--color-accent)");const re=document.createElement("div");re.className="panel-log-entry__header";const de=document.createElement("span");de.className="panel-log-entry__type",de.textContent=Ro[k.type]?.label??k.type;const Te=document.createElement("span");Te.className="panel-log-entry__badge";const Fe=document.createElement("p");Fe.className="panel-log-entry__message",Fe.textContent=k.message;const Me=document.createElement("div");Me.className="panel-log-entry__tokens",Me.hidden=!0,re.append(de,Te),_.append(re,Fe,Me);const et=wt=>{wt<=1?(Te.textContent="",Te.hidden=!0):(Te.hidden=!1,Te.textContent=`${wt}`)},tn={element:_,type:k.type,occurrences:k.occurrences,badge:Te,message:Fe,tokens:Me,setBadge:et};return et(k.occurrences),Fn(Me,k),tn},Fo=(k,_=!1)=>{const re=_?!0:ba()||Di,de=Za(k);We.set(k.id,de),Ne.appendChild(de.element),ya(de.type,de.occurrences),hs(de),re&&$e()},qo=k=>{const _=We.get(k.id);if(!_)return;const re=k.occurrences-_.occurrences;re!==0&&(_.occurrences=k.occurrences,ya(_.type,re)),_.message.textContent=k.message,_.setBadge(k.occurrences),_.tokens&&Fn(_.tokens,k),hs(_),Di&&$e()},Xo=k=>{const _=We.get(k.id);_&&(We.delete(k.id),ya(_.type,-_.occurrences),_.element.parentElement===Ne&&Ne.removeChild(_.element))},Yo=()=>{for(const k of We.values())hs(k)};for(const k of IA){const _=Ro[k],re=document.createElement("button");re.type="button",re.className="log-chip",re.dataset.logFilter=k,re.style.setProperty("--log-chip-accent",_?.accent??"var(--color-accent)"),re.setAttribute("aria-pressed",Mn.has(k)?"true":"false"),re.setAttribute("aria-label",`${_?.label??k} log filter`);const de=document.createElement("span");de.className="log-chip__label",de.textContent=_?.label??k;const Te=document.createElement("span");Te.className="log-chip__count",Te.textContent="0",Aa.set(k,Te),Mn.has(k)||re.classList.add("is-muted"),re.append(de,Te),Rn.appendChild(re),re.addEventListener("click",()=>{Mn.has(k)?(Mn.delete(k),Ka.add(k)):(Mn.add(k),Ka.delete(k)),re.classList.toggle("is-muted",!Mn.has(k)),re.setAttribute("aria-pressed",Mn.has(k)?"true":"false"),wx({mutedTypes:Array.from(Ka)}),Yo()})}va();const ki=()=>{Di=ba()};Ne.addEventListener("scroll",ki,{passive:!0}),T.push(()=>Ne.removeEventListener("scroll",ki));const Hi=bx();if(Hi.length>0){for(const k of Hi)Fo(k,!0);$e()}const Dn=yx(k=>{if(k.kind==="append")Fo(k.entry);else if(k.kind==="update")qo(k.entry);else if(k.kind==="remove")for(const _ of k.entries)Xo(_)});return T.push(Dn),Yo(),us("Roster"),{log:k=>{Gt(k)},addEvent:In,renderRoster:da,dispose:()=>{for(const k of T.splice(0))try{k()}catch(_){console.warn("Failed to dispose HUD listener",_)}fe(),Ce(),document.body.classList.remove(M),v.remove(),D.remove(),p.remove()}}}const xx=n=>`[data-tutorial-target="${n}"]`,Zn=16,gc=12,FA="is-tutorial-highlighted",Cx=[{id:"heat",target:"heat",title:"Heat the Sauna",description:"Keep the sauna fires roaring. This control shows when the next warrior emerges from the steam."},{id:"upkeep",target:"upkeep",title:"Mind Your Upkeep",description:"Every attendant draws upkeep. Track totals and see a featured roster member to balance your economy."},{id:"sisu",target:"sisu",title:"Stockpile SISU",description:"SISU fuels heroic bursts. Watch this meter to know when your grit reserves can power signature moves."},{id:"combat",target:"combat",title:"Command the Fight",description:"Trigger a Sisu Burst to supercharge allied attacks or rally everyone home with a Torille call."},{id:"victory",target:"victory",title:"Claim Victory",description:"Saunakunnia measures renown. Push it ever higher to unlock triumphs and close the campaign in glory."}];function Rx(n,a,s){return Math.max(a,Math.min(s,n))}function Bx(n={}){const a=n.steps??Cx;if(a.length===0)throw new Error("Tutorial requires at least one step.");let s=-1,o=null,l=!1;const u=document.createElement("div");u.className="tutorial-overlay";const f=document.createElement("div");f.className="tutorial-overlay__spotlight",f.setAttribute("aria-hidden","true");const h=document.createElement("section");h.className="tutorial-card",h.setAttribute("role","dialog"),h.setAttribute("aria-modal","false"),h.tabIndex=-1;const m=document.createElement("header");m.className="tutorial-card__header";const g=document.createElement("h2");g.className="tutorial-card__title";const p=document.createElement("button");p.type="button",p.className="tutorial-card__close",p.setAttribute("aria-label","Dismiss tutorial"),p.textContent="",m.append(g,p);const v=document.createElement("p");v.className="tutorial-card__description";const b=document.createElement("p");b.className="tutorial-card__progress";const E=document.createElement("div");E.className="tutorial-card__controls";const x=document.createElement("button");x.type="button",x.className="tutorial-card__button tutorial-card__button--secondary",x.textContent="Back";const T=document.createElement("button");T.type="button",T.className="tutorial-card__button",T.textContent="Next";const D=document.createElement("button");D.type="button",D.className="tutorial-card__skip",D.textContent="Skip tutorial",E.append(x,T),h.append(m,v,b,E,D),u.append(f,h);const N=typeof ResizeObserver<"u"?new ResizeObserver(()=>{s>=0&&se()}):null,L=()=>{s>=0&&se()};function I(){l||(document.body.appendChild(u),window.addEventListener("resize",se),document.addEventListener("scroll",L,!0),N?.observe(h),l=!0)}function q(){l&&(window.removeEventListener("resize",se),document.removeEventListener("scroll",L,!0),N?.disconnect(),u.remove(),l=!1)}function Z(U){if(o&&o!==U&&(o.classList.remove(FA),o.removeAttribute("data-tutorial-highlight")),o=U,!U){f.style.opacity="0";return}U.classList.add(FA),U.setAttribute("data-tutorial-highlight","true"),f.style.opacity="1"}function ie(){if(!o)return null;const U=o.getBoundingClientRect();return U.width===0&&U.height===0?null:{top:U.top,left:U.left,width:U.width,height:U.height}}function se(){const U=ie();if(!U){h.style.top=`${Zn}px`,h.style.left=`${Zn}px`,h.classList.add("tutorial-card--floating"),f.style.opacity="0";return}h.classList.remove("tutorial-card--floating"),f.style.opacity="1";const B=U.top-gc,z=U.left-gc,W=U.width+gc*2,fe=U.height+gc*2;f.style.top=`${B}px`,f.style.left=`${z}px`,f.style.width=`${W}px`,f.style.height=`${fe}px`;const w=h.getBoundingClientRect();let ee=window.innerHeight-U.top-U.height>=U.top?U.top+U.height+Zn:U.top-w.height-Zn;ee<Zn?ee=Zn:ee+w.height>window.innerHeight-Zn&&(ee=window.innerHeight-Zn-w.height);let le=U.left+U.width/2-w.width/2;le=Rx(le,Zn,window.innerWidth-w.width-Zn),h.style.top=`${Math.round(ee)}px`,h.style.left=`${Math.round(le)}px`}function oe(){requestAnimationFrame(()=>{h.focus({preventScroll:!0})})}function ne(U){if(U<0||U>=a.length)return;I(),s=U;const B=a[U];g.textContent=B.title,v.textContent=B.description,b.textContent=`Step ${U+1} of ${a.length}`,x.disabled=U===0,T.textContent=U===a.length-1?"Finish":"Next";const z=document.querySelector(xx(B.target));Z(z??null),se(),oe()}function F(){if(s===-1){ne(0);return}if(s>=a.length-1){X();return}ne(s+1)}function M(){s<=0||ne(s-1)}function O(){Z(null),q(),s=-1}function C(){n.onSkip?.(),O()}function X(){n.onComplete?.(),O()}return x.addEventListener("click",()=>{M()}),T.addEventListener("click",()=>{F()}),D.addEventListener("click",()=>{C()}),p.addEventListener("click",()=>{C()}),h.addEventListener("keydown",U=>{U.defaultPrevented||(U.key==="ArrowRight"?(U.preventDefault(),F()):U.key==="ArrowLeft"?(U.preventDefault(),M()):U.key==="Escape"&&(U.preventDefault(),C()))}),{start(){s===-1&&ne(0)},next:F,previous:M,skip:C,finish:X,destroy(){O()}}}const Mx=Math.sqrt(3),Dx=2;function jc(n){return{width:n*Mx,height:n*Dx}}const Ua=16,pc=2;function Tx(){return typeof window<"u"&&window.devicePixelRatio||1}function kx(n,a){const s=Math.max(n.qMin,a.minQ),o=Math.min(n.qMax,a.maxQ),l=Math.max(n.rMin,a.minR),u=Math.min(n.rMax,a.maxR);return s>o||l>u?null:{qMin:s,qMax:o,rMin:l,rMax:u}}function Hx(n,a){const s=Tx(),o=a.width/(s*n.zoom),l=a.height/(s*n.zoom);return{x:n.x-o/2,y:n.y-l/2,width:o,height:l}}function Ox(n,a){const s=[bo(n.x,n.y,a),bo(n.x+n.width,n.y,a),bo(n.x,n.y+n.height,a),bo(n.x+n.width,n.y+n.height,a)];let o=1/0,l=-1/0,u=1/0,f=-1/0;for(const h of s)o=Math.min(o,h.q),l=Math.max(l,h.q),u=Math.min(u,h.r),f=Math.max(f,h.r);return{qMin:Math.floor(o)-pc,qMax:Math.ceil(l)+pc,rMin:Math.floor(u)-pc,rMax:Math.ceil(f)+pc}}function Nx(n,a,s,o){if(!s||typeof s.width!="number"||typeof s.height!="number")return{qMin:n.minQ,qMax:n.maxQ,rMin:n.minR,rMax:n.maxR};if(s.width===0||s.height===0)return{qMin:n.minQ,qMax:n.maxQ,rMin:n.minR,rMax:n.maxR};const l=Hx(a,s);return kx(Ox(l,o),n)}function Ws(n){return Math.floor(n/Ua)}function Ny(n){return`${n.q},${n.r}`}function Px(n,a){return Ny({q:Ws(n),r:Ws(a)})}function Gx(n){return{qMin:Ws(n.qMin),qMax:Ws(n.qMax),rMin:Ws(n.rMin),rMax:Ws(n.rMax)}}function Py(n){const a=[];for(let s=n.rMin;s<=n.rMax;s++)for(let o=n.qMin;o<=n.qMax;o++)a.push({q:o,r:s});return a}function Qx(n,a){const s=a.q*Ua,o=a.r*Ua,l=s+Ua-1,u=o+Ua-1,f=Math.max(s,n.minQ),h=Math.min(l,n.maxQ),m=Math.max(o,n.minR),g=Math.min(u,n.maxR);if(!(f>h||m>g))for(let p=m;p<=g;p++)for(let v=f;v<=h;v++)n.ensureTile(v,p)}function Lx(n,a){for(const s of Py(a))Qx(n,s)}const Ux="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3ePlains%20Tile%3c/title%3e%3cdesc%20id='desc'%3eRolling%20plains%20with%20sunrise%20gradients%20and%20glowing%20grasses.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='plains-bg'%20cx='50%25'%20cy='50%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230f172a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23111827'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='plains-field'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='0%25'%3e%3cstop%20offset='0%25'%20stop-color='%23facc15'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23eab308'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='plains-haze'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23fde68a'%20stop-opacity='0.8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23f59e0b'%20stop-opacity='0.2'%20/%3e%3c/linearGradient%3e%3cfilter%20id='plains-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='5'%20stdDeviation='6'%20flood-color='%23facc15'%20flood-opacity='0.35'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23plains-bg)'%20/%3e%3cg%20filter='url(%23plains-glow)'%3e%3cpath%20d='M16%2088c20-18%2036-22%2048-22s28%204%2048%2022'%20fill='url(%23plains-field)'%20stroke='%23fef9c3'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M24%20102c16-14%2032-18%2040-18s24%204%2040%2018'%20fill='none'%20stroke='%23fde68a'%20stroke-width='5'%20stroke-linecap='round'%20opacity='0.5'%20/%3e%3cpath%20d='M32%2070c12-10%2024-14%2032-14s20%204%2032%2014'%20fill='url(%23plains-haze)'%20opacity='0.7'%20/%3e%3cpath%20d='M52%2078l4%2012m8-12l4%2012m8-12l4%2012'%20stroke='%23fef3c7'%20stroke-width='3'%20stroke-linecap='round'%20opacity='0.8'%20/%3e%3c/g%3e%3ccircle%20cx='40'%20cy='36'%20r='8'%20fill='%23fef08a'%20opacity='0.7'%20/%3e%3c/svg%3e",jx="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eForest%20Tile%3c/title%3e%3cdesc%20id='desc'%3eStylised%20evergreen%20trees%20glowing%20against%20a%20deep%20night%20backdrop.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='forest-bg'%20cx='50%25'%20cy='40%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230f172a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230b1120'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='forest-leaf'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%234ade80'%20/%3e%3cstop%20offset='100%25'%20stop-color='%2315803d'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='forest-trunk'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23a855f7'%20/%3e%3cstop%20offset='100%25'%20stop-color='%237c3aed'%20/%3e%3c/linearGradient%3e%3cfilter%20id='forest-glow'%20x='-40%25'%20y='-40%25'%20width='180%25'%20height='180%25'%3e%3cfeDropShadow%20dx='0'%20dy='6'%20stdDeviation='6'%20flood-color='%234ade80'%20flood-opacity='0.25'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23forest-bg)'%20/%3e%3cg%20filter='url(%23forest-glow)'%20stroke='%23bbf7d0'%20stroke-width='2'%3e%3cpath%20fill='url(%23forest-leaf)'%20d='M64%2026L32%2080h18l-12%2022h28l-10-22h16l-10%2022h28l-12-22h18z'%20/%3e%3crect%20x='58'%20y='74'%20width='12'%20height='18'%20rx='3'%20fill='url(%23forest-trunk)'%20/%3e%3cpath%20fill='none'%20stroke-linecap='round'%20stroke-opacity='0.5'%20d='M44%2086c6-4%2012-6%2020-6s14%202%2020%206'%20/%3e%3c/g%3e%3ccircle%20cx='40'%20cy='40'%20r='6'%20fill='%23fef3c7'%20opacity='0.6'%20/%3e%3ccircle%20cx='88'%20cy='32'%20r='4'%20fill='%23fef3c7'%20opacity='0.4'%20/%3e%3c/svg%3e",zx="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eMountain%20Tile%3c/title%3e%3cdesc%20id='desc'%3eJagged%20alpine%20peaks%20with%20luminous%20snowcaps.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='mountain-bg'%20cx='50%25'%20cy='45%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%23111827'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23020617'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='mountain-rock'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%2364748b'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23334155'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='mountain-snow'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23f8fafc'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23cbd5f5'%20/%3e%3c/linearGradient%3e%3cfilter%20id='mountain-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='6'%20stdDeviation='6'%20flood-color='%23f8fafc'%20flood-opacity='0.2'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23mountain-bg)'%20/%3e%3cg%20filter='url(%23mountain-glow)'%20stroke='%23cbd5f5'%20stroke-width='2'%20stroke-linejoin='round'%3e%3cpath%20fill='url(%23mountain-rock)'%20d='M24%20100l32-52%2014%2022%2012-18%2022%2048z'%20/%3e%3cpath%20fill='url(%23mountain-snow)'%20d='M56%2048l14%2022%2012-18%2010%2022H48z'%20opacity='0.85'%20/%3e%3cpath%20fill='none'%20stroke-linecap='round'%20opacity='0.6'%20d='M32%2094c10-6%2020-9%2032-9s22%203%2032%209'%20/%3e%3c/g%3e%3ccircle%20cx='92'%20cy='32'%20r='6'%20fill='%23f1f5f9'%20opacity='0.5'%20/%3e%3c/svg%3e",Ix="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eWater%20Tile%3c/title%3e%3cdesc%20id='desc'%3eGlowing%20waves%20surrounding%20a%20crystalline%20droplet.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='water-bg'%20cx='50%25'%20cy='45%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230b1120'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23020617'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='water-wave'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%2338bdf8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230ea5e9'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='water-drop'%20x1='50%25'%20y1='0%25'%20x2='50%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230284c7'%20/%3e%3c/linearGradient%3e%3cfilter%20id='water-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='4'%20stdDeviation='8'%20flood-color='%2338bdf8'%20flood-opacity='0.3'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23water-bg)'%20/%3e%3cg%20filter='url(%23water-glow)'%3e%3cpath%20d='M32%2076c12-10%2024-15%2032-15s20%205%2032%2015'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='8'%20stroke-linecap='round'%20/%3e%3cpath%20d='M28%2092c14-12%2030-18%2040-18s26%206%2040%2018'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='6'%20stroke-linecap='round'%20opacity='0.7'%20/%3e%3cpath%20d='M40%2060c10-8%2018-12%2024-12s14%204%2024%2012'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='4'%20stroke-linecap='round'%20opacity='0.5'%20/%3e%3cpath%20d='M64%2030c-12%2020-18%2032-18%2042%200%2011%208%2020%2018%2020s18-9%2018-20c0-10-6-22-18-42z'%20fill='url(%23water-drop)'%20stroke='%23e0f2fe'%20stroke-width='2'%20/%3e%3c/g%3e%3ccircle%20cx='94'%20cy='34'%20r='6'%20fill='%23f8fafc'%20opacity='0.45'%20/%3e%3c/svg%3e",Fx=.01;function Gy(n){return!Number.isFinite(n)||n<=Fx?1:n}function qx(n,a){return n/Gy(a)}function ea(n,a){const s=Gy(a);return Math.round(n*s)/s}const qA={[wn.Plains]:{baseColor:"#d8b869",icon:Ux},[wn.Forest]:{baseColor:"#237a55",icon:jx},[wn.Hills]:{baseColor:"#b57c57",icon:zx},[wn.Lake]:{baseColor:"#3185d5",icon:Ix}},Xx=[255,255,255],Jh=[12,18,28],Yx=[0,0,0],XA="rgba(56, 189, 248, 0.85)",YA="rgba(56, 189, 248, 0.45)";let mo=null,go=null;const _x=n=>Math.min(1,Math.max(0,n));function Kx(n){let a=n.trim().replace("#","");a.length===3&&(a=a.split("").map(o=>o+o).join(""));const s=Number.parseInt(a,16);return[s>>16&255,s>>8&255,s&255]}function zc(n,a,s){const o=_x(s);return[Math.round(n[0]+(a[0]-n[0])*o),Math.round(n[1]+(a[1]-n[1])*o),Math.round(n[2]+(a[2]-n[2])*o)]}function _A(n){return`rgb(${n[0]}, ${n[1]}, ${n[2]})`}function Ic(n,a=1){return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${a})`}function Fc(n,a=1){return Ic(zc(Jh,Xx,n),a)}function ar(n,a=1){return Ic(zc(Jh,Yx,n),a)}const Vx={terrain:.05,hover:.065,selection:.085},Zx={terrain:1,hover:1.35,selection:2.1};function qc(n,a,s="terrain"){const o=n*Vx[s],l=qx(o,a);return Math.max(Zx[s],l)}function Jx(){if(mo&&go)return{stroke:mo,glow:go};if(typeof window<"u"){const n=getComputedStyle(document.documentElement),a=n.getPropertyValue("--tile-highlight-ring").trim(),s=n.getPropertyValue("--tile-highlight-glow").trim();mo=a||XA,go=s||YA}else mo=XA,go=YA;return{stroke:mo,glow:go}}function Qy(n){return Math.min(1,Math.max(0,n))}function ru(n){let a=n.trim();if(a.startsWith("#")&&(a=a.slice(1)),a.length===3){const s=Number.parseInt(a[0]+a[0],16),o=Number.parseInt(a[1]+a[1],16),l=Number.parseInt(a[2]+a[2],16);return[s,o,l]}if(a.length===6){const s=Number.parseInt(a,16),o=s>>16&255,l=s>>8&255,u=s&255;return[o,l,u]}return[0,0,0]}function Wx(n,a,s){const o=Qy(s),l=(u,f)=>Math.round(u+(f-u)*o);return[l(n[0],a[0]),l(n[1],a[1]),l(n[2],a[2])]}function $x([n,a,s],o){return`rgba(${n}, ${a}, ${s}, ${Qy(o)})`}function Bi(n,a,s,o){return $x(Wx(n,a,s),o)}function e5(n){const{ctx:a,x:s,y:o,width:l,height:u,radius:f,baseColor:h}=n,m=ru(h);a.save(),a.lineCap="round",a.lineJoin="round";const g=Bi(m,[255,255,255],.35,.24);a.strokeStyle=g,a.lineWidth=Math.max(1,f*.06);const p=3,v=6,b=s+l*.12,E=s+l*.88;for(let N=0;N<p;N++){const L=N/Math.max(1,p-1),I=o+u*.28+L*u*.32,q=f*(.18-L*.05);a.beginPath();for(let Z=0;Z<=v;Z++){const ie=Z/v,se=b+(E-b)*ie,oe=Math.sin(ie*Math.PI*1.6+N*.8)*q,ne=I-Math.abs(oe)*.55;Z===0?a.moveTo(se,ne):a.lineTo(se,ne)}a.stroke()}const x=Bi(m,[18,54,32],.4,.2);a.strokeStyle=x,a.lineWidth=Math.max(.75,f*.035);const T=5,D=f*.22;for(let N=0;N<T;N++){const L=s+l*(.2+N/Math.max(1,T-1)*.6),I=o+u*.55-Math.cos(N*.9)*f*.08;a.beginPath(),a.arc(L,I,D,Math.PI*.2,Math.PI*.85),a.stroke(),a.beginPath(),a.arc(L+D*.35,I-D*.1,D*.55,Math.PI*.15,Math.PI*.95),a.stroke()}a.restore()}function t5(n){const{ctx:a,centerX:s,centerY:o,radius:l,baseColor:u}=n,f=ru(u);a.save(),a.lineCap="round";const h=Bi(f,[255,235,214],.45,.22);a.strokeStyle=h,a.lineWidth=Math.max(1,l*.05);const m=4;for(let v=0;v<m;v++){const b=v/Math.max(1,m-1),E=l*(1.25-b*.45),x=l*(.72-b*.18),T=o+l*.18*(b-.5);a.beginPath(),a.ellipse(s,T,E,x,0,Math.PI*.12,Math.PI*.88),a.stroke()}const g=Bi(f,[60,36,20],.35,.18);a.strokeStyle=g,a.lineWidth=Math.max(.85,l*.032),a.setLineDash([l*.22,l*.18]);const p=3;for(let v=0;v<p;v++){const b=l*(.75-v*.1),E=o+l*.28+v*l*.08;a.beginPath(),a.arc(s+l*.08,E,b,Math.PI*.28,Math.PI*.76),a.stroke()}a.setLineDash([]),a.restore()}function n5(n){const{ctx:a,x:s,y:o,width:l,height:u,radius:f,baseColor:h}=n,m=ru(h);a.save(),a.lineCap="round",a.lineJoin="round";const g=Bi(m,[255,255,255],.55,.28);a.strokeStyle=g,a.lineWidth=Math.max(1,f*.045);const p=4,v=7,b=s+l*.12,E=s+l*.88,x=f*.16;for(let N=0;N<p;N++){const L=N/Math.max(1,p-1),I=o+u*.3+L*u*.4;a.beginPath();for(let q=0;q<=v;q++){const Z=q/v,ie=b+(E-b)*Z,se=Math.sin(Z*Math.PI*2+N*.6)*x*(.75-L*.2),oe=I+se;q===0?a.moveTo(ie,oe):a.lineTo(ie,oe)}a.stroke()}const T=Bi(m,[12,52,94],.4,.2);a.strokeStyle=T,a.lineWidth=Math.max(.8,f*.03);const D=3;for(let N=0;N<D;N++){const L=N/Math.max(1,D-1),I=o+u*.35+L*u*.35;a.beginPath();for(let q=0;q<=v;q++){const Z=q/v,ie=b+(E-b)*Z,se=Math.sin(Z*Math.PI*2+N)*x*.35,oe=I+se;q===0?a.moveTo(ie,oe):a.lineTo(ie,oe)}a.stroke()}a.restore()}function Ly(n){const{ctx:a,x:s,y:o,width:l,height:u,radius:f,baseColor:h}=n,m=ru(h);a.save(),a.lineCap="round";const g=Bi(m,[255,255,255],.42,.18);a.strokeStyle=g,a.lineWidth=Math.max(.85,f*.03);const p=f*.55;for(let E=-1;E<=2;E++){const x=p*E;a.beginPath(),a.moveTo(s+x,o+u*.25),a.lineTo(s+x+l*.75,o+u*.85),a.stroke()}const v=Bi(m,[112,82,32],.3,.16);a.strokeStyle=v,a.lineWidth=Math.max(.7,f*.025),a.setLineDash([f*.24,f*.34]);const b=f*.48;for(let E=0;E<3;E++){const x=b*E;a.beginPath(),a.moveTo(s+l*.18+x,o+u*.78),a.lineTo(s+l*.7+x,o+u*.38),a.stroke()}a.setLineDash([]),a.restore()}const KA=new Map;let Zi=null;function a5(){if(Zi)return Zi;const n="/";if(/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(n))return Zi=n,Zi;const s=n.startsWith("/")?n:`/${n}`;return typeof window<"u"&&typeof window.location?.origin=="string"?Zi=`${window.location.origin}${s}`:Zi=`http://localhost${s}`,Zi}function i5(n){let a=KA.get(n);if(!a){a=new Image,a.decoding="async";const s=new URL(n,a5()).href;a.src=s,KA.set(n,a)}if(a.complete&&a.naturalWidth>0&&a.naturalHeight>0)return a}const s5={[wn.Plains]:Ly,[wn.Forest]:e5,[wn.Hills]:t5,[wn.Lake]:n5};function Uy(n,a,s,o){n.beginPath();for(let l=0;l<6;l++){const u=Math.PI/180*(60*l-30),f=a+o*Math.cos(u),h=s+o*Math.sin(u);l===0?n.moveTo(f,h):n.lineTo(f,h)}n.closePath()}function r5(n,a,s,o){Uy(n,a,s,o),n.save(),n.lineJoin="round",n.lineCap="round",n.lineWidth=qc(o,1,"terrain"),n.strokeStyle=Fc(.16,.6),n.stroke(),n.restore()}function o5(n,a,s,o,l,u,f,h){const m=qA[a.terrain]??qA[wn.Plains],g=Kx(m.baseColor),p=o+u/2,v=l+f/2;n.save(),Uy(n,p,v,h),n.clip();const b=n.createRadialGradient(p,v,h*.2,p,v,h*1.05);b.addColorStop(0,_A(zc(g,[255,255,255],.3))),b.addColorStop(.7,m.baseColor),b.addColorStop(1,_A(zc(g,Jh,.4))),n.fillStyle=b,n.shadowColor=Ic(g,.35),n.shadowBlur=h*.9,n.shadowOffsetX=0,n.shadowOffsetY=0,n.fillRect(o-h*.1,l-h*.1,u+h*.2,f+h*.2);const E={ctx:n,x:o,y:l,width:u,height:f,radius:h,centerX:p,centerY:v,baseColor:m.baseColor};(s5[a.terrain]??Ly)(E),n.globalCompositeOperation="lighter";const T=n.createRadialGradient(p,v,h*.85,p,v,h*1.18);T.addColorStop(0,"rgba(255, 255, 255, 0)"),T.addColorStop(1,Ic(g,.18)),n.fillStyle=T,n.fillRect(o-h*.1,l-h*.1,u+h*.2,f+h*.2),n.globalCompositeOperation="source-over",n.restore();const D=i5(m.icon);if(D){const N=Math.min(u,f)*.62,L=p-N/2,I=v-N/2;n.save(),n.globalAlpha*=.92,n.drawImage(D,L,I,N,N),n.restore()}if(a.building){const N=s[`building-${a.building}`]??s.placeholder;n.drawImage(N,o,l,u,f)}}function l5(n,a){const s=Math.max(n.q*Ua,a.minQ),o=Math.min(s+Ua-1,a.maxQ),l=Math.max(n.r*Ua,a.minR),u=Math.min(l+Ua-1,a.maxR);return{qStart:s,qEnd:o,rStart:l,rEnd:u}}class c5{constructor(a){this.map=a,this.unsubscribe=a.addTileChangeListener((s,o,l)=>{this.onTileChange(s,l)})}chunkCanvases=new Map;dirtyChunks=new Set;cachedImages;unsubscribe;dispose(){this.unsubscribe(),this.chunkCanvases.clear(),this.dirtyChunks.clear(),this.cachedImages=void 0}invalidate(){this.chunkCanvases.clear(),this.dirtyChunks.clear(),this.cachedImages=void 0}markChunkDirty(a){this.dirtyChunks.add(a)}markTileDirty(a,s){this.dirtyChunks.add(Px(a,s))}getRenderableChunks(a,s,o,l){this.refreshAssets(o);const u=[],{width:f,height:h}=jc(s);for(const m of Py(a)){const g=Ny(m),p=this.ensureChunk(g,m,s,f,h,o,l);p&&u.push(p)}return u}refreshAssets(a){if(this.cachedImages!==a){this.cachedImages=a;for(const s of this.chunkCanvases.keys())this.dirtyChunks.add(s)}}onTileChange(a,s){(s==="created"||s==="terrain"||s==="building"||s==="fog")&&this.markTileDirty(a.q,a.r)}ensureChunk(a,s,o,l,u,f,h){const m=this.chunkCanvases.get(a);if(!m||this.dirtyChunks.has(a)){const g=this.renderChunk(a,s,o,l,u,f,h,m);return this.dirtyChunks.delete(a),g?(this.chunkCanvases.set(a,g),g):(this.chunkCanvases.delete(a),null)}return m}renderChunk(a,s,o,l,u,f,h,m){if(typeof document>"u")return null;const{qStart:g,qEnd:p,rStart:v,rEnd:b}=l5(s,this.map);if(g>p||v>b)return null;const E=l/2,x=u/2;let T=1/0,D=1/0,N=-1/0,L=-1/0;const I=[];for(let oe=g;oe<=p;oe++)for(let ne=v;ne<=b;ne++){const F=this.map.getTile(oe,ne);if(!F||F.isFogged)continue;const{x:M,y:O}=na({q:oe,r:ne},o),C=M-h.x-E,X=O-h.y-x;T=Math.min(T,C),D=Math.min(D,X),N=Math.max(N,C+l),L=Math.max(L,X+u),I.push({tile:F,x:C,y:X})}if(!Number.isFinite(T)||!Number.isFinite(D)||!Number.isFinite(N)||!Number.isFinite(L))return null;const q=Math.max(1,Math.ceil(N-T)),Z=Math.max(1,Math.ceil(L-D));let ie=m?.canvas;(!ie||ie.width!==q||ie.height!==Z)&&(ie=document.createElement("canvas"),ie.width=q,ie.height=Z);const se=ie.getContext("2d");if(!se)throw new Error("Canvas 2D context not available for chunk rendering");se.setTransform(1,0,0,1,0,0),se.clearRect(0,0,q,Z);for(const{tile:oe,x:ne,y:F}of I){const M=ne-T,O=F-D;se.save(),o5(se,oe,f,M,O,l,u,o),r5(se,M+l/2,O+u/2,o),se.restore()}return{key:a,canvas:ie,origin:{x:T,y:D},width:q,height:Z}}}const u5=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Ga=new Array(512);for(let n=0;n<512;n++)Ga[n]=u5[n%256];const VA=new Map,ZA=n=>n*n*n*(n*(n*6-15)+10),Uf=(n,a,s)=>n+s*(a-n),Ac=(n,a,s)=>{switch(n&3){case 0:return a+s;case 1:return-a+s;case 2:return a-s;default:return-a-s}};function d5(n,a){const s=Math.floor(n)&255,o=Math.floor(a)&255,l=n-Math.floor(n),u=a-Math.floor(a),f=Ga[Ga[s+1]+o+1],h=Ga[Ga[s]+o+1],m=Ga[Ga[s+1]+o],g=Ga[Ga[s]+o],p=ZA(l),v=ZA(u),b=Uf(Ac(g,l,u),Ac(m,l-1,u),p),E=Uf(Ac(h,l,u-1),Ac(f,l-1,u-1),p);return Uf(b,E,v)}function f5(n,a,s=4){let o=0,l=1,u=1,f=0;for(let h=0;h<s;h++)o+=d5(n*l,a*l)*u,f+=u,u*=.5,l*=2;return f>0?o/f:0}function h5(n){const a=Math.max(32,Math.min(512,Math.round(n))),s=a,o=VA.get(s);if(o)return o;if(typeof document>"u")return null;const l=document.createElement("canvas");l.width=a,l.height=a;const u=l.getContext("2d");if(!u)return null;const f=u.createImageData(a,a),h=a/48;let m=0;for(let g=0;g<a;g++)for(let p=0;p<a;p++){const v=f5(p/h,g/h,5),b=Math.pow((v+1)/2,1.35),E=Math.round(b*255);f.data[m]=255,f.data[m+1]=255,f.data[m+2]=255,f.data[m+3]=E,m+=4}return u.putImageData(f,0,0),VA.set(s,l),l}function JA(n,a,s,o){n.beginPath();for(let l=0;l<6;l++){const u=Math.PI/180*(60*l-30),f=a+o*Math.cos(u),h=s+o*Math.sin(u);l===0?n.moveTo(f,h):n.lineTo(f,h)}n.closePath()}function m5(n,a,s,o){const l=n.createRadialGradient(a,s,o*.08,a,s,o*1.12);return l.addColorStop(0,Fc(.4,.35)),l.addColorStop(.35,Fc(.2,.55)),l.addColorStop(.6,ar(.1,.78)),l.addColorStop(.82,ar(.2,.88)),l.addColorStop(1,ar(.35,.95)),l}function g5(n,a,s,o,l){if(o<=0)return;const u=h5(o*2.2),f=o*2.5,h=a-f/2,m=s-f/2;n.save(),JA(n,a,s,o),n.clip();const g=m5(n,a,s,o);n.fillStyle=g,n.fillRect(h,m,f,f),u&&(n.save(),n.globalCompositeOperation="lighter",n.globalAlpha*=.32,n.drawImage(u,a-o,s-o,o*2,o*2),n.restore()),n.restore(),n.save(),JA(n,a,s,o*.99),n.lineJoin="round",n.lineCap="round",n.lineWidth=qc(o,l,"hover"),n.strokeStyle=ar(.3,.88),n.shadowColor=ar(.45,.42),n.shadowBlur=Math.max(3,o*.45/Math.max(l,.1)),n.stroke(),n.restore()}class p5{constructor(a){this.mapRef=a,this.terrainCache=new c5(a),this.cachedHexSize=a.hexSize}terrainCache;cachedHexSize;get hexSize(){return this.mapRef.hexSize}getOrigin(){return na({q:this.mapRef.minQ,r:this.mapRef.minR},this.hexSize)}invalidateCache(){this.terrainCache.invalidate()}dispose(){this.terrainCache.dispose()}draw(a,s,o){this.ensureHexSize();const l=a.canvas??null,u=Nx(this.mapRef,Se,l,this.hexSize);if(!u)return;const f=Gx(u);Lx(this.mapRef,f);const h=this.getOrigin(),m=this.terrainCache.getRenderableChunks(f,this.hexSize,s,h);this.drawChunks(a,m),this.drawFogLayer(a,h,u),o&&this.drawSelection(a,h,o)}drawToCanvas(a,s,o){const l=a.getContext("2d");if(!l)throw new Error("Canvas 2D context not available");this.draw(l,s,o)}ensureHexSize(){this.cachedHexSize!==this.hexSize&&(this.cachedHexSize=this.hexSize,this.terrainCache.invalidate())}drawChunks(a,s){if(s.length!==0)for(const o of s)a.drawImage(o.canvas,o.origin.x,o.origin.y)}drawSelection(a,s,o){const{width:l,height:u}=jc(this.hexSize),{x:f,y:h}=na(o,this.hexSize),m=f-s.x-l/2,g=h-s.y-u/2;this.strokeHex(a,m+l/2,g+u/2,this.hexSize,!0)}drawFogLayer(a,s,o){const{width:l,height:u}=jc(this.hexSize),f=l/2,h=u/2;for(let m=o.rMin;m<=o.rMax;m++)for(let g=o.qMin;g<=o.qMax;g++){const p=this.mapRef.getTile(g,m);if(!p||!p.isFogged)continue;const{x:v,y:b}=na({q:g,r:m},this.hexSize),E=v-s.x-f,x=b-s.y-h,T=this.hexSize,D=E+l/2,N=x+u/2;g5(a,D,N,T,Se.zoom)}}strokeHex(a,s,o,l,u=!1){const{stroke:f,glow:h}=Jx();this.hexPath(a,s,o,l),a.save(),a.lineJoin="round",a.lineCap="round",u?(a.shadowColor=h,a.shadowBlur=Math.max(6,l*.65/Math.max(Se.zoom,.1)),a.lineWidth=qc(l,Se.zoom,"selection"),a.strokeStyle=f,a.stroke()):(a.lineWidth=qc(l,Se.zoom,"hover"),a.shadowColor=Fc(.1,.45),a.shadowBlur=Math.max(2,l*.4/Math.max(Se.zoom,.1)),a.strokeStyle=ar(.1,.72),a.stroke()),a.restore()}hexPath(a,s,o,l){a.beginPath();for(let u=0;u<6;u++){const f=Math.PI/180*(60*u-30),h=s+l*Math.cos(f),m=o+l*Math.sin(f);u===0?a.moveTo(h,m):a.lineTo(h,m)}a.closePath()}}const Ei={accent:"#38bdf8",accentSoft:"rgba(56, 189, 248, 0.2)",warm:"#fbbf24",surface:"rgba(15, 23, 42, 0.92)",border:"rgba(148, 163, 184, 0.34)",text:"#e2e8f0"};let wi=null;function Vs(n,a){const s=n.trim();return s.length>0?s:a}function A5(){if(wi)return wi;if(typeof window>"u"||typeof document>"u")return wi=Ei,wi;try{const n=getComputedStyle(document.documentElement);return wi={accent:Vs(n.getPropertyValue("--color-accent"),Ei.accent),accentSoft:Vs(n.getPropertyValue("--color-accent-soft"),Ei.accentSoft),warm:Vs(n.getPropertyValue("--color-warning"),Ei.warm),surface:Vs(n.getPropertyValue("--color-surface-strong"),Ei.surface),border:Vs(n.getPropertyValue("--hud-border-strong"),Ei.border),text:Vs(n.getPropertyValue("--color-foreground"),Ei.text)},wi}catch(n){return console.warn("Failed to read sauna palette tokens from computed styles",n),wi=Ei,wi}}function v5(n,a){const s=Math.max(0,n.auraRadius),o=na(n.pos,a),l=o.x+a,u=o.y+a;let f=a;if(s<=0)return a*1.6;for(const h of Bv){const m=na({q:n.pos.q+h.q*s,r:n.pos.r+h.r*s},a),g=m.x+a,p=m.y+a,v=Math.hypot(g-l,p-u);v>f&&(f=v)}return f+a*.65}function y5(n,a,s,o,l,u){const f=Math.max(0,Math.min(u,Math.min(o,l)/2));n.moveTo(a+f,s),n.lineTo(a+o-f,s),n.quadraticCurveTo(a+o,s,a+o,s+f),n.lineTo(a+o,s+l-f),n.quadraticCurveTo(a+o,s+l,a+o-f,s+l),n.lineTo(a+f,s+l),n.quadraticCurveTo(a,s+l,a,s+l-f),n.lineTo(a,s+f),n.quadraticCurveTo(a,s,a+f,s),n.closePath()}function b5(n,a,{origin:s,hexSize:o,timestamp:l}){if(!a)return;const u=A5(),f=Number.isFinite(l)?l:typeof performance<"u"?performance.now():Date.now(),h=.5+.5*Math.sin(f*.0035),m=na(a.pos,o),g=m.x-s.x+o,p=m.y-s.y+o,v=v5(a,o);n.save(),n.globalCompositeOperation="screen";const b=v+o*(.4+h*.3),E=Math.max(o*.6,v*.58),x=n.createRadialGradient(g,p,E,g,p,b);x.addColorStop(0,u.accentSoft),x.addColorStop(.55,`rgba(56, 189, 248, ${.18+h*.12})`),x.addColorStop(1,"rgba(2, 6, 23, 0)"),n.fillStyle=x,n.beginPath(),n.arc(g,p,b,0,Math.PI*2),n.fill(),n.restore(),n.save(),n.globalCompositeOperation="lighter",n.lineWidth=Math.max(o*.28,6),n.strokeStyle=`rgba(56, 189, 248, ${(.35+h*.2).toFixed(3)})`,n.shadowColor=`rgba(56, 189, 248, ${.45+h*.1})`,n.shadowBlur=o*(.9+h*.45),n.beginPath(),n.arc(g,p,v+o*.12,0,Math.PI*2),n.stroke(),n.restore();const T=o*.9;n.save(),n.beginPath(),n.arc(g,p,T,0,Math.PI*2),n.fillStyle=u.surface,n.globalAlpha*=.96,n.fill(),n.lineWidth=Math.max(1.5,o*.06),n.strokeStyle=u.border,n.shadowColor="rgba(8, 25, 53, 0.6)",n.shadowBlur=o*.45,n.stroke(),n.restore();const D=T*.78,N=Math.max(o*.22,5);n.save(),n.lineWidth=N,n.strokeStyle="rgba(148, 163, 184, 0.24)",n.beginPath(),n.arc(g,p,D,0,Math.PI*2),n.stroke(),n.restore();const L=a.playerSpawnCooldown>0?a.playerSpawnCooldown:1,q=1-Math.min(1,Math.max(0,a.playerSpawnTimer/L)),Z=-Math.PI/2,ie=Z+Math.PI*2*q;if(q>0){n.save(),n.lineWidth=N,n.lineCap="round";const Y=n.createLinearGradient(g,p-D,g,p+D);Y.addColorStop(0,u.accent),Y.addColorStop(1,u.warm),n.strokeStyle=Y,n.shadowColor=`rgba(56, 189, 248, ${.42+h*.18})`,n.shadowBlur=o*(.65+h*.35),n.beginPath(),n.arc(g,p,D,Z,ie,!1),n.stroke(),n.restore()}const se=Math.max(0,a.playerSpawnTimer),oe=Math.ceil(se);n.save(),n.font=`600 ${Math.max(12,o*.9)}px "Inter", "Manrope", "Segoe UI", sans-serif`,n.fillStyle=u.text,n.textAlign="center",n.textBaseline="middle",n.shadowColor="rgba(2, 6, 23, 0.6)",n.shadowBlur=o*.35,n.fillText(String(oe),g,p),n.restore(),n.save(),n.font=`500 ${Math.max(10,o*.36)}px "Inter", "Manrope", "Segoe UI", sans-serif`,n.fillStyle="rgba(148, 163, 184, 0.78)",n.textAlign="center",n.textBaseline="top",n.fillText("sec",g,p+D*.45),n.restore();const ne="Sauna ",F=Math.max(12,o*.58);n.save(),n.font=`600 ${F}px "Inter", "Manrope", "Segoe UI", sans-serif`;const M=n.measureText(ne),O=o*.58,C=o*.32,X=M.width+O*2,U=F+C*2,B=g-X/2,z=p-v-U-o*.35,W=U/2;n.beginPath(),y5(n,B,z,X,U,W);const fe=n.createLinearGradient(B,z,B,z+U);fe.addColorStop(0,"rgba(15, 23, 42, 0.94)"),fe.addColorStop(.55,"rgba(15, 23, 42, 0.86)"),fe.addColorStop(1,"rgba(30, 41, 59, 0.9)"),n.fillStyle=fe,n.shadowColor="rgba(8, 25, 53, 0.6)",n.shadowBlur=o*.4,n.fill(),n.lineWidth=Math.max(1.5,o*.06);const w=n.createLinearGradient(B,z,B+X,z);w.addColorStop(0,`${u.accent}`),w.addColorStop(1,`${u.warm}`),n.strokeStyle=w,n.stroke(),n.fillStyle=u.text,n.shadowColor="rgba(8, 25, 53, 0.65)",n.shadowBlur=o*.3,n.textAlign="center",n.textBaseline="middle",n.fillText(ne,g,z+U/2+F*.05),n.restore()}const jy={nativeSize:{width:64,height:64},anchor:{x:.5,y:.92},scale:{x:1,y:1},nudge:{x:0,y:-.05}},E5={default:jy,soldier:{nativeSize:{width:128,height:128},anchor:{x:.5,y:.88},scale:{x:1.06,y:1.18},nudge:{x:0,y:-.1}},archer:{nativeSize:{width:128,height:128},anchor:{x:.5,y:.86},scale:{x:1.04,y:1.16},nudge:{x:0,y:-.08}},"avanto-marauder":{nativeSize:{width:128,height:128},anchor:{x:.5,y:.86},scale:{x:1.08,y:1.12},nudge:{x:0,y:-.12}},saunoja:{nativeSize:{width:128,height:128},anchor:{x:.5,y:.66},scale:{x:1,y:1},nudge:{x:0,y:-.02}}};function zy(n){return E5[n]??jy}function Iy(n,a,s,o){const{x:l,y:u}=na(n,a),f=o.nudge.x*a,h=o.nudge.y*a;return{x:l-s.x+f,y:u-s.y+h}}function w5({coord:n,hexSize:a,origin:s,zoom:o,type:l}){const u=zy(l),f=Iy(n,a,s,u);return{x:ea(f.x,o),y:ea(f.y,o)}}function S5({coord:n,hexSize:a,origin:s,zoom:o,type:l}){const u=zy(l),f=Iy(n,a,s,u),{width:h,height:m}=jc(a),g=h*u.scale.x,p=m*u.scale.y,v=ea(f.x-g*u.anchor.x,o),b=ea(f.y-p*u.anchor.y,o),E=ea(g,o),x=ea(p,o),T=v+E*u.anchor.x,D=b+x*u.anchor.y;return{drawX:v,drawY:b,width:E,height:x,centerX:T,centerY:D,metadata:u}}function x5(n){if(!n||typeof n!="object")return!1;const a=n;return!!a.coord&&typeof a.coord=="object"&&typeof a.coord.q=="number"&&typeof a.coord.r=="number"&&typeof a.range=="number"}function C5(n){if(!n)return null;if(x5(n)){const a=Number.isFinite(n.range)?Math.max(0,n.range):0;return{coord:n.coord,range:a}}if("pos"in n&&"auraRadius"in n){const a=Number.isFinite(n.auraRadius)?Math.max(0,n.auraRadius):0;return{coord:n.pos,range:a}}return null}function R5(n,a,s,o,l,u){const f=window.devicePixelRatio||1,h=n.canvas.width,m=n.canvas.height;n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,h,m);const g=h/f,p=m/f;n.scale(f,f),n.translate(g/2,p/2),n.scale(Se.zoom,Se.zoom);const v=a.getOrigin();n.translate(-(Se.x-v.x),-(Se.y-v.y)),a.draw(n,s,l??void 0);const b=u?.saunojas;b&&Array.isArray(b.units)&&b.units.length>0&&b.draw(n,b.units,{originX:v.x,originY:v.y,hexRadius:a.hexSize,zoom:Se.zoom}),B5(n,a,s,o,v,u?.fx,u?.friendlyVisionSources,u?.saunaVision??u?.sauna??null),u?.sauna&&b5(n,u.sauna,{origin:v,hexSize:a.hexSize}),n.restore()}function B5(n,a,s,o,l,u,f,h){const g=(f??o).filter(v=>v.faction==="player"&&!v.isDead()).map(v=>({coord:v.coord,range:v.getVisionRange()})),p=C5(h);p&&g.push(p);for(const v of o){if(v.isDead()||v.faction==="enemy"&&!g.some(({coord:Z,range:ie})=>Js(Z,v.coord)<=ie))continue;const b=s[`unit-${v.type}`]??s.placeholder,E=v.getMaxHealth();n.save();const x=u?.getUnitAlpha?.(v);if(typeof x=="number"){const Z=Math.min(1,Math.max(0,x));if(Z<=0){n.restore();continue}n.globalAlpha*=Z}v.stats.health/E<.5&&(n.filter="saturate(0)");const T=v.renderCoord??v.coord,D=S5({coord:T,hexSize:a.hexSize,origin:l,zoom:Se.zoom,type:v.type}),N=[];v.stats.health/E<.5&&N.push("saturate(0)");const L=Math.abs(T.q-v.coord.q),I=Math.abs(T.r-v.coord.r),q=Math.min(1,L+I);q>.01?(N.push("contrast(1.08)"),n.shadowColor="rgba(255, 255, 255, 0.28)",n.shadowBlur=Math.max(6,12*Se.zoom*q)):(n.shadowColor="rgba(0, 0, 0, 0)",n.shadowBlur=0),n.filter=N.length>0?N.join(" "):"none",n.drawImage(b,D.drawX,D.drawY,D.width,D.height),Kh()&&v.faction==="player"&&(n.strokeStyle="rgba(255,255,255,0.5)",n.lineWidth=2,n.strokeRect(D.drawX,D.drawY,D.width,D.height)),n.restore()}}const M5=200,WA=.001;function jf(n){return{q:n.q,r:n.r}}function vc(n,a){return!n||!a?!1:Math.abs(n.q-a.q)<WA&&Math.abs(n.r-a.r)<WA}class D5{constructor(a){this.redraw=a}tracks=new Map;rafId=null;enqueue(a,s){const o=this.normalizePath(s);if(o.length<2){this.clear(a,{snap:!0});return}const l=o[0];let u=this.tracks.get(a.id);u?u.current?vc(u.current.to,l)||(u=this.resetTrack(a,l)):vc(a.renderCoord,l)||(u=this.resetTrack(a,l)):(u={unit:a,queue:[]},this.tracks.set(a.id,u),vc(a.renderCoord,l)||a.setRenderCoord(l));for(let f=1;f<o.length;f++)u.queue.push(jf(o[f]));this.ensureRunning()}clear(a,s){if(!this.tracks.delete(a.id)){s?.snap&&(a.snapRenderToCoord(),this.redraw());return}(s?.snap??!0)&&(a.snapRenderToCoord(),this.redraw()),this.tracks.size===0&&this.rafId!==null&&(typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(this.rafId),this.rafId=null)}clearAll(){for(const a of this.tracks.values())a.unit.snapRenderToCoord();this.tracks.clear(),this.rafId!==null&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(this.rafId),this.rafId=null,this.redraw()}resetTrack(a,s){this.clear(a,{snap:!1});const o={unit:a,queue:[]};return this.tracks.set(a.id,o),a.setRenderCoord(s),o}ensureRunning(){this.rafId!==null||this.tracks.size===0||(this.rafId=requestAnimationFrame(this.step))}normalizePath(a){const s=[];for(const o of a){const l=jf(o);(s.length===0||!vc(s[s.length-1],l))&&s.push(l)}return s}ease(a){return a<=0?0:a>=1?1:a<.5?4*a*a*a:1-Math.pow(-2*a+2,3)/2}step=a=>{if(this.rafId=null,this.tracks.size===0)return;let s=!1;for(const[o,l]of this.tracks){if(!l.current){const b=l.queue.shift();if(!b){this.tracks.delete(o);continue}l.current={from:jf(l.unit.renderCoord??l.unit.coord),to:b,start:a}}const u=l.current;if(!u)continue;const h=(a-u.start)/M5,m=Math.min(1,Math.max(0,h)),g=this.ease(m),p=u.from.q+(u.to.q-u.from.q)*g,v=u.from.r+(u.to.r-u.from.r)*g;l.unit.setRenderCoord({q:p,r:v}),s=!0,m>=1&&(l.unit.setRenderCoord(u.to),l.current=void 0,l.queue.length===0&&this.tracks.delete(o))}s&&this.redraw(),this.tracks.size>0&&(this.rafId=requestAnimationFrame(this.step))}}const T5=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null,k5=typeof matchMedia=="function"?matchMedia("(pointer: coarse)"):null,H5=900,O5=650;function N5(n){switch(n){case"down":return{x:0,y:36};case"left":return{x:-26,y:-18};case"right":return{x:26,y:-18};case"up":default:return{x:0,y:-40}}}function P5(n){const a=document.createElement("div");a.className="ui-floater-layer",n.appendChild(a);const s=!!T5?.matches,o=!!k5?.matches;return{spawn:({text:f,x:h,y:m,color:g,direction:p="up",durationMs:v,fontSize:b})=>{const E=document.createElement("span");E.className="ui-floater",E.textContent=f,E.style.left=`${Math.round(h)}px`,E.style.top=`${Math.round(m)}px`,g&&(E.style.color=g),b&&(E.style.fontSize=`${b}px`);const x=o?12:24;for(;a.childElementCount>=x;)a.firstElementChild?.remove();a.appendChild(E);const T=v??(o?O5:H5);if(s||!E.animate){E.style.opacity="0",E.style.transition=`opacity ${Math.round(T*.8)}ms ease-out`,requestAnimationFrame(()=>{E.style.opacity="1",requestAnimationFrame(()=>{E.style.opacity="0"})}),window.setTimeout(()=>{E.remove()},T);return}const D=N5(p),N=[{transform:"translate3d(-50%, -50%, 0) translate3d(0, 0, 0)",opacity:0},{transform:"translate3d(-50%, -50%, 0) translate3d(0, 0, 0)",opacity:1,offset:.18},{transform:`translate3d(-50%, -50%, 0) translate3d(${D.x}px, ${D.y}px, 0)`,opacity:0}],L=E.animate(N,{duration:T,easing:"cubic-bezier(0.18, 0.89, 0.32, 1.28)",fill:"forwards"});L.onfinish=()=>{E.remove()}},destroy:()=>{a.remove()}}}const $A=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),G5=new Intl.NumberFormat("en-US",{maximumFractionDigits:1,minimumFractionDigits:0});function ev(n){return 1-(1-n)*(1-n)}function yc(n,a,s){return Math.min(s,Math.max(a,n))}const Q5="var(--color-danger)",L5="color-mix(in srgb, #34d399 88%, white 12%)",U5=720,j5=540,z5=220,I5=180,F5=6,q5=3,X5="color-mix(in srgb, #fbbf24 82%, white 10%)",Y5=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null,_5=typeof matchMedia=="function"?matchMedia("(pointer: coarse)"):null;function K5(n){const{canvas:a,overlay:s,mapRenderer:o,getUnitById:l,requestDraw:u}=n,f=P5(s),h=new Map,m=new Map,g=[],p={x:0,y:0},v=!!Y5?.matches,b=!!_5?.matches,E=b?j5:U5,x=b?I5:z5,T=b?q5:F5,D=()=>{u&&(typeof requestAnimationFrame=="function"?requestAnimationFrame(()=>u()):u())},N=F=>{const M=a.getBoundingClientRect(),O=s.getBoundingClientRect();if(M.width===0||M.height===0)return null;const{x:C,y:X}=na(F,o.hexSize),U=(C-Se.x)*Se.zoom+M.width/2,B=(X-Se.y)*Se.zoom+M.height/2,z=o.hexSize*Se.zoom*.75;return{x:U+(M.left-O.left),y:B+(M.top-O.top)-z}},L=(F,M,O,C="up")=>{const X=l(F);if(!X)return;const U=N(X.renderCoord??X.coord);U&&f.spawn({text:M,x:U.x,y:U.y,color:O,direction:C,fontSize:b?18:void 0})},I=F=>{if(!F||F.amount<=0)return;const M=$A.format(Math.max(1,Math.round(F.amount)));if(L(F.targetId,`-${M}`,Q5,"up"),!v){const O=typeof performance<"u"?performance.now():Date.now();g.push({start:O,duration:x,intensity:T,seedX:Math.random()*500,seedY:Math.random()*500})}D()},q=F=>{if(!F||F.amount<=0)return;const M=F.amount>=1?$A.format(Math.round(F.amount)):G5.format(yc(F.amount,0,9.9));L(F.unitId,`+${M}`,L5,"up"),D()},Z=F=>{if(!F)return;const M=typeof performance<"u"?performance.now():Date.now();h.set(F.unitId,{start:M,duration:E}),L(F.unitId,"",X5,"down"),D()};return te.on("unitDamaged",I),te.on("unitHealed",q),te.on("unitDied",Z),{step:F=>{if(v)p.x=0,p.y=0;else{let M=0,O=0;for(let C=g.length-1;C>=0;C--){const X=g[C],U=F-X.start;if(U>=X.duration){g.splice(C,1);continue}const B=yc(U/X.duration,0,1),z=X.intensity*ev(1-B);M+=Math.sin((F+X.seedX)/16)*z,O+=Math.cos((F+X.seedY)/18)*z}p.x=M,p.y=O}for(const[M,O]of h){const C=F-O.start,X=yc(C/O.duration,0,1),U=1-ev(X);if(X>=1){m.delete(M),h.delete(M);continue}m.set(M,yc(U,0,1))}},getShakeOffset:()=>({x:p.x,y:p.y}),getUnitAlpha:F=>m.get(F)??1,dispose:()=>{te.off("unitDamaged",I),te.off("unitHealed",q),te.off("unitDied",Z),g.length=0,h.clear(),m.clear(),f.destroy()}}}function V5(){return`${"/".endsWith("/")?"/":"//"}${"assets/units/saunoja.svg".replace(/^\/+/,"")}`}const tv=V5();let $s=null,po=null;function yh(n){return!!(n&&n.complete&&n.naturalWidth>0&&n.naturalHeight>0)}function Z5(n,a){if(!a)return n;try{a(n)}catch(s){console.error("Saunoja icon onLoad callback failed",s)}return n}function Fy(n){const a=o=>n?o.then(l=>Z5(l,n)):o;if(yh($s))return a(Promise.resolve($s));if(po)return a(po);if(typeof Image>"u")return Promise.reject(new Error("Image constructor is not available in this environment."));const s=new Image;return s.decoding="async",$s=s,po=new Promise((o,l)=>{const u=()=>{s.onload=null,s.onerror=null},f=()=>{u(),o(s)};s.onload=f,s.onerror=h=>{u(),$s=null,po=null;const m=new Error(`Failed to load saunoja icon from ${tv}`);console.warn(m.message,h),l(m)},s.src=tv,yh(s)&&f()}),a(po)}function J5(n,a,{originX:s=0,originY:o=0,hexRadius:l=ur,zoom:u=1}={}){if(!n||!Array.isArray(a)||a.length===0)return;const f=yh($s)?$s:null;if(!f)return;const h=Number.isFinite(l)&&l>0?l:ur,m=h*.98,g=[...a].sort((p,v)=>p.coord.r!==v.coord.r?p.coord.r-v.coord.r:p.coord.q!==v.coord.q?p.coord.q-v.coord.q:p.id.localeCompare(v.id));for(const p of g){const{x:v,y:b}=w5({coord:p.coord,hexSize:h,origin:{x:s,y:o},zoom:u,type:"saunoja"});n.save(),So(n,v,b,m),n.clip();const E=h*2.15/Math.max(f.naturalWidth,f.naturalHeight||1),x=ea(f.naturalWidth*E,u),T=ea(f.naturalHeight*E,u),D=ea(v-x/2,u),N=ea(b-T*.72,u);n.save(),n.filter="grayscale(100%) contrast(112%)",n.globalAlpha*=.96,n.drawImage(f,D,N,x,T),n.restore(),n.save(),n.globalCompositeOperation="multiply";const L=n.createRadialGradient(v,b+m*.38,m*.2,v,b+m*.38,m*1.05);L.addColorStop(0,"rgba(15, 23, 42, 0.55)"),L.addColorStop(1,"rgba(15, 23, 42, 0)"),n.fillStyle=L,n.fillRect(v-m,b-m,m*2,m*2),n.restore(),n.save(),n.globalCompositeOperation="soft-light";const I=n.createLinearGradient(v,b-m,v,b+m);I.addColorStop(0,"rgba(255, 232, 210, 0.18)"),I.addColorStop(.52,"rgba(255, 183, 124, 0.32)"),I.addColorStop(1,"rgba(212, 97, 54, 0.5)"),n.fillStyle=I,n.fillRect(v-m,b-m,m*2,m*2),n.restore(),n.save(),n.globalCompositeOperation="screen",n.globalAlpha=.75;const q=n.createRadialGradient(v,b-m*.68,m*.1,v,b,m*1.12);q.addColorStop(0,"rgba(255, 255, 255, 0.85)"),q.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=q,n.fillRect(v-m,b-m,m*2,m*2),n.restore();const ie=performance.now()-p.lastHitAt,se=120;if(ie<se){const F=1-ie/se;Ow(n,{centerX:v,centerY:b,radius:m,progress:F})}n.restore(),Nw(n,{centerX:v,centerY:b-h*.18,radius:h*.94,intensity:p.steam});const oe=h*.42,ne=b+h*.34;Hw(n,{centerX:v,centerY:ne,hp:p.hp,maxHp:p.maxHp,radius:oe})}}const W5=["Resolute Sauna Guardian","Steam Scholar","Frost-Hardened","Loyal Watchbearer","Aura Whisperer","Shield Brother","Stonefooted Scout","Sisu-Forged Veteran","Brewmaster Quartermaster","Icebreaker Herald","Runic Tactician","Torchbearer"],$5=["Heat Fickle","Soot Allergic","Slow to Spark","Overconfident","Distracted Dreamer","Stubborn Stoker","Thirsty Between Battles","Clumsy Footwork","Rust-Prone Gear","Echo-Lost Listener"];function nv(n,a,s){const o=[...n],l=[],u=Math.max(0,Math.min(a,o.length));for(let f=0;f<u;f++){const h=Math.floor(s()*o.length),[m]=o.splice(h,1);m&&l.push(m)}return l}function e3(n,a){for(let s=n.length-1;s>0;s--){const o=Math.floor(a()*(s+1));[n[s],n[o]]=[n[o],n[s]]}return n}function t3(n=Math.random){typeof n!="function"&&(n=Math.random);const a=nv(W5,2,n),s=nv($5,1,n),o=[...a,...s];return e3(o,n).map(l=>l.trim()).filter(l=>l.length>0)}const n3=1;function Ao(n,a=0){return Number.isFinite(n)?n:a}function a3(n){const{heat:a,pickSpawnTile:s,spawnUnit:o,maxSpawns:l,tierHelpers:u}=n,f=Math.max(n3,nr),h=Math.max(0,Ao(n.minUpkeepReserve??f,f));let m=Math.max(0,Ao(n.availableUpkeep,0));const g=Math.max(0,Math.floor(Ao(l??Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY))),p=Ao(n.rosterCap??Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),v=Number.isFinite(p)?Math.max(0,Math.floor(p)):Number.POSITIVE_INFINITY,b=typeof n.getRosterCount=="function"?n.getRosterCount:()=>0;let E=0,x=0,T=0,D=0,N=0,L=0,I=0;for(;(a.hasTriggerReady()||u?.hasQueuedSpawn())&&E<g;){E+=1;const q=u?.getSnapshot()??null;if(Math.max(0,Math.floor(Ao(b()??0,0)))>=v){L+=1;let ne=!1;q&&u&&(ne=u.queueBlockedSpawn(q,()=>a.consumeTrigger())),ne?x+=a.vent(.15):x+=a.vent(.35);break}let ie=!1;if(q&&u&&u.hasQueuedSpawn()&&(ie=u.takeQueuedSpawn(q)),!ie&&!a.hasTriggerReady())break;if(m<h){D+=1,ie&&q&&u?.restoreQueuedSpawn(q),x+=a.vent(.5);break}const se=s();if(!se){N+=1,ie&&q&&u?.restoreQueuedSpawn(q),x+=a.vent(.25);break}if(!o(se)){I+=1,ie&&q&&u?.restoreQueuedSpawn(q),x+=a.vent(.25);break}if(!ie&&!a.consumeTrigger()){I+=1;break}T+=1,m=Math.max(0,m-h),q&&u?.onSpawnResolved?.(q,{usedQueue:ie})}return{spawned:T,blockedByUpkeep:D,blockedByPosition:N,blockedByRoster:L,failedSpawns:I,ventedHeat:x,remainingUpkeep:m}}function zf(n,a=0){return Number.isFinite(n)?n:a}function i3(n){const a=Math.max(0,zf(n.dt,0)),{addedHeat:s,cooledHeat:o}=n.heat.advance(a);let l=0;for(const E of n.units){if(E.isDead()||E.faction!=="player")continue;const x=Math.max(0,zf(n.getUnitUpkeep(E),0));x>0&&(l+=x)}const u=5;let h=Math.max(0,zf(n.sauna.beerUpkeepAccumulator,0)),m=0;if(l>0){if(h+=a,h>=u){const E=Math.floor(h/u);m=l*E,h-=E*u}}else h=0;n.sauna.beerUpkeepAccumulator=h,m>0&&n.state.addResource(ae.SAUNA_BEER,-m);const g=n.state.getResource(ae.SAUNA_BEER),p=a3({heat:n.heat,availableUpkeep:g,pickSpawnTile:n.pickSpawnTile,spawnUnit:n.spawnBaseUnit,minUpkeepReserve:n.minUpkeepReserve,maxSpawns:n.maxSpawns,rosterCap:n.rosterCap,getRosterCount:n.getRosterCount,tierHelpers:n.tierHelpers}),v=n.heat.getCooldownSeconds(),b=n.heat.timeUntilNextTrigger();return n.sauna.heat=n.heat.getHeat(),n.sauna.playerSpawnThreshold=n.heat.getThreshold(),n.sauna.playerSpawnCooldown=Number.isFinite(v)?v:0,n.sauna.playerSpawnTimer=Number.isFinite(b)?b:0,n.sauna.heatPerTick=n.heat.getBuildRate(),{addedHeat:s,cooledHeat:o,upkeepDrain:m,spawn:p,beerRemaining:n.state.getResource(ae.SAUNA_BEER),availableUpkeep:p.remainingUpkeep}}function s3(){try{return globalThis.localStorage??null}catch(n){return console.warn("Unable to access localStorage for inventory persistence",n),null}}function r3(n,a){const s=n.getItem(a);if(s)try{return JSON.parse(s)}catch(o){console.warn(`Failed to parse persisted inventory for "${a}", clearing.`,o),n.removeItem(a);return}}function bc(n,a,s){const o=Number.isFinite(n.quantity)?n.quantity:1,l=Math.max(1,Math.round(o)),u=typeof n.rarity=="string"?n.rarity.trim():void 0,f=typeof n.icon=="string"?n.icon:void 0,h=typeof n.description=="string"?n.description:void 0;return{id:n.id,name:n.name,description:h,icon:f,rarity:u,quantity:l,acquiredAt:a,sourceTableId:s?.tableId,sourceEntryId:s?.entryId}}class o3{listeners=new Set;storageKey;now;maxStashSize;storage;autoEquip;stash=[];inventory=[];constructor(a={}){this.storageKey=a.storageKey??"autobattles:inventory",this.now=typeof a.now=="function"?a.now:()=>Date.now(),this.maxStashSize=Math.max(1,Math.floor(a.maxStashSize??24)),this.storage=s3(),this.autoEquip=a.autoEquip??!0,this.load()}load(){if(!this.storage)return;const a=r3(this.storage,this.storageKey);if(a){if(typeof a.autoEquip=="boolean"&&(this.autoEquip=a.autoEquip),Array.isArray(a.stash)){const s=[];for(const o of a.stash){if(!o||typeof o!="object")continue;const{id:l,name:u,quantity:f}=o;if(typeof l!="string"||typeof u!="string")continue;const h=Number.isFinite(o.acquiredAt)?o.acquiredAt:this.now();s.push(bc({id:l,name:u,description:o.description,icon:o.icon,rarity:o.rarity,quantity:f},h,{tableId:o.sourceTableId,entryId:o.sourceEntryId}))}this.stash=s.slice(0,this.maxStashSize)}if(Array.isArray(a.inventory)){const s=[];for(const o of a.inventory){if(!o||typeof o!="object")continue;const{id:l,name:u,quantity:f}=o;if(typeof l!="string"||typeof u!="string")continue;const h=Number.isFinite(o.acquiredAt)?o.acquiredAt:this.now();s.push(bc({id:l,name:u,description:o.description,icon:o.icon,rarity:o.rarity,quantity:f},h,{tableId:o.sourceTableId,entryId:o.sourceEntryId}))}this.inventory=s}}}persist(){if(!this.storage)return;const a={autoEquip:this.autoEquip,stash:this.stash.map(s=>({...s})),inventory:this.inventory.map(s=>({...s}))};try{this.storage.setItem(this.storageKey,JSON.stringify(a))}catch(s){console.warn("Failed to persist inventory state",s)}}emit(a){for(const s of this.listeners)s(a)}normalizeEquipResult(a){return typeof a=="boolean"?{success:a}:!a||typeof a!="object"?{success:!1}:{success:!!a.success,comparison:a.comparison,reason:a.reason}}on(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}isAutoEquipEnabled(){return this.autoEquip}setAutoEquip(a){this.autoEquip!==a&&(this.autoEquip=a,this.persist(),this.emit({type:"settings-updated",autoEquip:this.autoEquip}))}getStash(){return this.stash.map(a=>({...a}))}getStashSize(){return this.stash.length}getInventory(){return this.inventory.map(a=>({...a}))}getInventorySize(){return this.inventory.length}addLoot(a,s={}){return this.addItem({...a.item},{...s,sourceTableId:s.sourceTableId,sourceEntryId:s.sourceEntryId??a.entryId})}addItem(a,s={}){const o=Math.max(0,Math.round(this.now())),l=bc(a,o,{tableId:s.sourceTableId,entryId:s.sourceEntryId}),u=s.autoEquip??this.autoEquip;let f={success:!1};if(u&&s.unitId&&typeof s.equip=="function"){try{f=this.normalizeEquipResult(s.equip(s.unitId,l))}catch(h){console.warn("Failed to auto-equip inventory item",{item:l,error:h}),f={success:!1}}if(f.success)return this.persist(),this.emit({type:"item-acquired",item:l,equipped:!0,location:"equipped",unitId:s.unitId,stashSize:this.stash.length,inventorySize:this.inventory.length}),{item:l,equipped:!0,location:"equipped"}}if(this.stash.push(l),this.stash.length>this.maxStashSize){const h=this.stash.splice(0,this.stash.length-this.maxStashSize);h.length>0&&console.warn("Inventory stash full, trimming oldest items",h)}return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-acquired",item:l,equipped:!1,unitId:s.unitId,location:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),{item:l,equipped:!1,location:"stash",stashIndex:this.stash.length-1}}equipFromStash(a,s,o){if(a<0||a>=this.stash.length)return!1;const l=this.stash[a];let u={success:!1};try{u=this.normalizeEquipResult(o(s,l))}catch(h){console.warn("Failed to equip stash item",{item:l,error:h}),u={success:!1}}if(!u.success)return!1;const[f]=this.stash.splice(a,1);return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-equipped",item:f,unitId:s,from:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length,comparison:u.comparison}),!0}equipFromInventory(a,s,o){if(a<0||a>=this.inventory.length)return!1;const l=this.inventory[a];let u={success:!1};try{u=this.normalizeEquipResult(o(s,l))}catch(h){console.warn("Failed to equip inventory item",{item:l,error:h}),u={success:!1}}if(!u.success)return!1;const[f]=this.inventory.splice(a,1);return this.persist(),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"item-equipped",item:f,unitId:s,from:"inventory",stashSize:this.stash.length,inventorySize:this.inventory.length,comparison:u.comparison}),!0}moveToInventory(a){if(a<0||a>=this.stash.length)return null;const[s]=this.stash.splice(a,1);return this.inventory.push(s),this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"item-moved",item:s,from:"stash",to:"inventory",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}moveToStash(a){if(this.stash.length>=this.maxStashSize||a<0||a>=this.inventory.length)return null;const[s]=this.inventory.splice(a,1);return this.stash.push(s),this.stash.length>this.maxStashSize&&this.stash.splice(0,this.stash.length-this.maxStashSize),this.persist(),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-moved",item:s,from:"inventory",to:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}discardFromInventory(a){if(a<0||a>=this.inventory.length)return null;const[s]=this.inventory.splice(a,1);return this.persist(),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"item-discarded",item:s,location:"inventory",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}unequipToStash(a,s,o){if(this.stash.length>=this.maxStashSize)return!1;let l=null;try{l=o(a,s)??null}catch(h){console.warn("Failed to unequip item",{unitId:a,slot:s,error:h}),l=null}if(!l)return!1;const u=Math.max(0,Math.round(this.now())),f=bc(l,u);return this.stash.push(f),this.stash.length>this.maxStashSize&&this.stash.splice(0,this.stash.length-this.maxStashSize),this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-unequipped",item:f,unitId:a,slot:s,to:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),!0}discardFromStash(a){if(a<0||a>=this.stash.length)return null;const[s]=this.stash.splice(a,1);return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-discarded",item:s,location:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}}const av={toast:990},l3={stash:"Quartermaster Stash",inventory:"Ready Inventory"},c3={stash:"Your stash is empty. Conquer enemy elites to gather new equipment.",inventory:"No gear staged. Move items into the ready inventory for quick equipping."},u3={mythic:6,legendary:5,epic:4,rare:3,uncommon:2,common:1},d3=["health","attackDamage","attackRange","movementRange","defense","shield"],f3={"birch-sap-satchel":["healing","support"],"steamed-bandages":["restoration","shielding"],"aurora-distillate":["damage","defense"],"stolen-sauna-tokens":["mobility"],"midnight-bloodwine":["healing","damage"],"sauna-incense":["range","focus"],"glacier-brand":["damage"],"emberglass-arrow":["damage","range"],"aurora-lattice":["damage","range"],"emberglass-shard":["damage","mobility"],"windstep-totem":["mobility","defense"],"searing-chant-censer":["damage","shielding"],"cracked-ice-amulet":["defense"],"myrsky-charm":["range","defense"],"frostwyrm-signet":["shielding"],"spirit-oak-charm":["healing","defense"]};function ja(n){return(n??"").trim().toLowerCase()}function If(n){const a=new Set;for(const s of n){const o=ja(s);o&&a.add(o)}return a}function Ff(n,a){return{id:n.id,name:n.name,quantity:typeof a=="number"?a:n.quantity,rarity:n.rarity}}function Ec(n){return n?{id:n.id,name:n.name,quantity:n.quantity,rarity:n.rarity}:null}function iv(n){return f3[n]??[]}function sv(n){const a=ja(n)||"common",s=a.charAt(0).toUpperCase()+a.slice(1);return{key:a,label:s,rank:u3[a]??0}}function h3(n){const a=Qo(n.id);if(!a){const l=sv(n.rarity);return{slot:null,slotLabel:"Unassigned",rarity:l.key,rarityRank:l.rank,tags:iv(n.id),acquiredAt:n.acquiredAt}}const s=Go(a.slot),o=sv(n.rarity);return{slot:a.slot,slotLabel:s.label,rarity:o.key,rarityRank:o.rank,tags:iv(n.id),acquiredAt:n.acquiredAt}}function m3(n,a,s,o,l){return{id:n.id,name:n.name,description:n.description,icon:n.icon,rarity:n.rarity,quantity:l,slot:a,maxStacks:s,modifiers:o??{}}}function rv(n,a){const s=n[a];return typeof s=="number"&&Number.isFinite(s)?Math.round(s):0}function g3(n,a){const s=Qo(n.item.id);if(!s)return{slot:null,canEquip:!1,reason:"unknown-item",equipped:null,projected:Ff(n.item),stats:[]};const o=s.slot,l=Go(o),u=a.loadout.find(D=>D.slot===o)??null,f=Math.max(1,Math.round(n.item.quantity)),h=Math.max(1,Math.floor(s.maxStacks??l.maxStacks)),m=(u?.quantity??0)+f,g=m>h;if(u&&u.id!==n.item.id)return{slot:o,canEquip:!1,reason:"slot-occupied",equipped:Ec(u),projected:Ff(n.item),stats:[]};if(g&&(!u||u.id!==n.item.id))return{slot:o,canEquip:!1,reason:"stack-limit",equipped:Ec(u),projected:Ff(n.item,Math.min(h,m)),stats:[]};const p=Math.min(h,m),v=[];for(const D of a.loadout)D.slot!==o&&v.push({...D});const b=u&&u.id===n.item.id?{...u,quantity:p}:m3(n.item,o,h,s.modifiers,p);v.push(b);const E=a.currentStats??Pc(a.baseStats,a.loadout),x=Pc(a.baseStats,v),T=d3.map(D=>{const N=rv(E,D),L=rv(x,D);return{stat:D,current:N,projected:L,delta:L-N}});return{slot:o,canEquip:!0,equipped:Ec(u),projected:Ec(b),stats:T}}function ov(n,a){return n.map((s,o)=>({item:s,index:o,location:a,metadata:h3(s)}))}function p3(n,a){const s=new Map,o=new Map,l=new Map;for(const m of n){const{metadata:g}=m;if(g.slot){const E=g.slot,x=s.get(E);x?x.count+=1:s.set(E,{label:g.slotLabel,count:1})}const p=g.rarity,v=p.charAt(0).toUpperCase()+p.slice(1),b=o.get(p);b?b.count+=1:o.set(p,{label:v,count:1,rank:g.rarityRank});for(const E of g.tags){const x=ja(E);if(!x)continue;const T=E.split(/[-_]/g).map(N=>N.charAt(0).toUpperCase()+N.slice(1)).join(" "),D=l.get(x);D?D.count+=1:l.set(x,{label:T,count:1})}}const u=Array.from(s.entries()).sort((m,g)=>{const p=cr.indexOf(m[0]),v=cr.indexOf(g[0]);return p-v}).map(([m,g])=>({id:m,label:g.label,count:g.count,active:a.slots.has(ja(m))})),f=Array.from(o.entries()).sort((m,g)=>(g[1].rank??0)-(m[1].rank??0)).map(([m,g])=>({id:m,label:g.label,count:g.count,active:a.rarities.has(ja(m))})),h=Array.from(l.entries()).sort((m,g)=>m[1].label.localeCompare(g[1].label)).map(([m,g])=>({id:m,label:g.label,count:g.count,active:a.tags.has(ja(m))}));return{slots:u,rarities:f,tags:h}}function A3(n,a){if(a.slots.size>0){const s=n.metadata.slot?ja(n.metadata.slot):"";if(!s||!a.slots.has(s))return!1}return!(a.rarities.size>0&&!a.rarities.has(n.metadata.rarity)||a.tags.size>0&&!n.metadata.tags.map(l=>ja(l)).some(l=>a.tags.has(l)))}function v3(n,a){return a?[n.item.name,n.item.description??"",n.metadata.tags.join(" ")].join(" ").toLowerCase().includes(a):!0}function y3(n,a){switch(a){case"oldest":n.sort((s,o)=>s.metadata.acquiredAt-o.metadata.acquiredAt);break;case"rarity":n.sort((s,o)=>o.metadata.rarityRank!==s.metadata.rarityRank?o.metadata.rarityRank-s.metadata.rarityRank:o.metadata.acquiredAt-s.metadata.acquiredAt);break;case"name":n.sort((s,o)=>s.item.name.localeCompare(o.item.name));break;case"newest":default:n.sort((s,o)=>o.metadata.acquiredAt-s.metadata.acquiredAt);break}}function lv(n){const a={slots:If(n.filters.slots??new Set),rarities:If(n.filters.rarities??new Set),tags:If(n.filters.tags??new Set)},s=ja(n.search),o=Math.max(1,Math.floor(n.page||1)),l=Math.max(1,Math.floor(n.pageSize||24)),u=n.collection??"stash",f=ov(n.stash,"stash"),h=ov(n.inventory,"inventory"),m=[...f,...h],g=p3(m,a),p=u==="stash"?f:h,b=[...p.filter(I=>A3(I,a)&&v3(I,s))];y3(b,n.sort??"newest");const E=Math.min(b.length,o*l),x=b.slice(0,E),T=b.length>E,D=n.comparisonContext??null,N=x.map(I=>({item:I.item,index:I.index,location:I.location,metadata:I.metadata,comparison:D?g3(I,D):null})),L=["stash","inventory"].map(I=>({id:I,label:l3[I],count:I==="stash"?n.stash.length:n.inventory.length,active:I===u}));return{collection:u,collections:L,filters:g,items:N,total:p.length,filteredTotal:b.length,search:n.search,sort:n.sort??"newest",hasMore:T,emptyMessage:c3[u]}}function b3(){return{slots:new Set,rarities:new Set,tags:new Set}}const E3="_panel_7op0d_1",w3="_header_7op0d_32",S3="_title_7op0d_42",x3="_meta_7op0d_49",C3="_close_7op0d_54",R3="_controls_7op0d_74",B3="_settings_7op0d_82",M3="_settingRow_7op0d_93",D3="_settingCopy_7op0d_107",T3="_settingLabel_7op0d_114",k3="_settingHint_7op0d_120",H3="_settingControl_7op0d_127",O3="_settingState_7op0d_133",N3="_settingInput_7op0d_143",P3="_settingSwitch_7op0d_149",G3="_settingTrack_7op0d_169",Q3="_settingThumb_7op0d_181",L3="_collections_7op0d_197",U3="_collectionButton_7op0d_205",j3="_searchRow_7op0d_234",z3="_search_7op0d_234",I3="_searchIcon_7op0d_266",F3="_sortSelect_7op0d_276",q3="_body_7op0d_286",X3="_grid_7op0d_292",Y3="_empty_7op0d_301",_3="_footer_7op0d_312",K3="_loadMore_7op0d_317",Qe={panel:E3,header:w3,title:S3,meta:x3,close:C3,controls:R3,settings:B3,settingRow:M3,settingCopy:D3,settingLabel:T3,settingHint:k3,settingControl:H3,settingState:O3,settingInput:N3,settingSwitch:P3,settingTrack:G3,settingThumb:Q3,collections:L3,collectionButton:U3,searchRow:j3,search:z3,searchIcon:I3,sortSelect:F3,body:q3,grid:X3,empty:Y3,footer:_3,loadMore:K3},V3="_group_18afl_1",Z3="_label_18afl_11",J3="_row_18afl_19",W3="_chip_18afl_25",$3="_count_18afl_55",Bo={group:V3,label:Z3,row:J3,chip:W3,count:$3},eC="_card_1o0cv_1",tC="_header_1o0cv_26",nC="_icon_1o0cv_32",aC="_details_1o0cv_44",iC="_titleRow_1o0cv_51",sC="_title_1o0cv_51",rC="_rarity_1o0cv_63",oC="_slot_1o0cv_70",lC="_tags_1o0cv_75",cC="_tag_1o0cv_75",uC="_compare_1o0cv_91",dC="_tooltip_1o0cv_113",fC="_statList_1o0cv_144",hC="_stat_1o0cv_144",mC="_actions_1o0cv_169",gC="_action_1o0cv_169",pC="_primary_1o0cv_198",AC="_danger_1o0cv_209",vC="_badge_1o0cv_224",ot={card:eC,header:tC,icon:nC,details:aC,titleRow:iC,title:sC,rarity:rC,slot:oC,tags:lC,tag:cC,compare:uC,tooltip:dC,statList:fC,stat:hC,actions:mC,action:gC,primary:pC,danger:AC,badge:vC},yC={health:"HP",attackDamage:"ATK",attackRange:"Range",movementRange:"Move",defense:"Defense",shield:"Shield"},cv={"slot-occupied":"Slot occupied. Unequip the current item first.","stack-limit":"Stack limit reached for this item.","unknown-item":"This item cannot be equipped yet."},Dc=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function bC(n,a){if(a.item.icon){const o=document.createElement("img");o.src=a.item.icon,o.alt="",o.loading="lazy",o.decoding="async",o.width=48,o.height=48,n.appendChild(o);return}const s=document.createElement("span");s.textContent=a.item.name.trim()[0]?.toUpperCase()??"?",n.appendChild(s)}function qy(n){if(!(!n||n.canEquip))return n.reason&&cv[n.reason]?cv[n.reason]:"Unable to equip this item right now."}function EC(n,a){const s=document.createElement("div");s.className=ot.tooltip;const o=document.createElement("h4");if(a.projected?o.textContent=a.canEquip?"Projected stats":"Current loadout":o.textContent="Stats",s.appendChild(o),!a.canEquip){const u=qy(a);if(u){const f=document.createElement("p");f.textContent=u,f.style.margin="0 0 0.5rem",f.style.fontSize="0.78rem",s.appendChild(f)}}const l=document.createElement("ul");l.className=ot.statList;for(const u of n){const f=document.createElement("li");f.className=ot.stat,u.delta>0?f.dataset.delta="positive":u.delta<0&&(f.dataset.delta="negative");const h=document.createElement("span");h.textContent=yC[u.stat]??u.stat;const m=document.createElement("span"),g=Dc.format(u.current),p=Dc.format(u.projected),v=u.delta,b=v===0?"0":`${v>0?"+":""}${Dc.format(Math.abs(v))}`;m.textContent=`${g}  ${p} (${b})`,f.append(h,m),l.appendChild(f)}return s.appendChild(l),s}function wC(n){const a=n.comparison;if(!a)return null;const s=document.createElement("div"),o=document.createElement("button");o.type="button",o.className=ot.compare,o.textContent=a.canEquip?"Compare stats":"View details";const l=`${n.item.id}-compare-${n.location}-${n.index}`;o.setAttribute("aria-controls",l),o.setAttribute("aria-expanded","false"),o.setAttribute("aria-describedby",l),o.addEventListener("focus",()=>{o.setAttribute("aria-expanded","true")}),o.addEventListener("blur",()=>{o.setAttribute("aria-expanded","false")}),s.appendChild(o);const u=EC(a.stats,a);return u.id=l,s.appendChild(u),s}function SC(n,a){if(a&&!a.canEquip){n.disabled=!0;const s=qy(a);s&&(n.title=s)}}function xC(n){return n.map(a=>{const s=a.trim();return s&&s.split(/[-_\s]/g).map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")})}function CC(n,a,s){const o=document.createElement("div");o.className=ot.actions;const l=document.createElement("button");l.type="button",l.className=`${ot.action} ${ot.primary}`,l.textContent="Equip",SC(l,a.comparison),l.addEventListener("click",()=>{s.onEquip?.()}),o.appendChild(l);const u=document.createElement("button");u.type="button",u.className=ot.action,u.textContent=a.location==="stash"?"Send to inventory":"Return to stash",u.addEventListener("click",()=>{s.onTransfer?.()}),o.appendChild(u);const f=document.createElement("button");f.type="button",f.className=`${ot.action} ${ot.danger}`,f.textContent="Trash";let h=null;const m=()=>{h!==null&&(window.clearTimeout(h),h=null),f.dataset.confirm="false",f.textContent="Trash"};f.addEventListener("click",()=>{if(h!==null){m(),s.onTrash?.();return}f.dataset.confirm="true",f.textContent="Confirm trash",h=window.setTimeout(()=>{m()},2600)}),o.appendChild(f),n.appendChild(o)}function RC(n,a){const s=document.createElement("li");s.className=ot.card,s.dataset.location=n.location,s.setAttribute("role","listitem");const o=document.createElement("div");o.className=ot.header;const l=document.createElement("div");l.className=ot.icon,bC(l,n),o.appendChild(l);const u=document.createElement("div");u.className=ot.details;const f=document.createElement("div");f.className=ot.titleRow;const h=document.createElement("h4");h.className=ot.title,h.textContent=n.item.name,f.appendChild(h);const m=document.createElement("span");m.className=ot.rarity,m.textContent=n.metadata.rarity.toUpperCase(),f.appendChild(m),u.appendChild(f);const g=document.createElement("span");if(g.className=ot.slot,g.textContent=n.metadata.slot?n.metadata.slotLabel:"No slot",u.appendChild(g),n.metadata.tags.length>0){const v=document.createElement("div");v.className=ot.tags;for(const b of xC(n.metadata.tags)){const E=document.createElement("span");E.className=ot.tag,E.textContent=b,v.appendChild(E)}u.appendChild(v)}const p=wC(n);if(p&&u.appendChild(p),o.appendChild(u),s.appendChild(o),n.item.quantity>1){const v=document.createElement("span");v.className=ot.badge,v.textContent=`${Dc.format(n.item.quantity)}`,s.appendChild(v)}return CC(s,n,a),s}const BC={newest:"Newest",oldest:"Oldest",rarity:"Rarity",name:"Name A-Z"};function qf(n){const a=document.createElement("div");a.className=Bo.row;const s=document.createElement("div");s.className=Bo.label,s.textContent=n;const o=document.createElement("div");return o.className=Bo.group,a.append(s,o),{row:a,group:o}}function MC(n){const a=document.createElement("section");a.className=Qe.panel,a.tabIndex=-1,a.dataset.open="false",a.setAttribute("aria-label","Quartermaster stash");const s=document.createElement("header");s.className=Qe.header;const o=document.createElement("div"),l=document.createElement("h2");l.className=Qe.title,l.textContent="Quartermaster Stash",o.appendChild(l);const u=document.createElement("div");u.className=Qe.meta,u.textContent="Loading",o.appendChild(u);const f=document.createElement("button");f.type="button",f.className=Qe.close,f.textContent="Close",f.addEventListener("click",()=>n.onClose?.()),s.append(o,f),a.appendChild(s);const h=document.createElement("div");h.className=Qe.controls;const m=document.createElement("div");m.className=Qe.collections;const g={stash:document.createElement("button"),inventory:document.createElement("button")};g.stash.type="button",g.stash.className=Qe.collectionButton,g.stash.textContent="Stash",g.stash.addEventListener("click",()=>n.onCollectionChange?.("stash")),g.inventory.type="button",g.inventory.className=Qe.collectionButton,g.inventory.textContent="Ready",g.inventory.addEventListener("click",()=>n.onCollectionChange?.("inventory")),m.append(g.stash,g.inventory),h.appendChild(m);const p=document.createElement("div");p.className=Qe.searchRow;const v=document.createElement("div");v.className=Qe.search;const b=document.createElement("input");b.type="search",b.placeholder="Search stash",b.addEventListener("input",()=>n.onSearchChange?.(b.value));const E=document.createElement("span");E.className=Qe.searchIcon,E.textContent="",v.append(E,b),p.appendChild(v);const x=document.createElement("select");x.className=Qe.sortSelect,["newest","oldest","rarity","name"].forEach(C=>{const X=document.createElement("option");X.value=C,X.textContent=BC[C],x.appendChild(X)}),x.addEventListener("change",()=>n.onSortChange?.(x.value)),p.appendChild(x),h.appendChild(p);const T=document.createElement("div");T.className=Qe.settings;const D=(C,X,U,B)=>{const z=document.createElement("div");z.className=Qe.settingRow;const W=document.createElement("div");W.className=Qe.settingCopy;const fe=document.createElement("span");fe.className=Qe.settingLabel,fe.textContent=X,W.appendChild(fe);const w=document.createElement("p");w.className=Qe.settingHint,w.textContent=U,W.appendChild(w);const Y=document.createElement("div");Y.className=Qe.settingControl;const ee=document.createElement("span");ee.className=Qe.settingState,ee.textContent="Off";const $=document.createElement("input");$.type="checkbox",$.id=C,$.className=Qe.settingInput;const le=document.createElement("label");le.className=Qe.settingSwitch,le.htmlFor=C,le.dataset.state="off";const ge=document.createElement("span");ge.className=Qe.settingTrack;const he=document.createElement("span");he.className=Qe.settingThumb,le.append(ge,he);const Ie=Ce=>{$.checked=Ce,le.dataset.state=Ce?"on":"off",ee.textContent=Ce?"On":"Off"};return $.addEventListener("change",()=>{Ie($.checked),B?.($.checked)}),Y.append(ee,$,le),z.append(W,Y),{root:z,setChecked:Ie}},N=D("inventory-autoequip-toggle","Auto-equip loot","Try outfitting the selected attendant as soon as new gear arrives.",C=>n.onAutoEquipChange?.(C)),L=D("inventory-ui-variant-toggle","Experimental HUD","Swap to the React/Tailwind HUD. You can revert at any time.",C=>n.onUiV2Change?.(C));N.setChecked(n.getAutoEquipState?.()??!1),L.setChecked(n.getUiV2State?.()??!1),T.append(N.root,L.root),h.appendChild(T);const I=document.createElement("div"),q={slots:qf("Slots"),rarities:qf("Rarity"),tags:qf("Tags")};I.append(q.slots.row,q.rarities.row,q.tags.row),h.appendChild(I),a.appendChild(h);const Z=document.createElement("div");Z.className=Qe.body;const ie=document.createElement("ul");ie.className=Qe.grid;const se=document.createElement("div");se.className=Qe.empty,se.textContent="No items match the current filters.",se.hidden=!0,Z.append(ie,se),a.appendChild(Z);const oe=document.createElement("div");oe.className=Qe.footer;const ne=document.createElement("button");ne.type="button",ne.className=Qe.loadMore,ne.textContent="Show more",ne.addEventListener("click",()=>n.onLoadMore?.()),oe.appendChild(ne),a.appendChild(oe);function F(C,X,U){C.group.innerHTML="",C.row.hidden=U.length===0;for(const B of U){const z=document.createElement("button");if(z.type="button",z.className=Bo.chip,z.dataset.active=B.active?"true":"false",z.textContent=B.label,B.count>0){const W=document.createElement("span");W.className=Bo.count,W.textContent=String(B.count),z.appendChild(W)}z.addEventListener("click",()=>n.onFilterToggle?.(X,B.id)),C.group.appendChild(z)}}function M(C){ie.replaceChildren();const X=document.createDocumentFragment();for(const U of C.items){const B={onEquip:()=>n.onItemEquip?.(U),onTransfer:()=>n.onItemTransfer?.(U),onTrash:()=>n.onItemTrash?.(U)};X.appendChild(RC(U,B))}ie.appendChild(X),se.hidden=C.filteredTotal!==0,se.hidden||(se.textContent=C.emptyMessage)}return{element:a,render(C){u.textContent=C.total===0?"No items yet":`${C.filteredTotal} of ${C.total} item${C.total===1?"":"s"}`;for(const[X,U]of Object.entries(g))U.dataset.active=X===C.collection?"true":"false";b.value!==C.search&&(b.value=C.search),x.value!==C.sort&&(x.value=C.sort),F(q.slots,"slots",C.filters.slots),F(q.rarities,"rarities",C.filters.rarities),F(q.tags,"tags",C.filters.tags),M(C),ne.hidden=!C.hasMore},setOpen(C){a.dataset.open=C?"true":"false"},focus(){const C=a.focus.bind(a);try{C({preventScroll:!0})}catch(X){console.warn("Stash panel focus without scroll prevention fallback",X);try{C()}catch(U){console.warn("Unable to focus stash panel element",U)}}},destroy(){a.remove()},setAutoEquip(C){N.setChecked(C)},setUiV2(C){L.setChecked(C)}}}const Xf=24,DC=4500,TC=400,kC={health:"HP",attackDamage:"ATK",attackRange:"RNG",movementRange:"MOV",defense:"DEF",shield:"Shield"},uv="pointer-events-none ml-auto flex w-full max-w-[min(22rem,90vw)] flex-col gap-[clamp(6px,1vw,12px)]",HC="pointer-events-auto flex w-full items-center gap-[clamp(4px,0.8vw,12px)] rounded-hud-md border border-white/15 px-4 py-3 text-[0.9rem] font-semibold leading-[1.35] shadow-[0_18px_32px_rgba(15,23,42,0.22)] backdrop-blur-[14px] backdrop-saturate-[135%] transition-all duration-300 ease-out",OC={loot:"bg-[linear-gradient(135deg,rgba(255,255,255,0.95),rgba(215,229,255,0.95))] text-slate-900",info:"bg-[linear-gradient(135deg,rgba(219,245,255,0.95),rgba(197,228,255,0.95))] text-slate-900",warn:"bg-[linear-gradient(135deg,rgba(255,231,217,0.95),rgba(255,214,196,0.95))] text-amber-900"},NC=["-translate-y-2","opacity-0"];function Xc(n){n.hidden=n.childElementCount===0}function PC(n,a){const s=n.querySelector('[data-ui="loot-toast-stack"]');if(s)return s.parentElement!==a&&a.appendChild(s),s.className=uv,s.style.zIndex=String(av.toast),Xc(s),s;const l=(n.ownerDocument??document).createElement("div");return l.dataset.ui="loot-toast-stack",l.className=uv,l.setAttribute("aria-live","polite"),l.setAttribute("role","status"),l.style.zIndex=String(av.toast),Xc(l),a.appendChild(l),l}function Vt(n,a,s){const o=(n.ownerDocument??document).createElement("div");o.dataset.variant=s,o.className=`${HC} ${OC[s]}`,o.textContent=a,n.appendChild(o),Xc(n);const l=()=>{o.remove(),Xc(n)},u=window.setTimeout(()=>{o.classList.add(...NC),window.setTimeout(l,TC)},DC);o.addEventListener("click",()=>{window.clearTimeout(u),l()})}function GC(n,a){n.has(a)?n.delete(a):n.add(a)}function QC(n){const a=n.comparison?.deltas??[];return a.length===0?null:a.map(o=>{const l=kC[o.stat]??o.stat;return`${o.delta>0?"+":""}${o.delta} ${l}`}).join(", ")}function Yf(n){switch(n){case"inventory":return"ready inventory";case"stash":return"stash";case"equipped":default:return"loadout"}}function LC(){const n=document.createElement("button");n.type="button",n.dataset.testid="inventory-badge",n.dataset.ui="inventory-badge",n.className="group inline-flex items-center gap-2 rounded-hud-pill border border-white/15 bg-[linear-gradient(135deg,rgba(27,36,56,0.9),rgba(39,74,110,0.9))] px-3.5 py-2 font-semibold text-sky-50 shadow-hud-sm transition-all duration-150 ease-out focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent hover:-translate-y-0.5 hover:shadow-hud-md data-[autoequip=off]:bg-[linear-gradient(135deg,rgba(56,44,25,0.9),rgba(92,72,40,0.9))]",n.setAttribute("aria-expanded","false"),n.setAttribute("aria-controls","inventory-stash-panel"),n.setAttribute("aria-label","Open quartermaster stash");const a=document.createElement("span");a.className="relative flex h-[1.65rem] w-[1.65rem] flex-shrink-0 items-center justify-center rounded-full bg-[radial-gradient(circle_at_30%_30%,rgba(255,255,255,0.9),rgba(225,235,255,0.2))] text-slate-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.35)]",a.setAttribute("aria-hidden","true");const s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg");o.setAttribute("viewBox","0 0 24 24"),o.setAttribute("aria-hidden","true"),o.setAttribute("focusable","false"),o.setAttribute("class","h-[76%] w-[76%]");const l=document.createElementNS(s,"path");l.setAttribute("d","M8.25 7V6a3.75 3.75 0 0 1 7.5 0v1m3 0h-14.25a1.5 1.5 0 0 0-1.485 1.342l-.75 9a3 3 0 0 0 2.985 3.158h9.78a3 3 0 0 0 2.985-3.158l-.75-9A1.5 1.5 0 0 0 18.75 7Z"),l.setAttribute("fill","rgba(194, 216, 255, 0.32)"),l.setAttribute("stroke","rgba(255, 255, 255, 0.92)"),l.setAttribute("stroke-width","1.6"),l.setAttribute("stroke-linecap","round"),l.setAttribute("stroke-linejoin","round");const u=document.createElementNS(s,"path");u.setAttribute("d","M9.75 12.25h4.5"),u.setAttribute("fill","none"),u.setAttribute("stroke","rgba(255, 255, 255, 0.85)"),u.setAttribute("stroke-width","1.4"),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("opacity","0.9"),o.append(l,u),a.appendChild(o),n.appendChild(a);const f=document.createElement("span");f.className="text-[0.75rem] uppercase tracking-[0.08em]",f.textContent="Stash",n.appendChild(f);const h=document.createElement("span");return h.className="min-w-[1.5rem] rounded-full bg-white/15 px-2 py-[0.1rem] text-center text-xs font-semibold text-white/90",h.textContent="0",h.setAttribute("aria-hidden","true"),n.appendChild(h),{button:n,count:h}}function UC(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{destroy:()=>{}};const{regions:o}=hr(s),l=o.top,u=PC(s,l);s.querySelectorAll('[data-testid="inventory-badge"]').forEach(O=>O.remove());const{button:f,count:h}=LC();f.dataset.autoequip=n.isAutoEquipEnabled()?"on":"off",l.appendChild(f),s.querySelector("#inventory-stash-panel")?.remove();const g=MC({onClose:()=>D(!1),onCollectionChange:O=>{v!==O&&(v=O,T=1,L())},onFilterToggle:(O,C)=>{const X=b[O];GC(X,C),T=1,L()},onSearchChange:O=>{E=O,T=1,L()},onSortChange:O=>{x=O,T=1,L()},onLoadMore:()=>{T+=1,L()},onItemEquip:O=>{q(O)},onItemTransfer:O=>{Z(O)},onItemTrash:O=>{ie(O)},getAutoEquipState:()=>n.isAutoEquipEnabled(),onAutoEquipChange:O=>{n.setAutoEquip(O),f.dataset.autoequip=O?"on":"off",Vt(u,O?"Auto-equip enabled. Newly recovered gear will try to arm your selected attendant.":"Auto-equip disabled. Loot will head to the stash until you equip it manually.","info")},getUiV2State:()=>a.getUseUiV2?.()??!1,onUiV2Change:O=>{a.onUseUiV2Change?.(O),Vt(u,O?"Experimental HUD enabled. Reload to try the React/Tailwind experience.":"Classic HUD restored for your next session.","info")}});g.element.id="inventory-stash-panel",s.appendChild(g.element);let p=!1,v="stash";const b=b3();let E="",x="newest",T=1;function D(O){if(p!==O)if(p=O,g.setOpen(p),f.setAttribute("aria-expanded",p?"true":"false"),f.setAttribute("aria-label",p?"Close quartermaster stash":"Open quartermaster stash"),p){s.classList.add("inventory-panel-open");try{g.focus()}catch(C){console.warn("Unable to focus stash panel",C)}}else s.classList.remove("inventory-panel-open")}function N(){const O=a.getComparisonContext?.()??null;let C=lv({stash:n.getStash(),inventory:n.getInventory(),filters:b,search:E,sort:x,page:T,pageSize:Xf,collection:v,comparisonContext:O});if(C.filteredTotal>0){const X=Math.max(1,Math.ceil(C.filteredTotal/Xf));T>X&&(T=X,C=lv({stash:n.getStash(),inventory:n.getInventory(),filters:b,search:E,sort:x,page:T,pageSize:Xf,collection:v,comparisonContext:O}))}return C}function L(){const O=N(),X=O.collections.find(U=>U.id==="stash")?.count??0;h.textContent=String(X),f.dataset.count=String(X),g.render(O)}function I(){const O=a.getSelectedUnitId?.()??null;return O||(Vt(u,"Select an attendant before equipping an item.","warn"),null)}function q(O){const C=I();if(!C)return;const X=a.onEquip??(()=>({success:!1}));(O.location==="stash"?n.equipFromStash(O.index,C,(z,W)=>X(z,W,"stash")):n.equipFromInventory(O.index,C,(z,W)=>X(z,W,"inventory")))||Vt(u,"Unable to equip that item right now.","warn")}function Z(O){const C=O.location==="stash"?n.moveToInventory(O.index):n.moveToStash(O.index);if(!C){Vt(u,"Unable to move that item right now.","warn");return}const X=O.location==="stash"?"ready inventory":"stash";Vt(u,`Moved ${C.name} to the ${X}.`,"info"),T=1,L()}function ie(O){const C=O.location==="stash"?n.discardFromStash(O.index):n.discardFromInventory(O.index);if(!C){Vt(u,"That item was already removed.","warn");return}const X=O.location==="stash"?"stash":"ready inventory";Vt(u,`${C.name} discarded from the ${X}.`,"warn"),L()}function se(O){switch(O.type){case"stash-updated":case"inventory-updated":L();break;case"item-acquired":if(O.equipped)Vt(u,`${O.item.name} auto-equipped successfully.`,"info");else{const C=Yf(O.location);Vt(u,`New item secured: ${O.item.name} (${C}).`,"loot")}break;case"item-equipped":{const C=QC(O),X=C?` (${C})`:"";Vt(u,`Equipped ${O.item.name}${X}.`,"info");break}case"item-unequipped":Vt(u,`${O.item.name} returned to the stash from slot ${O.slot}.`,"info");break;case"item-moved":{const C=Yf(O.to);Vt(u,`Moved ${O.item.name} to the ${C}.`,"info");break}case"item-discarded":{const C=Yf(O.location);Vt(u,`${O.item.name} discarded from the ${C}.`,"warn");break}case"settings-updated":f.dataset.autoequip=O.autoEquip?"on":"off",g.setAutoEquip(O.autoEquip);break}}const oe=n.on(O=>se(O)),ne=()=>{D(!p)};f.addEventListener("click",ne);const F=O=>{O.defaultPrevented||O.code==="KeyI"&&!O.metaKey&&!O.ctrlKey&&!O.altKey&&(O.preventDefault(),D(!p))};return window.addEventListener("keydown",F),L(),{destroy:()=>{oe(),f.removeEventListener("click",ne),window.removeEventListener("keydown",F),f.remove(),g.destroy(),s.classList.remove("inventory-panel-open"),u.hasChildNodes()||u.remove()}}}const jC=Object.freeze({common:1,uncommon:.6,rare:.35,epic:.18,legendary:.08,mythic:.03}),zC=Object.freeze({id:"general-salvage",label:"General Salvage",entries:Object.freeze([{id:"birch-sap-satchel",name:"Birch Sap Satchel",description:"Soothing birch sap that doubles as a brisk field tonic.",rarity:"common",quantity:{min:1,max:3},weight:6},{id:"steamed-bandages",name:"Steamed Linen Bandages",description:"Freshly steamed bandages infused with pine oils.",rarity:"common",quantity:1,weight:5},{id:"emberglass-shard",name:"Emberglass Shard",description:"A radiant shard used to kindle sauna braziers.",rarity:"uncommon",quantity:1,weight:3},{id:"aurora-distillate",name:"Aurora Distillate",description:"Vials of shimmering condensation that empower sauna rituals.",rarity:"rare",quantity:1,weight:1.5},{id:"myrsky-charm",name:"Myrsky Charm",description:"Storm-forged charm rumored to call down aurora flares.",rarity:"epic",quantity:1,weight:.7}])}),IC=Object.freeze({base:Object.freeze({id:"enemy-raiders",label:"Avanto Marauder Spoils",entries:Object.freeze([{id:"cracked-ice-amulet",name:"Cracked Ice Amulet",description:"Necklace of frostbitten charms that hum when danger nears.",rarity:"common",quantity:1,weight:5},{id:"stolen-sauna-tokens",name:"Stolen Sauna Tokens",description:"Pilfered entrance tokens, gladly accepted back at any sauna hall.",rarity:"uncommon",quantity:{min:2,max:5},weight:3},{id:"glacier-brand",name:"Glacier Brand",description:"A cleaver chilled in glacial meltwater that never dulls.",rarity:"rare",quantity:1,weight:1.25}])}),elite:Object.freeze({id:"enemy-champions",label:"Avanto Champion Cache",entries:Object.freeze([{id:"frostwyrm-signet",name:"Frostwyrm Signet",description:"An icy signet ring that wreathes its bearer in frozen vapour.",rarity:"epic",quantity:1,weight:1.1},{id:"aurora-lattice",name:"Aurora Lattice",description:"Filigree latticework that channels auroral light into focused beams.",rarity:"legendary",quantity:1,weight:.4},{id:"midnight-bloodwine",name:"Midnight Bloodwine",description:"A mythical draught said to rekindle a warrior's lost resolve.",rarity:"mythic",quantity:1,weight:.12}])})}),FC=Object.freeze({base:Object.freeze({id:"deepwood-offerings",label:"Deepwood Offerings",entries:Object.freeze([{id:"spirit-oak-charm",name:"Spirit Oak Charm",description:"Carved from living oak, it whispers guidance between sauna rounds.",rarity:"uncommon",quantity:1,weight:4},{id:"sauna-incense",name:"Sauna Incense Pouches",description:"Fragrant blends that steady breathing before the next engagement.",rarity:"common",quantity:{min:1,max:4},weight:5},{id:"emberglass-arrow",name:"Emberglass Arrow Bundle",description:"Arrowheads that glow amber when a perfect shot reveals itself.",rarity:"rare",quantity:{min:1,max:2},weight:1.75}])}),elite:Object.freeze({id:"deepwood-ritual-cache",label:"Deepwood Ritual Cache",entries:Object.freeze([{id:"windstep-totem",name:"Windstep Totem",description:"Totem etched with gale sigils that lighten every cautious stride.",rarity:"epic",quantity:1,weight:.9},{id:"searing-chant-censer",name:"Searing Chant Censer",description:"An ornate censer that empowers allies with smouldering hymns.",rarity:"legendary",quantity:1,weight:.35}])})}),qC=Object.freeze({enemy:IC,deepwood:FC});function XC(n){return qC[n]??{base:zC}}function YC(n,a=!1){const s=XC(n);return a&&s.elite?s.elite:s.base}function _C(n){if(!Number.isFinite(n))return 1;const a=Math.floor(n);return a<=0?0:Math.min(10,a)}function KC(n,a){if(typeof n=="number"&&Number.isFinite(n))return Math.max(1,Math.round(n));if(!n)return 1;const s=n,o=Math.max(1,Math.round(s.min)),u=Math.max(o,Math.round(s.max))-o+1,f=Math.floor(Math.max(0,Math.min(.999999,a()))*u);return o+f}function VC(n){const a=jC[n.rarity]??1,s=typeof n.weight=="number"?n.weight:1;return Math.max(0,s)*Math.max(0,a)}function ZC(n,a){const s=n.map(f=>({entry:f,weight:VC(f)})).filter(f=>f.weight>0);if(s.length===0)return null;const o=s.reduce((f,h)=>f+h.weight,0),l=Math.max(0,Math.min(.999999,a()))*o;let u=0;for(const f of s)if(u+=f.weight,l<u)return f.entry;return s[s.length-1]?.entry??null}function JC(n,a){return{id:n.id,name:n.name,description:n.description,icon:n.icon,rarity:n.rarity,quantity:a}}function WC(n){const a=typeof n.random=="function"?n.random:Math.random,s=!!n.elite,o=n.table??YC(n.factionId,s),l=_C(n.rolls),u=[];if(l<=0||o.entries.length===0)return{factionId:n.factionId,elite:s,tableId:o.id,tableLabel:o.label,rolls:u};for(let f=0;f<l;f+=1){const h=ZC(o.entries,a);if(!h)break;const m=KC(h.quantity,a);u.push({entryId:h.id,rarity:h.rarity,quantity:m,item:JC(h,m)})}return{factionId:n.factionId,elite:s,tableId:o.id,tableLabel:o.label,rolls:u}}const $C="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23a4d67a'%20/%3e%3cpolygon%20points='16,48%2032,16%2048,48'%20fill='%23d2691e'%20/%3e%3crect%20x='24'%20y='32'%20width='16'%20height='16'%20fill='%23f4a460'%20/%3e%3c/svg%3e",e4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23c0c0c0'%20/%3e%3crect%20x='8'%20y='24'%20width='48'%20height='24'%20fill='%23808080'%20/%3e%3crect%20x='24'%20y='16'%20width='16'%20height='8'%20fill='%23606060'%20/%3e%3c/svg%3e",t4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23e0e0e0'%20/%3e%3crect%20x='10'%20y='22'%20width='12'%20height='30'%20fill='%23a9a9a9'%20/%3e%3crect%20x='26'%20y='14'%20width='12'%20height='38'%20fill='%23808080'%20/%3e%3crect%20x='42'%20y='26'%20width='12'%20height='26'%20fill='%23a9a9a9'%20/%3e%3c/svg%3e",n4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%238b4513'%20/%3e%3cpolygon%20points='32,10%2042,22%2022,22'%20fill='%23555'%20/%3e%3crect%20x='30'%20y='22'%20width='4'%20height='32'%20fill='%23ccc'%20/%3e%3c/svg%3e",a4="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eFrostguard%20Soldier%3c/title%3e%3cdesc%20id='desc'%3eArmored%20nordic%20soldier%20with%20glacial%20blade,%20frosted%20shield,%20and%20aurora%20glow.%3c/desc%3e%3cdefs%3e%3clinearGradient%20id='soldier-bg'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%230b2a44'%20/%3e%3cstop%20offset='100%25'%20stop-color='%2310243b'%20/%3e%3c/linearGradient%3e%3cradialGradient%20id='soldier-glow'%20cx='50%25'%20cy='28%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='rgba(191,%20219,%20254,%200.85)'%20/%3e%3cstop%20offset='100%25'%20stop-color='rgba(14,%20116,%20144,%200)'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='soldier-armor'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e2e8f0'%20/%3e%3cstop%20offset='50%25'%20stop-color='%23cbd5f5'%20/%3e%3cstop%20offset='100%25'%20stop-color='%234b5563'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='soldier-trim'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%3e%3cstop%20offset='0%25'%20stop-color='%23fcd34d'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23f97316'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='soldier-cloak'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%231e3a8a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231d4ed8'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='soldier-steel'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%2394a3b8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231f2937'%20/%3e%3c/linearGradient%3e%3cradialGradient%20id='soldier-shield'%20cx='38%25'%20cy='38%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='70%25'%20stop-color='%2360a5fa'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231d4ed8'%20/%3e%3c/radialGradient%3e%3c/defs%3e%3crect%20width='128'%20height='128'%20rx='18'%20fill='url(%23soldier-bg)'%20/%3e%3ccircle%20cx='64'%20cy='40'%20r='44'%20fill='url(%23soldier-glow)'%20opacity='0.9'%20/%3e%3cellipse%20cx='64'%20cy='108'%20rx='36'%20ry='10'%20fill='%230f172a'%20opacity='0.4'%20/%3e%3cpath%20d='M38%2038c-10%2014-14%2032-10%2052l14%208c0-18%208-34%2022-42-8-6-18-12-26-18z'%20fill='url(%23soldier-cloak)'%20opacity='0.85'%20/%3e%3cpath%20d='M90%2038c10%2014%2014%2032%2010%2052l-14%208c0-18-8-34-22-42%208-6%2018-12%2026-18z'%20fill='url(%23soldier-cloak)'%20opacity='0.65'%20/%3e%3cpath%20d='M58%2022l-8%2010c-4%206-6%2014-6%2022v20l12%2038h16l12-38V54c0-8-2-16-6-22l-8-10h-12z'%20fill='url(%23soldier-armor)'%20stroke='%231f2937'%20stroke-width='2'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M50%2054h28l4%2012c-8%208-16%2012-18%2012s-10-4-18-12l4-12z'%20fill='%23e0f2fe'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2022c-6%200-12%204-16%2010l6%208c6-6%2020-6%2026%200l6-8c-4-6-10-10-16-10z'%20fill='%23f8fafc'%20stroke='%23cbd5f5'%20stroke-width='1.5'%20/%3e%3cpath%20d='M58%2018h12l4%206-10%206-10-6%204-6z'%20fill='%23e0f2fe'%20stroke='%2394a3b8'%20stroke-width='1.5'%20/%3e%3crect%20x='46'%20y='68'%20width='12'%20height='26'%20rx='5'%20fill='%230ea5e9'%20opacity='0.8'%20/%3e%3crect%20x='70'%20y='68'%20width='12'%20height='26'%20rx='5'%20fill='%2338bdf8'%20opacity='0.8'%20/%3e%3cpath%20d='M34%2066l-10%206%2012%2028%2012-6-14-28z'%20fill='url(%23soldier-shield)'%20stroke='%231e3a8a'%20stroke-width='2'%20/%3e%3ccircle%20cx='36'%20cy='78'%20r='6'%20fill='rgba(226,%20232,%20240,%200.95)'%20/%3e%3cpath%20d='M94%2064l-4-4-18%2036%206%206%2016-38z'%20fill='url(%23soldier-steel)'%20stroke='%230f172a'%20stroke-width='2'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M86%2054l-16%2034%2010%204%2014-32-8-6z'%20fill='%23f8fafc'%20opacity='0.75'%20/%3e%3cpath%20d='M64%2090c-8%200-14%206-18%2014%208%204%2012%206%2018%206s10-2%2018-6c-4-8-10-14-18-14z'%20fill='%23dbeafe'%20stroke='%2393c5fd'%20stroke-width='1.5'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M54%2058l-6%2012c8%2010%2016%2014%2016%2014s8-4%2016-14l-6-12H54z'%20fill='url(%23soldier-trim)'%20opacity='0.85'%20/%3e%3cpath%20d='M60%2048h8l2%208-6%204-6-4%202-8z'%20fill='%23334155'%20/%3e%3ccircle%20cx='64'%20cy='52'%20r='6'%20fill='%23f1f5f9'%20stroke='%23cbd5f5'%20stroke-width='1'%20/%3e%3cpath%20d='M58%2038c-4%200-6%204-6%2010%204-2%208-4%2012-4s8%202%2012%204c0-6-2-10-6-10H58z'%20fill='%231f2937'%20opacity='0.85'%20/%3e%3c/svg%3e",i4="/assets/archer-DKJNMRtW.svg",s4="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eAvanto%20Marauder%3c/title%3e%3cdesc%20id='desc'%3eFrost-clad%20marauder%20icon%20with%20jagged%20pauldrons,%20icy%20beard,%20and%20polar%20glow.%3c/desc%3e%3cdefs%3e%3clinearGradient%20id='bg'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23082f49'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230f172a'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='armor'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e2e8f0'%20/%3e%3cstop%20offset='60%25'%20stop-color='%2394a3b8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231f2937'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='beard'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23bae6fd'%20/%3e%3c/linearGradient%3e%3cradialGradient%20id='glow'%20cx='50%25'%20cy='20%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='rgba(191,%20219,%20254,%200.85)'%20/%3e%3cstop%20offset='100%25'%20stop-color='rgba(14,%20116,%20144,%200)'%20/%3e%3c/radialGradient%3e%3c/defs%3e%3crect%20width='128'%20height='128'%20rx='20'%20fill='url(%23bg)'%20/%3e%3ccircle%20cx='64'%20cy='46'%20r='38'%20fill='url(%23glow)'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2018c-14%200-26%208-32%2020l10%204c6-8%2014-12%2022-12s16%204%2022%2012l10-4C90%2026%2078%2018%2064%2018z'%20fill='%23cffafe'%20opacity='0.4'%20/%3e%3cpath%20d='M64%2036c-14%200-28%2010-28%2028v10l-12%2016%2018%2010%2022-10%2022%2010%2018-10-12-16V64c0-18-14-28-28-28z'%20fill='url(%23armor)'%20stroke='%230f172a'%20stroke-width='2'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M48%2090l-12%206-10%2020%2020-8%2018%208%2018-8%2020%208-10-20-12-6'%20fill='%230f172a'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2046c-10%200-18%208-18%2018v10c12-8%2024-8%2036%200V64c0-10-8-18-18-18z'%20fill='%230f172a'%20/%3e%3cpath%20d='M64%2050c-8%200-14%206-14%2014%206-4%2012-6%2014-6s8%202%2014%206c0-8-6-14-14-14z'%20fill='%23bae6fd'%20opacity='0.85'%20/%3e%3cpath%20d='M58%2084c-4%200-8%202-10%206%204%200%208%200%2010-2s4-2%206-2%204%200%206%202%206%202%2010%202c-2-4-6-6-10-6h-12z'%20fill='%23f8fafc'%20opacity='0.75'%20/%3e%3cpath%20d='M64%2086c-6%200-12%204-14%2010%204%202%2010%204%2014%204s10-2%2014-4c-2-6-8-10-14-10z'%20fill='url(%23beard)'%20stroke='%23bae6fd'%20stroke-width='1.4'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M42%2064c-4-8-6-18-6-28-6%208-10%2018-10%2030%204-2%2010-2%2016-2z'%20fill='%230ea5e9'%20opacity='0.5'%20/%3e%3cpath%20d='M86%2064c4-8%206-18%206-28%206%208%2010%2018%2010%2030-4-2-10-2-16-2z'%20fill='%230ea5e9'%20opacity='0.5'%20/%3e%3cpath%20d='M34%2098c-6%202-12%206-14%2012%206%200%2012-2%2018-4'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M94%20106c6%202%2012%204%2018%204-2-6-8-10-14-12'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3c/svg%3e",vo="/",Si={saunaBeer:`${vo}assets/ui/sauna-beer.svg`,saunojaRoster:`${vo}assets/ui/saunoja-roster.svg`,resource:`${vo}assets/ui/resource.svg`,sisu:`${vo}assets/ui/resource.svg`,sound:`${vo}assets/ui/sound.svg`},r4={images:{placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=","building-farm":$C,"building-barracks":e4,"building-city":t4,"building-mine":n4,"unit-soldier":a4,"unit-archer":i4,"unit-avanto-marauder":s4,"icon-sauna-beer":Si.saunaBeer,"icon-saunoja-roster":Si.saunojaRoster,"icon-resource":Si.resource,"icon-sound":Si.sound}};let Xy=null;function o4(n){Xy=n}function Yy(){return Xy}const l4=["city"],c4=1e4,u4=12e3;function d4(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function dv(n){return Object.freeze({strongholds:{...n.strongholds},roster:{...n.roster},economy:{...n.economy},sauna:{...n.sauna},startedAt:n.startedAt})}function fv(n){const a={[ae.SAUNA_BEER]:0,[ae.SAUNAKUNNIA]:0,[ae.SISU]:0};return Object.values(ae).forEach(s=>{a[s]=n.getResource(s)}),a}class f4{timeSource;state;map;getRosterCount;sauna;strongholdTypes;rosterGraceMs;bankruptcyGraceMs;progress;startResources;strongholds=new Map;progressListeners=new Set;resolutionListeners=new Set;mapDisposer=null;rosterTimeout=null;bankruptcyTimeout=null;bankruptSince=null;wipeSince=null;saunaDestroyedAt=null;resolution=null;disposed=!1;constructor(a){this.timeSource=typeof a.timeSource=="function"?a.timeSource:d4,this.state=a.state,this.map=a.map,this.getRosterCount=a.getRosterCount,this.sauna=a.sauna??null;const s=a.strongholdTypes?.length?a.strongholdTypes:l4;this.strongholdTypes=new Set(s),this.rosterGraceMs=Math.max(0,a.rosterWipeGraceMs??c4),this.bankruptcyGraceMs=Math.max(0,a.bankruptcyGraceMs??u4),this.startResources=fv(this.state);const o=this.state.getResource(ae.SAUNA_BEER),l=Math.max(0,Math.round(this.getRosterCount()))||0;this.progress={strongholds:{total:0,destroyed:0,remaining:0},roster:{active:l,totalDeaths:0,wipeSince:null,wipeDurationMs:0},economy:{beer:o,worstBeer:o,bankruptSince:null,bankruptDurationMs:0},sauna:this.createSaunaProgress(),startedAt:this.timeSource()},this.bootstrapStrongholds(),this.attachMapListener(),this.attachEventListeners(),this.emitProgress(),this.evaluateResolution()}onProgress(a){this.progressListeners.add(a)}offProgress(a){this.progressListeners.delete(a)}onResolution(a){if(this.resolution){a(this.resolution);return}this.resolutionListeners.add(a)}offResolution(a){this.resolutionListeners.delete(a)}getProgress(){return dv(this.progress)}dispose(){if(!this.disposed){if(this.disposed=!0,this.clearRosterTimer(),this.clearBankruptcyTimer(),this.mapDisposer){try{this.mapDisposer()}catch(a){console.warn("Failed to detach map listener",a)}this.mapDisposer=null}te.off("unitDied",this.handleUnitDied),te.off("unitSpawned",this.handleUnitSpawned),te.off("resourceChanged",this.handleResourceChanged),te.off("saunaDamaged",this.handleSaunaDamaged),te.off("saunaDestroyed",this.handleSaunaDestroyed)}}bootstrapStrongholds(){this.map.forEachTile((a,s)=>{if(this.isStronghold(a.building)){const o=this.coordKey(s);this.strongholds.set(o,{alive:!0})}}),this.updateStrongholdTotals()}attachMapListener(){this.mapDisposer=this.map.addTileChangeListener((a,s,o)=>{if(o!=="building"&&o!=="created")return;const l=this.coordKey(a),u=this.strongholds.get(l);this.isStronghold(s.building)?u?u.alive||(u.alive=!0):this.strongholds.set(l,{alive:!0}):u?.alive&&(u.alive=!1),this.updateStrongholdTotals(),this.emitProgress(),this.evaluateResolution()})}attachEventListeners(){te.on("unitDied",this.handleUnitDied),te.on("unitSpawned",this.handleUnitSpawned),te.on("resourceChanged",this.handleResourceChanged),te.on("saunaDamaged",this.handleSaunaDamaged),te.on("saunaDestroyed",this.handleSaunaDestroyed)}handleUnitDied=({unitFaction:a})=>{a==="player"&&(this.progress.roster.totalDeaths+=1,this.refreshRosterStatus(),this.emitProgress(),this.evaluateResolution())};handleUnitSpawned=({unit:a})=>{a.faction==="player"&&(this.refreshRosterStatus(),this.emitProgress())};handleResourceChanged=({resource:a,total:s})=>{a===ae.SAUNA_BEER&&(this.progress.economy.beer=s,s<this.progress.economy.worstBeer&&(this.progress.economy.worstBeer=s),s<0?this.bankruptSince===null&&(this.bankruptSince=this.timeSource(),this.progress.economy.bankruptSince=this.bankruptSince,this.startBankruptcyTimer()):(this.updateBankruptcyDuration(),this.bankruptSince=null,this.progress.economy.bankruptSince=null,this.clearBankruptcyTimer()),this.emitProgress())};handleSaunaDamaged=({remainingHealth:a})=>{this.disposed||(this.updateSaunaSnapshot(a),this.emitProgress())};handleSaunaDestroyed=a=>{this.disposed||(this.markSaunaDestroyed(),this.emitProgress(),this.resolve("lose","saunaDestroyed"))};startBankruptcyTimer(){if(this.bankruptcyTimeout===null){if(this.bankruptcyGraceMs<=0){this.resolve("lose","bankruptcy");return}this.bankruptcyTimeout=setTimeout(()=>{this.updateBankruptcyDuration(),this.resolve("lose","bankruptcy")},this.bankruptcyGraceMs)}}clearBankruptcyTimer(){this.bankruptcyTimeout!==null&&(clearTimeout(this.bankruptcyTimeout),this.bankruptcyTimeout=null)}startRosterTimer(){if(this.rosterTimeout===null){if(this.rosterGraceMs<=0){this.resolve("lose","rosterWipe");return}this.rosterTimeout=setTimeout(()=>{this.updateRosterDuration(),this.resolve("lose","rosterWipe")},this.rosterGraceMs)}}clearRosterTimer(){this.rosterTimeout!==null&&(clearTimeout(this.rosterTimeout),this.rosterTimeout=null)}updateStrongholdTotals(){const a=this.strongholds.size;let s=0;for(const o of this.strongholds.values())o.alive&&(s+=1);this.progress.strongholds.total=a,this.progress.strongholds.remaining=s,this.progress.strongholds.destroyed=Math.max(0,a-s)}refreshRosterStatus(){const a=Math.max(0,Math.round(this.getRosterCount()));this.progress.roster.active=a,a<=0?(this.wipeSince===null&&(this.wipeSince=this.timeSource(),this.progress.roster.wipeSince=this.wipeSince),this.startRosterTimer()):(this.updateRosterDuration(),this.wipeSince=null,this.progress.roster.wipeSince=null,this.clearRosterTimer())}updateBankruptcyDuration(){if(this.bankruptSince===null)return;const a=this.timeSource()-this.bankruptSince;a>this.progress.economy.bankruptDurationMs&&(this.progress.economy.bankruptDurationMs=a)}updateRosterDuration(){if(this.wipeSince===null)return;const a=this.timeSource()-this.wipeSince;a>this.progress.roster.wipeDurationMs&&(this.progress.roster.wipeDurationMs=a)}evaluateResolution(){if(!this.resolution){if(this.progress.sauna.destroyed){this.resolve("lose","saunaDestroyed");return}if(this.progress.strongholds.total>0&&this.progress.strongholds.remaining===0){this.resolve("win","strongholds");return}if(this.wipeSince!==null&&this.rosterGraceMs<=0){this.resolve("lose","rosterWipe");return}this.bankruptSince!==null&&this.bankruptcyGraceMs<=0&&this.resolve("lose","bankruptcy")}}resolve(a,s){if(this.resolution)return;this.updateRosterDuration(),this.updateBankruptcyDuration();const o=this.timeSource(),l=Math.max(0,o-this.progress.startedAt),u=dv({...this.progress,roster:{...this.progress.roster,wipeSince:this.wipeSince},economy:{...this.progress.economy,bankruptSince:this.bankruptSince},sauna:{...this.progress.sauna,destroyedAt:this.saunaDestroyedAt}}),f=this.computeRewards();this.resolution=Object.freeze({outcome:a,cause:s,timestamp:o,durationMs:l,summary:u,rewards:f}),this.emitResolution(),this.dispose()}emitProgress(){const a=this.getProgress();for(const s of this.progressListeners)try{s(a)}catch(o){console.error("Objective progress listener failed",o)}}emitResolution(){if(!this.resolution)return;const a=this.resolution;for(const s of this.resolutionListeners)try{s(a)}catch(o){console.error("Objective resolution listener failed",o)}this.resolutionListeners.clear()}computeRewards(){const a=fv(this.state);return{resources:{[ae.SAUNA_BEER]:{final:a[ae.SAUNA_BEER],delta:a[ae.SAUNA_BEER]-this.startResources[ae.SAUNA_BEER]},[ae.SAUNAKUNNIA]:{final:a[ae.SAUNAKUNNIA],delta:a[ae.SAUNAKUNNIA]-this.startResources[ae.SAUNAKUNNIA]},[ae.SISU]:{final:a[ae.SISU],delta:a[ae.SISU]-this.startResources[ae.SISU]}}}}coordKey(a){return`${a.q},${a.r}`}isStronghold(a){return a?this.strongholdTypes.has(a):!1}createSaunaProgress(){if(!this.sauna)return{maxHealth:0,health:0,destroyed:!1,destroyedAt:null};const a=Math.max(0,Math.round(this.sauna.maxHealth??0)),s=Math.max(0,Math.round(this.sauna.health??0)),o=!!this.sauna.destroyed||s<=0;return o&&this.saunaDestroyedAt===null&&(this.saunaDestroyedAt=this.timeSource()),{maxHealth:a,health:s,destroyed:o,destroyedAt:o?this.saunaDestroyedAt:null}}updateSaunaSnapshot(a){const s=Number.isFinite(a)?Math.max(0,Math.round(a)):0,o=this.sauna?Math.max(0,Math.round(this.sauna.maxHealth??0)):0,l=this.progress.sauna.maxHealth,u=Math.max(l,o,s);this.progress.sauna.maxHealth=u;const f=Math.max(0,Math.min(u,s));this.progress.sauna.health=f,f>0&&(this.progress.sauna.destroyed=!1,this.progress.sauna.destroyedAt=null,this.saunaDestroyedAt=null)}markSaunaDestroyed(){if(this.sauna){const a=Math.max(0,Math.round(this.sauna.maxHealth??0));a>this.progress.sauna.maxHealth&&(this.progress.sauna.maxHealth=a)}this.progress.sauna.health=0,this.progress.sauna.destroyed=!0,this.saunaDestroyedAt===null&&(this.saunaDestroyedAt=this.timeSource()),this.progress.sauna.destroyedAt=this.saunaDestroyedAt}}function h4(n){return new f4(n)}const Gn=[{level:1,xpToNext:180,cumulativeXp:0,statAwards:{vigor:0,focus:0,resolve:0}},{level:2,xpToNext:220,cumulativeXp:180,statAwards:{vigor:5,focus:2,resolve:1}},{level:3,xpToNext:260,cumulativeXp:400,statAwards:{vigor:4,focus:3,resolve:1}},{level:4,xpToNext:320,cumulativeXp:660,statAwards:{vigor:4,focus:2,resolve:2}},{level:5,xpToNext:380,cumulativeXp:980,statAwards:{vigor:6,focus:3,resolve:2}},{level:6,xpToNext:460,cumulativeXp:1360,statAwards:{vigor:7,focus:3,resolve:3}},{level:7,xpToNext:540,cumulativeXp:1820,statAwards:{vigor:6,focus:4,resolve:3}},{level:8,xpToNext:640,cumulativeXp:2360,statAwards:{vigor:7,focus:4,resolve:4}},{level:9,xpToNext:760,cumulativeXp:3e3,statAwards:{vigor:8,focus:5,resolve:4}},{level:10,xpToNext:900,cumulativeXp:3760,statAwards:{vigor:9,focus:6,resolve:5}},{level:11,xpToNext:1060,cumulativeXp:4660,statAwards:{vigor:10,focus:6,resolve:6}},{level:12,xpToNext:null,cumulativeXp:5720,statAwards:{vigor:12,focus:7,resolve:6}}];function m4(n){return Number.isNaN(n)||!Number.isFinite(n)?0:Math.max(0,Math.floor(n))}function bh(){return{vigor:0,focus:0,resolve:0}}function g4(n){return{vigor:n.vigor,focus:n.focus,resolve:n.resolve}}function Yc(n){const a=m4(n);let s=Gn[0];for(const f of Gn)if(a>=f.cumulativeXp)s=f;else break;const o=a-s.cumulativeXp,l=s.xpToNext,u=l?Math.min(1,o/l):1;return{level:s.level,xpIntoLevel:o,xpForNext:l,progressToNext:u,statAwards:s.statAwards}}function p4(n){const a=Gn[Gn.length-1].level,s=Math.max(Gn[0].level,Math.min(n,a)),o=Gn.find(l=>l.level===s);return o?g4(o.statAwards):bh()}function A4(n){if(n<=Gn[0].level)return bh();const a=Gn[Gn.length-1].level,s=Math.min(n,a),o=bh();for(const l of Gn){if(l.level>s)break;l.level!==Gn[0].level&&(o.vigor+=l.statAwards.vigor,o.focus+=l.statAwards.focus,o.resolve+=l.statAwards.resolve)}return o}function v4(n){return Yc(n).level}function _f(n){return Number.isFinite(n)?Math.max(0,Math.floor(n)):0}function wc(n,a){return a<=0?"":`${n}/${a}`}function y4(n){let a=0;const s=Math.max(0,_f(n.queueCapacity??2)),o=(f,h)=>{f&&typeof n.log=="function"&&n.log({type:"system",message:f,metadata:{context:"spawn-queue",...h}})},l=()=>{const f=n.getTier();if(!f)return null;const h=_f(n.getRosterLimit()),m=_f(n.getRosterCount());return{tierId:f.id,tierName:f.name,rosterLimit:h,rosterCount:m,queued:a}};return{getSnapshot:()=>l(),hasQueuedSpawn:()=>a>0,takeQueuedSpawn:f=>a<=0?!1:(a-=1,a<=0?o(`The benches of ${f.tierName} exhale  queued attendants take the field.`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}):o(`${f.tierName} deploys a queued attendant. Relief teams remaining: ${wc(a,s)}.`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}),!0),restoreQueuedSpawn:f=>{s>0&&a>=s||(a+=1,s>0&&(a=Math.min(a,s)),o(`${f.tierName} keeps the relief attendant on standby (${wc(a,s)} ready).`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}))},queueBlockedSpawn:(f,h)=>s>0&&a>=s?(o(`${f.tierName} cannot hold more relief attendants  clear a slot to vent the pressure.`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}),!1):h()?(a+=1,s>0&&(a=Math.min(a,s)),o(`${f.tierName} queues a ready attendant in the wings (${wc(a,s)} poised).`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}),!0):!1,onSpawnResolved:(f,h)=>{h.usedQueue&&(a>0?o(`${f.tierName} still has relief attendants waiting (${wc(a,s)}).`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}):o(`${f.tierName} has cleared the relief queue.`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}))},clearQueue:f=>{if(!(a<=0)&&(a=0,f==="tier-change")){const h=n.getTier();h&&o(`${h.name} ushers its queued attendants into the new hall.`,{tierId:h.id,tierName:h.name,queue:a,capacity:s})}}}}const _y="autobattles:saunojas";function Ky(){try{return globalThis.localStorage??null}catch{return null}}function b4(){const n=Ky();if(!n)return[];try{const a=n.getItem(_y);if(!a)return[];const s=JSON.parse(a);if(!Array.isArray(s))return[];const o=[];for(const l of s){if(!l||typeof l!="object")continue;const u=l,f=u.id;if(typeof f!="string"||f.length===0)continue;const h=u.coord,m=h&&typeof h=="object"&&typeof h.q=="number"&&Number.isFinite(h.q)&&typeof h.r=="number"&&Number.isFinite(h.r)?{q:h.q,r:h.r}:void 0,g=u.traits,p=Array.isArray(g)?g.filter(E=>typeof E=="string"):void 0,v=typeof u.upkeep=="number"?u.upkeep:void 0,b=typeof u.xp=="number"?u.xp:void 0;o.push(Fh({id:f,name:typeof u.name=="string"?u.name:void 0,coord:m,maxHp:typeof u.maxHp=="number"?u.maxHp:void 0,hp:typeof u.hp=="number"?u.hp:void 0,steam:typeof u.steam=="number"?u.steam:void 0,traits:p,upkeep:v,xp:b,selected:!!u.selected,items:Array.isArray(u.items)?u.items:void 0,baseStats:u.baseStats,effectiveStats:u.effectiveStats,equipment:u.equipment,modifiers:Array.isArray(u.modifiers)?u.modifiers:void 0}))}return o}catch(a){return console.warn("Failed to load Saunoja units from storage",a),[]}}function E4(n){const a=Ky();if(a)try{const s=n.map(o=>({id:o.id,name:o.name,coord:{q:o.coord.q,r:o.coord.r},maxHp:o.maxHp,hp:o.hp,steam:o.steam,traits:[...o.traits],upkeep:o.upkeep,xp:o.xp,selected:o.selected,baseStats:{health:o.baseStats.health,attackDamage:o.baseStats.attackDamage,attackRange:o.baseStats.attackRange,movementRange:o.baseStats.movementRange,...typeof o.baseStats.defense=="number"&&Number.isFinite(o.baseStats.defense)?{defense:o.baseStats.defense}:{},...typeof o.baseStats.shield=="number"&&Number.isFinite(o.baseStats.shield)?{shield:o.baseStats.shield}:{},...typeof o.baseStats.visionRange=="number"&&Number.isFinite(o.baseStats.visionRange)?{visionRange:o.baseStats.visionRange}:{}},effectiveStats:{health:o.effectiveStats.health,attackDamage:o.effectiveStats.attackDamage,attackRange:o.effectiveStats.attackRange,movementRange:o.effectiveStats.movementRange,...typeof o.effectiveStats.defense=="number"&&Number.isFinite(o.effectiveStats.defense)?{defense:o.effectiveStats.defense}:{},...typeof o.effectiveStats.shield=="number"&&Number.isFinite(o.effectiveStats.shield)?{shield:o.effectiveStats.shield}:{},...typeof o.effectiveStats.visionRange=="number"&&Number.isFinite(o.effectiveStats.visionRange)?{visionRange:o.effectiveStats.visionRange}:{}},equipment:cr.reduce((l,u)=>{const f=o.equipment?.[u]??null;return l[u]=f?{id:f.id,name:f.name,description:f.description,icon:f.icon,rarity:f.rarity,quantity:f.quantity,slot:f.slot}:null,l},{}),items:o.items.map(l=>({id:l.id,name:l.name,description:l.description,icon:l.icon,rarity:l.rarity,quantity:l.quantity})),modifiers:o.modifiers.map(l=>({id:l.id,name:l.name,description:l.description,remaining:l.remaining,duration:l.duration,appliedAt:l.appliedAt,stacks:l.stacks,source:l.source}))}));a.setItem(_y,JSON.stringify(s))}catch(s){console.warn("Failed to persist Saunoja units",s)}}const Vy="autobattles:sauna-settings";function Zy(){try{return globalThis.localStorage??null}catch{return null}}function w4(n){return typeof n=="string"?ra(n).id:Lo}function hv(n){return Number.isFinite(n)?Math.max(0,Math.floor(n)):0}function Wh(n,a){const s=hv(n),o=hv(a),l=1+Wc;return Math.max(0,Math.min(l,s,o))}function Jy(n,a,s){const o=Wh(s,s),l=typeof n=="number"&&Number.isFinite(n)?n:a,u=Math.max(0,Math.floor(l));return Math.max(0,Math.min(o,u))}function Wy(n){return n===!0||n==="true"}function yo(n,a){const s=w4(n?.activeTierId),o=ra(s),l=Wh(o.rosterCap,a);return{activeTierId:o.id,maxRosterSize:Jy(n?.maxRosterSize,l,l),useUiV2:Wy(n?.useUiV2)}}function $y(n=1+Wc){const a=Zy();if(!a)return yo(null,n);try{const s=a.getItem(Vy);if(!s)return yo(null,n);const o=JSON.parse(s);return yo(!o||typeof o!="object"?null:o,n)}catch(s){return console.warn("Failed to load sauna settings from storage",s),yo(null,n)}}function e2(n){const a=Zy();if(!a)return;const s=ra(n.activeTierId),o=Wh(s.rosterCap,s.rosterCap),l={activeTierId:s.id,maxRosterSize:Jy(n.maxRosterSize,o,o),useUiV2:Wy(n.useUiV2)};try{a.setItem(Vy,JSON.stringify(l))}catch(u){console.warn("Failed to persist sauna settings",u)}}const S4=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),x4=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function t2(n){return Number.isFinite(n)?Math.max(0,Math.min(100,Math.round(n*100))):0}function C4(n){const a=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});if(n.xpForNext===null)return`${a.format(n.xp)} XP  Max level`;const s=t2(n.progress);return`${a.format(n.xpIntoLevel)} / ${a.format(n.xpForNext)} XP  ${s}%`}function R4(n){const a=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),s=[];return n.vigor>0&&s.push(`+${a.format(n.vigor)} Vigor`),n.focus>0&&s.push(`+${a.format(n.focus)} Focus`),n.resolve>0&&s.push(`+${a.format(n.resolve)} Resolve`),s.length>0?s.join("  "):"No level bonuses yet"}function B4(n,a){const{rosterIcon:s,summaryLabel:o="Saunoja Roster"}=a;n.classList.add("sauna-roster"),n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("title","Active sauna battalion on the field"),n.dataset.tutorialTarget="upkeep",n.replaceChildren();const l=document.createElement("div");l.classList.add("sauna-roster__summary");const u=document.createElement("img");u.src=s,u.alt="Saunoja roster crest",u.decoding="async",u.classList.add("sauna-roster__icon");const f=document.createElement("div");f.classList.add("sauna-roster__text");const h=document.createElement("span");h.textContent=o,h.classList.add("sauna-roster__label");const m=document.createElement("span");m.textContent="0",m.classList.add("sauna-roster__value"),f.append(h,m),l.append(u,f);const g=document.createElement("div");g.classList.add("saunoja-card"),g.setAttribute("aria-live","polite"),g.hidden=!0;const p=document.createElement("div");p.classList.add("saunoja-card__header");const v=document.createElement("div");v.classList.add("saunoja-card__level"),v.setAttribute("role","img"),v.style.setProperty("--level-progress","0%");const b=document.createElement("span");b.classList.add("saunoja-card__level-value"),b.textContent="1",v.appendChild(b);const E=document.createElement("div");E.classList.add("saunoja-card__identity");const x=document.createElement("h3");x.classList.add("saunoja-card__name"),x.textContent="Saunoja";const T=document.createElement("div");T.classList.add("saunoja-card__xp"),T.textContent="0 / 0 XP  0%",E.append(x,T),p.append(v,E);const D=document.createElement("p");D.classList.add("saunoja-card__traits");const N=document.createElement("div");N.classList.add("saunoja-card__callouts"),N.textContent="No level bonuses yet";const L=document.createElement("p");L.classList.add("saunoja-card__upkeep"),g.append(p,D,N,L),n.append(l,g);let I=null,q=null;function Z(M){if(!M){g.hidden=!0;return}g.hidden=!1,g.dataset.unitId=M.id,x.textContent=M.name||"Saunoja";const O=M.traits.filter(w=>w.length>0),C=O.length>0?O.join(", "):"No notable traits yet";D.textContent=C,D.title=C;const X=C4(M.progression);T.textContent=X,T.title=X;const U=t2(M.progression.progress);v.style.setProperty("--level-progress",`${U}%`),b.textContent=String(M.progression.level);const B=M.progression.xpForNext===null?`Level ${M.progression.level}, at mastery`:`Level ${M.progression.level}, ${U}% toward next level`;v.setAttribute("aria-label",B);const z=R4(M.progression.statBonuses);N.textContent=z,N.title=z;const W=Math.max(0,Math.round(M.upkeep)),fe=`Upkeep: ${x4.format(W)} Beer`;L.textContent=fe,L.title=fe}function ie(M){return M===1/0?"inf":!Number.isFinite(M)||M<=0?"0":String(Math.ceil(M))}function se(M){return[M.id,M.name,M.icon??"",M.rarity??"",M.description??"",M.quantity].join("^")}function oe(M){return[M.id,M.name,M.description??"",ie(M.duration),ie(M.remaining),M.appliedAt??"",M.stacks??1,M.source??""].join("^")}function ne(M){const{stats:O}=M,C=M.traits.join("|"),X=M.items.map(se).join("|"),U=M.modifiers.map(oe).join("|");return[M.id,M.name,M.upkeep,M.status,M.selected?1:0,M.progression.level,M.progression.xp,M.progression.xpIntoLevel,M.progression.xpForNext??"max",O.health,O.maxHealth,O.attackDamage,O.attackRange,O.movementRange,O.defense??0,O.shield??0,C,X,U].join("~")}function F(M){return`${M.length}:${M.map(ne).join("||")}`}return{updateSummary(M){const O=Math.max(0,Math.floor(M.count)),C=S4.format(O);m.textContent=C,n.setAttribute("aria-label",`Saunoja roster: ${C} active attendants`),n.setAttribute("title",`Saunoja roster  ${C} active attendants`),Z(M.card)},installRenderer(M){q=null,I=M},renderRoster(M){if(!I)return;const O=F(M);O!==q&&(q=O,I(M))},destroy(){I=null,q=null,n.replaceChildren()}}}const M4={[ae.SAUNA_BEER]:"Sauna Beer",[ae.SAUNAKUNNIA]:"Saunakunnia",[ae.SISU]:"Sisu"},D4='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';function T4(n){if(!Number.isFinite(n)||n<=0)return"0:00";const a=Math.round(n/1e3),s=Math.max(0,a%60).toString().padStart(2,"0"),o=Math.floor(a/60),l=(o%60).toString().padStart(2,"0"),u=Math.floor(o/60);return u>0?`${u}:${l}:${s}`:`${o}:${s}`}function k4(n){switch(n.cause){case"strongholds":return"All rival strongholds have fallen.";case"rosterWipe":return"Every attendant is downno one remains to hold the line.";case"bankruptcy":return"Upkeep debts have exhausted the steam reserves.";case"saunaDestroyed":return"The sauna collapsed under relentless assaultthe sacred steamline has fallen silent.";default:return""}}function H4(n){if(!Number.isFinite(n)||n===0)return"0";const a=Math.round(n*100)/100;return`${a>0?"+":""}${a}`}function O4(n,a){const s=document.createElement("ul");s.className="end-screen__rewards-list";for(const o of Object.values(ae)){const l=n.rewards.resources[o];if(!l)continue;const u=document.createElement("li");u.className="end-screen__reward-item";const f=document.createElement("span");f.className="end-screen__reward-label",f.textContent=a[o]??o;const h=document.createElement("span");h.className="end-screen__reward-value",h.textContent=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(Math.round(l.final));const m=document.createElement("span");m.className="end-screen__reward-delta",m.textContent=H4(l.delta),m.dataset.polarity=l.delta>=0?"positive":"negative",u.append(f,h,m),s.append(u)}return s}function N4(n,a,s){const o=l=>{if(l.key==="Escape"){l.preventDefault(),s?.();return}if(l.key!=="Tab")return;const u=a.querySelectorAll(D4);if(u.length===0){l.preventDefault(),a.focus();return}const f=u[0],h=u[u.length-1],m=document.activeElement;l.shiftKey?(m===f||!a.contains(m))&&(l.preventDefault(),h.focus()):(m===h||!a.contains(m))&&(l.preventDefault(),f.focus())};return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)}function P4(n){const{container:a,resolution:s,onNewRun:o,onDismiss:l,currentNgPlusLevel:u}=n;if(!a)return{destroy(){},focusPrimary(){}};const f={...M4,...n.resourceLabels??{}},h=document.createElement("div");h.className="end-screen",h.setAttribute("role","presentation");const m=document.createElement("section");m.className="end-screen__panel",m.setAttribute("role","dialog"),m.setAttribute("aria-modal","true");const g=`end-screen-title-${Date.now()}`;m.setAttribute("aria-labelledby",g),m.tabIndex=-1,m.dataset.outcome=s.outcome;const p=document.createElement("h2");p.className="end-screen__title",p.id=g,p.textContent=s.outcome==="win"?"Steamforged Victory":"Sauna Lost";const v=document.createElement("p");v.className="end-screen__subtitle",v.textContent=k4(s);const b=document.createElement("dl");b.className="end-screen__metrics";const E=(oe,ne)=>{const F=document.createElement("dt");F.textContent=oe,F.className="end-screen__metric-label";const M=document.createElement("dd");M.textContent=ne,M.className="end-screen__metric-value",b.append(F,M)};E("Run time",T4(s.durationMs)),E("Strongholds",`${s.summary.strongholds.destroyed}/${s.summary.strongholds.total}`),E("Roster losses",`${s.summary.roster.totalDeaths}`),E("Deepest beer reserve",`${Math.round(s.summary.economy.worstBeer)}`);const x=document.createElement("div");x.className="end-screen__badges";const T=document.createElement("span");T.className="end-screen__badge",T.textContent=`NG+ ${Math.max(0,u)}`,x.append(T);const D=document.createElement("h3");D.className="end-screen__section-title",D.textContent="Rewards";const N=O4(s,f),L=document.createElement("div");L.className="end-screen__actions";const I=document.createElement("button");I.type="button",I.className="end-screen__button end-screen__button--primary",I.textContent="New run (NG+)",I.addEventListener("click",()=>{o()});const q=document.createElement("button");q.type="button",q.className="end-screen__button",q.textContent="Review battlefield",q.addEventListener("click",()=>{l?.()}),L.append(I,q),m.append(p,v,x,b,D,N,L),h.append(m),a.append(h);const Z=N4(h,m,l),ie=()=>{Z(),h.remove()},se=()=>{requestAnimationFrame(()=>{I.focus({preventScroll:!0})})};return se(),{destroy:ie,focusPrimary:se}}const n2="autobattles4x.flags";function a2(){if(typeof window>"u")return null;try{if("localStorage"in window&&window.localStorage)return window.localStorage}catch(n){console.warn("Unable to access localStorage for local flags",n)}return null}function i2(){const n=a2();if(!n)return{};try{const a=n.getItem(n2);if(!a)return{};const s=JSON.parse(a);if(s&&typeof s=="object")return s}catch(a){console.warn("Failed to parse local flags, resetting.",a)}return{}}function G4(n){const a=a2();if(a)try{const s={};n.tutorial_done&&(s.tutorial_done=!0),a.setItem(n2,JSON.stringify(s))}catch(s){console.warn("Failed to persist local flags",s)}}function Q4(){return i2().tutorial_done===!0}function mv(n){const a={...i2()};a.tutorial_done=!0,G4(a)}const Kf=200,Vf=3,L4=2,gv=6,U4=40,j4=250,z4=200,I4=v4(Number.MAX_SAFE_INTEGER),Eh={[ae.SAUNA_BEER]:"Sauna Beer",[ae.SAUNAKUNNIA]:"Saunakunnia",[ae.SISU]:"Sisu"};function s2(n,a){const s=Number.isFinite(a)?Math.max(0,Math.floor(a)):0;if(!Number.isFinite(n))return s;const o=Math.max(0,Math.floor(n));return Math.max(0,Math.min(s,o))}let Pt=La(_1()),r2=1,$h=0,ou=1,Tc={aggressionMultiplier:1,cadenceMultiplier:1,strengthMultiplier:1},o2=1,l2=Math.random,c2=Math.random,em=null;function _c(n){Pt=La(n),r2=V1(Pt),$h=Z1(Pt),ou=W1(Pt),Tc=$1(Pt),o2=J1(Pt),l2=Up(Pt.runSeed,1),c2=Up(Pt.runSeed,2),em?.({persist:!0})}_c(Pt);let Kc=null,ze=[];const sa=new Map,xi=new Map,ls=new Map;let pv=0,Vc=null,ta=null,qa=null,ir=null,Ln=null,sr=null,kt=null,is=null,Mo=null,za=null,Ci=null,ss=!1,En=null,Ri=null,Wn=null,Do=null,es=0;function u2(n){const a=xi.get(n.id);return a?ls.get(a)??null:null}function d2(n,a){n.effectiveStats={...a},n.maxHp=Math.max(1,Math.round(a.health)),n.hp=Math.min(n.maxHp,Math.max(0,Math.round(n.hp))),n.defense=typeof a.defense=="number"?Math.max(0,a.defense):void 0,n.shield=typeof a.shield=="number"?Math.max(0,a.shield):0;const s=u2(n);if(s){const o={health:n.effectiveStats.health,attackDamage:n.effectiveStats.attackDamage,attackRange:n.effectiveStats.attackRange,movementRange:n.effectiveStats.movementRange};typeof n.effectiveStats.defense=="number"&&(o.defense=n.effectiveStats.defense),typeof n.effectiveStats.visionRange=="number"&&(o.visionRange=n.effectiveStats.visionRange),s.updateStats(o),typeof n.effectiveStats.shield=="number"?s.setShield(n.effectiveStats.shield):n.shield<=0&&s.setShield(0)}}function lu(n,a){const s=a??Qn(n.equipment),o=Pc(n.baseStats,s);return d2(n,o),o}function f2(n){const a=Yc(n.xp);return{level:a.level,xp:Math.max(0,Math.floor(n.xp)),xpIntoLevel:a.xpIntoLevel,xpForNext:a.xpForNext,progress:a.progressToNext,statBonuses:A4(a.level)}}function F4(n){const a=[];return n.vigor>0&&a.push(`+${n.vigor} Vigor`),n.focus>0&&a.push(`+${n.focus} Focus`),n.resolve>0&&a.push(`+${n.resolve} Resolve`),a.length>0?a.join(", "):"+0 Vigor, +0 Focus, +0 Resolve"}function h2(n,a,s){if(!Number.isFinite(a)||a<=0)return null;const o=Yc(n.xp),l=Math.max(0,Math.floor(n.xp+a));if(l===n.xp)return null;n.xp=l;const u=Yc(n.xp),f=Math.max(0,u.level-o.level),h={vigor:0,focus:0,resolve:0};let m=0;if(f>0){for(let p=o.level+1;p<=u.level&&p<=I4;p++){const v=p4(p);h.vigor+=v.vigor,h.focus+=v.focus,h.resolve+=v.resolve;const b=Number.isFinite(n.baseStats.health)?n.baseStats.health:n.effectiveStats.health;n.baseStats.health=Math.max(1,Math.round(b+v.vigor));const E=Number.isFinite(n.baseStats.attackDamage)?n.baseStats.attackDamage:n.effectiveStats.attackDamage;n.baseStats.attackDamage=Math.max(0,Math.round(E+v.focus));const T=(Number.isFinite(n.baseStats.defense)?n.baseStats.defense??0:n.effectiveStats.defense??0)+v.resolve;n.baseStats.defense=T>0?T:void 0}m=h.vigor}m>0&&(n.hp+=m),lu(n);const g=u2(n);if(g&&g.setExperience(n.xp),s.source==="kill"){const p=n.name?.trim()||"Our champion",v=s.label?.trim()||"their foe",b=s.boss?" Boss toppled!":s.elite?" Elite threat routed!":"";Gt({type:"combat",message:`${p} earns ${a} XP for defeating ${v}.${b}`,metadata:{slayer:p,foe:v,xpAward:a,boss:!!s.boss,elite:!!s.elite}})}if(f>0){const p=F4(h),v=n.name?.trim()||"Our champion";Gt({type:"progression",message:`${v} reaches Level ${u.level}! ${p}.`,metadata:{unit:v,level:u.level,levelsGained:f,bonuses:h}})}return{xpAwarded:a,totalXp:n.xp,level:u.level,levelsGained:f,statBonuses:h}}function q4(n,a,s){if(!n)return null;const o=sa.get(n.id);return o?h2(o,a,s):null}function X4(n,a){if(!Number.isFinite(n)||n<=0)return!1;let s=!1;for(const o of ze)h2(o,n,a)&&(s=!0);return s}function Y4(n){return n?(n.type?.toLowerCase?.()??"").includes("boss")?{xp:j4,elite:!0,boss:!0}:B2(n)?{xp:U4,elite:!0,boss:!1}:{xp:gv,elite:!1,boss:!1}:{xp:gv,elite:!1,boss:!1}}const m2=n=>{if(!n)return;const a=Math.max(0,Math.floor(n.strongholds.destroyed));if(a>es){const s=a-es,o=z4*s;X4(o,{source:"objective",label:"stronghold"})&&(oa(),jn(),Gt({type:"progression",message:`Strategists toast the captured stronghold  roster gains ${o} XP.`,metadata:{source:"stronghold",xpAward:o}}))}if(a<es){es=a;return}es=a},_4=Object.freeze(["health","attackDamage","attackRange","movementRange","defense","shield"]);function Av(n){return n?{id:n.id,name:n.name,quantity:n.quantity,rarity:n.rarity}:null}function vv(n,a){const s=n[a];return typeof s=="number"&&Number.isFinite(s)?Math.round(s):0}function K4(n,a){const s=[];for(const o of _4){const l=vv(a,o),u=vv(n,o),f=l-u;f!==0&&s.push({stat:o,delta:f})}return s}function V4(n,a){if(!a||Qn(n.equipment).length>0)return;const o={health:Math.max(1,Math.round(a.getMaxHealth())),attackDamage:Math.max(0,Math.round(a.stats.attackDamage)),attackRange:Math.max(0,Math.round(a.stats.attackRange)),movementRange:Math.max(0,Math.round(a.stats.movementRange)),defense:typeof a.stats.defense=="number"&&Number.isFinite(a.stats.defense)?Math.max(0,a.stats.defense):n.baseStats.defense,shield:n.baseStats.shield??0,visionRange:typeof a.stats.visionRange=="number"&&Number.isFinite(a.stats.visionRange)?Math.max(0,a.stats.visionRange):n.baseStats.visionRange};n.baseStats=o,lu(n)}function wo(){Do&&(Do.destroy(),Do=null)}function Z4(){if(Q4()){wo();return}wo(),Do=Bx({onComplete:()=>{mv(),wo()},onSkip:()=>{mv(),wo()}}),Do.start()}function yv(n){Mo=n,kt&&(kt.installRenderer(n),za&&(kt.renderRoster(za),za=null))}function J4(){return b4()}function oa(){E4(ze)}function W4(n=Math.random){typeof n!="function"&&(n=Math.random);const a=Math.max(0,Math.floor(nr)),s=Math.max(a,Math.floor(Bc));if(s===a)return Math.max(nr,Math.min(Bc,a));const o=s-a+1,l=Math.floor(n()*o)+a;return Math.max(nr,Math.min(Bc,l))}function $4(n){const s=(Array.isArray(n.traits)?n.traits:[]).length>=3,o=Number.isFinite(n.upkeep),l=Number.isFinite(n.xp);return!s||!o||!l}function g2(n){n.traits=t3(),n.upkeep=W4(),n.xp=0}function eR(n,a,s,o={}){const l=o.hudVariant??"classic",u=l==="classic";s.dataset.hudVariant=l,Kc=n,En&&(En.dispose(),En=null),En=K5({canvas:n,overlay:s,mapRenderer:tm,getUnitById:h=>ls.get(h),requestDraw:()=>{Qt()}}),kt&&(kt.destroy(),kt=null),u?(kt=B4(a,{rosterIcon:Si.saunojaRoster}),Mo&&kt.installRenderer(Mo),za&&(kt.renderRoster(za),za=null),is&&(kt.updateSummary(is),is=null)):(Mo=null,za=null,is=null),Ln?.dispose(),Ln=null,u&&(Ln=uS(it,{getRosterCapLimit:()=>uu(),updateMaxRosterSize:(h,m)=>Oo(h,{persist:m?.persist}),getActiveTierId:()=>dt,setActiveTierId:(h,m)=>(cR(h,{persist:m?.persist})&&Ln?.update(),dt),getTierContext:()=>om()})),qa?.dispose(),qa=null,ir?.destroy(),ir=null;const f={useSisuBurst:()=>{const h=RS(Xe,bt);return h?(aa("sisu"),Gt({type:"ability",message:`Sisu bursts forth, spending ${ts} grit to steel our attendants.`,metadata:{ability:"sisu-burst",cost:ts}})):aa("error"),h},torille:()=>{const h=MS(Xe,bt,it.pos,Jt);return h?Gt({type:"ability",message:`Torille! Our warriors regroup at the sauna to rally their spirits for ${ns} SISU.`,metadata:{ability:"torille",cost:ns}}):aa("error"),h}};u&&(qa=dS(Xe,{saunakunnia:Si.resource,sisu:Si.sisu,saunaBeer:Si.saunaBeer})),ir=KS(Xe,s,f),sr?.destroy(),sr=null,u&&(sr=UC(Ho,{getSelectedUnitId:()=>ze.find(h=>h.selected)?.id??null,getComparisonContext:()=>hR(),onEquip:(h,m,g)=>cm(h,m),getUseUiV2:oR,onUseUiV2Change:lR})),u?(mR(),nm(),jn(),Z4()):ta&&(ta(),ta=null)}const Jt=new rE(10,10,32),p2=new D5(()=>Qt()),tR=new uw(Jt,p2),tm=new p5(Jt),Zc=()=>{tm.invalidateCache(),Qt()};te.on("buildingPlaced",Zc);te.on("buildingRemoved",Zc);Jt.forEachTile(n=>n.setFogged(!0));X1();const bt=[];function bv(n){return`${n.q},${n.r}`}function nR(){const n=new Set;for(const m of bt)m.isDead()||n.add(bv(m.coord));const a=[],{minQ:s,maxQ:o,minR:l,maxR:u}=Jt,f=m=>{const g=bv(m);n.has(g)||(Jt.ensureTile(m.q,m.r),a.push(m))};for(let m=s;m<=o;m++)f({q:m,r:l}),u!==l&&f({q:m,r:u});for(let m=l+1;m<=u-1;m++)f({q:s,r:m}),o!==s&&f({q:o,r:m});if(a.length===0)return;const h=Math.floor(Math.random()*a.length);return a[h]}function aR(n){const a=sa.get(n);a&&(sa.delete(n),xi.get(a.id)===n&&xi.delete(a.id))}function iR(n){const a=sa.get(n.id);if(a)return{saunoja:a,created:!1,attached:!1};let s=ze.find(f=>f.id===n.id);s||(s=ze.find(f=>!xi.has(f.id)));let o=!1;s||(s=Fh({id:`saunoja-${ze.length+1}`,coord:{q:n.coord.q,r:n.coord.r}}),ze.push(s),o=!0);const l=xi.get(s.id);l&&l!==n.id&&sa.delete(l),sa.set(n.id,s),xi.set(s.id,n.id),V4(s,n),d2(s,s.effectiveStats),n.setExperience(s.xp);const u=$4(s);return(o||u)&&g2(s),{saunoja:s,created:o,attached:!0}}function nm(){let n=!1;for(const a of bt){if(a.faction!=="player"||a.isDead())continue;const{saunoja:s,created:o,attached:l}=iR(a);(o||l)&&(n=!0);const u=Number.isFinite(a.stats.health)?Math.max(0,a.stats.health):0;s.hp!==u&&(s.hp=u,n=!0);const f=Number.isFinite(a.getMaxHealth())?Math.max(1,a.getMaxHealth()):1;s.maxHp!==f&&(s.maxHp=f,n=!0);const h=a.getShield(),m=Number.isFinite(h)?Math.max(0,h):0;s.shield!==m&&(s.shield=m,n=!0);const p=a?.lastHitAt;Number.isFinite(p)&&s.lastHitAt!==p&&(s.lastHitAt=p,n=!0);const{q:v,r:b}=a.coord;(s.coord.q!==v||s.coord.r!==b)&&(s.coord={q:v,r:b},n=!0,s.selected&&lm(s.coord))}return n&&oa(),n}function A2(n,a){if(n.faction==="player"){const u=(a??sa.get(n.id)??null)?.name?.trim();if(u)return u}return`${(n.constructor?.name??"Unit").replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase()} ${n.id}`.trim()}function cu(n){if(ls.has(n.id))return;bt.push(n),ls.set(n.id,n);let a=null;if(n.faction==="player"&&(nm()||Uo(),a=sa.get(n.id)??null),Kc&&Qt(),n.faction==="player"){const o=A2(n,a);Gt({type:"spawn",message:`Our ${o} emerges from the steam.`,metadata:{unitId:n.id,unitName:o,steward:"Our"}}),jn()}}const v2=({unit:n})=>{cu(n)};te.on("unitSpawned",v2);const y2=()=>{Uo()},rr=()=>{Uo()};te.on("inventoryChanged",y2);te.on("modifierAdded",rr);te.on("modifierRemoved",rr);te.on("modifierExpired",rr);const b2=n=>{Ln?.handleDamage?.(n)},E2=n=>{Ln?.handleDestroyed?.(n)};te.on("saunaDamaged",b2);te.on("saunaDestroyed",E2);const w2=()=>{jn()};te.on("unit:stats:changed",w2);function sR(n){const a=sa.get(n.id);if(!a)return 0;const s=Number.isFinite(a.upkeep)?a.upkeep:0;return s>0?s*r2:0}const Xe=new tE(1e3),Ho=new o3,am=Xe.load(Jt);if(am){const n=Xe.getNgPlusState();_c(n),eh(n)}else{const n=Xe.setNgPlusState(Pt);_c(n),eh(n)}Xe.setEnemyScalingBase({aggression:Tc.aggressionMultiplier,cadence:Tc.cadenceMultiplier,strength:Tc.strengthMultiplier});if(!am&&Pt.ngPlusLevel>0){const n=Math.round(75*Pt.ngPlusLevel);n>0&&Xe.addResource(ae.SAUNA_BEER,n)}const or=$y(ou),S2=()=>({ngPlusLevel:Pt.ngPlusLevel,unlockSlots:Pt.unlockSlots});let dt=or.activeTierId,fr=or.useUiV2;const rR=dr(ra(dt),S2());rR.unlocked||(dt=Lo);const uu=()=>{const n=ra(dt),a=Math.max(0,Math.floor(n.rosterCap));return Math.min(a,ou)},Jc=s2(or.maxRosterSize,uu());(Jc!==or.maxRosterSize||or.activeTierId!==dt||or.useUiV2!==fr)&&e2({maxRosterSize:Jc,activeTierId:dt,useUiV2:fr});const it=ow({q:Math.floor(Jt.width/2),r:Math.floor(Jt.height/2)},void 0,{maxRosterSize:Jc}),oR=()=>fr,lR=n=>{const a=!!n;fr!==a&&rm(it.maxRosterSize,{useUiV2:a})},im=y4({getTier:()=>ra(dt),getRosterLimit:()=>uu(),getRosterCount:()=>du(),log:n=>Gt(n),queueCapacity:3});let x2=Jc,sm=dt;const rm=(n,a)=>{typeof a?.useUiV2=="boolean"&&(fr=a.useUiV2),e2({maxRosterSize:n,activeTierId:dt,useUiV2:fr}),x2=n,sm=dt},om=()=>S2(),Oo=(n,a={})=>{const s=uu(),o=s2(n,s);return o!==it.maxRosterSize&&(it.maxRosterSize=o),a.persist&&(dt!==sm||o!==x2)&&rm(o),o};em=(n={})=>{const a=om(),s=dy();let o=Lo;for(const f of s)if(dr(f,a).unlocked)o=f.id;else break;if(!dr(ra(dt),a).unlocked||dt!==o){const f=dt;dt=o,im.clearQueue?.("tier-change"),Oo(it.maxRosterSize,{persist:n.persist}),f!==dt&&Ln?.update?.();return}n.persist&&Oo(it.maxRosterSize,{persist:!0})};em({persist:!0});const cR=(n,a={})=>{const s=ra(n);return dr(s,om()).unlocked?s.id===dt?(a.persist&&dt!==sm&&rm(it.maxRosterSize),!0):(dt=s.id,im.clearQueue?.("tier-change"),Oo(it.maxRosterSize,{persist:a.persist}),!0):!1},uR=n=>{pv+=1;const a=`p${Date.now()}-${pv}`,s=zh(Xe,"soldier",a,n,"player");return s&&cu(s),s??null},Ev=new eS({difficulty:o2,random:l2,eliteOdds:$h}),C2=new nE(1e3,n=>{const a=n/1e3;Xe.tick(),Rc.tick(a,{state:Xe});const s=Xe.getEnemyScalingSnapshot(),o=Oo(it.maxRosterSize);i3({dt:a,state:Xe,sauna:it,heat:it.heatTracker,units:bt,getUnitUpkeep:sR,pickSpawnTile:()=>Yv(it.pos,bt),spawnBaseUnit:uR,minUpkeepReserve:Math.max(1,nr),maxSpawns:ou,rosterCap:o,getRosterCount:du,tierHelpers:im});const l={aggressionMultiplier:s.aggression,cadenceMultiplier:s.cadence,strengthMultiplier:s.strength,calmSecondsRemaining:s.calmSecondsRemaining};Ev.update(a,bt,cu,nR,l),Xe.advanceEnemyCalm(a);const u=Ev.getSnapshot(),f=Math.max(s.calmSecondsRemaining,u.calmSecondsRemaining);if(qa){const m={stage:u.rampStageLabel,stageIndex:u.rampStageIndex,bundleTier:u.bundleTier,multiplier:u.difficultyMultiplier,cadenceSeconds:u.cadence,effectiveDifficulty:u.effectiveDifficulty,aggressionMultiplier:u.aggressionMultiplier,cadenceMultiplier:u.cadenceMultiplier,strengthMultiplier:u.strengthMultiplier,calmSecondsRemaining:f,spawnCycles:u.spawnCycles};qa.setEnemyRampSummary(m)}const h=Ri?.getProgress().roster;sS(u,{wipeSince:h?.wipeSince??null,wipeDurationMs:h?.wipeDurationMs??0}),tR.tick(bt,a,it),IE(a),nm()&&jn(),Xe.save();for(const m of bt)m.isDead()||m.faction!=="player"||Jt.revealAround(m.coord,m.getVisionRange(),{autoFrame:!1});Qt()}),dR=n=>{ss&&(ss=!1),C2.stop(),Ci!==null&&(cancelAnimationFrame(Ci),Ci=null),Qt();const a=document.getElementById("ui-overlay");if(!a)return;Wn&&(Wn.destroy(),Wn=null);const s=Pt.ngPlusLevel,o=K1(Pt,{outcome:n.outcome});eh(o),Xe.setNgPlusState(o),_c(o),Wn=P4({container:a,resolution:n,currentNgPlusLevel:s,resourceLabels:Eh,onNewRun:()=>{try{typeof window<"u"&&window.localStorage?.removeItem?.("gameState")}catch(u){console.warn("Failed to reset saved game state for NG+",u)}typeof window<"u"&&typeof window.location?.reload=="function"&&window.setTimeout(()=>window.location.reload(),75)},onDismiss:()=>{Wn&&(Wn.destroy(),Wn=null)}})};ze=J4();if(ze.length===0){const n=Fh({id:"saunoja-1",coord:it.pos,selected:!0,upkeep:0});g2(n),n.upkeep=0,ze.push(n),oa()}else{let n=!1,a=!1;for(const s of ze)s.selected&&(n?(s.selected=!1,a=!0):n=!0);a&&oa()}const fR=bt.some(n=>n.faction==="player"&&!n.isDead());if(!fR){Xe.canAfford(lA,ae.SAUNA_BEER)||Xe.addResource(ae.SAUNA_BEER,lA);const n=`u${bt.length+1}`,a=zh(Xe,"soldier",n,it.pos,"player");a&&cu(a)}Jt.revealAround(it.pos,3);Ri=h4({state:Xe,map:Jt,getRosterCount:du,sauna:it,rosterWipeGraceMs:8e3,bankruptcyGraceMs:12e3});es=Ri.getProgress().strongholds.destroyed;Ri.onProgress(m2);Ri.onResolution(dR);function hR(){const n=ze.find(a=>a.selected)??null;return n?{baseStats:{...n.baseStats},loadout:Qn(n.equipment),currentStats:{...n.effectiveStats}}:null}function mR(){ta&&(ta(),ta=null);const n=Sx(Xe,{onRosterSelect:vR,onRosterRendererReady:yv,onRosterEquipSlot:bR,onRosterUnequipSlot:ER});n.addEvent,yv(n.renderRoster),ta=n.dispose}function gR(){Ln?.update()}function wv(n){qa?.update(n)}am||(Xe.addResource(ae.SAUNA_BEER,Kf),Gt({type:"resource",message:`Quartermaster stocks ${Kf} bottles of ${Eh[ae.SAUNA_BEER]} to launch your campaign.`,metadata:{resource:ae.SAUNA_BEER,amount:Kf,context:"initial"}}),Xe.addResource(ae.SAUNAKUNNIA,Vf),Gt({type:"resource",message:`Sauna elders honor your leadership with ${Vf} ${Eh[ae.SAUNAKUNNIA]} to celebrate your arrival.`,metadata:{resource:ae.SAUNAKUNNIA,amount:Vf,context:"initial"}}));const Zf=ze.find(n=>n.selected);Zf&&(Vc={q:Zf.coord.q,r:Zf.coord.r});function pR(n,a){return!n||!a?n===a:n.q===a.q&&n.r===a.r}function lm(n){return pR(Vc,n)?!1:(Vc=n?{q:n.q,r:n.r}:null,!0)}function R2(n){let a=!1;for(const s of ze)n&&s===n||s.selected&&(s.selected=!1,a=!0);return a}function AR(){let n=!1;return R2()&&(n=!0),lm(null)&&(n=!0),n}function B2(n){if(!n)return!1;const a=jh(n.type);if(!a)return!1;const s=Po(a,1),o=n.stats;return o.health>s.health||o.attackDamage>s.attackDamage||o.attackRange>s.attackRange||o.movementRange>s.movementRange}function M2(n){let a=!1;return n.selected||(n.selected=!0,a=!0),R2(n)&&(a=!0),lm(n.coord)&&(a=!0),a}function vR(n){const a=ze.find(s=>s.id===n);a&&M2(a)&&(oa(),jn(),Qt())}function D2(n){const a=j1(n.x,n.y,Jt.hexSize),s=ze.find(l=>l.coord.q===a.q&&l.coord.r===a.r);(s?M2(s):AR())&&(oa(),jn(),Qt())}function cm(n,a){const s=ze.find(g=>g.id===n);if(!s)return{success:!1,reason:"unit-missing"};const o=Qn(s.equipment),l=Pc(s.baseStats,o),u=ww(s,a);if(!u.success)return{success:!1,reason:u.reason};const f=lu(s,u.loadout);te.emit("unit:stats:changed",{unitId:s.id,stats:f}),te.emit("inventoryChanged",{}),oa(),jn();const h=o.find(g=>g.slot===u.slot)??null;return{success:!0,comparison:{slot:u.slot,previous:Av(h),next:Av(u.item??null),deltas:K4(l,f)}}}function yR(n,a){const s=ze.find(v=>v.id===n);if(!s)return null;const o=Sw(s,a);if(!o.success||!o.removed)return null;const l=lu(s,o.loadout);te.emit("unit:stats:changed",{unitId:s.id,stats:l}),te.emit("inventoryChanged",{}),oa(),jn();const{id:u,name:f,description:h,icon:m,rarity:g,quantity:p}=o.removed;return{id:u,name:f,description:h,icon:m,rarity:g,quantity:p}}function bR(n,a){const o=Ho.getStash().findIndex(l=>xw(l.id,a));return o===-1?!1:Ho.equipFromStash(o,n,cm)}function ER(n,a){return Ho.unequipToStash(n,a,yR)}function Qt(){if(!Kc)return;const n=Kc.getContext("2d"),a=Yy();if(!n||!a)return;if(En){const m=typeof performance<"u"?performance.now():Date.now();En.step(m)}const s=En?.getShakeOffset()??{x:0,y:0},o=En?{getUnitAlpha:m=>En.getUnitAlpha(m.id)}:void 0,l=Array.isArray(ze)&&ze.length>0,u=bt.filter(m=>m.faction==="player"&&!m.isDead()),f=it?{coord:it.pos,range:it.auraRadius}:null,h=l?bt.filter(m=>m.faction!=="player"):bt;n.save(),(s.x!==0||s.y!==0)&&n.translate(s.x,s.y),R5(n,tm,a.images,h,Vc,{saunojas:{units:ze,draw:J5},sauna:it,saunaVision:f,fx:o,friendlyVisionSources:u}),n.restore()}const T2=({policy:n})=>{Gt({type:"policy",message:`Sauna council toasts a fresh keg for policy: ${n.name}.`,metadata:{policy:n.id,name:n.name}})};te.on(zt.APPLIED,T2);const k2=({unitId:n,attackerId:a,attackerFaction:s,unitFaction:o})=>{const l=bt.findIndex(b=>b.id===n),u=l!==-1?bt[l]:null,f=u?{q:u.coord.q,r:u.coord.r}:null,h=o==="player"?sa.get(n)??null:null;let m=!1;if(o==="player"){const b=h??ze.find(E=>xi.get(E.id)===n||E.id===n)??null;b&&(b.hp!==0&&(b.hp=0,m=!0),b.shield!==0&&(b.shield=0,m=!0))}const g=u?A2(u,h):`unit ${n}`;let p=!1;if(s==="player"&&o&&o!=="player"){const b=a?ls.get(a)??null:null,{xp:E,elite:x,boss:T}=Y4(u);E>0&&q4(b,E,{source:"kill",label:g,elite:x,boss:T})&&(p=!0)}if(l!==-1&&(u&&p2.clear(u,{snap:!0}),bt.splice(l,1),ls.delete(n),aR(n),Qt()),(m||p)&&oa(),(o==="player"||p)&&jn(),s==="player"&&o&&o!=="player"){const b=B2(u??null)||c2()<$h,E=WC({factionId:o,elite:b});if(E.rolls.length>0){const x=ze.find(T=>T.selected)??null;for(const T of E.rolls)if(Ho.addLoot(T,{unitId:x?.id,sourceTableId:E.tableId,equip:cm}).equipped){const N=x?.name??"our champion";Gt({type:"loot",message:`Quartermaster fastens ${T.item.name} to ${N}.`,metadata:{item:T.item.name,equipped:!0,owner:N,source:g}})}else Gt({type:"loot",message:`Quartermaster stores ${T.item.name} recovered from ${g}.`,metadata:{item:T.item.name,equipped:!1,source:g}})}}s==="player"&&o&&o!=="player"&&(Xe.addResource(ae.SAUNAKUNNIA,L4),Xe.addResource(ae.SISU,1),Gt({type:"resource",message:"Our grit surges  +1 SISU earned for the vanquished foe.",metadata:{resource:ae.SISU,amount:1,context:"victory"}})),f&&Jt.revealAround(f,1,{autoFrame:!1});const v=o==="player"?"our":"a rival";Gt({type:"combat",message:`The steam hushes as ${v} ${g} grows still.`,metadata:{side:v,unit:g}})};te.on("unitDied",k2);function wh(){ss=!1,Ri?.offProgress(m2),Ri?.dispose(),Ri=null,es=0,TS(),Wn&&(Wn.destroy(),Wn=null),Ci!==null&&(cancelAnimationFrame(Ci),Ci=null);try{Xe.save()}catch(n){console.warn("Failed to persist game state during cleanup",n)}try{oa()}catch(n){console.warn("Failed to persist Saunoja roster during cleanup",n)}En&&(En.dispose(),En=null),te.off(zt.APPLIED,T2),te.off("unitDied",k2),te.off("unitSpawned",v2),te.off("inventoryChanged",y2),te.off("modifierAdded",rr),te.off("modifierRemoved",rr),te.off("modifierExpired",rr),te.off("unit:stats:changed",w2),te.off("saunaDamaged",b2),te.off("saunaDestroyed",E2),te.off("buildingPlaced",Zc),te.off("buildingRemoved",Zc),ta&&(ta(),ta=null),sr&&(sr.destroy(),sr=null),Ln&&(Ln.dispose(),Ln=null),qa&&(qa.dispose(),qa=null),ir&&(ir.destroy(),ir=null),kt&&(kt.destroy(),kt=null),za=null,is=null,Mo=null,wo()}async function wR(){if(ss)return;if(!Yy()){console.error("Cannot start game without loaded assets.");return}ss=!0,jn(),Qt();try{await Fy(()=>{Qt()}).then(()=>{Qt()})}catch(o){console.warn("Failed to preload Saunoja icon before starting the game",o)}let a=performance.now();function s(o){if(!ss)return;const l=o-a;a=o,hy()?wv(0):(C2.tick(l),gR(),wv(l),Uo()),Qt(),ss&&(Ci=requestAnimationFrame(s))}Ci=requestAnimationFrame(s)}function du(){let n=0;for(const a of bt)a.faction==="player"&&!a.isDead()&&(n+=1);return n}function SR(){const n={engaged:0,reserve:1,downed:2},a=ze.map(s=>{const o=xi.get(s.id),l=o?ls.get(o):void 0,u=l?!l.isDead()&&l.stats.health>0:!1,f=s.effectiveStats,h=s.baseStats,m=Math.round(l?Math.max(0,l.stats.health):Math.max(0,s.hp)),g=Math.round(l?Math.max(1,l.getMaxHealth()):Math.max(1,f.health)),p=Math.round(l?Math.max(0,l.stats.attackDamage):Math.max(0,f.attackDamage)),v=Math.round(l?Math.max(0,l.stats.attackRange):Math.max(0,f.attackRange)),b=Math.round(l?Math.max(0,l.stats.movementRange):Math.max(0,f.movementRange)),E=l?.stats.defense??f.defense??0,x=Math.round(Math.max(0,E)),T=l?l.getShield():f.shield??s.shield,D=Math.round(Math.max(0,T)),N=Math.max(0,Math.round(s.upkeep)),L=m<=0?"downed":u?"engaged":"reserve",I=f2(s),q=s.items.map(oe=>({...oe})),Z=s.modifiers.map(oe=>({...oe})),ie=cr.map(oe=>{const ne=Go(oe),F=s.equipment[oe],M=F?{id:F.id,name:F.name,description:F.description,icon:F.icon,rarity:F.rarity,quantity:F.quantity,slot:oe}:null,O=F?CR(F.modifiers,F.quantity):null;return{id:oe,label:ne.label,description:ne.description,maxStacks:ne.maxStacks,item:M,modifiers:O}}),se={health:Math.round(Math.max(0,h.health)),maxHealth:Math.round(Math.max(1,h.health)),attackDamage:Math.round(Math.max(0,h.attackDamage)),attackRange:Math.round(Math.max(0,h.attackRange)),movementRange:Math.round(Math.max(0,h.movementRange)),defense:typeof h.defense=="number"&&h.defense>0?Math.round(h.defense):void 0,shield:typeof h.shield=="number"&&h.shield>0?Math.round(h.shield):void 0};return{id:s.id,name:s.name,upkeep:N,status:L,selected:!!s.selected,traits:[...s.traits],stats:{health:m,maxHealth:g,attackDamage:p,attackRange:v,movementRange:b,defense:x>0?x:void 0,shield:D>0?D:void 0},baseStats:se,progression:I,equipment:ie,items:q,modifiers:Z}});return a.sort((s,o)=>{const l=n[s.status]-n[o.status];return l!==0?l:s.name.localeCompare(o.name,"en")}),a}function xR(){return ze.length===0?null:ze.find(n=>n.selected)??ze.find(n=>n.hp>0)??ze[0]}function CR(n,a){const s=Math.max(1,Math.round(a)),o={};return typeof n.health=="number"&&(o.health=n.health*s),typeof n.attackDamage=="number"&&(o.attackDamage=n.attackDamage*s),typeof n.attackRange=="number"&&(o.attackRange=n.attackRange*s),typeof n.movementRange=="number"&&(o.movementRange=n.movementRange*s),typeof n.defense=="number"&&(o.defense=n.defense*s),typeof n.shield=="number"&&(o.shield=n.shield*s),o}function RR(){const n=du(),a=xR();let s=null;return a&&(s={id:a.id,name:a.name||"Saunoja",traits:[...a.traits],upkeep:Math.max(0,Math.round(a.upkeep)),progression:f2(a)}),{count:n,card:s}}function Uo(n){const a=SR();za=a,kt&&kt.renderRoster(a)}function jn(){const n=RR();kt?(kt.updateSummary(n),is=null):is=n,Uo()}function BR(n){const{overlay:a,resourceBar:s}=n,o=hr(a),{regions:l}=o,u=document.createElement("div");u.className="pointer-events-none absolute inset-0 grid place-items-center bg-[radial-gradient(circle_at_top,rgba(18,28,45,0.92),rgba(6,10,18,0.94))] p-[clamp(1.5rem,4vw,3.25rem)] z-overlay";const f=document.createElement("section");f.className="pointer-events-auto relative grid w-full max-w-[min(640px,90vw)] gap-4 overflow-hidden rounded-[28px] border border-[rgba(128,168,236,0.28)] bg-[linear-gradient(145deg,rgba(31,46,74,0.95),rgba(14,20,33,0.95))] p-[clamp(1.75rem,4vw,2.5rem)] text-slate-100 shadow-[0_40px_90px_rgba(10,14,28,0.6),_inset_0_1px_0_rgba(255,255,255,0.08)]",f.setAttribute("aria-live","polite"),f.setAttribute("role","status");const h=document.createElement("h1");h.className="m-0 text-[clamp(1.6rem,3vw,2.1rem)] font-semibold uppercase tracking-[0.04em]",h.textContent="Experimental HUD Enabled",f.appendChild(h);const m=document.createElement("p");m.className="m-0 text-base leading-relaxed text-slate-100/90",m.textContent="The React/Tailwind interface is bootstrapped for this session. Gameplay systems continue to run, and classic HUD elements are paused while the new shell is under construction.",f.appendChild(m);const g=document.createElement("p");g.className="m-0 text-sm leading-relaxed text-slate-200/75",g.textContent="Toggle the experimental HUD off from the quartermaster settings to return to the classic layout.",f.appendChild(g);const p=document.createElement("div");p.className="pointer-events-none absolute -left-[30%] -top-[40%] h-[420px] w-[420px] bg-[radial-gradient(circle,rgba(90,164,255,0.35),rgba(90,164,255,0))] blur-[0.5px]",f.appendChild(p);const v=document.createElement("div");return v.className="mt-2 rounded-[18px] border border-[rgba(128,168,236,0.2)] bg-[rgba(10,16,26,0.55)] p-4 shadow-[inset_0_1px_0_rgba(255,255,255,0.05)]",v.appendChild(s),f.appendChild(v),u.appendChild(f),l.content.appendChild(u),{destroy(){v.contains(s)&&a.prepend(s),u.remove()}}}function H2(n){if(!n)return{showLoader:()=>({update:()=>{},clear:()=>{},dispose:()=>{}}),showBanner:()=>null,removeTransientUI:()=>{}};const a=()=>{let f=n.querySelector(".hud-banner-stack");return f||(f=document.createElement("div"),f.className="hud-banner-stack",n.append(f)),f},s=(f,h,m)=>{let g=!1;const p=()=>{g||(g=!0,f.removeEventListener("transitionend",p),m())};f.addEventListener("transitionend",p),requestAnimationFrame(()=>{f.classList.add(h)}),window.setTimeout(p,400)};return{showLoader:(f="Heating the sauna stones")=>{const h=document.createElement("div");h.className="hud-loader",h.setAttribute("role","status"),h.setAttribute("aria-live","polite");const m=document.createElement("div");m.className="hud-loader__card";const g=document.createElement("div");g.className="hud-loader__spinner",g.setAttribute("aria-hidden","true");const p=document.createElement("p");p.className="hud-loader__message",p.textContent=f,m.append(g,p),h.append(m),n.append(h);let v=!1;return{update(b){p.textContent=b},clear(){v||s(h,"hud-loader--hidden",()=>{v=!0,h.remove()})},dispose(){v||(v=!0,h.remove())}}},showBanner:(f,h)=>{const m=a(),g=document.createElement("section");g.className=`hud-banner hud-banner--${f}`,g.setAttribute("role",f==="error"?"alert":"status"),g.setAttribute("aria-live",f==="error"?"assertive":"polite");const p=document.createElement("header");p.className="hud-banner__header";const v=document.createElement("p");v.className="hud-banner__title",v.textContent=h.title??(f==="error"?"Attention required":f==="warning"?"Heads up":"Status update"),p.append(v);const b=document.createElement("ul");b.className="hud-banner__list";for(const D of h.messages){const N=document.createElement("li");N.textContent=D,b.append(N)}if(g.append(p),h.messages.length&&g.append(b),h.actions?.length){const D=document.createElement("div");D.className="hud-banner__actions";for(const N of h.actions){const L=document.createElement("button");L.type="button",L.className=N.variant==="secondary"?"hud-banner__button hud-banner__button--secondary":"hud-banner__button",L.textContent=N.label,L.addEventListener("click",()=>{N.onClick()}),D.append(L)}g.append(D)}let E,x=!1;const T=()=>{x||(x=!0,E&&window.clearTimeout(E),s(g,"hud-banner--hide",()=>{g.remove(),m.hasChildNodes()||m.remove()}))};if(h.dismissible!==!1){const D=document.createElement("button");D.type="button",D.className="hud-banner__close",D.setAttribute("aria-label","Dismiss notification"),D.textContent="",D.addEventListener("click",()=>{T()}),p.append(D)}return m.append(g),h.autoCloseMs&&h.autoCloseMs>0&&(E=window.setTimeout(()=>T(),h.autoCloseMs)),{element:g,dismiss:T}},removeTransientUI:()=>{n.querySelectorAll(".hud-loader").forEach(f=>{f.remove()}),n.querySelectorAll(".hud-banner-stack").forEach(f=>{f.remove()})}}}async function MR(n){const a=Object.entries(n),s=await Promise.allSettled(a.map(([f,h])=>h.load().then(m=>({key:f,descriptor:h,value:m})))),o={},l=[],u=[];return s.forEach((f,h)=>{const[m,g]=a[h],p=g.label??String(m);if(f.status==="fulfilled"){const{value:b}=f.value;if(o[m]=b.value,b.warnings?.length)for(const E of b.warnings)l.push(p?`${p}: ${E}`:E);if(b.errors?.length)for(const E of b.errors)u.push(p?`${p}: ${E}`:E);return}const v=DR(f.reason);u.push(p?`${p}: ${v}`:v)}),{resources:o,warnings:l,errors:u}}function DR(n){if(n instanceof Error)return n.message;if(typeof n=="string")return n;try{return JSON.stringify(n)}catch{return String(n)}}const TR="Heating the sauna stones",kR="Polishing sauna ambience";function HR(n){if(n instanceof Error&&n.message)return n.message;if(typeof n=="string"&&n.trim().length>0)return n;try{return JSON.stringify(n)}catch{return String(n)}}function OR(n){const a=new Set,s=f=>{a.forEach(h=>h(f))},o=n.formatError??HR;return{run:async f=>{s({type:"status",phase:"start",message:TR});try{const{resources:h,warnings:m,errors:g}=await MR({assets:{label:"Core assets",load:async()=>{const v=await n.loadAssets(n.assetPaths);return{value:v.assets,errors:v.failures}}},saunojaIcon:{label:"Saunoja icon",load:async()=>{try{return await n.preloadSaunojaIcon(),{value:!0}}catch(v){return{value:!1,warnings:[`Unable to preload Saunoja icon (${o(v)})`]}}}}});if(n.shouldAbort?.(f)){s({type:"cancelled"});return}s({type:"status",phase:"progress",message:kR});const p=h.assets;if(!p){const v=g.length?[...g]:["Critical assets were unavailable. Please refresh to try again."];s({type:"fatal",messages:v});return}if(g.length&&s({type:"errors",errors:g}),m.length&&s({type:"warnings",warnings:m}),n.setAssets(p),n.shouldAbort?.(f)){s({type:"cancelled"});return}n.startGame(),s({type:"ready",assets:p,warnings:m,errors:g})}catch(h){if(n.shouldAbort?.(f)){s({type:"cancelled"});return}s({type:"failure",error:h,message:o(h)})}},subscribe:f=>(a.add(f),()=>{a.delete(f)})}}const NR="grabbing";function PR(n,a){const s=a.dragCursor??NR;let o=!1,l=null,u=0,f=0,h=null;const m=E=>{E.pointerType!=="mouse"||E.button!==0||(o=!0,l=E.pointerId,u=E.clientX,f=E.clientY,h=n.style.cursor??"",n.setPointerCapture?.(E.pointerId),n.style.cursor=s,a.onPanStart?.(E))},g=E=>{if(!o||l!==E.pointerId)return;const x=E.clientX-u,T=E.clientY-f;u=E.clientX,f=E.clientY,a.onPan(x,T,E)},p=E=>{!o||l!==E.pointerId||(o=!1,l=null,n.releasePointerCapture?.(E.pointerId),n.style.cursor=h??"",a.onPanEnd?.(E))},v=E=>{p(E)},b=E=>{p(E)};return n.addEventListener("pointerdown",m),n.addEventListener("pointermove",g),n.addEventListener("pointerup",v),n.addEventListener("pointercancel",b),n.addEventListener("pointerleave",b),()=>{n.removeEventListener("pointerdown",m),n.removeEventListener("pointermove",g),n.removeEventListener("pointerup",v),n.removeEventListener("pointercancel",b),n.removeEventListener("pointerleave",b),o&&l!==null&&n.releasePointerCapture?.(l),n.style.cursor=h??""}}const GR=10,QR=250;function Ji(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function LR(n,a){const s=a.tapMaxMovement??GR,o=a.tapMaxDuration??QR;let l=null;const u=v=>{if(v.touches.length===1){const b=v.touches[0];l={mode:"pan",lastX:b.clientX,lastY:b.clientY,startX:b.clientX,startY:b.clientY,startTime:Ji(),moved:!1};return}if(v.touches.length>=2){const[b,E]=[v.touches[0],v.touches[1]];l={mode:"pinch",lastCenterX:(b.clientX+E.clientX)/2,lastCenterY:(b.clientY+E.clientY)/2,lastDistance:Math.hypot(b.clientX-E.clientX,b.clientY-E.clientY),startTime:Ji(),moved:!1}}},f=(v,b)=>{if(!l||l.mode!=="pan")return;const E=v.clientX-l.lastX,x=v.clientY-l.lastY;!l.moved&&Math.hypot(E,x)>1&&(l.moved=!0),l.lastX=v.clientX,l.lastY=v.clientY,a.onPan(E,x,b)},h=(v,b,E)=>{const x=(v.clientX+b.clientX)/2,T=(v.clientY+b.clientY)/2,D=Math.hypot(v.clientX-b.clientX,v.clientY-b.clientY);let N=1,L=0,I=0;l&&l.mode==="pinch"?(N=D/l.lastDistance,L=x-l.lastCenterX,I=T-l.lastCenterY):l={mode:"pinch",lastCenterX:x,lastCenterY:T,lastDistance:D,startTime:Ji(),moved:!1},!(!l||l.mode!=="pinch")&&(l.lastCenterX=x,l.lastCenterY=T,l.lastDistance=D,l.moved=!0,a.onPinch({centerX:x,centerY:T,scale:N,deltaCenterX:L,deltaCenterY:I},E))},m=v=>{if(!l||v.touches.length===0)return;if(v.preventDefault(),v.touches.length===1){const x=v.touches[0];l.mode!=="pan"&&(l={mode:"pan",lastX:x.clientX,lastY:x.clientY,startX:x.clientX,startY:x.clientY,startTime:Ji(),moved:!0}),f(x,v);return}const[b,E]=[v.touches[0],v.touches[1]];h(b,E,v)},g=()=>!l||l.mode!=="pan"||Math.hypot(l.lastX-l.startX,l.lastY-l.startY)>s?!1:Ji()-l.startTime<=o,p=v=>{if(l){if(v.touches.length===0){l.mode==="pan"&&a.onTap&&g()&&a.onTap({x:l.startX,y:l.startY},v),l=null;return}if(v.touches.length===1){const b=v.touches[0];l={mode:"pan",lastX:b.clientX,lastY:b.clientY,startX:b.clientX,startY:b.clientY,startTime:Ji(),moved:!0};return}if(v.touches.length>=2){const[b,E]=[v.touches[0],v.touches[1]];l={mode:"pinch",lastCenterX:(b.clientX+E.clientX)/2,lastCenterY:(b.clientY+E.clientY)/2,lastDistance:Math.hypot(b.clientX-E.clientX,b.clientY-E.clientY),startTime:Ji(),moved:!0}}}};return n.addEventListener("touchstart",u,{passive:!1}),n.addEventListener("touchmove",m,{passive:!1}),n.addEventListener("touchend",p),n.addEventListener("touchcancel",p),()=>{n.removeEventListener("touchstart",u),n.removeEventListener("touchmove",m),n.removeEventListener("touchend",p),n.removeEventListener("touchcancel",p),l=null}}const UR=.5,jR=3.5;function Sh(n,a,s,o,l){const u=n.getBoundingClientRect(),f=a-u.left,h=s-u.top,m=u.width/2,g=u.height/2;return{x:l.x+(f-m)/o,y:l.y+(h-g)/o}}function zR(n){return Math.min(jR,Math.max(UR,n))}function O2(n,a,s,o=Se.zoom,l=Se){return Sh(n,a,s,o,l)}function N2(n,a,s,o){const l=zR(o);if(l===Se.zoom)return;const u={x:Se.x,y:Se.y},f=Sh(n,a,s,Se.zoom,u),h=Sh(n,a,s,l,u);Se.x+=f.x-h.x,Se.y+=f.y-h.y,Se.zoom=l,Qt()}function Jf(n,a){n===0&&a===0||(Se.x-=n/Se.zoom,Se.y-=a/Se.zoom,Qt())}function IR(n){const a=window.devicePixelRatio||1,s=Math.max(window.innerWidth,1),o=Math.max(window.innerHeight,1);n.style.width=`${s}px`,n.style.height=`${o}px`,n.width=Math.round(s*a),n.height=Math.round(o*a);const l=n.getContext("2d");l&&l.setTransform(1,0,0,1,0,0),Qt()}const FR=.0015,xh=[];let um=0,Xa=null,fu=H2(null),Nt=null,Wf="classic",Ch=null;function qR(){if(typeof document>"u")return;const n=document.querySelector("[data-build-commit]");if(!n)return;const a="56ae1f7".trim(),s=a.length>0&&a!=="unknown",o=s?`#${a}`:"DEV BUILD";n.textContent=o,n.dataset.state=s?"commit":"dev";const l=n.closest("#build-id");if(l){const u=s?`Build commit ${a}`:"Development build";l.setAttribute("aria-label",u),l.title=s?`Autobattles build ${a}`:"Unversioned development build",l.dataset.buildState=s?"release":"development"}}qR();function Ia(n){xh.push(n)}function XR(){for(;xh.length;){const n=xh.pop();try{n?.()}catch(a){console.error("Error during cleanup",a)}}}function YR(n){Ia(()=>n.dispose())}function Sc(n,a){const s=fu.showBanner(n,a);s&&Ia(()=>s.dismiss())}function _R(n){switch(n.type){case"status":if(n.phase==="start"){Nt?.dispose();const a=fu.showLoader(n.message);Nt=a,YR(a)}else Nt&&(Nt.update(n.message),Nt.clear(),Nt=null);break;case"ready":Nt?.clear(),Nt=null;break;case"warnings":n.warnings.length&&(console.warn("Resource loader warnings",n.warnings),Sc("warning",{title:"Heads up",messages:n.warnings,autoCloseMs:12e3}));break;case"errors":n.errors.length&&(console.error("Resource loader errors",n.errors),Sc("error",{title:"Some resources failed to load",messages:n.errors,actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}]}));break;case"fatal":console.error("Critical assets failed to load",n.messages),Nt?.clear(),Nt=null,Sc("error",{title:"Unable to start the sauna battle",messages:n.messages,actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}],dismissible:!1});break;case"failure":console.error("Failed to initialize resources",n.error),Nt?.clear(),Nt=null,Sc("error",{title:"Failed to initialize",messages:[n.message],actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}]});break;case"cancelled":Nt?.dispose(),Nt=null;break}}const P2=OR({assetPaths:r4,loadAssets:Y1,preloadSaunojaIcon:Fy,setAssets:o4,startGame:wR,shouldAbort:n=>n!==um});P2.subscribe(_R);function Sv(n){if(!Xa)return;n.preventDefault();const a=Math.exp(-n.deltaY*FR),s=Se.zoom*a;N2(Xa,n.clientX,n.clientY,s)}function xv(n){if(!Xa)return;const a=O2(Xa,n.clientX,n.clientY);D2(a)}function KR(n){n.addEventListener("click",xv),Ia(()=>n.removeEventListener("click",xv)),n.addEventListener("wheel",Sv,{passive:!1}),Ia(()=>n.removeEventListener("wheel",Sv));const a=PR(n,{onPan:(o,l)=>{Jf(o,l)},dragCursor:"grabbing"});Ia(a);const s=LR(n,{onPan:(o,l)=>{Jf(o,l)},onPinch:({centerX:o,centerY:l,scale:u,deltaCenterX:f,deltaCenterY:h})=>{N2(n,o,l,Se.zoom*u),Jf(f,h)},onTap:o=>{const l=O2(n,o.x,o.y);D2(l)}});Ia(s)}function VR(){um+=1,XR(),Ch?.destroy(),Ch=null,Nt?.dispose(),Nt=null,Xa&&(Xa.style.cursor=""),Xa=null,fu.removeTransientUI(),wh()}function ZR(){const n=document.getElementById("game-canvas"),a=document.getElementById("resource-bar"),s=document.getElementById("ui-overlay");if(!n||!a||!s){console.error("Autobattles4xFinsauna shell is missing the required canvas, overlay, or resource bar elements.",{hasCanvas:!!n,hasResourceBar:!!a,hasOverlay:!!s});return}Xa&&VR();const o=++um;Wf=$y().useUiV2?"v2":"classic",Xa=n,fu=H2(s);const u=WS();Ia(()=>u.dispose()),eR(n,a,s,{hudVariant:Wf}),Wf==="v2"&&(Ch=BR({overlay:s,resourceBar:a})),KR(n);const f=()=>IR(n);window.addEventListener("resize",f),Ia(()=>window.removeEventListener("resize",f)),window.addEventListener("beforeunload",wh),Ia(()=>window.removeEventListener("beforeunload",wh)),f(),import.meta.vitest||P2.run(o)}function JR(){if(typeof document>"u")return;const n=()=>{document.removeEventListener("DOMContentLoaded",n),ZR()};if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",n);return}n()}import.meta.vitest||JR();
