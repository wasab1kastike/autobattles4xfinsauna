(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();class ri{listeners=new Map;on(t,n){const s=this.listeners.get(t)??[];s.push(n),this.listeners.set(t,s)}off(t,n){const s=this.listeners.get(t);if(!s)return;const o=s.indexOf(n);o!==-1&&(s.splice(o,1),s.length===0?this.listeners.delete(t):this.listeners.set(t,s))}emit(t,n){const s=this.listeners.get(t);if(s)for(const o of s)o(n)}}const B=new ri;class ms{type="farm";cost=50;beerPerTick=1}class To{type="barracks";cost=100;trainingCapacity=1}const xo=Math.sqrt(3),ko=[{q:1,r:0},{q:1,r:-1},{q:0,r:-1},{q:-1,r:0},{q:-1,r:1},{q:0,r:1}];function me(e,t){return{x:t*xo*(e.q+e.r/2),y:t*(3/2)*e.r}}function kt(e,t,n){const s=(xo/3*e-.3333333333333333*t)/n,o=2/3*t/n;return{q:s,r:o}}function ii(e,t,n){return ai(kt(e,t,n))}function mn(e){return ko.map(t=>({q:e.q+t.q,r:e.r+t.r}))}function jt(e,t){const n=-e.q-e.r,s=-t.q-t.r;return Math.max(Math.abs(e.q-t.q),Math.abs(e.r-t.r),Math.abs(n-s))}function ai(e){let t=e.q,n=e.r,s=-t-n,o=Math.round(t),r=Math.round(s),i=Math.round(n);const a=Math.abs(o-t),c=Math.abs(r-s),l=Math.abs(i-n);return a>c&&a>l?o=-r-i:c>l?r=-o-i:i=-o-r,{q:o,r:i}}const An=new Set;let dn=32;function ci(e){return`${e.q},${e.r}`}function Vn(e,t){dn=t,An.add(ci(e))}function li(e){if(An.size===0)return{center:{x:0,y:0},zoom:1};const t=dn*Math.sqrt(3),n=dn*2,s=t/2,o=n/2;let r=1/0,i=1/0,a=-1/0,c=-1/0;for(const P of An){const[N,M]=P.split(",").map(Number),{x:w,y:D}=me({q:N,r:M},dn),z=w-s,S=D-o;r=Math.min(r,z),i=Math.min(i,S),a=Math.max(a,z+t),c=Math.max(c,S+n)}const l=a-r,d=c-i,u=96,f={x:r+l/2,y:i+d/2},h=Math.max(0,Math.min(e.safeRight??0,e.width)),m=Math.max(e.width-h,1)/(l+u*2),g=e.height/(d+u*2),p=Math.min(m,g);return{center:{x:p>0?f.x-h/(2*p):f.x,y:f.y},zoom:p}}const O={x:0,y:0,zoom:1};function di(e,t=300){const n=O.x,s=O.y,o=O.zoom,r=typeof performance<"u"?performance.now():Date.now(),i=a=>{const c=Math.min((a-r)/t,1);O.x=n+(e.center.x-n)*c,O.y=s+(e.center.y-s)*c,O.zoom=o+(e.zoom-o)*c,c<1&&(typeof requestAnimationFrame<"u"?requestAnimationFrame(i):setTimeout(()=>i(typeof performance<"u"?performance.now():Date.now()),16))};typeof requestAnimationFrame<"u"?requestAnimationFrame(i):setTimeout(()=>i(typeof performance<"u"?performance.now():Date.now()),0)}function ui(){An.clear()}async function fi(e){const t={},n={},s=[],o=Object.entries(e.images??{}).map(([i,a])=>new Promise(c=>{const l=new Image;l.onload=()=>{t[i]=l,c()},l.onerror=()=>{const d=`Failed to load image: ${a}`;console.error(d),s.push(d),c()},l.src=a})),r=Object.entries(e.sounds??{}).map(([i,a])=>new Promise(c=>{const l=new Audio;l.oncanplaythrough=()=>{n[i]=l,c()},l.onerror=()=>{const d=`Failed to load sound: ${a}`;console.error(d),s.push(d),c()},l.src=a,l.load()}));return await Promise.all([...o,...r]),{assets:{images:t,sounds:n},failures:s}}function hi(e){if(typeof globalThis.localStorage>"u")return;const t=globalThis.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(n){console.warn(`Failed to parse data for "${e}", clearing`,n),globalThis.localStorage.removeItem(e);return}}const jo="progression:ngPlusState",Qo=5,Oo=1831565813,un=Object.freeze({runSeed:0,ngPlusLevel:0,unlockSlots:0});function Ho(){if(typeof window>"u")return null;try{return window.localStorage??null}catch(e){return console.warn("Local storage unavailable for NG+ state",e),null}}function Qs(e,t,n){const s=Number.isFinite(e)?e:Number(e);if(!Number.isFinite(s))return t;const o=Math.trunc(s);return Math.min(n,Math.max(t,o))}function Ro(e){const t=Number.isFinite(e)?e:Number(e);return!Number.isFinite(t)||t===0?0:Math.trunc(Math.abs(t))}function Go(e=Math.random){let t=e();(!Number.isFinite(t)||t<=0||t>=1)&&(t=Math.random());const n=Math.floor(t*4294967295);return n===0?Oo:n}function Ie(e={}){const t=un,n=Ro(e.runSeed??t.runSeed),s=Qs(e.ngPlusLevel??t.ngPlusLevel,0,Number.MAX_SAFE_INTEGER),o=Qs(e.unlockSlots??t.unlockSlots,0,Qo);return{runSeed:n,ngPlusLevel:s,unlockSlots:o}}function Ee(e,t=Math.random){const n=Ie(e);return n.runSeed!==0?n:Ie({...n,runSeed:Go(t)})}function mi(e=Math.random){const t=Ho();if(!t)return Ee(un,e);const n=t.getItem(jo);if(!n)return Ee(un,e);try{const s=JSON.parse(n);return Ee(Ie(s),e)}catch(s){return console.warn("Failed to parse NG+ state",s),Ee(un,e)}}function _n(e){const t=Ho();if(!t)return;const n=Ie(e);t.setItem(jo,JSON.stringify(n))}function Ai(e,t){const n=Ie(e),s=typeof t.random=="function"?t.random:Math.random;let o=n.ngPlusLevel,r=n.unlockSlots;if(t.outcome==="win"){o+=1;const a=Math.max(0,Math.trunc(t.bonusUnlocks??1));a>0&&(r=Math.min(Qo,r+a))}const i=Go(s);return Ee(Ie({runSeed:i,ngPlusLevel:o,unlockSlots:r}),s)}function gi(e){const t=Math.max(0,e.ngPlusLevel),n=Math.max(0,e.unlockSlots)*.02;return Math.min(3,1+t*.12+n)}function pi(e){const t=Math.max(0,e.ngPlusLevel),n=Math.max(0,e.unlockSlots)*.01,s=.1+t*.05+n;return Math.max(0,Math.min(.85,s))}function yi(e){const t=Math.max(0,e.ngPlusLevel);return Math.max(.5,1+t*.25)}function Mi(e){return Math.max(1,1+Math.max(0,e.unlockSlots))}function Os(e,t=0){let n=Ro(e)^(t|0);return n===0&&(n=Oo^(t|0)),()=>{n=n+1831565813|0;let s=Math.imul(n^n>>>15,1|n);return s^=s+Math.imul(s^s>>>7,61|s),((s^s>>>14)>>>0)/4294967296}}function Gn(e){return`${e.q},${e.r}`}const Uo={farm:()=>new ms,barracks:()=>new To};function wi(e){return Uo[e]?.()}var E=(e=>(e.SAUNA_BEER="sauna-beer",e.SAUNAKUNNIA="saunakunnia",e.SISU="sisu",e))(E||{});const _t={"sauna-beer":1,saunakunnia:0,sisu:0};class bi{constructor(t,n="gameState"){this.tickInterval=t,this.storageKey=n}resources={"sauna-beer":0,saunakunnia:0,sisu:0};passiveGeneration={..._t};lastSaved=Date.now();buildings={};buildingPlacements=new Map;policies=new Set;nightWorkSpeedMultiplier=1;ngPlus=Ie();tick(){Object.keys(this.passiveGeneration).forEach(t=>{this.addResource(t,this.passiveGeneration[t])})}save(){this.lastSaved=Date.now();const t={};this.buildingPlacements.forEach((s,o)=>{t[o]=s.type});const n={resources:this.resources,lastSaved:this.lastSaved,buildings:this.buildings,buildingPlacements:t,policies:Array.from(this.policies),passiveGeneration:{...this.passiveGeneration},nightWorkSpeedMultiplier:this.nightWorkSpeedMultiplier,ngPlus:this.ngPlus};localStorage.setItem(this.storageKey,JSON.stringify(n))}load(t){const n=hi(this.storageKey);if(!n)return this.lastSaved=Date.now(),!1;this.resources={...this.resources,...n.resources??{}},Object.keys(this.resources).forEach(c=>{Number.isFinite(this.resources[c])||(this.resources[c]=0)});const s={};Object.entries(n.buildings??{}).forEach(([c,l])=>{Uo[c]&&(s[c]=l)}),this.buildings=s,this.buildingPlacements.clear(),n.buildingPlacements&&Object.entries(n.buildingPlacements).forEach(([c,l])=>{const d=wi(l);if(!d)return;this.buildingPlacements.set(c,d);const[u,f]=c.split(",").map(Number);if(t){const h=t.ensureTile(u,f);h.placeBuilding(d.type),h.reveal(),Vn({q:u,r:f},t.hexSize)}B.emit("buildingPlaced",{building:d,coord:{q:u,r:f},state:this})}),this.lastSaved=n.lastSaved??Date.now();const o=n.ngPlus?Ie(n.ngPlus):this.ngPlus;if(this.ngPlus=Ee(o),this.policies=new Set,this.passiveGeneration={..._t},this.nightWorkSpeedMultiplier=1,(Array.isArray(n.policies)?n.policies.filter(c=>typeof c=="string"):[]).forEach(c=>{this.policies.add(c)}),this.policies.forEach(c=>{B.emit("policyApplied",{policy:c,state:this})}),n.passiveGeneration){const c={..._t};Object.keys(_t).forEach(l=>{const d=n.passiveGeneration?.[l];typeof d=="number"&&Number.isFinite(d)&&(c[l]=d)}),this.passiveGeneration=c}typeof n.nightWorkSpeedMultiplier=="number"&&Number.isFinite(n.nightWorkSpeedMultiplier)&&(this.nightWorkSpeedMultiplier=n.nightWorkSpeedMultiplier);const i=Date.now()-this.lastSaved,a=Math.floor(i/this.tickInterval);return Object.keys(this.passiveGeneration).forEach(c=>{this.resources[c]+=a*this.passiveGeneration[c]}),!0}getResource(t){return this.resources[t]}canAfford(t,n="sauna-beer"){return this.resources[n]>=t}spendResource(t,n="sauna-beer"){return this.spend(t,n)}spend(t,n="sauna-beer"){return this.canAfford(t,n)?(this.resources[n]-=t,B.emit("resourceChanged",{resource:n,amount:-t,total:this.resources[n]}),!0):!1}addResource(t,n){this.resources[t]+=n,B.emit("resourceChanged",{resource:t,amount:n,total:this.resources[t]})}modifyPassiveGeneration(t,n){this.passiveGeneration[t]=(this.passiveGeneration[t]??0)+n}construct(t,n,s="sauna-beer"){return this.spend(n,s)?(this.buildings[t]=(this.buildings[t]??0)+1,!0):!1}placeBuilding(t,n,s,o="sauna-beer"){const r=s.getTile(n.q,n.r);return!r||r.building||!this.construct(t.type,t.cost,o)?!1:(this.buildingPlacements.set(Gn(n),t),r.placeBuilding(t.type),B.emit("buildingPlaced",{building:t,coord:n,state:this}),!0)}getBuildingAt(t){return this.buildingPlacements.get(Gn(t))}removeBuilding(t,n){const s=Gn(t),o=this.buildingPlacements.get(s);return o?(this.buildingPlacements.delete(s),n.getTile(t.q,t.r)?.placeBuilding(null),this.buildings[o.type]!==void 0&&(this.buildings[o.type]-=1,this.buildings[o.type]<=0&&delete this.buildings[o.type]),B.emit("buildingRemoved",{building:o,coord:t,state:this}),!0):!1}upgrade(t,n,s="sauna-beer"){return this.construct(`upgrade:${t}`,n,s)}applyPolicy(t,n,s="saunakunnia"){return this.spend(n,s)?(this.policies.add(t),B.emit("policyApplied",{policy:t,state:this}),!0):!1}hasPolicy(t){return this.policies.has(t)}getNgPlusState(){return{...this.ngPlus}}setNgPlusState(t){const n=Ie({...this.ngPlus,...t});return this.ngPlus=Ee(n),this.ngPlus}}class vi{constructor(t,n){this.baseInterval=t,this.onTick=n}timer=null;speed=1;lastTick=0;accumulator=0;start(){this.stop(),this.lastTick=Date.now();const t=this.baseInterval/this.speed;this.timer=setInterval(()=>{const n=Date.now(),s=n-this.lastTick;this.lastTick=n,this.onTick(s)},t)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}setSpeed(t){if(t<=0)throw new Error("Speed multiplier must be positive");this.speed=t,this.timer!==null&&this.start()}getSpeed(){return this.speed}getBaseInterval(){return this.baseInterval}tick(t){for(this.accumulator+=t*this.speed;this.accumulator>=this.baseInterval;)this.accumulator-=this.baseInterval,this.onTick(this.baseInterval)}}var ce=(e=>(e[e.Plains=0]="Plains",e[e.Forest=1]="Forest",e[e.Hills=2]="Hills",e[e.Lake=3]="Lake",e))(ce||{});function Ei(e,t,n){let s=e*374761393+t*668265263+n*0x14057b7ef7678100;return s=(s^s>>13)*1274126177,s^=s>>16,(s>>>0)/4294967295}function Si(e,t,n=0){const s=Ei(e,t,n);return s<.1?3:s<.3?1:s<.5?2:0}class Bi{_terrain;_building;_isFogged;listeners=new Set;constructor(t=ce.Plains,n=null,s=!0){this._terrain=t,this._building=n,this._isFogged=s}get terrain(){return this._terrain}set terrain(t){this._terrain!==t&&(this._terrain=t,this.notify("terrain"))}get building(){return this._building}set building(t){this._building!==t&&(this._building=t,this.notify("building"))}get isFogged(){return this._isFogged}set isFogged(t){this._isFogged!==t&&(this._isFogged=t,this.notify("fog"))}reveal(){this.isFogged=!1}placeBuilding(t){this.building=t}setFogged(t){this.isFogged=t}addMutationListener(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notify(t){for(const n of this.listeners)n(t)}}class Pi{constructor(t=10,n=10,s=32,o=0){this.hexSize=s,this.seed=o,this.minQ=0,this.minR=0,this.maxQ=t-1,this.maxR=n-1}tiles=new Map;tileSubscriptions=new Map;changeListeners=new Set;minQ;maxQ;minR;maxR;get width(){return this.maxQ-this.minQ+1}get height(){return this.maxR-this.minR+1}key(t,n){return`${t},${n}`}addTileChangeListener(t){return this.changeListeners.add(t),()=>this.changeListeners.delete(t)}notifyTileChange(t,n,s){for(const o of this.changeListeners)o(t,n,s)}attachTileListener(t,n,s){const o=n.addMutationListener(r=>{this.notifyTileChange(s,n,r)});this.tileSubscriptions.set(t,o)}ensureTile(t,n){const s=this.key(t,n);let o=this.tiles.get(s);return o||(o=new Bi(Si(t,n,this.seed)),this.tiles.set(s,o),this.minQ=Math.min(this.minQ,t),this.maxQ=Math.max(this.maxQ,t),this.minR=Math.min(this.minR,n),this.maxR=Math.max(this.maxR,n),this.attachTileListener(s,o,{q:t,r:n}),this.notifyTileChange({q:t,r:n},o,"created"),o.isFogged||Vn({q:t,r:n},this.hexSize)),o}getTile(t,n){return this.tiles.get(this.key(t,n))}forEachTile(t){for(const[n,s]of this.tiles){const[o,r]=n.split(",").map(Number);t(s,{q:o,r})}}getNeighbors(t,n){return mn({q:t,r:n}).map(s=>this.ensureTile(s.q,s.r))}revealAround(t,n){for(let r=-n;r<=n;r++){const i=Math.max(-n,-r-n),a=Math.min(n,-r+n);for(let c=i;c<=a;c++){const l={q:t.q+r,r:t.r+c};this.ensureTile(l.q,l.r).reveal(),Vn(l,this.hexSize)}}const s=typeof window<"u"?(()=>{const r=Math.max(window.innerWidth,0),i=Math.max(window.innerHeight,0);let a=0;if(typeof document<"u"){const l=document.getElementById("right-panel");if(l){const d=l.getBoundingClientRect();if(d.width>0){const u=l.closest("#ui-overlay");if(u){const f=u.getBoundingClientRect(),h=window.getComputedStyle(u),A=Number.parseFloat(h.paddingRight||"0"),m=f.right-d.left,g=d.width+(Number.isFinite(A)?A:0);a=Math.max(0,Math.max(m,g))}else a=Math.max(0,d.width)}}}const c=Math.min(Math.max(a,0),r);return{width:r,height:i,safeRight:c}})():{width:0,height:0,safeRight:0},o=li(s);di(o,300)}}const Ko=({policy:e,state:t})=>{e==="eco"&&(t.modifyPassiveGeneration(E.SAUNA_BEER,1),B.off("policyApplied",Ko))},Xo=({policy:e,state:t})=>{e==="temperance"&&(t.nightWorkSpeedMultiplier*=1.05,B.off("policyApplied",Xo))},Yo=({policy:e,state:t})=>{e==="steam-diplomats"&&(t.modifyPassiveGeneration(E.SAUNA_BEER,2),B.off("policyApplied",Yo))};B.on("policyApplied",Ko);B.on("policyApplied",Xo);B.on("policyApplied",Yo);const Ii="modulepreload",zi=function(e){return"/"+e},Hs={},Ci=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");o=c(n.map(l=>{if(l=zi(l),l in Hs)return;Hs[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Ii,d||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((h,A)=>{f.addEventListener("load",h),f.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&r(a.reason);return t().catch(r)})},Di=({building:e,coord:t,state:n})=>{e instanceof ms?n.modifyPassiveGeneration(E.SAUNA_BEER,e.beerPerTick):e instanceof To&&Ci(async()=>{const{spawnUnit:s}=await Promise.resolve().then(()=>ma);return{spawnUnit:s}},void 0).then(({spawnUnit:s})=>{s(n,"soldier",`barracks-${t.q}-${t.r}`,t,"player")})},Ni=({building:e,state:t})=>{e instanceof ms&&t.modifyPassiveGeneration(E.SAUNA_BEER,-e.beerPerTick)};B.on("buildingPlaced",Di);B.on("buildingRemoved",Ni);const Un={attack:`
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
  `,death:`
UklGRkZWAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YSJWAAAAAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkS
PRSdFfoWUhinGfcaQxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgsCC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2
NzeeN/w3UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0v
YS59LZEsniujKqEpmCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcC
vQBD/8n9UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLkGePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/T
g9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTI
YsjJyDnJssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbp
Y+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMc
ih3MHgkgQSFzIp8jxSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5
QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgo
iSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QNdAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3
cvb+9IzzHPKu8EPv2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3bqtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN
78xFzKPLCst6yvPJdckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/GgMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL
88uZzEjN/82/zofPWNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPy
RPS49S33o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk
5SX+JhEoHikjKiErGCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5
dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEwPS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYg
ax8sHuccnhtQGv0YphdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rt
dewT67TpWugD57DlYuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJ
AMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQ
MNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39
hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkSPRSdFfoWUhinGfcaQxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgs
CC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2NzeeN/w3UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4
zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0vYS59LZEsniujKqEpmCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYX
TBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLk
GePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH
1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTIYsjJyDnJssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW
79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbpY+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H
0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMcih3MHgkgQSFzIp8jxSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEy
uDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0
XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgoiSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QN
dAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3cvb+9IzzHPKu8EPv2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3b
qtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN78xFzKPLCst6yvPJdckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/G
gMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL88uZzEjN/82/zofPWNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e
99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR
2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEoHikjKiErGCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42
xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEw
PS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYgax8sHuccnhtQGv0YphdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbAD
NwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rtdewT67TpWugD57DlYuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLU
b9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJAMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DH
BMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7n
Bulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkSPRSdFfoWUhinGfca
QxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgsCC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2NzeeN/w3UDibONw4
EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0vYS59LZEsniujKqEp
mCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/5
6Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLkGePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ788iz17O
o83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTIYsjJyDnJssk1ysHK
Vcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbpY+rD6yftju7472Tx
0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMcih3MHgkgQSFzIp8j
xSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5
ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgoiSdyJlYlMyQKI9oh
piBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QNdAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3cvb+9IzzHPKu8EPv
2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3bqtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN78xFzKPLCst6yvPJ
dckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/GgMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL88uZzEjN/82/zofP
WNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7
Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEoHikjKiEr
GCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4
JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEwPS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYgax8sHuccnhtQGv0Y
phdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rtdewT67TpWugD57Dl
YuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJAMmUyDLI2ceKx0TH
B8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V
4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39hv4AAHoB8wJtBOUF
XQfTCEgKvAstDZwOCBByEdkSPRSdFfoWUhinGfcaQxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgsCC3wLdAuqC95MEEx
ATK4MmczDTSrND81yzVONsc2NzeeN/w3UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY1
9jRdNLszETNdMqIx3jARMD0vYS59LZEsniujKqEpmCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP
5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLkGePU4ZXgWt8m3vbc
zduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH1carxozGdsZqxmjG
b8aAxpvGv8btxiTHZcewxwTIYsjJyDnJssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW79cC2RvaO9th3I3d
v9733zThduK94wnlWeau5wbpY+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQ
chHZEj0UnRX6FlIYpxn3GkMcih3MHgkgQSFzIp8jxSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1
TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4w
ETA9L2EufS2RLJ4royqhKZgoiSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QNdAwCC44JGAihBikF
sAM3Ar0AQ//J/VD81/pf+ej3cvb+9IzzHPKu8EPv2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3bqtqO2XfYaNdf1l3V
YtRv04PSn9HD0O/PIs9ezqPN78xFzKPLCst6yvPJdckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/GgMabxr/G7cYkx2XH
sMcEyGLIycg5ybLJNcrBylXL88uZzEjN/82/zofPWNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e99804XbiveMJ5Vnm
rucG6WPqw+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ
9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEoHikjKiErGCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42xzY3N543/DdQOJs4
3DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEwPS9hLn0tkSyeK6Mq
oSmYKIknciZWJTMkCiPaIaYgax8sHuccnhtQGv0YphdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6
X/no93L2/vSM8xzyrvBD79rtdewT67TpWugD57DlYuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLP
Xs6jze/MRcyjywrLesrzyXXJAMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXK
wcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjv
ZPHT8kT0uPUt96P4G/qT+w39hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkSPRSdFfoWUhinGfcaQxyKHcweCSBBIXMi
nyPFJOUl/iYRKB4pIyohKxgsCC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2NzeeN/w3UDibONw4EzlBOWU5gDmROZg5
ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0vYS59LZEsniujKqEpmCiJJ3ImViUzJAoj
2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/56Pdy9v70jPMc8q7w
Q+/a7XXsE+u06VroA+ew5WLkGePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK
88l1yQDJlMgyyNnHisdExwfH1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTIYsjJyDnJssk1ysHKVcvzy5nMSM3/zb/O
h89Y0DDRENL40ujT39Td1eLW79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbpY+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6
k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMcih3MHgkgQSFzIp8jxSTlJf4mESgeKSMq
ISsYLAgt8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4
djgnOM43bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgoiSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa
/RimF0wW7RSLEyYSvRBSD+QNdAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3cvb+9IzzHPKu8EPv2u117BPrtOla6APn
sOVi5Bnj1OGV4FrfJt723M3bqtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN78xFzKPLCst6yvPJdckAyZTIMsjZx4rH
RMcHx9XGq8aMxnbGasZoxm/GgMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL88uZzEjN/82/zofPWNAw0RDS+NLo09/U
3dXi1u/XAtkb2jvbYdyN3b/e99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7Df2G/gAAegHzAm0E
5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEoHikjKiErGCwILfAt0C6oL3kw
QTEBMrgyZzMNNKs0PzXLNU42xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02
hjX2NF00uzMRM10yojHeMBEwPS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYgax8sHuccnhtQGv0YphdMFu0UixMmEr0Q
Ug/kDXQMAguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rtdewT67TpWugD57DlYuQZ49ThleBa3ybe
9tzN26rajtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJAMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrG
aMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hc
jd2/3vffNOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwO
CBByEdkSPRSdFfoWUhinGfcaQxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgsCC3wLdAuqC95MEExATK4MmczDTSrND81
yzVONsc2NzeeN/w3UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY19jRdNLszETNdMqIx
3jARMD0vYS59LZEsniujKqEpmCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP5A10DAILjgkYCKEG
KQWwAzcCvQBD/8n9UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLkGePU4ZXgWt8m3vbczduq2o7Zd9ho11/W
XdVi1G/Tg9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH1carxozGdsZqxmjGb8aAxpvGv8btxiTH
ZcewxwTIYsjJyDnJssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW79cC2RvaO9th3I3dv9733zThduK94wnl
Weau5wbpY+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQchHZEj0UnRX6FlIY
pxn3GkMcih3MHgkgQSFzIp8jxSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4
mzjcOBM5QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4r
oyqhKZgoiSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QNdAwCC44JGAihBikFsAM3Ar0AQ//J/VD8
1/pf+ej3cvb+9IzzHPKu8EPv2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3bqtqO2XfYaNdf1l3VYtRv04PSn9HD0O/P
Is9ezqPN78xFzKPLCst6yvPJdckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/GgMabxr/G7cYkx2XHsMcEyGLIycg5ybLJ
NcrBylXL88uZzEjN/82/zofPWNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e99804XbiveMJ5VnmrucG6WPqw+sn7Y7u
+O9k8dPyRPS49S33o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEh
cyKfI8Uk5SX+JhEoHikjKiErGCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5
mDmWOYo5dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEwPS9hLn0tkSyeK6MqoSmYKIknciZWJTMk
CiPaIaYgax8sHuccnhtQGv0YphdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzy
rvBD79rtdewT67TpWugD57DlYuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/MRcyjywrL
esrzyXXJAMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/N
v86Hz1jQMNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4
G/qT+w39hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkSPRSdFfoWUhinGfcaQxyKHcweCSBBIXMinyPFJOUl/iYRKB4p
IyohKxgsCC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2NzeeN/w3UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4
vDh2OCc4zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0vYS59LZEsniujKqEpmCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4b
UBr9GKYXTBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXsE+u06Vro
A+ew5WLkGePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK88l1yQDJlMgyyNnH
isdExwfH1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTIYsjJyDnJssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT
39Td1eLW79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbpY+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMC
bQTlBV0H0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMcih3MHgkgQSFzIp8jxSTlJf4mESgeKSMqISsYLAgt8C3QLqgv
eTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2
DTaGNfY0XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgoiSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW7RSLEyYS
vRBSD+QNdAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3cvb+9IzzHPKu8EPv2u117BPrtOla6APnsOVi5Bnj1OGV4Frf
Jt723M3bqtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN78xFzKPLCst6yvPJdckAyZTIMsjZx4rHRMcHx9XGq8aMxnbG
asZoxm/GgMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL88uZzEjN/82/zofPWNAw0RDS+NLo09/U3dXi1u/XAtkb2jvb
YdyN3b/e99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0N
nA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEoHikjKiErGCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0
PzXLNU42xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00uzMRM10y
ojHeMBEwPS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYgax8sHuccnhtQGv0YphdMFu0UixMmEr0QUg/kDXQMAguOCRgI
oQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rtdewT67TpWugD57DlYuQZ49ThleBa3ybe9tzN26rajtl32GjX
X9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJAMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3G
JMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hcjd2/3vffNOF24r3j
CeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkSPRSdFfoW
UhinGfcaQxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgsCC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2NzeeN/w3
UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0vYS59LZEs
niujKqEpmCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9
UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLkGePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ
788iz17Oo83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTIYsjJyDnJ
ssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbpY+rD6yft
ju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMcih3MHgkg
QSFzIp8jxSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5
kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgoiSdyJlYl
MyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QNdAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3cvb+9Izz
HPKu8EPv2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3bqtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN78xFzKPL
Cst6yvPJdckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/GgMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL88uZzEjN
/82/zofPWNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPyRPS49S33
o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEo
HikjKiErGCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5
+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEwPS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYgax8sHucc
nhtQGv0YphdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rtdewT67Tp
WugD57DlYuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJAMmUyDLI
2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS
6NPf1N3V4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39hv4AAHoB
8wJtBOUFXQfTCEgKvAstDZwOCBByEdkSPRSdFfoWUhinGfcaQxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgsCC3wLdAu
qC95MEExATK4MmczDTSrND81yzVONsc2NzeeN/w3UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3
izYNNoY19jRdNLszETNdMqIx3jARMD0vYS59LZEsniujKqEpmCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsT
JhK9EFIP5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLkGePU4ZXg
Wt8m3vbczduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH1carxozG
dsZqxmjGb8aAxpvGv8btxiTHZcewxwTIYsjJyDnJssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW79cC2Rva
O9th3I3dv9733zThduK94wnlWeau5wbpY+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwL
LQ2cDggQchHZEj0UnRX6FlIYpxn3GkMcih3MHgkgQSFzIp8jxSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEyuDJnMw00
qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0XTS7MxEz
XTKiMd4wETA9L2EufS2RLJ4royqhKZgoiSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QNdAwCC44J
GAihBikFsAM3Ar0AQ//J/VD81/pf+ej3cvb+9IzzHPKu8EPv2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3bqtqO2XfY
aNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN78xFzKPLCst6yvPJdckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/GgMabxr/G
7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL88uZzEjN/82/zofPWNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e99804Xbi
veMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V
+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEoHikjKiErGCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42xzY3N543
/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEwPS9hLn0t
kSyeK6MqoSmYKIknciZWJTMkCiPaIaYgax8sHuccnhtQGv0YphdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbADNwK9AEP/
yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rtdewT67TpWugD57DlYuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLUb9OD0p/R
w9DvzyLPXs6jze/MRcyjywrLesrzyXXJAMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnI
OcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7nBulj6sPr
J+2O7vjvZPHT8kT0uPUt96P4G/qT+w39hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkSPRSdFfoWUhinGfcaQxyKHcwe
CSBBIXMinyPFJOUl/iYRKB4pIyohKxgsCC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2NzeeN/w3UDibONw4EzlBOWU5
gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0vYS59LZEsniujKqEpmCiJJ3Im
ViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/56Pdy9v70
jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLkGePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ788iz17Oo83vzEXM
o8sKy3rK88l1yQDJlMgyyNnHisdExwfH1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTIYsjJyDnJssk1ysHKVcvzy5nM
SM3/zb/Oh89Y0DDRENL40ujT39Td1eLW79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbpY+rD6yftju7472Tx0/JE9Lj1
Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMcih3MHgkgQSFzIp8jxSTlJf4m
ESgeKSMqISsYLAgt8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5ijl0OVU5
Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgoiSdyJlYlMyQKI9ohpiBrHywe
5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QNdAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3cvb+9IzzHPKu8EPv2u117BPr
tOla6APnsOVi5Bnj1OGV4FrfJt723M3bqtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN78xFzKPLCst6yvPJdckAyZTI
MsjZx4rHRMcHx9XGq8aMxnbGasZoxm/GgMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL88uZzEjN/82/zofPWNAw0RDS
+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7Df2G/gAA
egHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEoHikjKiErGCwILfAt
0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4JzjON2w3
ADeLNg02hjX2NF00uzMRM10yojHeMBEwPS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYgax8sHuccnhtQGv0YphdMFu0U
ixMmEr0QUg/kDXQMAguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rtdewT67TpWugD57DlYuQZ49Th
leBa3ybe9tzN26rajtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJAMmUyDLI2ceKx0THB8fVxqvG
jMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V4tbv1wLZ
G9o722Hcjd2/3vffNOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39hv4AAHoB8wJtBOUFXQfTCEgK
vAstDZwOCBByEdkSPRSdFfoWUhinGfcaQxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgsCC3wLdAuqC95MEExATK4Mmcz
DTSrND81yzVONsc2NzeeN/w3UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY19jRdNLsz
ETNdMqIx3jARMD0vYS59LZEsniujKqEpmCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP5A10DAIL
jgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLkGePU4ZXgWt8m3vbczduq2o7Z
d9ho11/WXdVi1G/Tg9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH1carxozGdsZqxmjGb8aAxpvG
v8btxiTHZcewxwTIYsjJyDnJssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW79cC2RvaO9th3I3dv9733zTh
duK94wnlWeau5wbpY+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQchHZEj0U
nRX6FlIYpxn3GkMcih3MHgkgQSFzIp8jxSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3
njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4wETA9L2Eu
fS2RLJ4royqhKZgoiSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QNdAwCC44JGAihBikFsAM3Ar0A
Q//J/VD81/pf+ej3cvb+9IzzHPKu8EPv2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3bqtqO2XfYaNdf1l3VYtRv04PS
n9HD0O/PIs9ezqPN78xFzKPLCst6yvPJdckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/GgMabxr/G7cYkx2XHsMcEyGLI
ycg5ybLJNcrBylXL88uZzEjN/82/zofPWNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e99804XbiveMJ5VnmrucG6WPq
w+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIod
zB4JIEEhcyKfI8Uk5SX+JhEoHikjKiErGCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42xzY3N543/DdQOJs43DgTOUE5
ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEwPS9hLn0tkSyeK6MqoSmYKIkn
ciZWJTMkCiPaIaYgax8sHuccnhtQGv0YphdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2
/vSM8xzyrvBD79rtdewT67TpWugD57DlYuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/M
RcyjywrLesrzyXXJAMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PL
mcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0
uPUt96P4G/qT+w39hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkSPRSdFfoWUhinGfcaQxyKHcweCSBBIXMinyPFJOUl
/iYRKB4pIyohKxgsCC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2NzeeN/w3UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5
VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0vYS59LZEsniujKqEpmCiJJ3ImViUzJAoj2iGmIGsf
LB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXs
E+u06VroA+ew5WLkGePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK88l1yQDJ
lMgyyNnHisdExwfH1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTIYsjJyDnJssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDR
ENL40ujT39Td1eLW79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbpY+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+
AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMcih3MHgkgQSFzIp8jxSTlJf4mESgeKSMqISsYLAgt
8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43
bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgoiSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW
7RSLEyYSvRBSD+QNdAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3cvb+9IzzHPKu8EPv2u117BPrtOla6APnsOVi5Bnj
1OGV4FrfJt723M3bqtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN78xFzKPLCst6yvPJdckAyZTIMsjZx4rHRMcHx9XG
q8aMxnbGasZoxm/GgMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL88uZzEjN/82/zofPWNAw0RDS+NLo09/U3dXi1u/X
Atkb2jvbYdyN3b/e99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MI
SAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEoHikjKiErGCwILfAt0C6oL3kwQTEBMrgy
ZzMNNKs0PzXLNU42xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00
uzMRM10yojHeMBEwPS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYgax8sHuccnhtQGv0YphdMFu0UixMmEr0QUg/kDXQM
AguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rtdewT67TpWugD57DlYuQZ49ThleBa3ybe9tzN26ra
jtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJAMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDG
m8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hcjd2/3vff
NOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkS
PRSdFfoWUhinGfcaQxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgsCC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2
NzeeN/w3UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0v
YS59LZEsniujKqEpmCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcC
vQBD/8n9UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLkGePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/T
g9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTI
YsjJyDnJssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbp
Y+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMc
ih3MHgkgQSFzIp8jxSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5
QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgo
iSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QNdAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3
cvb+9IzzHPKu8EPv2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3bqtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN
78xFzKPLCst6yvPJdckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/GgMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL
88uZzEjN/82/zofPWNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPy
RPS49S33o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk
5SX+JhEoHikjKiErGCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5
dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEwPS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYg
ax8sHuccnhtQGv0YphdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rt
dewT67TpWugD57DlYuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJ
AMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQ
MNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39
hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkSPRSdFfoWUhinGfcaQxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgs
CC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2NzeeN/w3UDibONw4EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4
zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0vYS59LZEsniujKqEpmCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYX
TBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/56Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLk
GePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ788iz17Oo83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH
1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTIYsjJyDnJssk1ysHKVcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW
79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbpY+rD6yftju7472Tx0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H
0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMcih3MHgkgQSFzIp8jxSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEy
uDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0
XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgoiSdyJlYlMyQKI9ohpiBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QN
dAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3cvb+9IzzHPKu8EPv2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3b
qtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN78xFzKPLCst6yvPJdckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/G
gMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL88uZzEjN/82/zofPWNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e
99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR
2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEoHikjKiErGCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42
xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEw
PS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYgax8sHuccnhtQGv0YphdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbAD
NwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rtdewT67TpWugD57DlYuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLU
b9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJAMmUyDLI2ceKx0THB8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DH
BMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7n
Bulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39hv4AAHoB8wJtBOUFXQfTCEgKvAstDZwOCBByEdkSPRSdFfoWUhinGfca
QxyKHcweCSBBIXMinyPFJOUl/iYRKB4pIyohKxgsCC3wLdAuqC95MEExATK4MmczDTSrND81yzVONsc2NzeeN/w3UDibONw4
EzlBOWU5gDmROZg5ljmKOXQ5VTkrOfk4vDh2OCc4zjdsNwA3izYNNoY19jRdNLszETNdMqIx3jARMD0vYS59LZEsniujKqEp
mCiJJ3ImViUzJAoj2iGmIGsfLB7nHJ4bUBr9GKYXTBbtFIsTJhK9EFIP5A10DAILjgkYCKEGKQWwAzcCvQBD/8n9UPzX+l/5
6Pdy9v70jPMc8q7wQ+/a7XXsE+u06VroA+ew5WLkGePU4ZXgWt8m3vbczduq2o7Zd9ho11/WXdVi1G/Tg9Kf0cPQ788iz17O
o83vzEXMo8sKy3rK88l1yQDJlMgyyNnHisdExwfH1carxozGdsZqxmjGb8aAxpvGv8btxiTHZcewxwTIYsjJyDnJssk1ysHK
Vcvzy5nMSM3/zb/Oh89Y0DDRENL40ujT39Td1eLW79cC2RvaO9th3I3dv9733zThduK94wnlWeau5wbpY+rD6yftju7472Tx
0/JE9Lj1Lfej+Bv6k/sN/Yb+AAB6AfMCbQTlBV0H0whICrwLLQ2cDggQchHZEj0UnRX6FlIYpxn3GkMcih3MHgkgQSFzIp8j
xSTlJf4mESgeKSMqISsYLAgt8C3QLqgveTBBMQEyuDJnMw00qzQ/Ncs1TjbHNjc3njf8N1A4mzjcOBM5QTllOYA5kTmYOZY5
ijl0OVU5Kzn5OLw4djgnOM43bDcAN4s2DTaGNfY0XTS7MxEzXTKiMd4wETA9L2EufS2RLJ4royqhKZgoiSdyJlYlMyQKI9oh
piBrHywe5xyeG1Aa/RimF0wW7RSLEyYSvRBSD+QNdAwCC44JGAihBikFsAM3Ar0AQ//J/VD81/pf+ej3cvb+9IzzHPKu8EPv
2u117BPrtOla6APnsOVi5Bnj1OGV4FrfJt723M3bqtqO2XfYaNdf1l3VYtRv04PSn9HD0O/PIs9ezqPN78xFzKPLCst6yvPJ
dckAyZTIMsjZx4rHRMcHx9XGq8aMxnbGasZoxm/GgMabxr/G7cYkx2XHsMcEyGLIycg5ybLJNcrBylXL88uZzEjN/82/zofP
WNAw0RDS+NLo09/U3dXi1u/XAtkb2jvbYdyN3b/e99804XbiveMJ5VnmrucG6WPqw+sn7Y7u+O9k8dPyRPS49S33o/gb+pP7
Df2G/gAAegHzAm0E5QVdB9MISAq8Cy0NnA4IEHIR2RI9FJ0V+hZSGKcZ9xpDHIodzB4JIEEhcyKfI8Uk5SX+JhEoHikjKiEr
GCwILfAt0C6oL3kwQTEBMrgyZzMNNKs0PzXLNU42xzY3N543/DdQOJs43DgTOUE5ZTmAOZE5mDmWOYo5dDlVOSs5+Ti8OHY4
JzjON2w3ADeLNg02hjX2NF00uzMRM10yojHeMBEwPS9hLn0tkSyeK6MqoSmYKIknciZWJTMkCiPaIaYgax8sHuccnhtQGv0Y
phdMFu0UixMmEr0QUg/kDXQMAguOCRgIoQYpBbADNwK9AEP/yf1Q/Nf6X/no93L2/vSM8xzyrvBD79rtdewT67TpWugD57Dl
YuQZ49ThleBa3ybe9tzN26rajtl32GjXX9Zd1WLUb9OD0p/Rw9DvzyLPXs6jze/MRcyjywrLesrzyXXJAMmUyDLI2ceKx0TH
B8fVxqvGjMZ2xmrGaMZvxoDGm8a/xu3GJMdlx7DHBMhiyMnIOcmyyTXKwcpVy/PLmcxIzf/Nv86Hz1jQMNEQ0vjS6NPf1N3V
4tbv1wLZG9o722Hcjd2/3vffNOF24r3jCeVZ5q7nBulj6sPrJ+2O7vjvZPHT8kT0uPUt96P4G/qT+w39hv4=
  `,sisu:`
UklGRrh4AABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YZR4AAAAAAAAAQADAAUACAAMABAAFQAZAB4AJAApAC4A
MgA3ADsAPgBBAEQARQBGAEYARgBFAEMAQAA9ADkANQAwACsAJgAhABsAFgARAA0ACQAFAAIAAAD+//z//P/7//v//P/9////
AAABAAMABAAFAAYABgAFAAQAAQD+//n/8//s/+P/2f/N/8D/sv+j/5P/gv9x/1//Tf87/yr/Gf8J//r+7P7h/tf+z/7K/sj+
yP7L/tL+2/7n/vf+Cv8f/zj/U/9w/5D/sf/U//j/HABBAGcAjACwANMA9QAUATIBTQFlAXoBiwGZAaQBqwGuAa4BqgGjAZgB
iwF6AWcBUwE8ASQBCgHwANYAvACiAIoAcgBcAEcANAAkABUACQAAAPn/9P/x//D/8P/y//b/+v///wMACAAMAA8AEQARABAA
DAAFAP3/8f/i/9D/uv+i/4f/af9I/yX/Af/b/rT+jf5m/j/+Gv72/dX9tv2c/YX9cv1l/V39W/1e/Wj9eP2O/av9zf32/ST+
WP6Q/s3+Df9R/5f/3/8nAHEAugACAUcBigHKAQYCPQJuApoCwALgAvkCCwMWAxoDGAMPAwED7ALSArMCjwJoAj4CEgLjAbQB
hAFVAScB+gDQAKgAgwBiAEQAKgAUAAMA9v/t/+f/5P/l/+j/7f/0//z/AwALABIAGAAcAB0AGwAWAAwA///t/9X/uf+Y/3P/
SP8a/+j+sv56/j/+A/7H/Yr9T/0V/d/8rPx9/FT8MfwV/AH89fvx+/b7Bfwd/D78afyd/Nr8IP1t/cL9Hf59/uL+S/+2/yIA
jwD8AGYBzgExApAC6AI5A4MDxAP8AysEUARrBHwEgwSABHQEXwRBBBsE7wO8A4MDRwMGA8QCfwI6AvYBswFyATUB+wDFAJUA
aQBDACQACQD2/+f/3v/Z/9n/3f/k/+3/9/8CAA0AGAAgACYAKAAnACAAFAACAOv/zf+o/3z/Sv8S/9T+kf5J/v39r/1e/Qz9
u/xr/B380/uO+0/7F/vn+sD6o/qR+ov6kfqj+sH67Pok+2j7uPsT/Hn86Pxg/d/9Zf7w/n7/DQCdAC0BugFEAsgCRQO7AycE
igThBC0FbAWeBcQF3AXnBeUF1wW8BZcFZwUuBewEpARVBAIEqwNSA/gCnwJHAvIBoQFVAQ4BzQCUAGEANwATAPj/5P/W/8//
zv/R/9n/5P/y/wAADgAbACcALwAzADIALAAeAAkA7f/J/5z/Zv8p/+P+l/5D/ur9i/0p/cT8Xvz4+5P7MfvT+nv6K/rj+aX5
c/lN+TT5Kvku+UL5ZvmZ+dz5LvqP+v/6e/sE/Jj8Nf3a/YX+Nf/o/5sATgH+AakCTgPrA38EBwWDBfIFUgajBuQGFQc1B0YH
Rgc3BxkH7Qa1BnAGIQbJBWkFAwWZBCsEvQNPA+MCeQIVArYBXQENAcQAhABOACEA/v/j/9D/xv/C/8b/zv/b/+v//P8NAB4A
LAA3AD4APgA3ACkAEgDy/8j/lP9V/w3/vP5h/v79lP0k/a/8Nvy7+0D7xvpQ+t75dPkR+bn4bfgt+P333PfN98/34/cK+ET4
kfjw+GH54/l1+hb7xPt+/EH9DP7e/rP/iABeATAC/gLEA4EEMwXZBW8G9gZsB88HIAheCIkIoAikCJUIdQhECAQItQdZB/IG
ggYKBo0FDAWJBAcEhgMIA5ACHgKzAVIB+gCsAGoAMgAFAOT/zP+9/7j/uv/C/9D/4v/2/woAHwAxAD8ARwBJAEQANQAcAPn/
yv+Q/0r/+P6b/jP+wv1I/cb8P/yz+yT7lPoG+nv59vh3+AP4mfc+9/H2tfaL9nX2c/aH9rD27/ZE9673LfjB+Gf5Hvrl+rr7
m/yG/Xf+bv9lAF0BUwJCAyoECAXZBZsGTQftB3kI8QhTCZ8J1Qn0Cf0J8QnPCZoJUwn7CJQIIAigBxgHiAb0BV0FxgQwBJ4D
EgONAhACnQE2AdoAigBHABAA5//J/7b/rf+u/7b/xf/Z//D/BwAeADMARQBQAFUAUABBACgAAgDQ/5D/Q//o/oH+Df6O/QX9
cvzZ+zr7mPr0+VH5svgY+Ib3//aE9hj2vfV19UH1I/Uc9S31V/Wa9fX1afb19pj3Ufge+f357Prp+/H8A/4a/zMATQFlAncD
gAR+BW8GTwcdCNcIegkHCnwK1woZC0ILUQtICycL8AqjCkQK0glRCcMIKgiJB+IGOAaMBeMEPAScAwMDdALvAXcBDAGvAGAA
HwDt/8j/sP+k/6L/qv+5/87/5/8BABwANQBKAFgAXwBcAE4ANAANANj/lP9A/97+bf7u/WL9yvwo/H37zPoX+l/5qPj190f3
ofYG9nr1/fST9D30/vPX88rz1/MA9EX0pvQi9bn1avY09xX4CvkS+ir7UPyA/bf+8v8tAWcCmwPGBOUF9Qb0B94IswlvChIL
mgsGDFYMigyhDJwMfQxEDPQLjQsSC4YK6glCCZAI1wcZB1oGnAXiBC0EgQPeAkgCvwFEAdkAfQAyAPf/yv+s/5z/l/+e/63/
w//e//z/GQA1AE0AXwBpAGgAXABCABoA4/+a/0L/2P5e/tX9Pf2X/Ob7K/to+qD51fgL+EP3gPbH9Rn1evTs83HzDvPC8pHy
ffKF8qzy8fJV89jzefQ39RH2BPcO+C75YPqi++/8Rv6h//0AWQKuA/sEOwZsB4kIkQmBClcLEQyuDCwNiw3KDeoN7A3QDZcN
RA3XDFUMvgsWC18KnQnSCAIILwddBo4FxgQFBFADpwINAoIBCAGfAEgAAgDO/6r/lP+N/5H/oP+3/9T/9P8UADMATwBlAHIA
dABpAFAAKADv/6T/R//X/lX+w/0f/W38rfvj+g/6NflX+Hj3nPbG9fj0N/SE8+TyWvLn8Y7xUvE18TfxWvGf8QXyjfI38wD0
5/Tr9Qr3QPiL+ef6UvzG/UL/vwA7ArIDIQWCBtMHEAk2CkILMgwEDbcNSA63DgMPLg83Dx8P6A6TDiIOmQ34DEUMgAuuCtMJ
8AgLCCUHQgZlBZEEyQMNA2ECxgE9AcYAYgASANX/qv+P/4P/hf+T/6r/yP/q/w0AMQBQAGkAeQB/AHYAXwA3AP7/sP9P/9r+
Uv62/Qn9Svx9+6P6v/nT+OP38fYB9hb1NfRf85ry5/FM8cnwYvAa8PPv7u8M8E/wtvBC8fHxxPK488z0/fVI96v4Ifqn+zn9
1P5xAA4CpwM2BbkGKgiHCcwK9QsADesNtA5ZD9oPNRBrEH0QaxA2EOEPbQ/eDjUOdw2mDMUL2QrlCe0I9Af9Bg0GJQVIBHoD
vAIQAnYB8QCBACYA3/+s/4v/ev96/4b/nf+8/+D/BgAsAE8AbACAAIkAgwBuAEcADAC//1v/4f5T/q/9+Pwv/FX7bfp5+Xz4
efd19nH1cvR985PyuvH18EfwtO8/7+rut+6p7sLuAe9n7/XvqvCF8YXyp/Pp9Ej2wPdP+fD6n/xX/hQA0gGLAzwF4AZyCO8J
UwuaDMENxg6mD2AQ8xBfEaIRvRGyEYERLRG4ECQQdA+sDs8N4QzlC+EK1gnKCMAHuwa/Bc8E7gMdA18CtgEiAaQAPQDs/7D/
iP9z/27/ef+P/67/1P/+/yYATQBuAIYAkgCQAH0AVwAeAM//af/s/lj+rv3u/Br8NPs/+jz5Lvga9wP27PTa89Dy0vHl8A3w
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
YADiAFIBpwHYAdwBrAE/AZIAoP9m/uH8Evv7+J/2AfQo8Rvu4uqH5xXkl+AZ3afZUNYe0yHQY83yytjIIMfUxfzEnsTBxGjF
lcZIyIHKPM110CXURNjK3Krh2eZK7O7xuPeX/XsDVwkbD7YUGho6HwkkeiiELB0wPTPeNf03lTmoOjQ7PTvIOtk5eDitNoI0
AjI4LzEs+SidJSoirR4yG8UXchRDEUEOdQvlCJcGjwTQAloBLgBK/6r+Sv4j/jD+aP7C/jb/uf9BAMQAOQGVAc4B3QG5AVsB
vgDe/7b+RP2I+4X5O/ev9Ofx6u6/62/oB+WP4RXepNpL1xTUDtFFzsXLmcnNx2rGeMX/xATFi8WYxivIQsrdzPXPhdOG1+/b
tODL5SbruPBy9kb8IQL5B7oNWBPCGOsdxiJHJ2MrES9IMgM1PDfxOCA6yjrxOpg6xTl/OM42uzRRMpsvpSx7KSsmwSJKH9Mb
ZxgSFd8R1g4BDGcJDQf4BCoDpgFrAHn/yv5d/ir+LP5a/q3+G/+b/yIApgAfAYABwgHbAcQBdAHnABYAAf+i/fr7CfrS91j1
ofK075fsVOn15YXiD9+g20XYCtX80SjPmsxeyn7IBMf5xWXFTcW2xaPGFcgMyoXMfc/t0tDWHNvG38TkCeqI7zL1+frLAJwG
XAz7EWoXnByDIRImQCoCLlAxJDR3Nkg4kzlaOp46YjqrOYA46TbvNJsy+S8ULfoptiZWI+YfchwIGbIVexJsD48M6gmFB2MF
iAP1AasAqv/u/nL+M/4q/k7+mv4C/37/AwCIAAMBagG0AdcBywGJAQsBSwBH//v9ZvyI+mT4/PVX83nwa+006t/md+MH4Jrc
PtkA1uvSDdByzSXLMsmix3/G0cWcxefFtcYHyN3JNcwNz17SIdZQ2t/exOPz6F7u9/Ow+Xr/QwUAC58QExZMGz4g2yQaKfAs
VDA/M601mTcAOeQ5RTomOos5fDj/Nhw13zJSMH8tdSo+J+gjfyAQHagZURYXEwIQHg1wCv8H0AXoA0cC7wDf/xT/i/4//ir+
Rf6I/ur+Yf/l/2oA5wBTAaQB0AHPAZsBKwF8AIr/T/7N/AL78fic9gj0OvE67hHrx+dn5Pzgk9032vXW2tPz0EvO78vqyUXI
C8dCxvLFH8bOxgDItsnuy6TO1tF71YzZAN7L4uPnOe3B8mz4K/7tA6YJRQ+8FPwZ+B6jI/In2itUL1cy3jTkNmg4aDnmOeM5
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
gNXv1sHY89qB3WfgneMc59vq0u718jv3
  `},Fo={click:{loader:e=>Ti(e),debounceMs:30},spawn:{loader:e=>xi(e),debounceMs:120},error:{loader:e=>ki(e)},attack:{loader:e=>Kn(Un.attack,e),debounceMs:70},death:{loader:e=>Kn(Un.death,e),debounceMs:180},sisu:{loader:e=>Kn(Un.sisu,e),debounceMs:800}};let je=null,Qt=null;const Rs=new Map,$t=new Map,Gs=new Map;let ze=!1;typeof localStorage<"u"&&(ze=localStorage.getItem("sfx-muted")==="true");const $n=new Set;function Li(){for(const e of $n)e(ze)}function Jo(e){if(Qt)return Qt;const t=e.createGain();return t.gain.value=ze?0:1,t.connect(e.destination),Qt=t,t}function As(e,t,n){const s=Math.floor(e.sampleRate*t),o=e.createBuffer(1,s,e.sampleRate),r=o.getChannelData(0);for(let i=0;i<s;i++){const a=i/e.sampleRate;r[i]=n(a)}return o}function Ti(e){return As(e,.05,t=>Math.sin(2*Math.PI*1e3*t)*Math.exp(-40*t))}function xi(e){return As(e,.2,t=>(Math.sin(2*Math.PI*440*t)+Math.sin(2*Math.PI*660*t))*.5*Math.exp(-6*t))}function ki(e){return As(e,.3,t=>Math.sin(2*Math.PI*110*t)*Math.exp(-8*t))}function ji(e){const t=globalThis;if(typeof t.atob=="function"){const n=t.atob(e),s=n.length,o=new Uint8Array(s);for(let r=0;r<s;r++)o[r]=n.charCodeAt(r);return o}if(t.Buffer){const n=t.Buffer.from(e,"base64"),s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n[o];return s}throw new Error("No base64 decoder available for sound payloads.")}async function Kn(e,t){const n=ji(e),s=n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);return await t.decodeAudioData(s)}function Xt(){if(je||typeof window>"u")return je;const e=window.AudioContext||window.webkitAudioContext;if(!e)return console.warn("Web Audio API not supported"),null;try{je=new e,Jo(je)}catch(t){return console.warn("Unable to create AudioContext",t),je=null,null}if(je.state==="suspended"){const t=()=>{je?.resume()};window.addEventListener("pointerdown",t,{once:!0}),window.addEventListener("keydown",t,{once:!0})}return je}function Qi(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function Oi(e){const t=Rs.get(e);if(t)return Promise.resolve(t);const n=$t.get(e);if(n)return n;const s=Xt();if(!s)return Promise.reject(new Error("Audio context unavailable"));const o=Fo[e];if(!o)return Promise.reject(new Error(`No sound registered for ${e}`));const r=Promise.resolve(o.loader(s)).then(i=>(Rs.set(e,i),$t.delete(e),i)).catch(i=>{throw $t.delete(e),i});return $t.set(e,r),r}function Ce(e){if(ze)return;const t=Fo[e];if(!t)return;const n=Qi(),s=t.debounceMs??0,o=Gs.get(e)??0;s>0&&n-o<s||(Gs.set(e,n),Oi(e).then(r=>{if(ze)return;const i=Xt();if(!i)return;const a=Jo(i),c=i.createBufferSource();c.buffer=r,c.connect(a);try{c.start()}catch(l){console.warn("Unable to start sound",l)}}).catch(r=>{r instanceof Error&&r.message==="Audio context unavailable"||console.warn("Failed to play sound",e,r)}))}function es(){return ze}function Hi(e){ze=e,Qt&&(Qt.gain.value=ze?0:1),typeof localStorage<"u"&&localStorage.setItem("sfx-muted",ze?"true":"false"),Li()}function Ri(e){return $n.add(e),()=>{$n.delete(e)}}typeof document<"u"&&document.addEventListener("click",e=>{e.target instanceof HTMLButtonElement&&Ce("click")});Xt();const Us="__autobattlesAudioEvents__",Ks=globalThis;Ks[Us]||(B.on("unitDamaged",e=>{!e||e.amount<=0||Ce("attack")}),B.on("unitDied",()=>{Ce("death")}),B.on("sisuBurstStart",()=>{Ce("sisu")}),Ks[Us]=!0);function Gi(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function Ui(e){const t={};if(!e)return t;for(const[n,s]of Object.entries(e))typeof s=="function"&&(t[n]=s);return t}class Ki{constructor(t=B){this.emitter=t}modifiers=new Map;hookIndex=new Map;listeners=new Map;add(t){if(typeof t.id!="string"||t.id.length===0)throw new Error("Modifier id must be a non-empty string");if((typeof t.duration!="number"||!Number.isFinite(t.duration))&&t.duration!==1/0)throw new Error("Modifier duration must be a positive number or Infinity");if(Number.isFinite(t.duration)&&t.duration<=0)throw new Error("Modifier duration must be greater than zero");const n=Ui(t.hooks),s=Gi();this.modifiers.has(t.id)&&this.remove(t.id,"replaced");const o={...t,hooks:n,remaining:t.duration,appliedAt:s};this.modifiers.set(o.id,o),this.indexHooks(o);const r={runtime:this,modifier:o};return t.onApply?.(r),this.emit("modifierAdded",{modifier:o}),this.emitter?.emit("modifierAdded",{modifier:o}),Number.isFinite(o.remaining)&&o.remaining<=0&&this.remove(o.id,"expired"),o}has(t){return this.modifiers.has(t)}list(){return Array.from(this.modifiers.values()).map(t=>({...t,hooks:{...t.hooks}}))}remove(t,n="manual"){const s=this.modifiers.get(t);if(!s)return!1;this.modifiers.delete(t),this.unindexHooks(s);const o={runtime:this,modifier:s,reason:n};return s.onExpire?.(o),n==="expired"&&(this.emit("modifierExpired",{modifier:s}),this.emitter?.emit("modifierExpired",{modifier:s})),this.emit("modifierRemoved",{modifier:s,reason:n}),this.emitter?.emit("modifierRemoved",{modifier:s,reason:n}),!0}advance(t){if(typeof t!="number"||t<=0)return;const n=[];for(const s of this.modifiers.values())Number.isFinite(s.remaining)&&(s.remaining=Math.max(0,s.remaining-t),s.remaining<=0&&n.push(s.id));for(const s of n)this.remove(s,"expired")}trigger(t,n){const s=this.hookIndex.get(t);if(!s||s.size===0)return;const o=Array.from(s);for(const r of o){const i=this.modifiers.get(r);if(!i){s.delete(r);continue}const a=i.hooks[t];if(!a){s.delete(r);continue}a(n,{runtime:this,modifier:i})}}clear(){const t=Array.from(this.modifiers.keys());for(const n of t)this.remove(n,"manual")}on(t,n){const s=this.listeners.get(t)??new Set;s.add(n),this.listeners.set(t,s)}off(t,n){const s=this.listeners.get(t);s&&(s.delete(n),s.size===0&&this.listeners.delete(t))}emit(t,n){const s=this.listeners.get(t);if(!(!s||s.size===0))for(const o of Array.from(s))o(n)}indexHooks(t){for(const n of Object.keys(t.hooks)){const s=this.hookIndex.get(n)??new Set;s.add(t.id),this.hookIndex.set(n,s)}}unindexHooks(t){for(const n of Object.keys(t.hooks)){const s=this.hookIndex.get(n);s&&(s.delete(t.id),s.size===0&&this.hookIndex.delete(n))}}}const Nn=new Ki,Xi=e=>Nn.add(e),Yi=(e,t="manual")=>Nn.remove(e,t),Fi=e=>{Nn.advance(e)},en=(e,t)=>{Nn.trigger(e,t)};class Ji{constructor(t,n,s){this.owner=t,this.entries=n,this.log=s}runTick(t,n){for(const{definition:s,state:o}of this.entries){if(!s.onTick)continue;const r=s.onTick({owner:this.owner,state:o,self:t,opponent:n}),i=Ve(r?.shieldDamage??0);if(i>0){const c=Math.min(t.shield,i);c>0&&(t.shield-=c,this.log.tickShieldDamage+=c)}const a=Ve(r?.hpDamage??0);if(a>0){const c=Math.min(t.health,a);c>0&&(t.health-=c,this.log.tickHpDamage+=c)}}}grantShield(t,n){let s=0;for(const{definition:o,state:r}of this.entries){if(!o.onGrantShield)continue;const i=Ve(o.onGrantShield({owner:this.owner,state:r,self:t,opponent:n})??0);i>0&&(s+=i)}return s>0&&(t.shield+=s,this.log.shieldGranted+=s),s}consumeShield(t,n,s){let o=Ve(t);if(o<=0)return 0;let r=0;for(const{definition:i,state:a}of this.entries){if(!i.onConsumeShield||o<=0)continue;const c=Ve(i.onConsumeShield({owner:this.owner,state:a,self:n,opponent:s,amount:o})??0);if(c<=0)continue;const l=Math.min(o,c);r+=l,o-=l}return r>0&&(this.log.shieldConsumed+=r),r}applyHit(t,n,s){if(t<=0)return 0;let o=0;for(const{definition:a,state:c}of this.entries){if(!a.onHit)continue;const l=Ve(a.onHit({owner:this.owner,state:c,self:n,opponent:s,hpDamage:t})??0);l>0&&(o+=l)}if(o<=0)return 0;const r=Math.max(0,n.maxHealth-n.health);if(r<=0)return 0;const i=Math.min(r,o);return i>0&&(n.health+=i,this.log.lifesteal+=i),i}getShieldValue(){let t=0;for(const{definition:n,state:s}of this.entries){if(!n.onGrantShield||s.keyword!=="Shield")continue;const o=ts(s);if(o<=0)continue;const r=Math.max(0,Number.isFinite(s.stacks)?s.stacks:0);r<=0||(t+=r*o)}return t}}function qi(){return{attacker:Ys(),defender:Ys()}}function Xs(e,t,n){const s=Zi(e);if(s.length===0)return null;const o=[];for(const r of s){const i=qo.get(r.keyword);i&&o.push({state:r,definition:i})}return o.length===0?null:new Ji(t,o,n)}const qo=new Map;function Ln(e,t){qo.set(e,t)}function Ys(){return{tickHpDamage:0,tickShieldDamage:0,shieldGranted:0,shieldConsumed:0,lifesteal:0,keywordShieldRemaining:0}}function Ve(e){return typeof e!="number"||!Number.isFinite(e)?0:e>0?e:0}function mt(e){return typeof e!="number"||!Number.isFinite(e)?0:e>0?e:0}function Yt(e){return typeof e!="number"||!Number.isFinite(e)?0:e>0?e:0}function Zi(e){if(!e)return[];const t=[],n=e;if(typeof n[Symbol.iterator]=="function"){for(const s of n){const o=Fs(s);o&&t.push(o)}return t}if(typeof e=="object")for(const s of Object.values(e)){const o=Fs(s);o&&t.push(o)}return t}function Fs(e){if(!e||typeof e!="object")return null;const t=e;if(!Object.prototype.hasOwnProperty.call(t,"stacks"))return null;const n=Wi(t.keyword);if(!n)return null;const s=t;return s.keyword=n,s.stacks=mt(s.stacks),Object.prototype.hasOwnProperty.call(t,"potency")&&s.potency!==void 0&&(s.potency=Yt(s.potency)),s}function Wi(e){if(typeof e!="string")return null;switch(e.trim().toLowerCase()){case"bleed":return"Bleed";case"burn":return"Burn";case"lifesteal":case"life-steal":return"Lifesteal";case"shield":return"Shield";default:return null}}function ts(e){const t=e.potency!==void 0?Yt(e.potency):1;return t>0?t:0}function Vi(e){if(e.potency!==void 0){const s=Yt(e.potency);return s>0?s:0}const t=mt(e.stacks);if(t<=0)return 0;const n=t*.2;return n>0?n:0}Ln("Bleed",{onTick({state:e,self:t}){const n=mt(e.stacks);if(n<=0||t.health<=0){e.stacks=n;return}const s=e.potency!==void 0?Yt(e.potency):1,o=n*s;if(o<=0)return;const r=Math.min(t.health,o);return e.stacks=Math.max(0,n-1),{hpDamage:r}}});Ln("Burn",{onTick({state:e,self:t}){const n=mt(e.stacks);if(n<=0){e.stacks=n;return}const s=e.potency!==void 0?Yt(e.potency):1,o=n*s;if(o<=0)return;const r=Math.min(t.shield,o),i=o-r,a=Math.min(t.health,i);return e.stacks=Math.max(0,n-1),{shieldDamage:r,hpDamage:a}}});Ln("Shield",{onGrantShield({state:e}){const t=mt(e.stacks);if(t<=0)return e.stacks=t,0;const n=t*ts(e);return n>0?n:0},onConsumeShield({state:e,amount:t}){const n=mt(e.stacks);if(n<=0)return e.stacks=0,0;const s=ts(e);if(s<=0)return e.stacks=0,0;const o=n*s;if(o<=0)return e.stacks=0,0;const r=Math.min(o,Ve(t)),i=r/s;return e.stacks=Math.max(0,n-i),r>0?r:0}});Ln("Lifesteal",{onHit({state:e,hpDamage:t}){if(t<=0)return 0;const n=Vi(e);if(n<=0)return 0;const s=t*n;return s>0?s:0}});function fe(e){return Number.isFinite(e)?Math.max(0,e):0}function Js(e,t){const n=fe(t?.health??e?.health??0),s=fe(t?.shield??e?.shield??0);return{id:e?.id??"unknown",faction:e?.faction,health:n,maxHealth:e?.maxHealth,shield:s}}function qs(e){if(!e)return!1;const t=e;return typeof t.onHit=="function"||typeof t.onKill=="function"||Array.isArray(t.onHit)||Array.isArray(t.onKill)}function Zs(e){return e?Array.isArray(e)?e.filter(t=>typeof t=="function"):typeof e=="function"?[e]:[]:[]}function _i(e){if(!e)return[];if(typeof e[Symbol.iterator]=="function"){const n=[];for(const s of e)qs(s)&&n.push(s);return n}return Object.values(e).filter(n=>qs(n))}function tn(e,t,n){if(!e)return;const s=Zs(e.hooks?.[t]);for(const r of s)r(n);const o=_i(e.keywords);for(const r of o)for(const i of Zs(r[t]))i(n)}function Ws(e){const t=fe(e?.health??0),n=fe(e?.maxHealth??t);return{health:t,maxHealth:Math.max(n,t),shield:fe(e?.shield??0)}}function $i(){return{health:0,maxHealth:0,shield:0}}function ea(e){const t=e.attacker??null,n=e.defender,s=e.baseDamage,o=fe(e.minimumDamage??1),r=Number.isFinite(s)?fe(s):fe(t?.attack??0),i=fe(n.defense??0),a=qi(),c=Ws(n),l=t?Ws(t):null,d=Xs(n.keywords??null,"defender",a.defender),u=t?Xs(t.keywords??null,"attacker",a.attacker):null,f=l??$i();d&&d.runTick(c,f),u&&l&&u.runTick(l,c);const h=c.health>0,A=fe(c.shield);d&&d.grantShield(c,f);const m=fe(c.shield),g=h?Math.max(o,r-i):0,p=h?Math.min(m,g):0,y=h?Math.max(0,g-p):0;c.shield=Math.max(0,m-p);const P=Math.min(A,p),N=Math.max(0,p-P);d&&N>0&&d.consumeShield(N,c,f);const M=d?d.getShieldValue():0;a.defender.keywordShieldRemaining=M;const w=Math.max(0,A-P);c.shield=w+M;const D=c.health;c.health=Math.max(0,D-y);const z=c.health,S=z<=0;let C=0;u&&l?(C=u.applyHit(y,l,c),a.attacker.keywordShieldRemaining=u.getShieldValue()):a.attacker.keywordShieldRemaining=0;const L=Js(t,l??void 0),H=Js(n,{health:z,shield:w+M}),j={attacker:L,defender:H,damage:g,shieldDamage:p,hpDamage:y,lethal:S},x={...j,source:"defender"};if(tn(n,"onHit",x),en("combat:onHit",x),t){const Q={...j,source:"attacker"};tn(t,"onHit",Q),en("combat:onHit",Q),S&&(tn(t,"onKill",Q),en("combat:onKill",Q))}return S&&(tn(n,"onKill",x),en("combat:onKill",x)),{damage:g,shieldDamage:p,hpDamage:y,lethal:S,remainingHealth:z,remainingShield:w,attackerHealing:C,attackerRemainingHealth:l?.health,attackerRemainingShield:l?.shield,keywordEffects:a}}const Vs=5;function se(e){return`${e.q},${e.r}`}function _s(e){const[t,n]=e.split(",").map(Number);return{q:t,r:n}}class ta{constructor(t,n,s,o,r,i=[]){this.id=t,this.type=n,this.coord=s,this.faction=o,this.stats=r,this.priorityFactions=i,this.maxHealth=r.health}alive=!0;listeners={};maxHealth;healMarkerElapsed=0;healAmountBuffer=0;cachedTargetKey;cachedStartKey;cachedPath;movementCooldownSeconds=0;shield=0;immortal=!1;combatHooks=null;combatKeywords=null;onDeath(t){(this.listeners.death??=[]).push(t)}emitDeath(){for(const t of this.listeners.death??[])t()}isDead(){return!this.alive}getMaxHealth(){return this.maxHealth}distanceTo(t){return jt(this.coord,t)}getVisionRange(){const{visionRange:t}=this.stats;return Number.isFinite(t)?t:3}attack(t){return this.distanceTo(t.coord)>this.stats.attackRange?null:t.takeDamage(this.stats.attackDamage,this)}update(t,n){if(!(this.isDead()||!n))if(jt(this.coord,n.pos)<=n.auraRadius){const s=this.stats.health;if(this.stats.health=Math.min(this.stats.health+n.regenPerSec*t,this.maxHealth),this.stats.health>s){const o=this.stats.health-s;this.healMarkerElapsed+=t,this.healAmountBuffer+=o,(this.healMarkerElapsed>=.9||this.healAmountBuffer>=2)&&this.flushHealEvent()}}else this.healAmountBuffer>0&&this.flushHealEvent(),this.healMarkerElapsed=0,this.healAmountBuffer=0}flushHealEvent(){if(this.healAmountBuffer<=0){this.healMarkerElapsed=0;return}const t=Math.round(this.healAmountBuffer*10)/10;t>0&&B.emit("unitHealed",{unitId:this.id,amount:t,remainingHealth:this.stats.health}),this.healAmountBuffer=0,this.healMarkerElapsed=0}takeDamage(t,n){const s=Number.isFinite(t);if(s&&t<=0||!s&&!n)return null;const o=n?n.toCombatParticipant():null,r=this.toCombatParticipant(),i=ea({attacker:o,defender:r,baseDamage:s?t:void 0});this.stats.health=i.remainingHealth,this.shield=i.remainingShield;let a=i;if(i.lethal&&this.alive&&this.immortal&&(this.stats.health=Math.max(1,this.stats.health),a={...i,lethal:!1,remainingHealth:this.stats.health,remainingShield:this.shield}),n&&i.attackerRemainingHealth!==void 0){const c=Math.min(n.getMaxHealth(),Math.max(0,i.attackerRemainingHealth));n.stats.health=c}return n&&i.attackerRemainingShield!==void 0&&n.setShield(i.attackerRemainingShield),a.damage>0&&B.emit("unitDamaged",{attackerId:n?.id,targetId:this.id,amount:a.damage,remainingHealth:this.stats.health}),a.lethal&&this.alive&&(this.stats.health=0,this.alive=!1,B.emit("unitDied",{unitId:this.id,attackerId:n?.id,unitFaction:this.faction,attackerFaction:n?.faction}),this.emitDeath()),a}getShield(){return this.shield}setShield(t){if(!Number.isFinite(t)||t<=0){this.shield=0;return}this.shield=t}isImmortal(){return this.immortal}setImmortal(t){this.immortal=!!t}toCombatParticipant(){return{id:this.id,faction:this.faction,attack:this.stats.attackDamage,defense:this.stats.defense,health:this.stats.health,maxHealth:this.maxHealth,shield:this.shield,hooks:this.combatHooks,keywords:this.combatKeywords}}addMovementTime(t){!Number.isFinite(t)||t<=0||(this.movementCooldownSeconds+=t)}canStep(t=Vs){return this.movementCooldownSeconds>=t}consumeMovementCooldown(t=Vs){return this.canStep(t)?(this.movementCooldownSeconds-=t,!0):!1}moveTowards(t,n,s){const o=this.getPathTo(t,n,s);if(o.length<2)return[];let r=0;const i=se(t);for(let c=1;c<o.length;c++){const l=se(o[c]);if(s.has(l)){l!==i&&this.clearPathCache();break}r=c}if(r===0)return[];const a=Math.min(this.stats.movementRange,r);return o.slice(0,a+1)}getPathTo(t,n,s){const o=se(this.coord),r=se(t);return(!this.cachedPath||this.cachedTargetKey!==r||this.cachedStartKey!==o)&&(this.cachedPath=this.findPath(t,n,s),this.cachedTargetKey=r,this.cachedStartKey=o),this.cachedPath}advancePathCache(t){!this.cachedPath||t<=0||(this.cachedPath=this.cachedPath.slice(t),this.cachedPath.length>0?this.cachedStartKey=se(this.cachedPath[0]):(this.cachedPath=void 0,this.cachedStartKey=void 0,this.cachedTargetKey=void 0))}clearPathCache(){this.cachedPath=void 0,this.cachedStartKey=void 0,this.cachedTargetKey=void 0}findPath(t,n,s){const o=this.coord,r=se(o),i=se(t),a=new Set([r]),c=new Map([[r,null]]),l=new Map([[r,0]]),d=new Map([[r,jt(o,t)]]);for(;a.size>0;){let h=null,A=1/0;for(const p of a){const y=d.get(p)??1/0;y<A&&(A=y,h=p)}if(h===null||h===i)break;a.delete(h);const m=_s(h),g=l.get(h)??1/0;for(const p of mn(m)){const y=se(p);if(y!==i&&!this.isPassable(p,n,s))continue;const P=g+1;P<(l.get(y)??1/0)&&(c.set(y,h),l.set(y,P),d.set(y,P+jt(p,t)),a.add(y))}}if(!c.has(i))return[o];const u=[];let f=i;for(;f;)u.push(_s(f)),f=c.get(f)??null;return u.reverse()}seekNearestEnemy(t,n,s){const o=new Map;for(const a of t)o.set(se(a.coord),a);const r=[this.coord],i=new Set([se(this.coord)]);for(;r.length>0;){const a=r.shift(),c=se(a),l=o.get(c);if(l)return l;for(const d of mn(a)){const u=se(d),f=o.get(u);if(f)return f;this.isPassable(d,n,s)&&(i.has(u)||(i.add(u),r.push(d)))}}return null}canTraverse(t,n,s){return this.isPassable(t,n,s)}isPassable(t,n,s){const o=n.getTile(t.q,t.r);return!o||s&&s.has(se(t))?!1:o.terrain!==ce.Lake}}class na{static selectTarget(t,n){let s=n.filter(r=>r.faction!==t.faction&&!r.isDead());if(s.length===0)return null;if(t.priorityFactions.length>0){const r=s.filter(i=>t.priorityFactions.includes(i.faction));r.length>0&&(s=r)}const o=s.filter(r=>t.distanceTo(r.coord)<=t.stats.attackRange);return o.length>0?(o.sort((r,i)=>r.stats.health-i.stats.health),o[0]):(s.sort((r,i)=>t.distanceTo(r.coord)-t.distanceTo(i.coord)),s[0]??null)}}const sa=4,oa=8;class ra{buckets=[];bucketCount=0;currentBucket=0;minBuckets;maxBuckets;constructor(t={}){this.minBuckets=t.minBuckets??sa,this.maxBuckets=t.maxBuckets??oa}reset(){this.buckets=[],this.bucketCount=0,this.currentBucket=0}next(t){const n=t.length;if(n===0)return this.reset(),[];const s=this.computeBucketCount(n);s!==this.bucketCount&&(this.bucketCount=s,this.currentBucket=this.currentBucket%Math.max(1,s)),this.rebuildBuckets(t);const o=this.buckets[this.currentBucket]??[];return this.bucketCount>0&&(this.currentBucket=(this.currentBucket+1)%this.bucketCount),o}rebuildBuckets(t){const n=this.bucketCount;this.buckets=Array.from({length:n},()=>[]);const s=[...t].sort((o,r)=>o.id.localeCompare(r.id));for(let o=0;o<s.length;o++){const r=o%n;this.buckets[r].push(s[o])}}computeBucketCount(t){if(t<=0)return 0;const n=Math.ceil(t/12);let s=Math.max(this.minBuckets,n);return s=Math.min(this.maxBuckets,s),s=Math.min(s,t),s=Math.max(1,s),s}}function Xn(e){return`${e.q},${e.r}`}const ia=500;class aa{cache=new Map;targetIndex=new Map;targetPositions=new Map;ttlMs;constructor(t=ia){this.ttlMs=t}clearExpired(t=Date.now()){for(const[n,s]of this.cache.entries())if(s.expiresAt<=t&&(this.cache.delete(n),s.targetId)){const o=this.targetIndex.get(s.targetId);o?.delete(n),o&&o.size===0&&this.targetIndex.delete(s.targetId)}}trackUnit(t){this.invalidateIfTargetMoved(t.id,Xn(t.coord))}invalidateForUnit(t){const n=this.targetIndex.get(t);if(n){for(const s of n)this.cache.delete(s);this.targetIndex.delete(t)}this.targetPositions.delete(t)}getPath(t,n,s,o,r={}){const i=r.now??Date.now(),a=r.targetId,c=Xn(n);a&&this.invalidateIfTargetMoved(a,c);const l=this.hashObstacles(o),d=this.createCacheKey(Xn(t.coord),c,l),u=this.cache.get(d);if(u&&u.expiresAt>i)return u.path;t.clearPathCache();const f=t.getPathTo(n,s,o);if(this.cache.set(d,{path:f,expiresAt:i+this.ttlMs,targetId:a}),a){let h=this.targetIndex.get(a);h||(h=new Set,this.targetIndex.set(a,h)),h.add(d),this.targetPositions.set(a,c)}return f}invalidateIfTargetMoved(t,n){const s=this.targetPositions.get(t);if(!s){this.targetPositions.set(t,n);return}if(s===n)return;const o=this.targetIndex.get(t);if(o){for(const r of o)this.cache.delete(r);o.clear()}this.targetPositions.set(t,n)}hashObstacles(t){return t.size===0?"empty":Array.from(t).sort().join("|")}createCacheKey(t,n,s){return`${t}->${n}|${s}`}}const ca=30;function oe(e){return`${e.q},${e.r}`}class la{constructor(t){this.map=t}scheduler=new ra;pathCache=new aa;findExplorationGoal(t,n){const s=t.coord;if(this.map.ensureTile(s.q,s.r).isFogged&&t.canTraverse(s,this.map,n))return s;const r=new Set([oe(s)]),i=[s];for(;i.length>0;){const a=i.shift(),c=mn(a),l=this.map.getNeighbors(a.q,a.r);for(let d=0;d<c.length;d++){const u=c[d],f=l[d],h=oe(u);if(!r.has(h)&&(r.add(h),!!t.canTraverse(u,this.map,n))){if(f.isFogged)return u;i.push(u)}}}return null}tick(t,n){const s=t.length,o=Date.now();if(this.pathCache.clearExpired(o),s===0){this.scheduler.reset();return}for(const c of t)c.addMovementTime(n);const r=new Set,i=[];for(const c of t){if(c.isDead()){c.clearPathCache(),this.pathCache.invalidateForUnit(c.id);continue}this.pathCache.trackUnit(c),i.push(c),r.add(oe(c.coord))}if(i.length===0){this.scheduler.reset();return}const a=this.scheduler.next(i);if(a.length!==0)for(const c of a){const l=oe(c.coord);if(r.delete(l),c.isDead()){c.clearPathCache(),this.pathCache.invalidateForUnit(c.id);continue}const d=na.selectTarget(c,t);if(!d){const m=this.findExplorationGoal(c,r);if(m){const g=this.computeMovementPath(c,m,r,o);if(g.length>1&&c.stats.movementRange>0){const p=g[1],y=oe(p);if(r.has(y))c.clearPathCache();else{if(!c.canStep()){r.add(l);continue}if(c.consumeMovementCooldown()){c.coord=p,c.advancePathCache(1);const P=oe(c.coord);P===oe(m)&&c.clearPathCache(),r.add(P);continue}}}else c.clearPathCache()}else c.clearPathCache();r.add(l);continue}if(d.isDead()){c.clearPathCache(),r.add(l);continue}const u=oe(d.coord),f=this.pathCache.getPath(c,d.coord,this.map,r,{now:o,targetId:d.id});if(f.length>1&&c.stats.movementRange>0){const m=f[1],g=oe(m),p=g===u;!r.has(g)||p?c.canStep()&&c.consumeMovementCooldown()&&(c.coord=m,c.advancePathCache(1)):c.clearPathCache()}const h=oe(c.coord);r.add(h);const A=oe(d.coord);A!==u&&c.clearPathCache(),c.distanceTo(d.coord)<=c.stats.attackRange&&!d.isDead()&&((c.attack(d)?.lethal??!1)||d.isDead())&&(r.delete(A),c.clearPathCache(),this.pathCache.invalidateForUnit(d.id))}}computeMovementPath(t,n,s,o){const r=this.pathCache.getPath(t,n,this.map,s,{now:o});if(r.length<2)return[];let i=0;const a=oe(n);for(let l=1;l<r.length;l++){const d=oe(r[l]);if(s.has(d)){d!==a&&t.clearPathCache();break}i=l}if(i===0)return[];const c=Math.min(t.stats.movementRange,i);return r.slice(0,c+1)}}function Tn(e){if(!Number.isFinite(e??NaN))return 1;const t=Math.floor(e);return Math.max(1,t)}function da(e){return Math.max(0,Tn(e)-1)}function ua(e,t="linear"){const n=da(e);switch(t){case"accelerating":return n*(n+1)/2;case"diminishing":return n===0?0:Math.log2(n+1);case"linear":default:return n}}function fa(e,t="round"){switch(t){case"floor":return Math.floor(e);case"ceil":return Math.ceil(e);case"none":return e;case"round":default:return Math.round(e)}}function ha(e,t,n){let s=e;return Number.isFinite(t)&&(s=Math.max(s,t)),Number.isFinite(n)&&(s=Math.min(s,n)),s}function Ct(e,t){const n=Tn(t),s=e.curve??"linear",o=ua(n,s),r=e.base+e.growth*o,i=ha(r,e.min,e.max);return fa(i,e.round??"round")}function Ft(e,t){const n=Tn(t),s=e.stats,o={health:Ct(s.health,n),attackDamage:Ct(s.attackDamage,n),attackRange:Ct(s.attackRange,n),movementRange:Ct(s.movementRange,n)};return s.visionRange&&(o.visionRange=Ct(s.visionRange,n)),o}const gs=Object.freeze({id:"soldier",displayName:"Sauna Soldier",cost:50,tags:["infantry","melee"],stats:{health:{base:20,growth:6,curve:"linear",round:"round"},attackDamage:{base:5,growth:1,curve:"linear",round:"round"},attackRange:{base:1,growth:0,round:"round"},movementRange:{base:1,growth:0,round:"round"},visionRange:{base:3,growth:0,round:"round"}}}),ps=Object.freeze({id:"archer",displayName:"Sauna Archer",cost:75,tags:["ranged"],stats:{health:{base:15,growth:4,curve:"linear",round:"round"},attackDamage:{base:3,growth:.4,curve:"accelerating",round:"ceil"},attackRange:{base:3,growth:.5,curve:"diminishing",round:"ceil",max:5},movementRange:{base:1,growth:0,round:"round"},visionRange:{base:3,growth:.25,curve:"linear",round:"round",max:5}}}),Zo=Object.freeze({id:"avanto-marauder",displayName:"Avanto Marauder",cost:0,tags:["enemy","melee"],stats:{health:{base:12,growth:5,curve:"linear",round:"round"},attackDamage:{base:4,growth:.6,curve:"accelerating",round:"ceil"},attackRange:{base:1,growth:0,round:"round"},movementRange:{base:1,growth:.25,curve:"linear",round:"round",max:2},visionRange:{base:3,growth:0,round:"round"}}}),Wo=Object.freeze({soldier:gs,archer:ps,"avanto-marauder":Zo});function ys(e){return Wo[e]??null}Object.freeze(Object.keys(Wo));const $s=gs.cost;Object.freeze(Ft(gs,1));ps.cost;Object.freeze(Ft(ps,1));Object.freeze(Ft(Zo,1));function Vo(e,t,n,s,o){const r=Tn(o?.level),i=Ft(e,r);return new ta(t,e.id,n,s,i,e.priorityFactions)}function _o(e,t,n,s,o){const r=ys(e);return r?Vo(r,t,n,s,o):null}function Ms(e,t,n,s,o,r){const i=ys(t);if(!i)return null;const a=i.cost;if(!e.canAfford(a,E.SAUNA_BEER))return Ce("error"),null;e.addResource(E.SAUNA_BEER,-a);const c=Vo(i,n,s,o,r);return Ce("spawn"),B.emit("unitSpawned",{unit:c}),c}const ma=Object.freeze(Object.defineProperty({__proto__:null,createUnit:_o,spawnUnit:Ms},Symbol.toStringTag,{value:"Module"})),Aa=["Aino","Eero","Ilona","Kalevi","Lumi","Mika","Noora","Oskari","Saana","Tapio","Veera","Yrjö"],ga=["Emberguard","Frostwalker","Steamcaller","Dawnwatch","Gritforged","Stormchant","Snowborn","Torchbearer","Chillwarden","Sisuheart"],pa=["Aalto","Halla","Karhu","Korhonen","Laine","Metsä","Niemi","Salmi","Tuomi","Virta"];function Yn(e,t){if(e.length===0)throw new Error("Cannot select a name from an empty collection.");const n=Math.floor(t()*e.length);return e[Math.min(n,e.length-1)]}function ya(e=Math.random){const t=Yn(Aa,e),n=Yn(ga,e),s=Yn(pa,e);return`${t} "${n}" ${s}`}const Ma={q:0,r:0},wa="Saunoja",eo=18,to=0,dt=0,fn=10,no=1;function Fn(e,t,n){return Math.min(Math.max(e,t),n)}function ba(e){if(!e||typeof e!="object")return null;const t=e,n=typeof t.id=="string"?t.id.trim():"",s=typeof t.name=="string"?t.name.trim():"";if(!n||!s)return null;const o=typeof t.description=="string"?t.description.trim():void 0,r=typeof t.icon=="string"?t.icon.trim():void 0,i=typeof t.rarity=="string"?t.rarity.trim():void 0,a=typeof t.quantity=="number"?t.quantity:Number(t.quantity),c=Number.isFinite(a)?Math.max(1,Math.round(a)):1;return{id:n,name:s,description:o,icon:r,rarity:i,quantity:c}}function va(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const s=ba(n);s&&t.push(s)}return t}function Ea(e){if(!e||typeof e!="object")return null;const t=e,n=typeof t.id=="string"?t.id.trim():"",s=typeof t.name=="string"?t.name.trim():"";if(!n||!s)return null;const o=t.duration;let r=1/0;typeof o=="number"&&Number.isFinite(o)?r=Math.max(0,o):o!==1/0&&(r=1/0);const i=t.remaining;let a=r;typeof i=="number"&&Number.isFinite(i)?a=Math.max(0,i):i===1/0&&(a=1/0),r!==1/0&&a===1/0&&(a=r);const c=t.appliedAt,l=typeof c=="number"&&Number.isFinite(c)?Math.max(0,c):void 0,d=t.stacks,u=typeof d=="number"&&Number.isFinite(d)?Math.max(1,Math.round(d)):void 0,f=typeof t.description=="string"?t.description.trim():void 0,h=typeof t.source=="string"?t.source.trim():void 0;return{id:n,name:s,description:f,duration:r,remaining:a,appliedAt:l,stacks:u,source:h}}function Sa(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const s=Ea(n);s&&t.push(s)}return t}function Ba(e){if(typeof e=="string"){const t=e.trim();if(t.length>0)return t}try{return ya()}catch(t){return console.warn("Falling back to default Saunoja name",t),wa}}function ws(e){const{id:t,name:n,coord:s=Ma,maxHp:o=eo,hp:r=o,steam:i=0,defense:a,shield:c=0,traits:l=[],upkeep:d=no,xp:u=0,lastHitAt:f=to,selected:h=!1,items:A,modifiers:m,combatKeywords:g=null,combatHooks:p=null}=e,y=Number.isFinite(o)?Math.max(1,o):eo,P=Number.isFinite(r)?r:y,N=Fn(P,0,y),M=Number.isFinite(i)?i:0,w=Fn(M,0,1),z=(Array.isArray(l)?l:[]).filter(le=>typeof le=="string").map(le=>le.trim()).filter(le=>le.length>0),S=Number.isFinite(d)?d:no,C=Fn(S,dt,fn),L=Number.isFinite(u)?u:0,H=Math.max(0,L),j=Number.isFinite(f)?f:to,x=Math.max(0,j),Q=Number.isFinite(c)?c:0,k=Math.max(0,Q),U=Number.isFinite(a)?a:void 0,pe=U!==void 0?Math.max(0,U):void 0,F=va(A),V=Sa(m),ie=Ba(n);return{id:t,name:ie,coord:{q:s.q,r:s.r},maxHp:y,hp:N,defense:pe,shield:k,steam:w,traits:[...z],upkeep:C,xp:H,lastHitAt:x,selected:h,items:F,modifiers:V,combatKeywords:g,combatHooks:p}}const At=32;function Ot(e,t,n,s){e.beginPath();for(let o=0;o<6;o++){const r=Math.PI/3*o,i=t+s*Math.cos(r),a=n+s*Math.sin(r);o===0?e.moveTo(i,a):e.lineTo(i,a)}e.closePath()}function bs(e,t,n){return Math.min(Math.max(e,t),n)}function Pa(e,{centerX:t,centerY:n,hp:s,maxHp:o,radius:r=At*.55}){const i=Number.isFinite(o)?Math.max(1,o):1,a=Number.isFinite(s)?s:i,c=bs(a/i,0,1);if(e.save(),Ot(e,t,n,r),e.fillStyle="rgba(7, 11, 18, 0.72)",e.fill(),e.restore(),c>0){e.save(),Ot(e,t,n,r),e.clip();const l=e.createLinearGradient(t,n+r,t,n-r);l.addColorStop(0,"rgba(46, 160, 98, 0.35)"),l.addColorStop(1,"rgba(218, 255, 239, 0.95)"),e.fillStyle=l;const d=r*2*c,u=n+r-d;e.fillRect(t-r,u,r*2,d),e.restore()}e.save(),Ot(e,t,n,r),e.lineWidth=Math.max(1,r*.12),e.strokeStyle="rgba(255, 255, 255, 0.28)",e.stroke(),e.restore()}function Ia(e,{centerX:t,centerY:n,radius:s=At,progress:o=0}){const r=bs(o,0,1);if(r<=0)return;const i=Number.isFinite(s)&&s>0?s:At;e.save(),e.globalCompositeOperation="lighter",e.globalAlpha=r;const a=e.createRadialGradient(t,n,Math.max(1,i*.1),t,n,i);a.addColorStop(0,"rgba(255, 255, 255, 0.92)"),a.addColorStop(.45,"rgba(255, 255, 255, 0.68)"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=a,e.beginPath(),e.arc(t,n,i,0,Math.PI*2),e.fill(),e.restore()}function za(e,{centerX:t,centerY:n,radius:s=At*.85,intensity:o=1}){const r=bs(o,0,1);if(r<=0)return;e.save(),Ot(e,t,n,s),e.clip();const i=e.createLinearGradient(t,n+s,t,n-s);i.addColorStop(0,"rgba(255, 255, 255, 0)"),i.addColorStop(.55,`rgba(255, 255, 255, ${.12*r})`),i.addColorStop(1,`rgba(255, 255, 255, ${.35*r})`),e.globalCompositeOperation="lighter",e.fillStyle=i,e.fillRect(t-s,n-s,s*2,s*2),e.restore(),e.save(),e.globalCompositeOperation="lighter",e.lineCap="round",e.strokeStyle=`rgba(255, 255, 255, ${.25*r})`,e.lineWidth=Math.max(1,s*.08);const a=s*.75,c=s*.35;for(let l=0;l<3;l++){const d=n-s*.5+l*c;e.beginPath(),e.moveTo(t-a,d),e.bezierCurveTo(t-a*.4,d-s*.4,t+a*.4,d+s*.2,t+a,d-s*.45),e.stroke()}e.restore()}const Ca={baseThreshold:50,heatPerSecond:50/30,thresholdGrowth:.05,coolingPerSecond:0};function $(e,t=0){return Number.isFinite(e)?e:t}class Da{heat;threshold;baseThreshold;thresholdGrowthFactor;heatPerSecond;coolingPerSecond;maxStoredHeat;constructor(t={}){const n={...Ca,...t},s=Math.max(1,$(n.baseThreshold,50)),o=Math.max(1,$(t.initialThreshold??s,s));this.baseThreshold=s,this.threshold=o,this.thresholdGrowthFactor=1+Math.max(0,$(n.thresholdGrowth,0)),this.heatPerSecond=Math.max(0,$(n.heatPerSecond,0)),this.coolingPerSecond=Math.max(0,$(n.coolingPerSecond,0));const r=$(n.maxStoredHeat??Number.NaN,Number.NaN);this.maxStoredHeat=Number.isFinite(r)&&r>=0?r:null;const i=Math.max(0,$(t.initialHeat??0,0));this.heat=this.setHeatInternal(i)}getHeat(){return this.heat}getThreshold(){return this.threshold}getBuildRate(){return this.heatPerSecond}getCoolingRate(){return this.coolingPerSecond}reset(){this.heat=0,this.threshold=this.baseThreshold}setHeat(t){const n=Math.max(0,$(t,0));return this.heat=this.setHeatInternal(n),this.heat}setHeatInternal(t){const n=Math.max(0,$(t,0));return this.maxStoredHeat===null?(this.heat=n,this.heat):(this.heat=Math.min(n,this.maxStoredHeat),this.heat)}addHeat(t){const n=Math.max(0,$(t,0));if(n<=0)return 0;const s=this.heat,o=s+n;return this.heat=this.maxStoredHeat===null?o:Math.min(o,this.maxStoredHeat),this.heat-s}cool(t){const n=Math.max(0,$(t,0));if(n<=0||this.heat<=0)return 0;const s=this.heat;return this.heat=Math.max(0,this.heat-n),s-this.heat}vent(t=1){const n=Math.max(0,Math.min(1,$(t,1)));return n<=0?0:this.cool(this.threshold*n)}advance(t,n){const s=Math.max(0,$(t,0)),o=this.heatPerSecond,r=s>0?o*s:0,i=Math.max(0,$(n?.bonusHeat??0,0)),a=r+i,c=this.addHeat(a),l=Math.max(0,$(n?.coolingMultiplier??1,1)),d=s>0?this.coolingPerSecond*s*l:0,u=this.cool(d);return{addedHeat:c,cooledHeat:u,heat:this.heat}}hasTriggerReady(){return this.heat>=this.threshold-1e-6}consumeTrigger(){return this.hasTriggerReady()?(this.cool(this.threshold),this.threshold=Math.max(this.baseThreshold,this.threshold*this.thresholdGrowthFactor),!0):!1}timeUntilNextTrigger(){return this.hasTriggerReady()?0:this.heatPerSecond<=0?Number.POSITIVE_INFINITY:Math.max(0,this.threshold-this.heat)/this.heatPerSecond}getCooldownSeconds(){return this.heatPerSecond<=0?Number.POSITIVE_INFINITY:this.threshold/this.heatPerSecond}}function Na(e){return new Da(e)}function $o(e,t,n){const s=typeof t=="number"?t:2,o=(typeof t=="number"?n:t)??[],r=[];for(let a=-s;a<=s;a++){const c=Math.max(-s,-a-s),l=Math.min(s,-a+s);for(let d=c;d<=l;d++){const u=Math.max(Math.abs(a),Math.abs(d),Math.abs(-a-d));if(u===0||u>s)continue;const f={q:e.q+a,r:e.r+d};o.some(A=>!A.isDead()&&A.coord.q===f.q&&A.coord.r===f.r)||r.push(f)}}if(r.length===0)return null;const i=Math.floor(Math.random()*r.length);return r[i]}function La(e,t){const n=Na(t),s=n.getBuildRate(),o=n.getCooldownSeconds(),r=n.timeUntilNextTrigger();return{id:"sauna",pos:e,auraRadius:2,regenPerSec:1,rallyToFront:!1,heat:n.getHeat(),heatPerTick:s,playerSpawnThreshold:n.getThreshold(),playerSpawnCooldown:Number.isFinite(o)?o:0,playerSpawnTimer:Number.isFinite(r)?r:0,heatTracker:n}}const er="deepwood",tr="Deepwood Wardens",nr="Reclusive guardians attuned to sauna spirits.",sr=[{id:"warding-circle",label:"Warding Circle",weight:2,units:[{unit:"soldier",level:1,quantity:2},{unit:"archer",level:1,quantity:1}],items:["spirit-oak-charm","sauna-incense"],modifiers:["barkskin-ritual"]},{id:"spirit-strike",label:"Spirit Strike",weight:1,units:[{unit:"archer",level:2,quantity:2}],items:["emberglass-arrow"],modifiers:["searing-chant","windstep"]}],Ta={id:er,name:tr,description:nr,bundles:sr},xa=Object.freeze(Object.defineProperty({__proto__:null,bundles:sr,default:Ta,description:nr,id:er,name:tr},Symbol.toStringTag,{value:"Module"})),or="enemy",rr="Avanto Marauders",ir="Frostbitten raiders who harry the sauna frontier.",ar=[{id:"iceblade-scouts",label:"Iceblade Scouts",weight:3,units:[{unit:"avanto-marauder",level:1,quantity:1}],items:["cracked-ice-amulet"],modifiers:["frost-resilience"]},{id:"raiding-party",label:"Raiding Party",weight:2,units:[{unit:"avanto-marauder",level:1,quantity:2}],items:["stolen-sauna-tokens"],modifiers:["berserker-drift"]},{id:"frost-champion",label:"Frost Champion",weight:1,units:[{unit:"avanto-marauder",level:2,quantity:1}],items:["glacier-brand"],modifiers:["glacial-ward"]}],ka={id:or,name:rr,description:ir,bundles:ar},ja=Object.freeze(Object.defineProperty({__proto__:null,bundles:ar,default:ka,description:ir,id:or,name:rr},Symbol.toStringTag,{value:"Module"})),Qa=Object.assign({"../content/factions/deepwood.json":xa,"../content/factions/enemy.json":ja}),gn=new Map;for(const[e,t]of Object.entries(Qa)){const n=Oa(t),s=Ga(n,e);if(gn.has(s.id))throw new Error(`Duplicate faction bundle id: ${s.id}`);gn.set(s.id,s)}function Oa(e){return typeof e=="object"&&e!==null&&"default"in e?e.default:e}function vs(e){return typeof e=="object"&&e!==null}function ns(e,t){if(typeof e!="string")throw new Error(`Expected string at ${t}`);const n=e.trim();if(!n)throw new Error(`Expected non-empty string at ${t}`);return n}function ss(e){if(typeof e!="string")return;const t=e.trim();return t||void 0}function so(e,t){if(e===void 0)return Object.freeze([]);if(!Array.isArray(e))throw new Error(`Expected array at ${t}`);const n=e.map((s,o)=>{if(typeof s!="string")throw new Error(`Expected string at ${t}[${o}]`);const r=s.trim();if(!r)throw new Error(`Expected non-empty string at ${t}[${o}]`);return r});return Object.freeze(n)}function cr(e,t){const n=typeof e=="number"?e:Number(e);return!Number.isFinite(n)||n<=0?t:n}function oo(e,t){const n=Math.floor(cr(e,t));return n>0?n:t}function Ha(e,t){if(!vs(e))throw new Error(`Expected object at ${t}`);const n=ns(e.unit,`${t}.unit`),s=oo(e.level,1),o=oo(e.quantity,1);return Object.freeze({unit:n,level:s,quantity:o})}function Ra(e,t,n){if(!vs(e))throw new Error(`Expected object at ${t}`);const s=ss(e.id)??`${n}-bundle`,o=ss(e.label)??s,r=cr(e.weight,1),i=e.units;if(!Array.isArray(i)||i.length===0)throw new Error(`Expected non-empty units array at ${t}.units`);const a=i.map((d,u)=>Ha(d,`${t}.units[${u}]`)),c=so(e.items,`${t}.items`),l=so(e.modifiers,`${t}.modifiers`);return Object.freeze({id:s,label:o,weight:r,units:Object.freeze(a),items:c,modifiers:l})}function Ga(e,t){if(!vs(e))throw new Error(`Expected object at ${t}`);const n=ns(e.id,`${t}.id`),s=ns(e.name,`${t}.name`),o=ss(e.description);if(!Array.isArray(e.bundles)||e.bundles.length===0)throw new Error(`Expected non-empty bundles array at ${t}.bundles`);const r=e.bundles.map((i,a)=>Ra(i,`${t}.bundles[${a}]`,`${n}-${a}`));return Object.freeze({id:n,name:s,description:o,bundles:Object.freeze(r)})}Object.freeze(Array.from(gn.keys()));function Ua(e){return gn.get(e)??null}function Ka(e){return Ua(e)?.bundles??Object.freeze([])}function Xa(e){return typeof e=="function"?e:Math.random}function Ya(e){const t=e();return!Number.isFinite(t)||t<0||t>=1?Math.random():t}function Fa(e,t){const n=Ka(e);if(n.length===0)throw new Error(`No bundles found for faction: ${e}`);const s=Xa(t),o=n.reduce((a,c)=>a+c.weight,0);if(!Number.isFinite(o)||o<=0)throw new Error(`Invalid bundle weights for faction: ${e}`);const r=Ya(s)*o;let i=0;for(const a of n)if(i+=a.weight,r<i)return a;return n[n.length-1]}function Ja(){return`e${Date.now()}-${Math.floor(Math.random()*1e6)}`}function qa(e){return{level:e}}function Za(e){let t=Math.max(0,Math.floor(e.availableSlots));const n=[];if(t<=0)return{spawned:Object.freeze(n),items:e.bundle.items,modifiers:e.bundle.modifiers};const s=e.makeId??Ja,o=typeof e.random=="function"?e.random:Math.random,r=Math.max(0,Math.min(.95,typeof e.eliteOdds=="number"?e.eliteOdds:0));for(const i of e.bundle.units){const a=Math.min(i.quantity,t),c=i.unit;for(let l=0;l<a;l+=1){const d=o()<r?1:0,u=qa(Math.max(1,i.level+d)),f=e.pickEdge();if(!f)return{spawned:Object.freeze(n),items:e.bundle.items,modifiers:e.bundle.modifiers};const h=_o(c,s(),f,e.factionId,u);if(h&&(e.addUnit(h),n.push(h),t-=1,t<=0))return{spawned:Object.freeze(n),items:e.bundle.items,modifiers:e.bundle.modifiers}}}return{spawned:Object.freeze(n),items:e.bundle.items,modifiers:e.bundle.modifiers}}class Wa{timer;interval;factionId;random;makeId;difficulty;eliteOdds;constructor(t={}){this.factionId=t.factionId??"enemy",this.random=typeof t.random=="function"?t.random:Math.random;const n=Number.isFinite(t.difficulty)?Number(t.difficulty):1;this.difficulty=Math.max(.5,n);const s=typeof t.eliteOdds=="number"?t.eliteOdds:0;this.eliteOdds=Math.max(0,Math.min(.95,s));const o=Math.max(10,30/this.difficulty);this.interval=o,this.timer=o;const r=(()=>{let i=0;return()=>`e${Date.now()}-${i+=1}`})();this.makeId=typeof t.idFactory=="function"?t.idFactory:r}update(t,n,s,o){if(this.timer-=t,this.timer>0)return;const r=n.filter(c=>c.faction===this.factionId&&!c.isDead()).length,i=ca-r;if(i>0){const c=Fa(this.factionId,this.random);Za({bundle:c,factionId:this.factionId,pickEdge:o,addUnit:s,makeId:this.makeId,availableSlots:i,eliteOdds:this.eliteOdds,random:this.random})}const a=Math.pow(.95,this.difficulty);this.interval=Math.max(8,this.interval*a),this.timer=this.interval}}function xn(e){let t=e.querySelector(".hud-top-row");t||(t=document.createElement("div"),t.className="hud-top-row",e.prepend(t));let n=t.querySelector(".hud-actions");n||(n=document.createElement("div"),n.className="hud-actions",t.appendChild(n));let s=t.querySelector(".hud-right-column");if(!s){s=document.createElement("div"),s.className="hud-right-column",t.appendChild(s);const i=e.querySelector("#resource-bar");i&&s.prepend(i)}const o=e.querySelector("#build-menu");o&&o.parentElement!==n&&n.appendChild(o);let r=e.querySelector(".hud-mobile-bar__tray");if(!r){const i=document.createElement("div");i.className="hud-mobile-bar",r=document.createElement("div"),r.className="hud-mobile-bar__tray",i.appendChild(r),e.appendChild(i)}return{container:t,actions:n,side:s,mobileBar:r}}function Va(e){const t=document.getElementById("ui-overlay");if(!t)return()=>{};const n=document.createElement("div");n.classList.add("sauna-control");const s=document.createElement("button");s.type="button",s.textContent="Sauna ♨️",s.classList.add("topbar-button","sauna-toggle"),s.setAttribute("aria-expanded","false"),n.appendChild(s);const o=document.createElement("div");o.classList.add("sauna-card","hud-card"),o.hidden=!0;const r=document.createElement("div");r.classList.add("sauna-progress");const i=document.createElement("div");i.classList.add("sauna-progress__fill"),r.appendChild(i),o.appendChild(r);const a=document.createElement("label");a.classList.add("sauna-option");const c=document.createElement("input");c.type="checkbox",c.classList.add("sauna-option__input"),c.checked=e.rallyToFront,c.addEventListener("change",()=>{e.rallyToFront=c.checked}),a.appendChild(c);const l=document.createElement("span");l.textContent="Rally to Front",l.classList.add("sauna-option__label"),a.appendChild(l),o.appendChild(a),n.appendChild(o);const{actions:d}=xn(t),u=()=>{n.parentElement!==d&&d.appendChild(n);const f=d.querySelector("#topbar");return f&&f.parentElement===d?(f.nextSibling!==n&&d.insertBefore(n,f.nextSibling),!0):!1};if(!u()){const f=new MutationObserver(()=>{u()&&f.disconnect()});f.observe(d,{childList:!0})}return s.addEventListener("click",()=>{const f=!o.hidden;o.hidden=f,s.setAttribute("aria-expanded",String(!f))}),()=>{const f=e.playerSpawnCooldown>0?e.playerSpawnCooldown:1,h=1-e.playerSpawnTimer/f;i.style.width=`${Math.max(0,Math.min(h,1))*100}%`,c.checked=e.rallyToFront}}const _a=["/assets/sounds/sauna-forest.ogg","/assets/sounds/sauna-forest.mp3"],lr="audio_enabled",dr="audio_volume",os=new Set,kn=new Set;let _e=null,nn=null,ve=null,Ht=null;const ur=typeof localStorage<"u"?localStorage.getItem(lr):null;let Te=ur==="true",Rt=ur!==null;const ro=typeof localStorage<"u"?localStorage.getItem(dr):null;let ut=$a(ro?Number(ro):NaN,.65),nt=!1,Ge=es();const at=typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)"):null;let fr=at?.matches??!1;if(at){const e=t=>{fr=t.matches};typeof at.addEventListener=="function"?at.addEventListener("change",e):typeof at.addListener=="function"&&at.addListener(e)}if(typeof window<"u"&&!Rt){const e=()=>{Rt||(Rt=!0,pr(!0),pt())};window.addEventListener("pointerdown",e,{once:!0}),window.addEventListener("keydown",e,{once:!0})}Ri(e=>{Ge=e,e?gr():Te?pt():gt(!0),Jt()});function $a(e,t){return Number.isFinite(e)?e<0?0:e>1?1:e:t}function Jt(){const e=hn();for(const t of os)t(e)}function ec(e){if(!(typeof localStorage>"u"))try{localStorage.setItem(lr,e?"true":"false")}catch(t){console.warn("Unable to persist ambience preference",t)}}function tc(e){if(!(typeof localStorage>"u"))try{localStorage.setItem(dr,e.toFixed(3))}catch(t){console.warn("Unable to persist ambience volume",t)}}function hr(e){if(ve)return ve;const t=e.createGain();return t.gain.value=Te&&!Ge?ut:0,t.connect(e.destination),ve=t,t}function gt(e=!1){if(!ve)return;const t=ve.context,n=Te&&!Ge?ut:0,s=t.currentTime;ve.gain.cancelScheduledValues(s),e?ve.gain.setValueAtTime(n,s):ve.gain.setTargetAtTime(n,s,.25)}function nc(){return fr?.6:4.2}function mr(){Ht!==null&&(clearTimeout(Ht),Ht=null)}function rs(e){try{e.source.stop()}catch{}e.source.disconnect(),e.gain.disconnect(),kn.delete(e)}function sc(){for(const e of[...kn])rs(e)}async function oc(e){return _e||(nn||(nn=(async()=>{for(const t of _a)try{const n=await fetch(t);if(!n.ok)continue;const s=await n.arrayBuffer();return await e.decodeAudioData(s)}catch(n){console.warn("Failed to fetch ambience source",t,n)}throw new Error("No ambience sources available")})().then(t=>(_e=t,t)).catch(t=>{throw nn=null,t})),nn)}function rc(e,t){if(!nt)return;mr();const n=Math.max(0,e-t.currentTime-.05);Ht=setTimeout(()=>{Ht=null,nt&&Ar(e)},n*1e3)}function Ar(e){const t=ve?.context??Xt();if(!t||!_e)return;const n=t.createGain(),s=t.createBufferSource();s.buffer=_e,s.loop=!1,s.connect(n),n.connect(hr(t));const o=Math.min(nc(),_e.duration/2),r=Number.isFinite(o)&&o>0?o:.25,i=Math.max(t.currentTime,e);n.gain.setValueAtTime(0,i),n.gain.linearRampToValueAtTime(1,i+r);const a=e+_e.duration,c=a-r;c>i&&n.gain.setValueAtTime(1,c),n.gain.linearRampToValueAtTime(.001,a+.1);const l={source:s,gain:n,stopTime:a};kn.add(l),s.addEventListener("ended",()=>{rs(l)});try{s.start(e)}catch(d){console.warn("Failed to start ambience layer",d),rs(l);return}rc(a-r,t)}async function pt(){if(nt||!Te||Ge){gt();return}const e=Xt();if(e){hr(e),gt();try{const t=await oc(e);if(!Te||Ge)return;await e.resume().catch(()=>{}),nt=!0;const n=Math.max(e.currentTime+.12,e.currentTime);Ar(n),Jt()}catch(t){console.warn("Unable to start ambience",t)}}}function gr(){if(!nt&&kn.size===0){gt(!0);return}nt=!1,mr(),sc(),gt(!0),Jt()}function pr(e){Te===e&&Rt||(Te=e,Rt=!0,ec(e),e?Ge||pt():gr(),Jt())}function ic(e){const t=Math.max(0,Math.min(1,e));t!==ut&&(ut=t,tc(ut),gt(),Jt())}function hn(){return{enabled:Te,playing:nt,volume:ut,globallyMuted:Ge}}function ac(e){return os.add(e),()=>{os.delete(e)}}Te&&!Ge&&pt();const sn=10,cc=1.5,lc=1.5,dc=.6,io="⚔️ +50% attack · 🛡️ Barrier · ♾️ Immortal",Gt=5,Ut=3;let J=null;function uc(){J&&(J.tickTimer&&clearInterval(J.tickTimer),J.timeout&&clearTimeout(J.timeout),J=null)}function Es(){return J!==null}function fc(){return J?Math.max(0,J.endTime-performance.now())/1e3:0}function hc(e,t){if(Es()||!e.spendResource(Gt,E.SISU))return!1;const n=[];for(const o of t){if(o.faction!=="player"||o.isDead())continue;const r=`sisu-burst-${o.id}`,i={unit:o,baseAttack:o.stats.attackDamage,baseMovement:o.stats.movementRange,baseShield:o.getShield(),shieldBonusRemaining:1,wasImmortal:o.isImmortal()};Xi({id:r,duration:sn,data:i,onApply:()=>{o.stats.attackDamage=Math.round(i.baseAttack*cc),o.stats.movementRange=Math.max(1,Math.round(i.baseMovement*lc)),o.setShield(i.baseShield+i.shieldBonusRemaining),o.setImmortal(!0),o.fearless=!0},onExpire:()=>{o.stats.attackDamage=i.baseAttack,o.stats.movementRange=i.baseMovement,o.setImmortal(i.wasImmortal);const a=Math.max(0,i.shieldBonusRemaining);a>0&&o.setShield(Math.max(0,o.getShield()-a)),delete o.fearless,J&&(J.affected=J.affected.filter(c=>c.modifierId!==r))},hooks:{"combat:onHit":a=>{const c=a;if(c.source!=="defender"||c.defender.id!==o.id||c.shieldDamage<=0||i.shieldBonusRemaining<=0)return;const l=Math.min(i.shieldBonusRemaining,c.shieldDamage);i.shieldBonusRemaining=Math.max(0,i.shieldBonusRemaining-l)}}}),n.push({unit:o,modifierId:r,state:i})}return J={endTime:performance.now()+sn*1e3,status:io,affected:n,tickTimer:null,timeout:null},B.emit("sisuBurstStart",{remaining:sn,status:io}),J.tickTimer=setInterval(()=>{if(!J)return;const o=Math.max(0,Math.ceil(fc()));o>0&&B.emit("sisuBurstTick",{remaining:o,status:J.status})},1e3),J.timeout=setTimeout(()=>{mc()},sn*1e3),!0}function mc(){if(J){for(const e of J.affected)Yi(e.modifierId);uc(),B.emit("sisuBurstEnd",{})}}function Ac(e,t,n,s){const o=t.filter(r=>r.faction==="player"&&!r.isDead());if(o.length===0||!e.spendResource(Ut,E.SISU))return!1;for(const r of o){const i=$o(n,3,t)??{...n};r.coord=i;const a=Math.round(r.getMaxHealth()*dc);r.stats.health=Math.min(r.getMaxHealth(),Math.max(r.stats.health,a))}return s.revealAround(n,3),B.emit("torilleRecalled",{count:o.length}),!0}const gc="(max-width: 820px)",yr="is-mobile",Mr="is-desktop";let ue=null,pn=null,ge=!1,on=0;const yn=new Set,is=new Set,Mn=e=>{for(const t of is)t.classList.toggle(yr,e),t.classList.toggle(Mr,!e),t.dataset.viewport=e?"mobile":"desktop"},pc=e=>{if(ge!==e){ge=e,Mn(ge);for(const t of Array.from(yn))try{t(ge)}catch(n){console.error("Failed to notify mobile listener",n)}}},wr=()=>{if(ue||typeof window>"u")return;ue=window.matchMedia(gc),ge=ue.matches,Mn(ge);const e=t=>{pc(t.matches)};typeof ue.addEventListener=="function"?(ue.addEventListener("change",e),pn=()=>ue?.removeEventListener("change",e)):(ue.addListener(e),pn=()=>ue?.removeListener(e))},yc=()=>{ue&&(pn?.(),pn=null,ue=null)},Ss=(e,{immediate:t=!0}={})=>(wr(),yn.add(e),t&&e(ge),()=>{yn.delete(e)}),Mc=({root:e,onChange:t,immediate:n=!0}={})=>{wr();const s=e??(typeof document<"u"?document.documentElement:null);s&&(is.add(s),Mn(ge)),on+=1;let o=null;return t?o=Ss(t,{immediate:n}):n&&ue&&Mn(ge),{matches:()=>ge,dispose:()=>{s&&(is.delete(s),s.classList.remove(yr,Mr),(s.dataset.viewport==="mobile"||s.dataset.viewport==="desktop")&&delete s.dataset.viewport),o&&(o(),o=null),on=Math.max(0,on-1),on===0&&yn.size===0&&yc()}}};function Dt(e,t={}){const{iconSrc:n,description:s,srLabel:o}=t,r=document.createElement("div");if(r.classList.add("topbar-badge"),r.setAttribute("role","status"),r.setAttribute("aria-live","polite"),r.setAttribute("aria-atomic","true"),n){const u=document.createElement("img");u.src=n,u.alt=e,u.decoding="async",u.classList.add("topbar-badge-icon"),r.appendChild(u)}const i=document.createElement("div");i.classList.add("badge-text");const a=document.createElement("span");a.textContent=e,a.classList.add("badge-label"),i.appendChild(a);const c=document.createElement("span");c.textContent="0",c.classList.add("badge-value"),c.setAttribute("aria-hidden","true"),i.appendChild(c);const l=document.createElement("span");l.classList.add("badge-delta"),l.style.opacity="0",l.style.transform="translateY(-6px)",l.style.transition="opacity 0.5s ease, transform 0.5s ease",l.setAttribute("aria-hidden","true"),r.append(i,l),s&&(r.title=s);const d=o??e;return r.dataset.label=d,r.setAttribute("aria-label",`${d}: 0`),{container:r,value:c,delta:l,label:d}}function wc(e,t={},n={}){const s=document.getElementById("ui-overlay");if(!s)return{update:()=>{},dispose:()=>{}};const{actions:o,mobileBar:r}=xn(s),i=document.createElement("div");i.id="topbar",o.prepend(i);const a=document.createElement("div");a.className="topbar-badge-row",i.appendChild(a);const c=document.createElement("div");c.className="topbar-action-tray",c.setAttribute("role","group"),c.setAttribute("aria-label","Combat and audio controls");const l={[E.SAUNA_BEER]:"Sauna beer bottles chilled for construction crews and eager recruits.",[E.SAUNAKUNNIA]:"Saunakunnia—prestige earned from sauna rituals and triumphant battles.",[E.SISU]:"Sisu—the relentless grit forged when your warriors triumph on the snow."},d=Dt("Sauna Beer",{iconSrc:t.saunaBeer,description:l[E.SAUNA_BEER],srLabel:"Sauna beer reserves"});d.container.classList.add("badge-sauna-beer");const u=Dt("Sisu",{iconSrc:t.sisu,description:l[E.SISU],srLabel:"Sisu reserves"});u.container.classList.add("badge-sisu");const f=Dt("Saunakunnia",{iconSrc:t.saunakunnia,description:l[E.SAUNAKUNNIA],srLabel:"Saunakunnia"});f.container.classList.add("badge-sauna");const h=Dt("Burst 🔥",{srLabel:"Sisu burst countdown"});h.container.classList.add("badge-sisu"),h.container.style.display="none",h.delta.style.display="none";const A=Dt("Time");A.container.classList.add("badge-time"),A.delta.style.display="none",a.appendChild(d.container),a.appendChild(u.container),a.appendChild(f.container),a.appendChild(h.container),a.appendChild(A.container);let m=null,g=null;n.useSisuBurst&&(m=document.createElement("button"),m.type="button",m.classList.add("topbar-button","sisu-button"),m.textContent=`Sisu Burst −${Gt}🔥`,m.title="Spend SISU to ignite a short-lived surge in allied attack and movement.",m.addEventListener("click",()=>{n.useSisuBurst?.(),p()}),m.classList.add("topbar-action"),c.appendChild(m)),n.torille&&(g=document.createElement("button"),g.type="button",g.classList.add("topbar-button","torille-button"),g.textContent=`Torille! −${Ut}🔥`,g.title="Call every surviving fighter back to the sauna to regroup.",g.addEventListener("click",()=>{n.torille?.(),p()}),g.classList.add("topbar-action"),c.appendChild(g));function p(){const v=e.getResource(E.SISU);if(m){const T=v>=Gt,Y=Es();m.disabled=!T||Y;const G=["Spend SISU to ignite a short-lived surge in allied attack and movement."];T||G.push(`Requires ${Gt} SISU.`),Y&&G.push("Burst already active."),m.title=G.join(" ")}if(g){const T=v>=Ut;g.disabled=!T,g.title=T?"Call every surviving fighter back to the sauna to regroup.":`Requires ${Ut} SISU to rally everyone home.`}}p();const y=document.createElement("button");y.type="button",y.title="Toggle sound",y.classList.add("topbar-button","sound-button");const P=document.createElement("span");if(P.textContent="Sound",t.sound){const v=document.createElement("img");v.src=t.sound,v.alt="",v.decoding="async",v.setAttribute("aria-hidden","true"),y.appendChild(v)}y.appendChild(P);function N(){const v=es();P.textContent=v?"Muted":"Sound",y.setAttribute("aria-pressed",v?"true":"false"),y.classList.toggle("is-muted",v)}y.addEventListener("click",()=>{Hi(!es()),N()}),N(),y.classList.add("topbar-action","topbar-action--sound"),c.appendChild(y);const M=document.createElement("div");M.className="topbar-ambience";const w=document.createElement("div");w.className="topbar-ambience__header";const D=document.createElement("span");D.className="topbar-ambience__icon",D.textContent="🌲",D.setAttribute("aria-hidden","true");const z=document.createElement("span");z.className="topbar-ambience__title",z.textContent="Sauna ambience";const S=document.createElement("button");S.type="button",S.className="ambience-toggle",S.setAttribute("role","switch"),S.setAttribute("aria-label","Toggle sauna ambience soundscape");const C=document.createElement("span");C.className="ambience-toggle__track";const L=document.createElement("span");L.className="ambience-toggle__thumb";const H=document.createElement("span");H.className="ambience-toggle__label",S.append(C,L,H),w.append(D,z,S);const j=document.createElement("div");j.className="topbar-ambience__slider";const x=document.createElement("span");x.className="topbar-ambience__caption",x.textContent="Volume";const Q=document.createElement("span");Q.className="topbar-ambience__value";const k=document.createElement("input");k.type="range",k.min="0",k.max="100",k.step="1",k.className="topbar-ambience__range",k.setAttribute("aria-label","Ambient volume"),j.append(x,k,Q);const U=document.createElement("p");U.className="topbar-ambience__status",U.setAttribute("aria-live","polite"),M.append(w,j,U),i.appendChild(M);const pe=Ss(v=>{v?(r.appendChild(c),c.classList.add("topbar-action-tray--mobile")):(i.appendChild(c),c.classList.remove("topbar-action-tray--mobile"))});let F=hn();const V=(v=F)=>{F=v;const T=Math.round(v.volume*100);k.value=String(T),k.title=`Ambient volume ${T}%`,k.style.setProperty("--value",`${T}`),Q.textContent=`${T}%`,k.disabled=!v.enabled||v.globallyMuted,S.setAttribute("aria-checked",v.enabled?"true":"false"),S.classList.toggle("is-on",v.enabled),S.classList.toggle("is-muted",v.globallyMuted),H.textContent=v.enabled?"On":"Off",S.title=v.enabled?"Disable sauna ambience":"Enable sauna ambience",M.classList.toggle("is-off",!v.enabled),M.classList.toggle("is-globally-muted",v.globallyMuted),v.globallyMuted?U.textContent="Muted by master toggle":v.enabled?v.playing?U.textContent="Forest loop playing":U.textContent="Ambience ready":U.textContent="Ambience paused"};S.addEventListener("click",()=>{const v=!F.enabled;pr(v),F=hn(),v&&!F.globallyMuted&&pt(),V(F)}),k.addEventListener("input",()=>{const v=k.valueAsNumber/100;ic(v),F=hn(),F.enabled&&!F.globallyMuted&&pt(),V(F)}),V(F);const ie=ac(v=>{V(v)});function le(v,T){const Y=Math.max(0,Math.ceil(v));h.container.style.display="block",h.value.textContent=String(Y),T?(h.delta.style.display="block",h.delta.textContent=T,h.container.title=`Sisu burst active: ${T}`):(h.delta.style.display="none",h.delta.textContent="",h.container.removeAttribute("title"));const G=[`Sisu burst active — ${Y} seconds remaining`];T&&G.push(T),h.container.setAttribute("aria-label",G.join(" — "))}const Mt=({remaining:v,status:T})=>{le(v,T),p()},ye=({remaining:v,status:T})=>{le(v,T)},wt=()=>{h.container.style.display="none",h.value.textContent="0",h.delta.textContent="",h.delta.style.display="none",h.container.removeAttribute("title"),p()};B.on("sisuBurstStart",Mt),B.on("sisuBurstTick",ye),B.on("sisuBurstEnd",wt);const xe=new Intl.NumberFormat("en-US"),bt=new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}),vt={[E.SAUNA_BEER]:"Sauna Beer",[E.SAUNAKUNNIA]:"Saunakunnia",[E.SISU]:"Sisu"},qt={[E.SAUNA_BEER]:{singular:"bottle",plural:"bottles"},[E.SAUNAKUNNIA]:{singular:"Saunakunnia",plural:"Saunakunnia"},[E.SISU]:{singular:"Sisu",plural:"Sisu"}},Zt={[E.SAUNA_BEER]:"🍺",[E.SAUNAKUNNIA]:"⚜️",[E.SISU]:"🔥"},Et={[E.SAUNA_BEER]:d,[E.SAUNAKUNNIA]:f,[E.SISU]:u},Ye={};function Hn(v,T){const Y=Number.isFinite(T)?T:0;return v===E.SAUNA_BEER?xe.format(Math.max(0,Math.floor(Y))):xe.format(Math.max(0,Math.round(Y)))}function st(v,T){return T===0?"":`${bt.format(T)} ${Zt[v]}`}function St(v,T){if(T===0)return"";const Y=T>0?"gained":"spent",G=xe.format(Math.abs(T)),Me=qt[v];if(Me){const we=Math.abs(T)===1?Me.singular:Me.plural,ke=vt[v],Bt=[ke];we&&we!==ke&&Bt.push(we);const Pt=Bt.filter(Boolean).join(" ");return`${Y} ${G}${Pt?` ${Pt}`:""}`}const ot=vt[v];return`${Y} ${G}${ot?` ${ot}`:""}`}function de(v,T,Y=0){const G=Et[v];if(!G)return;const Me=Hn(v,T);if(G.value.textContent=Me,Y!==0){G.delta.textContent=st(v,Y),G.delta.style.opacity="1",G.delta.style.transform="translateY(0)";const ke=Ye[v];ke&&clearTimeout(ke),Ye[v]=setTimeout(()=>{G.delta.style.opacity="0",G.delta.style.transform="translateY(-6px)",delete Ye[v]},1e3)}else G.delta.textContent="",G.delta.style.opacity="0",G.delta.style.transform="translateY(-6px)";const ot=St(v,Y),we=[`${G.label} ${Me}`,ot].filter(Boolean);G.container.setAttribute("aria-label",we.join(" — "))}de(E.SAUNA_BEER,e.getResource(E.SAUNA_BEER)),de(E.SAUNAKUNNIA,e.getResource(E.SAUNAKUNNIA)),de(E.SISU,e.getResource(E.SISU));const Fe=({resource:v,amount:T,total:Y})=>{Et[v]&&(de(v,Y,T),v===E.SISU&&p())};B.on("resourceChanged",Fe);let Je=0;return{update(v){Je+=v;const T=Math.floor(Je/1e3),Y=Math.floor(T/60),G=T%60;A.value.textContent=`${Y}:${G.toString().padStart(2,"0")}`},dispose(){B.off("sisuBurstStart",Mt),B.off("sisuBurstTick",ye),B.off("sisuBurstEnd",wt),B.off("resourceChanged",Fe),Object.values(Ye).forEach(v=>{v&&clearTimeout(v)}),ie(),pe(),c.remove(),i.remove()}}}function bc(e){const t=[e.name];return e.description&&t.push(e.description),e.rarity&&t.push(`Rarity: ${e.rarity}`),e.quantity>1&&t.push(`Quantity: ${e.quantity}`),t.join(" — ")}function vc(e){const t=document.createElement("span");t.classList.add("item-icon__fallback");const n=e.trim();return t.textContent=n?n[0]?.toUpperCase()??"?":"?",t.setAttribute("aria-hidden","true"),t}function Ec(e,t){const n=document.createElement("img");return n.src=e,n.alt="",n.decoding="async",n.loading="lazy",n.classList.add("item-icon__image"),n.setAttribute("aria-hidden","true"),n.title=t,n}function Sc(e){const t=document.createElement("li");t.classList.add("item-icon"),t.dataset.itemId=e.id;const n=bc(e);if(t.title=n,t.setAttribute("aria-label",n),t.setAttribute("role","listitem"),e.rarity&&(t.dataset.rarity=e.rarity.toLowerCase()),e.icon&&e.icon.trim().length>0?t.appendChild(Ec(e.icon,e.name)):t.appendChild(vc(e.name)),e.quantity>1){const s=document.createElement("span");s.classList.add("item-icon__quantity"),s.textContent=`×${e.quantity}`,s.setAttribute("aria-hidden","true"),t.appendChild(s)}return t}const Bc=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function as(e){return e===1/0?"∞":!Number.isFinite(e)||e<=0?"0s":`${Bc.format(Math.ceil(e))}s`}function Pc(e){const t=[e.name];return e.description&&t.push(e.description),e.source&&t.push(`Source: ${e.source}`),e.duration!==1/0&&t.push(`Duration: ${as(e.duration)}`),t.push(`Remaining: ${as(e.remaining)}`),e.stacks&&e.stacks>1&&t.push(`Stacks: ${e.stacks}`),t.join(" — ")}function Ic(e){const t=document.createElement("li");t.classList.add("mod-pill"),t.dataset.modifierId=e.id,t.title=Pc(e),t.setAttribute("aria-label",t.title),t.setAttribute("role","listitem"),t.dataset.duration=e.duration===1/0?"infinite":String(e.duration),t.dataset.remaining=e.remaining===1/0?"infinite":String(e.remaining),e.appliedAt!==void 0&&(t.dataset.appliedAt=String(e.appliedAt)),e.stacks&&e.stacks>1&&(t.dataset.stacks=String(e.stacks));const n=document.createElement("span");if(n.classList.add("mod-pill__name"),n.textContent=e.name,n.setAttribute("aria-hidden","true"),t.appendChild(n),e.stacks&&e.stacks>1){const o=document.createElement("span");o.classList.add("mod-pill__stacks"),o.textContent=`×${e.stacks}`,o.setAttribute("aria-hidden","true"),t.appendChild(o)}const s=document.createElement("span");return s.classList.add("mod-pill__timer"),s.textContent=as(e.remaining),s.setAttribute("aria-hidden","true"),t.appendChild(s),e.remaining!==1/0&&e.remaining<=5&&(t.dataset.urgent="true"),t}const cs={engaged:"Engaged on the field",reserve:"On reserve duty",downed:"Recovering from battle"},Z=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),ao="panel-roster-title";function zc(e){return e.length===0?"No defining traits yet":e.join(" • ")}function Cc(e){const{stats:t}=e,n=[`HP ${Z.format(t.health)}/${Z.format(t.maxHealth)}`];return t.shield&&t.shield>0&&n.push(`Shield ${Z.format(t.shield)}`),n.push(`ATK ${Z.format(t.attackDamage)}`),n.push(`RNG ${Z.format(t.attackRange)}`),t.defense&&t.defense>0&&n.push(`DEF ${Z.format(t.defense)}`),n.push(`MOV ${Z.format(t.movementRange)}`),n.push(`Upkeep ${Z.format(e.upkeep)} beer`),n.join(" • ")}function Dc(e){const{stats:t}=e,n=[e.name,cs[e.status]];return n.push(`health ${Z.format(t.health)} of ${Z.format(t.maxHealth)}`),t.shield&&t.shield>0&&n.push(`shield ${Z.format(t.shield)}`),n.push(`attack ${Z.format(t.attackDamage)}`),t.defense&&t.defense>0&&n.push(`defense ${Z.format(t.defense)}`),t.attackRange>0&&n.push(`attack range ${Z.format(t.attackRange)}`),n.push(`movement ${Z.format(t.movementRange)}`),n.push(`upkeep ${Z.format(e.upkeep)} beer`),e.items.length>0&&n.push(`${e.items.length} equipped item${e.items.length===1?"":"s"}`),e.modifiers.length>0&&n.push(`${e.modifiers.length} active modifier${e.modifiers.length===1?"":"s"}`),n.join(", ")}function Nc(e,t){const n=t.filter(a=>a.status==="engaged").length,s=t.filter(a=>a.status==="reserve").length,o=t.filter(a=>a.status==="downed").length,r=(a,c,l)=>{const d=document.createElement("span");return d.classList.add("panel-roster__metric"),d.dataset.status=l,d.textContent=`${Z.format(c)} ${a}`,d.setAttribute("aria-label",d.textContent),d},i=document.createElement("div");i.classList.add("panel-roster__metrics"),i.append(r("engaged",n,"engaged"),r("reserve",s,"reserve"),r("downed",o,"downed")),e.appendChild(i)}function Lc(e,t){if(t.items.length===0&&t.modifiers.length===0)return;const n=document.createElement("div");if(n.classList.add("panel-roster__loadout"),t.items.length>0){const s=document.createElement("ul");s.classList.add("panel-roster__items"),s.setAttribute("role","list"),s.setAttribute("aria-label",`${t.name} equipped items`),s.title=t.items.map(o=>o.name).join(", ");for(const o of t.items)s.appendChild(Sc(o));n.appendChild(s)}if(t.modifiers.length>0){const s=document.createElement("ul");s.classList.add("panel-roster__mods"),s.setAttribute("role","list"),s.setAttribute("aria-label",`${t.name} active modifiers`),s.title=t.modifiers.map(o=>o.name).join(", ");for(const o of t.modifiers)s.appendChild(Ic(o));n.appendChild(s)}e.appendChild(n)}function Tc(e,t={}){return{render:s=>{e.innerHTML="",e.dataset.count=String(s.length),e.classList.add("panel-roster");const o=document.createElement("div");o.classList.add("panel-roster__header");const r=document.createElement("h4");r.classList.add("panel-roster__title"),r.textContent="Battalion Roster",r.id=ao,o.appendChild(r),e.setAttribute("aria-labelledby",ao);const i=s.length===0?"No attendants mustered yet":`${Z.format(s.length)} attendant${s.length===1?"":"s"} enlisted`,a=document.createElement("span");if(a.classList.add("panel-roster__count"),a.textContent=i,o.appendChild(a),e.appendChild(o),s.length===0){const l=document.createElement("p");l.classList.add("panel-roster__empty"),l.textContent="No attendants have rallied to the sauna yet.",e.appendChild(l);return}Nc(e,s);const c=document.createElement("ul");c.classList.add("panel-roster__list"),c.setAttribute("role","list");for(const l of s){const d=document.createElement("li");d.classList.add("panel-roster__row");const u=document.createElement("button");u.type="button",u.classList.add("panel-roster__item"),u.dataset.unitId=l.id,u.dataset.status=l.status,u.setAttribute("aria-pressed",l.selected?"true":"false"),u.setAttribute("aria-label",Dc(l)),u.title=`${l.name} • ${cs[l.status]}`,l.selected&&u.classList.add("is-selected"),l.status==="downed"&&u.classList.add("is-downed");const f=document.createElement("div");f.classList.add("panel-roster__name-row");const h=document.createElement("span");h.classList.add("panel-roster__name"),h.textContent=l.name,h.title=l.name,f.appendChild(h);const A=document.createElement("span");A.classList.add("panel-roster__status"),A.dataset.status=l.status,A.textContent=cs[l.status],f.appendChild(A);const m=document.createElement("div");m.classList.add("panel-roster__meta");const g=Cc(l);m.textContent=g,m.title=g;const p=document.createElement("div");p.classList.add("panel-roster__health");const y=document.createElement("div");y.classList.add("panel-roster__health-fill");const P=l.stats.maxHealth>0?Math.max(0,Math.min(100,Math.round(l.stats.health/l.stats.maxHealth*100))):0;y.style.width=`${P}%`,y.dataset.percent=`${P}`,p.appendChild(y);const N=document.createElement("div");N.classList.add("panel-roster__traits");const M=zc(l.traits);N.textContent=M,N.title=M,u.append(f,m,p,N),Lc(u,l),typeof t.onSelect=="function"&&u.addEventListener("click",()=>t.onSelect?.(l.id)),d.appendChild(u),c.appendChild(d)}e.appendChild(c)}}}const co=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function xc(e,t={}){const n=document.getElementById("ui-overlay");if(!n)return{log:()=>{},addEvent:()=>{},renderRoster:()=>{},dispose:()=>{}};const{actions:s,side:o,mobileBar:r}=xn(n),i=n.querySelector("#right-panel");i&&i.remove();const a=n.querySelector(".right-panel-slide");a&&a.remove();const c=n.querySelector("#right-panel-toggle");c&&c.remove();const l=document.createElement("div");l.id="right-panel",l.classList.add("hud-card"),l.setAttribute("role","complementary"),l.setAttribute("aria-label","Sauna command console"),l.tabIndex=-1;const d=document.createElement("div");d.className="right-panel-slide",d.setAttribute("aria-hidden","true");const u=document.createElement("div");u.className="right-panel-slide__backdrop",u.setAttribute("aria-hidden","true");const f=document.createElement("div");f.className="right-panel-slide__sheet",f.appendChild(l),d.append(u,f);const h=window.matchMedia("(max-width: 1040px)"),A=[],m=document.createElement("button");m.type="button",m.id="right-panel-toggle",m.classList.add("hud-panel-toggle"),m.setAttribute("aria-controls",l.id);const g=document.createElement("span");g.classList.add("hud-panel-toggle__icon"),g.setAttribute("aria-hidden","true");const p=document.createElement("span");p.classList.add("hud-panel-toggle__icon-bars"),g.appendChild(p);const y=document.createElement("span");y.classList.add("hud-panel-toggle__text");const P=document.createElement("span");P.classList.add("hud-panel-toggle__title"),P.textContent="Command Console";const N=document.createElement("span");N.classList.add("hud-panel-toggle__state"),y.append(P,N),m.append(g,y);const M=()=>{const b=s.querySelector("#topbar");b&&b.parentElement===s?b.insertAdjacentElement("afterend",m):s.prepend(m)};let w=!1,D=!1,z=!1,S=!1;const C="is-mobile-panel-open",L=()=>{z?N.textContent=S?"Close":"Menu":N.textContent=w?"Open":"Close"},H=()=>{if(z){m.setAttribute("aria-expanded",S?"true":"false");const b=S?"Close command console panel":"Open command console panel";m.setAttribute("aria-label",b),m.title=S?"Close the sauna command console overlay":"Open the sauna command console overlay"}else{m.setAttribute("aria-expanded",w?"false":"true");const b=w?"Open command console panel":"Close command console panel";m.setAttribute("aria-label",b),m.title=w?"Open the sauna command console overlay":"Close the sauna command console overlay"}},j=()=>{L(),H()},x=(b,I=h.matches)=>{if(z)return;const R=w;I&&(D=b);const q=b&&I;w=q,l.classList.toggle("right-panel--collapsed",q),l.setAttribute("aria-hidden",q?"true":"false"),j(),R&&!q&&I&&l.focus({preventScroll:!0})},Q=b=>{!z||!S||b.key==="Escape"&&(b.preventDefault(),V())};let k=!1;const U=()=>{k||(document.addEventListener("keydown",Q),k=!0)},pe=()=>{k&&(document.removeEventListener("keydown",Q),k=!1)},F=()=>{!z||S||(S=!0,d.classList.add("right-panel-slide--open"),d.setAttribute("aria-hidden","false"),l.setAttribute("aria-hidden","false"),document.body.classList.add(C),d.style.setProperty("--panel-drag-progress","1"),j(),U(),requestAnimationFrame(()=>{l.focus({preventScroll:!0})}))},V=({skipFocus:b=!1}={})=>{!z||!S||(bt(),S=!1,d.classList.remove("right-panel-slide--open"),d.setAttribute("aria-hidden","true"),l.setAttribute("aria-hidden","true"),document.body.classList.remove(C),d.style.setProperty("--panel-drag-progress","0"),j(),pe(),b||m.focus({preventScroll:!0}))},ie=b=>{if(z)return;const I=b.matches;m.hidden=!I,x(I?D:!1,I)};typeof h.addEventListener=="function"?(h.addEventListener("change",ie),A.push(()=>h.removeEventListener("change",ie))):(h.addListener(ie),A.push(()=>h.removeListener(ie)));const le=()=>{if(z){S?V():F();return}x(!w)};m.addEventListener("click",le),A.push(()=>m.removeEventListener("click",le));const Mt=()=>{V()};u.addEventListener("click",Mt),A.push(()=>u.removeEventListener("click",Mt));let ye=null,wt=0,xe=0;const bt=()=>{ye!==null&&(f.releasePointerCapture(ye),ye=null),f.style.transition="",f.style.transform="",d.style.setProperty("--panel-drag-progress",S?"1":"0")},vt=b=>{!z||!S||b.pointerType==="mouse"&&b.button!==0||(ye=b.pointerId,wt=b.clientX,xe=0,f.style.transition="none",f.setPointerCapture(b.pointerId))},qt=b=>{if(!z||b.pointerId!==ye||!S)return;xe=Math.max(0,b.clientX-wt);const I=f.offsetWidth||1,R=Math.min(xe,I);f.style.transform=`translateX(${R}px)`,d.style.setProperty("--panel-drag-progress",String(1-R/I))},Zt=b=>{bt(),b&&V()},Et=b=>{if(b.pointerId!==ye)return;const I=f.offsetWidth||1,R=xe>I*.35;Zt(R)},Ye=()=>{Zt(!1)};f.addEventListener("pointerdown",vt),f.addEventListener("pointermove",qt),f.addEventListener("pointerup",Et),f.addEventListener("pointercancel",Ye),A.push(()=>{f.removeEventListener("pointerdown",vt),f.removeEventListener("pointermove",qt),f.removeEventListener("pointerup",Et),f.removeEventListener("pointercancel",Ye)});const Hn=Ss(b=>{z=b,z?(f.appendChild(l),d.isConnected||n.appendChild(d),r.appendChild(m),m.classList.add("hud-panel-toggle--mobile"),m.hidden=!1,S||(l.setAttribute("aria-hidden","true"),d.setAttribute("aria-hidden","true"),d.style.setProperty("--panel-drag-progress","0"))):(V({skipFocus:!0}),d.style.setProperty("--panel-drag-progress","1"),d.remove(),o.appendChild(l),M(),m.classList.remove("hud-panel-toggle--mobile"),m.hidden=!h.matches,l.setAttribute("aria-hidden","false"),x(D,h.matches)),j()});A.push(Hn);const st=document.createElement("div");st.classList.add("panel-tabs"),l.appendChild(st);const St=document.createElement("div");St.classList.add("panel-content"),l.appendChild(St);const de=document.createElement("div");de.id="right-panel-roster",de.setAttribute("role","region"),de.setAttribute("aria-live","polite"),de.setAttribute("aria-label","Battalion roster");const Fe=document.createElement("div");Fe.id="right-panel-policies";const Je=document.createElement("div");Je.id="right-panel-events";const v=document.createElement("div");v.id="event-log",v.setAttribute("role","log"),v.setAttribute("aria-live","polite");const T={Roster:de,Policies:Fe,Events:Je,Log:v},{onRosterSelect:Y,onRosterRendererReady:G}=t;for(const[b,I]of Object.entries(T))I.classList.add("panel-section","panel-section--scroll"),I.dataset.tab=b,I.hidden=!0;v.classList.add("panel-section--log");function Me(b){for(const[I,R]of Object.entries(T))R.hidden=I!==b;for(const I of Array.from(st.children)){const R=I,q=R.textContent===b;R.disabled=q,R.setAttribute("aria-pressed",q?"true":"false")}}for(const b of Object.keys(T)){const I=document.createElement("button");I.type="button",I.textContent=b;const R=T[b];R?.id&&I.setAttribute("aria-controls",R.id),I.setAttribute("aria-pressed","false");const q=()=>Me(b);I.addEventListener("click",q),A.push(()=>I.removeEventListener("click",q)),st.appendChild(I),St.appendChild(T[b])}const ot=Tc(de,{onSelect:Y}),we=b=>{ot.render(b)};we([]),typeof G=="function"&&G(we);const ke={[E.SAUNA_BEER]:"Sauna Beer Bottles",[E.SAUNAKUNNIA]:"Saunakunnia"},Bt=[{id:"eco",name:"Eco Policy",description:"Increase passive sauna beer brewing by 1 bottle per tick",cost:15,resource:E.SAUNAKUNNIA,prerequisite:()=>!0},{id:"temperance",name:"Temperance",description:"+5% work speed at night",cost:25,resource:E.SAUNAKUNNIA,prerequisite:()=>!0},{id:"steam-diplomats",name:"Steam Diplomats",description:"Import +2 sauna beer bottles per tick through diplomatic envoys",cost:8,resource:E.SAUNAKUNNIA,prerequisite:()=>!0}],Pt={};function ei(){Fe.innerHTML="";for(const b of Bt){const I=document.createElement("button"),R=b.resource;I.textContent=`${b.name} (${co.format(b.cost)} ${ke[R]})`,I.title=`${b.description}. Costs ${co.format(b.cost)} ${ke[R]}.`,I.classList.add("panel-action"),I.disabled=!b.prerequisite(e)||e.hasPolicy(b.id)||!e.canAfford(b.cost,R);const q=()=>{e.applyPolicy(b.id,b.cost,R)&&It()};I.addEventListener("click",q),A.push(()=>I.removeEventListener("click",q)),Fe.appendChild(I),Pt[b.id]=I}}function It(){for(const b of Bt){const I=Pt[b.id];if(I){const R=b.resource;I.disabled=!b.prerequisite(e)||e.hasPolicy(b.id)||!e.canAfford(b.cost,R)}}}ei(),B.on("resourceChanged",It),B.on("policyApplied",It),A.push(()=>{B.off("resourceChanged",It),B.off("policyApplied",It)});const Wt=[];function Ns(){Je.innerHTML="";for(const b of Wt){const I=document.createElement("div");I.classList.add("panel-event");const R=document.createElement("h4");R.textContent=b.headline;const q=document.createElement("p");q.textContent=b.body;const Vt=document.createElement("button");Vt.textContent=b.buttonText??"Acknowledge",Vt.classList.add("panel-action"),Vt.addEventListener("click",()=>{const js=Wt.findIndex(oi=>oi.id===b.id);js!==-1&&(Wt.splice(js,1),Ns())}),I.appendChild(R),I.appendChild(q),I.appendChild(Vt),Je.appendChild(I)}}function ti(b){Wt.push(b),Ns(),ks(`Event • ${b.headline}`)}const Ls="autobattles:panel-log",rt=100,zt=[];let Rn=!1;const qe=[],ni=()=>{if(typeof window>"u"||typeof window.localStorage>"u")return[];try{const b=window.localStorage.getItem(Ls);if(!b)return[];const I=JSON.parse(b);if(!Array.isArray(I))return[];const R=I.filter(q=>typeof q=="string");return R.length>rt?R.slice(-rt):R}catch{return[]}},Ts=b=>{if(!(typeof window>"u"||typeof window.localStorage>"u"))try{const I=b.length>rt?b.slice(-rt):b;window.localStorage.setItem(Ls,JSON.stringify(I))}catch{}},xs=b=>{const I=document.createElement("div");I.textContent=b,I.classList.add("panel-log-entry"),v.appendChild(I)};(()=>{const b=ni();if(b.length!==0){for(const I of b)xs(I),qe.push(I);v.scrollTop=v.scrollHeight}})();function si(){for(const b of zt)xs(b);if(zt.length>0&&(qe.push(...zt),qe.length>rt)){const b=qe.length-rt;qe.splice(0,b);for(let I=0;I<b;I+=1)v.firstChild&&v.removeChild(v.firstChild)}v.scrollTop=v.scrollHeight,zt.length=0,Rn=!1,qe.length>0?Ts(qe):Ts([])}function ks(b){zt.push(b),Rn||(Rn=!0,(typeof requestAnimationFrame=="function"?requestAnimationFrame:I=>setTimeout(I,16))(si))}return Me("Roster"),{log:ks,addEvent:ti,renderRoster:we,dispose:()=>{for(const b of A.splice(0))try{b()}catch(I){console.warn("Failed to dispose HUD listener",I)}pe(),bt(),document.body.classList.remove(C),d.remove(),m.remove(),l.remove()}}}const kc=Math.sqrt(3),jc=2;function wn(e){return{width:e*kc,height:e*jc}}const Se=16,rn=2;function Qc(){return typeof window<"u"&&window.devicePixelRatio||1}function Oc(e,t){const n=Math.max(e.qMin,t.minQ),s=Math.min(e.qMax,t.maxQ),o=Math.max(e.rMin,t.minR),r=Math.min(e.rMax,t.maxR);return n>s||o>r?null:{qMin:n,qMax:s,rMin:o,rMax:r}}function Hc(e,t){const n=Qc(),s=t.width/(n*e.zoom),o=t.height/(n*e.zoom);return{x:e.x-s/2,y:e.y-o/2,width:s,height:o}}function Rc(e,t){const n=[kt(e.x,e.y,t),kt(e.x+e.width,e.y,t),kt(e.x,e.y+e.height,t),kt(e.x+e.width,e.y+e.height,t)];let s=1/0,o=-1/0,r=1/0,i=-1/0;for(const a of n)s=Math.min(s,a.q),o=Math.max(o,a.q),r=Math.min(r,a.r),i=Math.max(i,a.r);return{qMin:Math.floor(s)-rn,qMax:Math.ceil(o)+rn,rMin:Math.floor(r)-rn,rMax:Math.ceil(i)+rn}}function Gc(e,t,n,s){if(!n||typeof n.width!="number"||typeof n.height!="number")return{qMin:e.minQ,qMax:e.maxQ,rMin:e.minR,rMax:e.maxR};if(n.width===0||n.height===0)return{qMin:e.minQ,qMax:e.maxQ,rMin:e.minR,rMax:e.maxR};const o=Hc(t,n);return Oc(Rc(o,s),e)}function ct(e){return Math.floor(e/Se)}function br(e){return`${e.q},${e.r}`}function Uc(e,t){return br({q:ct(e),r:ct(t)})}function Kc(e){return{qMin:ct(e.qMin),qMax:ct(e.qMax),rMin:ct(e.rMin),rMax:ct(e.rMax)}}function vr(e){const t=[];for(let n=e.rMin;n<=e.rMax;n++)for(let s=e.qMin;s<=e.qMax;s++)t.push({q:s,r:n});return t}function Xc(e,t){const n=t.q*Se,s=t.r*Se,o=n+Se-1,r=s+Se-1,i=Math.max(n,e.minQ),a=Math.min(o,e.maxQ),c=Math.max(s,e.minR),l=Math.min(r,e.maxR);if(!(i>a||c>l))for(let d=c;d<=l;d++)for(let u=i;u<=a;u++)e.ensureTile(u,d)}function Yc(e,t){for(const n of vr(t))Xc(e,n)}const Fc="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3ePlains%20Tile%3c/title%3e%3cdesc%20id='desc'%3eRolling%20plains%20with%20sunrise%20gradients%20and%20glowing%20grasses.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='plains-bg'%20cx='50%25'%20cy='50%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230f172a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23111827'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='plains-field'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='0%25'%3e%3cstop%20offset='0%25'%20stop-color='%23facc15'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23eab308'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='plains-haze'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23fde68a'%20stop-opacity='0.8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23f59e0b'%20stop-opacity='0.2'%20/%3e%3c/linearGradient%3e%3cfilter%20id='plains-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='5'%20stdDeviation='6'%20flood-color='%23facc15'%20flood-opacity='0.35'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23plains-bg)'%20/%3e%3cg%20filter='url(%23plains-glow)'%3e%3cpath%20d='M16%2088c20-18%2036-22%2048-22s28%204%2048%2022'%20fill='url(%23plains-field)'%20stroke='%23fef9c3'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M24%20102c16-14%2032-18%2040-18s24%204%2040%2018'%20fill='none'%20stroke='%23fde68a'%20stroke-width='5'%20stroke-linecap='round'%20opacity='0.5'%20/%3e%3cpath%20d='M32%2070c12-10%2024-14%2032-14s20%204%2032%2014'%20fill='url(%23plains-haze)'%20opacity='0.7'%20/%3e%3cpath%20d='M52%2078l4%2012m8-12l4%2012m8-12l4%2012'%20stroke='%23fef3c7'%20stroke-width='3'%20stroke-linecap='round'%20opacity='0.8'%20/%3e%3c/g%3e%3ccircle%20cx='40'%20cy='36'%20r='8'%20fill='%23fef08a'%20opacity='0.7'%20/%3e%3c/svg%3e",Jc="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eForest%20Tile%3c/title%3e%3cdesc%20id='desc'%3eStylised%20evergreen%20trees%20glowing%20against%20a%20deep%20night%20backdrop.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='forest-bg'%20cx='50%25'%20cy='40%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230f172a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230b1120'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='forest-leaf'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%234ade80'%20/%3e%3cstop%20offset='100%25'%20stop-color='%2315803d'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='forest-trunk'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23a855f7'%20/%3e%3cstop%20offset='100%25'%20stop-color='%237c3aed'%20/%3e%3c/linearGradient%3e%3cfilter%20id='forest-glow'%20x='-40%25'%20y='-40%25'%20width='180%25'%20height='180%25'%3e%3cfeDropShadow%20dx='0'%20dy='6'%20stdDeviation='6'%20flood-color='%234ade80'%20flood-opacity='0.25'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23forest-bg)'%20/%3e%3cg%20filter='url(%23forest-glow)'%20stroke='%23bbf7d0'%20stroke-width='2'%3e%3cpath%20fill='url(%23forest-leaf)'%20d='M64%2026L32%2080h18l-12%2022h28l-10-22h16l-10%2022h28l-12-22h18z'%20/%3e%3crect%20x='58'%20y='74'%20width='12'%20height='18'%20rx='3'%20fill='url(%23forest-trunk)'%20/%3e%3cpath%20fill='none'%20stroke-linecap='round'%20stroke-opacity='0.5'%20d='M44%2086c6-4%2012-6%2020-6s14%202%2020%206'%20/%3e%3c/g%3e%3ccircle%20cx='40'%20cy='40'%20r='6'%20fill='%23fef3c7'%20opacity='0.6'%20/%3e%3ccircle%20cx='88'%20cy='32'%20r='4'%20fill='%23fef3c7'%20opacity='0.4'%20/%3e%3c/svg%3e",qc="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eMountain%20Tile%3c/title%3e%3cdesc%20id='desc'%3eJagged%20alpine%20peaks%20with%20luminous%20snowcaps.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='mountain-bg'%20cx='50%25'%20cy='45%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%23111827'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23020617'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='mountain-rock'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%2364748b'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23334155'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='mountain-snow'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23f8fafc'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23cbd5f5'%20/%3e%3c/linearGradient%3e%3cfilter%20id='mountain-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='6'%20stdDeviation='6'%20flood-color='%23f8fafc'%20flood-opacity='0.2'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23mountain-bg)'%20/%3e%3cg%20filter='url(%23mountain-glow)'%20stroke='%23cbd5f5'%20stroke-width='2'%20stroke-linejoin='round'%3e%3cpath%20fill='url(%23mountain-rock)'%20d='M24%20100l32-52%2014%2022%2012-18%2022%2048z'%20/%3e%3cpath%20fill='url(%23mountain-snow)'%20d='M56%2048l14%2022%2012-18%2010%2022H48z'%20opacity='0.85'%20/%3e%3cpath%20fill='none'%20stroke-linecap='round'%20opacity='0.6'%20d='M32%2094c10-6%2020-9%2032-9s22%203%2032%209'%20/%3e%3c/g%3e%3ccircle%20cx='92'%20cy='32'%20r='6'%20fill='%23f1f5f9'%20opacity='0.5'%20/%3e%3c/svg%3e",Zc="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eWater%20Tile%3c/title%3e%3cdesc%20id='desc'%3eGlowing%20waves%20surrounding%20a%20crystalline%20droplet.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='water-bg'%20cx='50%25'%20cy='45%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230b1120'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23020617'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='water-wave'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%2338bdf8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230ea5e9'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='water-drop'%20x1='50%25'%20y1='0%25'%20x2='50%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230284c7'%20/%3e%3c/linearGradient%3e%3cfilter%20id='water-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='4'%20stdDeviation='8'%20flood-color='%2338bdf8'%20flood-opacity='0.3'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23water-bg)'%20/%3e%3cg%20filter='url(%23water-glow)'%3e%3cpath%20d='M32%2076c12-10%2024-15%2032-15s20%205%2032%2015'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='8'%20stroke-linecap='round'%20/%3e%3cpath%20d='M28%2092c14-12%2030-18%2040-18s26%206%2040%2018'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='6'%20stroke-linecap='round'%20opacity='0.7'%20/%3e%3cpath%20d='M40%2060c10-8%2018-12%2024-12s14%204%2024%2012'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='4'%20stroke-linecap='round'%20opacity='0.5'%20/%3e%3cpath%20d='M64%2030c-12%2020-18%2032-18%2042%200%2011%208%2020%2018%2020s18-9%2018-20c0-10-6-22-18-42z'%20fill='url(%23water-drop)'%20stroke='%23e0f2fe'%20stroke-width='2'%20/%3e%3c/g%3e%3ccircle%20cx='94'%20cy='34'%20r='6'%20fill='%23f8fafc'%20opacity='0.45'%20/%3e%3c/svg%3e",lo={[ce.Plains]:{baseColor:"#d8b869",icon:Fc},[ce.Forest]:{baseColor:"#237a55",icon:Jc},[ce.Hills]:{baseColor:"#b57c57",icon:qc},[ce.Lake]:{baseColor:"#3185d5",icon:Zc}},Wc=[255,255,255],Bs=[12,18,28],Vc=[0,0,0],uo="rgba(56, 189, 248, 0.85)",fo="rgba(56, 189, 248, 0.45)";let Nt=null,Lt=null;const _c=e=>Math.min(1,Math.max(0,e));function $c(e){let t=e.trim().replace("#","");t.length===3&&(t=t.split("").map(s=>s+s).join(""));const n=Number.parseInt(t,16);return[n>>16&255,n>>8&255,n&255]}function bn(e,t,n){const s=_c(n);return[Math.round(e[0]+(t[0]-e[0])*s),Math.round(e[1]+(t[1]-e[1])*s),Math.round(e[2]+(t[2]-e[2])*s)]}function ho(e){return`rgb(${e[0]}, ${e[1]}, ${e[2]})`}function vn(e,t=1){return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${t})`}function En(e,t=1){return vn(bn(Bs,Wc,e),t)}function ft(e,t=1){return vn(bn(Bs,Vc,e),t)}const el={terrain:.05,hover:.065,selection:.085},tl={terrain:1,hover:1.35,selection:2.1};function Sn(e,t,n="terrain"){const s=e*el[n],o=t>0?t:1,r=s/o;return Math.max(tl[n],r)}function nl(){if(Nt&&Lt)return{stroke:Nt,glow:Lt};if(typeof window<"u"){const e=getComputedStyle(document.documentElement),t=e.getPropertyValue("--tile-highlight-ring").trim(),n=e.getPropertyValue("--tile-highlight-glow").trim();Nt=t||uo,Lt=n||fo}else Nt=uo,Lt=fo;return{stroke:Nt,glow:Lt}}function Er(e){return Math.min(1,Math.max(0,e))}function jn(e){let t=e.trim();if(t.startsWith("#")&&(t=t.slice(1)),t.length===3){const n=Number.parseInt(t[0]+t[0],16),s=Number.parseInt(t[1]+t[1],16),o=Number.parseInt(t[2]+t[2],16);return[n,s,o]}if(t.length===6){const n=Number.parseInt(t,16),s=n>>16&255,o=n>>8&255,r=n&255;return[s,o,r]}return[0,0,0]}function sl(e,t,n){const s=Er(n),o=(r,i)=>Math.round(r+(i-r)*s);return[o(e[0],t[0]),o(e[1],t[1]),o(e[2],t[2])]}function ol([e,t,n],s){return`rgba(${e}, ${t}, ${n}, ${Er(s)})`}function Ue(e,t,n,s){return ol(sl(e,t,n),s)}function rl(e){const{ctx:t,x:n,y:s,width:o,height:r,radius:i,baseColor:a}=e,c=jn(a);t.save(),t.lineCap="round",t.lineJoin="round";const l=Ue(c,[255,255,255],.35,.24);t.strokeStyle=l,t.lineWidth=Math.max(1,i*.06);const d=3,u=6,f=n+o*.12,h=n+o*.88;for(let p=0;p<d;p++){const y=p/Math.max(1,d-1),P=s+r*.28+y*r*.32,N=i*(.18-y*.05);t.beginPath();for(let M=0;M<=u;M++){const w=M/u,D=f+(h-f)*w,z=Math.sin(w*Math.PI*1.6+p*.8)*N,S=P-Math.abs(z)*.55;M===0?t.moveTo(D,S):t.lineTo(D,S)}t.stroke()}const A=Ue(c,[18,54,32],.4,.2);t.strokeStyle=A,t.lineWidth=Math.max(.75,i*.035);const m=5,g=i*.22;for(let p=0;p<m;p++){const y=n+o*(.2+p/Math.max(1,m-1)*.6),P=s+r*.55-Math.cos(p*.9)*i*.08;t.beginPath(),t.arc(y,P,g,Math.PI*.2,Math.PI*.85),t.stroke(),t.beginPath(),t.arc(y+g*.35,P-g*.1,g*.55,Math.PI*.15,Math.PI*.95),t.stroke()}t.restore()}function il(e){const{ctx:t,centerX:n,centerY:s,radius:o,baseColor:r}=e,i=jn(r);t.save(),t.lineCap="round";const a=Ue(i,[255,235,214],.45,.22);t.strokeStyle=a,t.lineWidth=Math.max(1,o*.05);const c=4;for(let u=0;u<c;u++){const f=u/Math.max(1,c-1),h=o*(1.25-f*.45),A=o*(.72-f*.18),m=s+o*.18*(f-.5);t.beginPath(),t.ellipse(n,m,h,A,0,Math.PI*.12,Math.PI*.88),t.stroke()}const l=Ue(i,[60,36,20],.35,.18);t.strokeStyle=l,t.lineWidth=Math.max(.85,o*.032),t.setLineDash([o*.22,o*.18]);const d=3;for(let u=0;u<d;u++){const f=o*(.75-u*.1),h=s+o*.28+u*o*.08;t.beginPath(),t.arc(n+o*.08,h,f,Math.PI*.28,Math.PI*.76),t.stroke()}t.setLineDash([]),t.restore()}function al(e){const{ctx:t,x:n,y:s,width:o,height:r,radius:i,baseColor:a}=e,c=jn(a);t.save(),t.lineCap="round",t.lineJoin="round";const l=Ue(c,[255,255,255],.55,.28);t.strokeStyle=l,t.lineWidth=Math.max(1,i*.045);const d=4,u=7,f=n+o*.12,h=n+o*.88,A=i*.16;for(let p=0;p<d;p++){const y=p/Math.max(1,d-1),P=s+r*.3+y*r*.4;t.beginPath();for(let N=0;N<=u;N++){const M=N/u,w=f+(h-f)*M,D=Math.sin(M*Math.PI*2+p*.6)*A*(.75-y*.2),z=P+D;N===0?t.moveTo(w,z):t.lineTo(w,z)}t.stroke()}const m=Ue(c,[12,52,94],.4,.2);t.strokeStyle=m,t.lineWidth=Math.max(.8,i*.03);const g=3;for(let p=0;p<g;p++){const y=p/Math.max(1,g-1),P=s+r*.35+y*r*.35;t.beginPath();for(let N=0;N<=u;N++){const M=N/u,w=f+(h-f)*M,D=Math.sin(M*Math.PI*2+p)*A*.35,z=P+D;N===0?t.moveTo(w,z):t.lineTo(w,z)}t.stroke()}t.restore()}function Sr(e){const{ctx:t,x:n,y:s,width:o,height:r,radius:i,baseColor:a}=e,c=jn(a);t.save(),t.lineCap="round";const l=Ue(c,[255,255,255],.42,.18);t.strokeStyle=l,t.lineWidth=Math.max(.85,i*.03);const d=i*.55;for(let h=-1;h<=2;h++){const A=d*h;t.beginPath(),t.moveTo(n+A,s+r*.25),t.lineTo(n+A+o*.75,s+r*.85),t.stroke()}const u=Ue(c,[112,82,32],.3,.16);t.strokeStyle=u,t.lineWidth=Math.max(.7,i*.025),t.setLineDash([i*.24,i*.34]);const f=i*.48;for(let h=0;h<3;h++){const A=f*h;t.beginPath(),t.moveTo(n+o*.18+A,s+r*.78),t.lineTo(n+o*.7+A,s+r*.38),t.stroke()}t.setLineDash([]),t.restore()}const mo=new Map;let Ze=null;function cl(){if(Ze)return Ze;const e="/";if(/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e))return Ze=e,Ze;const n=e.startsWith("/")?e:`/${e}`;return typeof window<"u"&&typeof window.location?.origin=="string"?Ze=`${window.location.origin}${n}`:Ze=`http://localhost${n}`,Ze}function ll(e){let t=mo.get(e);if(!t){t=new Image,t.decoding="async";const n=new URL(e,cl()).href;t.src=n,mo.set(e,t)}if(t.complete&&t.naturalWidth>0&&t.naturalHeight>0)return t}const dl={[ce.Plains]:Sr,[ce.Forest]:rl,[ce.Hills]:il,[ce.Lake]:al};function Br(e,t,n,s){e.beginPath();for(let o=0;o<6;o++){const r=Math.PI/180*(60*o-30),i=t+s*Math.cos(r),a=n+s*Math.sin(r);o===0?e.moveTo(i,a):e.lineTo(i,a)}e.closePath()}function ul(e,t,n,s){Br(e,t,n,s),e.save(),e.lineJoin="round",e.lineCap="round",e.lineWidth=Sn(s,1,"terrain"),e.strokeStyle=En(.16,.6),e.stroke(),e.restore()}function fl(e,t,n,s,o,r,i,a){const c=lo[t.terrain]??lo[ce.Plains],l=$c(c.baseColor),d=s+r/2,u=o+i/2;e.save(),Br(e,d,u,a),e.clip();const f=e.createRadialGradient(d,u,a*.2,d,u,a*1.05);f.addColorStop(0,ho(bn(l,[255,255,255],.3))),f.addColorStop(.7,c.baseColor),f.addColorStop(1,ho(bn(l,Bs,.4))),e.fillStyle=f,e.shadowColor=vn(l,.35),e.shadowBlur=a*.9,e.shadowOffsetX=0,e.shadowOffsetY=0,e.fillRect(s-a*.1,o-a*.1,r+a*.2,i+a*.2);const h={ctx:e,x:s,y:o,width:r,height:i,radius:a,centerX:d,centerY:u,baseColor:c.baseColor};(dl[t.terrain]??Sr)(h),e.globalCompositeOperation="lighter";const m=e.createRadialGradient(d,u,a*.85,d,u,a*1.18);m.addColorStop(0,"rgba(255, 255, 255, 0)"),m.addColorStop(1,vn(l,.18)),e.fillStyle=m,e.fillRect(s-a*.1,o-a*.1,r+a*.2,i+a*.2),e.globalCompositeOperation="source-over",e.restore();const g=ll(c.icon);if(g){const p=Math.min(r,i)*.62,y=d-p/2,P=u-p/2;e.save(),e.globalAlpha*=.92,e.drawImage(g,y,P,p,p),e.restore()}if(t.building){const p=n[`building-${t.building}`]??n.placeholder;e.drawImage(p,s,o,r,i)}}function hl(e,t){const n=Math.max(e.q*Se,t.minQ),s=Math.min(n+Se-1,t.maxQ),o=Math.max(e.r*Se,t.minR),r=Math.min(o+Se-1,t.maxR);return{qStart:n,qEnd:s,rStart:o,rEnd:r}}class ml{constructor(t){this.map=t,this.unsubscribe=t.addTileChangeListener((n,s,o)=>{this.onTileChange(n,o)})}chunkCanvases=new Map;dirtyChunks=new Set;cachedImages;unsubscribe;dispose(){this.unsubscribe(),this.chunkCanvases.clear(),this.dirtyChunks.clear(),this.cachedImages=void 0}invalidate(){this.chunkCanvases.clear(),this.dirtyChunks.clear(),this.cachedImages=void 0}markChunkDirty(t){this.dirtyChunks.add(t)}markTileDirty(t,n){this.dirtyChunks.add(Uc(t,n))}getRenderableChunks(t,n,s,o){this.refreshAssets(s);const r=[],{width:i,height:a}=wn(n);for(const c of vr(t)){const l=br(c),d=this.ensureChunk(l,c,n,i,a,s,o);d&&r.push(d)}return r}refreshAssets(t){if(this.cachedImages!==t){this.cachedImages=t;for(const n of this.chunkCanvases.keys())this.dirtyChunks.add(n)}}onTileChange(t,n){(n==="created"||n==="terrain"||n==="building"||n==="fog")&&this.markTileDirty(t.q,t.r)}ensureChunk(t,n,s,o,r,i,a){const c=this.chunkCanvases.get(t);if(!c||this.dirtyChunks.has(t)){const l=this.renderChunk(t,n,s,o,r,i,a,c);return this.dirtyChunks.delete(t),l?(this.chunkCanvases.set(t,l),l):(this.chunkCanvases.delete(t),null)}return c}renderChunk(t,n,s,o,r,i,a,c){if(typeof document>"u")return null;const{qStart:l,qEnd:d,rStart:u,rEnd:f}=hl(n,this.map);if(l>d||u>f)return null;const h=o/2,A=r/2;let m=1/0,g=1/0,p=-1/0,y=-1/0;const P=[];for(let z=l;z<=d;z++)for(let S=u;S<=f;S++){const C=this.map.getTile(z,S);if(!C||C.isFogged)continue;const{x:L,y:H}=me({q:z,r:S},s),j=L-a.x-h,x=H-a.y-A;m=Math.min(m,j),g=Math.min(g,x),p=Math.max(p,j+o),y=Math.max(y,x+r),P.push({tile:C,x:j,y:x})}if(!Number.isFinite(m)||!Number.isFinite(g)||!Number.isFinite(p)||!Number.isFinite(y))return null;const N=Math.max(1,Math.ceil(p-m)),M=Math.max(1,Math.ceil(y-g));let w=c?.canvas;(!w||w.width!==N||w.height!==M)&&(w=document.createElement("canvas"),w.width=N,w.height=M);const D=w.getContext("2d");if(!D)throw new Error("Canvas 2D context not available for chunk rendering");D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,N,M);for(const{tile:z,x:S,y:C}of P){const L=S-m,H=C-g;D.save(),fl(D,z,i,L,H,o,r,s),ul(D,L+o/2,H+r/2,s),D.restore()}return{key:t,canvas:w,origin:{x:m,y:g},width:N,height:M}}}const Al=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],be=new Array(512);for(let e=0;e<512;e++)be[e]=Al[e%256];const Ao=new Map,go=e=>e*e*e*(e*(e*6-15)+10),Jn=(e,t,n)=>e+n*(t-e),an=(e,t,n)=>{switch(e&3){case 0:return t+n;case 1:return-t+n;case 2:return t-n;default:return-t-n}};function gl(e,t){const n=Math.floor(e)&255,s=Math.floor(t)&255,o=e-Math.floor(e),r=t-Math.floor(t),i=be[be[n+1]+s+1],a=be[be[n]+s+1],c=be[be[n+1]+s],l=be[be[n]+s],d=go(o),u=go(r),f=Jn(an(l,o,r),an(c,o-1,r),d),h=Jn(an(a,o,r-1),an(i,o-1,r-1),d);return Jn(f,h,u)}function pl(e,t,n=4){let s=0,o=1,r=1,i=0;for(let a=0;a<n;a++)s+=gl(e*o,t*o)*r,i+=r,r*=.5,o*=2;return i>0?s/i:0}function yl(e){const t=Math.max(32,Math.min(512,Math.round(e))),n=t,s=Ao.get(n);if(s)return s;if(typeof document>"u")return null;const o=document.createElement("canvas");o.width=t,o.height=t;const r=o.getContext("2d");if(!r)return null;const i=r.createImageData(t,t),a=t/48;let c=0;for(let l=0;l<t;l++)for(let d=0;d<t;d++){const u=pl(d/a,l/a,5),f=Math.pow((u+1)/2,1.35),h=Math.round(f*255);i.data[c]=255,i.data[c+1]=255,i.data[c+2]=255,i.data[c+3]=h,c+=4}return r.putImageData(i,0,0),Ao.set(n,o),o}function po(e,t,n,s){e.beginPath();for(let o=0;o<6;o++){const r=Math.PI/180*(60*o-30),i=t+s*Math.cos(r),a=n+s*Math.sin(r);o===0?e.moveTo(i,a):e.lineTo(i,a)}e.closePath()}function Ml(e,t,n,s){const o=e.createRadialGradient(t,n,s*.08,t,n,s*1.12);return o.addColorStop(0,En(.4,.35)),o.addColorStop(.35,En(.2,.55)),o.addColorStop(.6,ft(.1,.78)),o.addColorStop(.82,ft(.2,.88)),o.addColorStop(1,ft(.35,.95)),o}function wl(e,t,n,s,o){if(s<=0)return;const r=yl(s*2.2),i=s*2.5,a=t-i/2,c=n-i/2;e.save(),po(e,t,n,s),e.clip();const l=Ml(e,t,n,s);e.fillStyle=l,e.fillRect(a,c,i,i),r&&(e.save(),e.globalCompositeOperation="lighter",e.globalAlpha*=.32,e.drawImage(r,t-s,n-s,s*2,s*2),e.restore()),e.restore(),e.save(),po(e,t,n,s*.99),e.lineJoin="round",e.lineCap="round",e.lineWidth=Sn(s,o,"hover"),e.strokeStyle=ft(.3,.88),e.shadowColor=ft(.45,.42),e.shadowBlur=Math.max(3,s*.45/Math.max(o,.1)),e.stroke(),e.restore()}class bl{constructor(t){this.mapRef=t,this.terrainCache=new ml(t),this.cachedHexSize=t.hexSize}terrainCache;cachedHexSize;get hexSize(){return this.mapRef.hexSize}getOrigin(){return me({q:this.mapRef.minQ,r:this.mapRef.minR},this.hexSize)}invalidateCache(){this.terrainCache.invalidate()}dispose(){this.terrainCache.dispose()}draw(t,n,s){this.ensureHexSize();const o=t.canvas??null,r=Gc(this.mapRef,O,o,this.hexSize);if(!r)return;const i=Kc(r);Yc(this.mapRef,i);const a=this.getOrigin(),c=this.terrainCache.getRenderableChunks(i,this.hexSize,n,a);this.drawChunks(t,c),this.drawFogLayer(t,a,r),s&&this.drawSelection(t,a,s)}drawToCanvas(t,n,s){const o=t.getContext("2d");if(!o)throw new Error("Canvas 2D context not available");this.draw(o,n,s)}ensureHexSize(){this.cachedHexSize!==this.hexSize&&(this.cachedHexSize=this.hexSize,this.terrainCache.invalidate())}drawChunks(t,n){if(n.length!==0)for(const s of n)t.drawImage(s.canvas,s.origin.x,s.origin.y)}drawSelection(t,n,s){const{width:o,height:r}=wn(this.hexSize),{x:i,y:a}=me(s,this.hexSize),c=i-n.x-o/2,l=a-n.y-r/2;this.strokeHex(t,c+o/2,l+r/2,this.hexSize,!0)}drawFogLayer(t,n,s){const{width:o,height:r}=wn(this.hexSize),i=o/2,a=r/2;for(let c=s.rMin;c<=s.rMax;c++)for(let l=s.qMin;l<=s.qMax;l++){const d=this.mapRef.getTile(l,c);if(!d||!d.isFogged)continue;const{x:u,y:f}=me({q:l,r:c},this.hexSize),h=u-n.x-i,A=f-n.y-a,m=this.hexSize,g=h+o/2,p=A+r/2;wl(t,g,p,m,O.zoom)}}strokeHex(t,n,s,o,r=!1){const{stroke:i,glow:a}=nl();this.hexPath(t,n,s,o),t.save(),t.lineJoin="round",t.lineCap="round",r?(t.shadowColor=a,t.shadowBlur=Math.max(6,o*.65/Math.max(O.zoom,.1)),t.lineWidth=Sn(o,O.zoom,"selection"),t.strokeStyle=i,t.stroke()):(t.lineWidth=Sn(o,O.zoom,"hover"),t.shadowColor=En(.1,.45),t.shadowBlur=Math.max(2,o*.4/Math.max(O.zoom,.1)),t.strokeStyle=ft(.1,.72),t.stroke()),t.restore()}hexPath(t,n,s,o){t.beginPath();for(let r=0;r<6;r++){const i=Math.PI/180*(60*r-30),a=n+o*Math.cos(i),c=s+o*Math.sin(i);r===0?t.moveTo(a,c):t.lineTo(a,c)}t.closePath()}}const Qe={accent:"#38bdf8",accentSoft:"rgba(56, 189, 248, 0.2)",warm:"#fbbf24",surface:"rgba(15, 23, 42, 0.92)",border:"rgba(148, 163, 184, 0.34)",text:"#e2e8f0"};let Oe=null;function it(e,t){const n=e.trim();return n.length>0?n:t}function vl(){if(Oe)return Oe;if(typeof window>"u"||typeof document>"u")return Oe=Qe,Oe;try{const e=getComputedStyle(document.documentElement);return Oe={accent:it(e.getPropertyValue("--color-accent"),Qe.accent),accentSoft:it(e.getPropertyValue("--color-accent-soft"),Qe.accentSoft),warm:it(e.getPropertyValue("--color-warning"),Qe.warm),surface:it(e.getPropertyValue("--color-surface-strong"),Qe.surface),border:it(e.getPropertyValue("--hud-border-strong"),Qe.border),text:it(e.getPropertyValue("--color-foreground"),Qe.text)},Oe}catch(e){return console.warn("Failed to read sauna palette tokens from computed styles",e),Oe=Qe,Oe}}function El(e,t){const n=Math.max(0,e.auraRadius),s=me(e.pos,t),o=s.x+t,r=s.y+t;let i=t;if(n<=0)return t*1.6;for(const a of ko){const c=me({q:e.pos.q+a.q*n,r:e.pos.r+a.r*n},t),l=c.x+t,d=c.y+t,u=Math.hypot(l-o,d-r);u>i&&(i=u)}return i+t*.65}function Sl(e,t,n,s,o,r){const i=Math.max(0,Math.min(r,Math.min(s,o)/2));e.moveTo(t+i,n),e.lineTo(t+s-i,n),e.quadraticCurveTo(t+s,n,t+s,n+i),e.lineTo(t+s,n+o-i),e.quadraticCurveTo(t+s,n+o,t+s-i,n+o),e.lineTo(t+i,n+o),e.quadraticCurveTo(t,n+o,t,n+o-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath()}function Bl(e,t,{origin:n,hexSize:s,timestamp:o}){if(!t)return;const r=vl(),i=Number.isFinite(o)?o:typeof performance<"u"?performance.now():Date.now(),a=.5+.5*Math.sin(i*.0035),c=me(t.pos,s),l=c.x-n.x+s,d=c.y-n.y+s,u=El(t,s);e.save(),e.globalCompositeOperation="screen";const f=u+s*(.4+a*.3),h=Math.max(s*.6,u*.58),A=e.createRadialGradient(l,d,h,l,d,f);A.addColorStop(0,r.accentSoft),A.addColorStop(.55,`rgba(56, 189, 248, ${.18+a*.12})`),A.addColorStop(1,"rgba(2, 6, 23, 0)"),e.fillStyle=A,e.beginPath(),e.arc(l,d,f,0,Math.PI*2),e.fill(),e.restore(),e.save(),e.globalCompositeOperation="lighter",e.lineWidth=Math.max(s*.28,6),e.strokeStyle=`rgba(56, 189, 248, ${(.35+a*.2).toFixed(3)})`,e.shadowColor=`rgba(56, 189, 248, ${.45+a*.1})`,e.shadowBlur=s*(.9+a*.45),e.beginPath(),e.arc(l,d,u+s*.12,0,Math.PI*2),e.stroke(),e.restore();const m=s*.9;e.save(),e.beginPath(),e.arc(l,d,m,0,Math.PI*2),e.fillStyle=r.surface,e.globalAlpha*=.96,e.fill(),e.lineWidth=Math.max(1.5,s*.06),e.strokeStyle=r.border,e.shadowColor="rgba(8, 25, 53, 0.6)",e.shadowBlur=s*.45,e.stroke(),e.restore();const g=m*.78,p=Math.max(s*.22,5);e.save(),e.lineWidth=p,e.strokeStyle="rgba(148, 163, 184, 0.24)",e.beginPath(),e.arc(l,d,g,0,Math.PI*2),e.stroke(),e.restore();const y=t.playerSpawnCooldown>0?t.playerSpawnCooldown:1,N=1-Math.min(1,Math.max(0,t.playerSpawnTimer/y)),M=-Math.PI/2,w=M+Math.PI*2*N;if(N>0){e.save(),e.lineWidth=p,e.lineCap="round";const ie=e.createLinearGradient(l,d-g,l,d+g);ie.addColorStop(0,r.accent),ie.addColorStop(1,r.warm),e.strokeStyle=ie,e.shadowColor=`rgba(56, 189, 248, ${.42+a*.18})`,e.shadowBlur=s*(.65+a*.35),e.beginPath(),e.arc(l,d,g,M,w,!1),e.stroke(),e.restore()}const D=Math.max(0,t.playerSpawnTimer),z=Math.ceil(D);e.save(),e.font=`600 ${Math.max(12,s*.9)}px "Inter", "Manrope", "Segoe UI", sans-serif`,e.fillStyle=r.text,e.textAlign="center",e.textBaseline="middle",e.shadowColor="rgba(2, 6, 23, 0.6)",e.shadowBlur=s*.35,e.fillText(String(z),l,d),e.restore(),e.save(),e.font=`500 ${Math.max(10,s*.36)}px "Inter", "Manrope", "Segoe UI", sans-serif`,e.fillStyle="rgba(148, 163, 184, 0.78)",e.textAlign="center",e.textBaseline="top",e.fillText("sec",l,d+g*.45),e.restore();const S="Sauna ♨️",C=Math.max(12,s*.58);e.save(),e.font=`600 ${C}px "Inter", "Manrope", "Segoe UI", sans-serif`;const L=e.measureText(S),H=s*.58,j=s*.32,x=L.width+H*2,Q=C+j*2,k=l-x/2,U=d-u-Q-s*.35,pe=Q/2;e.beginPath(),Sl(e,k,U,x,Q,pe);const F=e.createLinearGradient(k,U,k,U+Q);F.addColorStop(0,"rgba(15, 23, 42, 0.94)"),F.addColorStop(.55,"rgba(15, 23, 42, 0.86)"),F.addColorStop(1,"rgba(30, 41, 59, 0.9)"),e.fillStyle=F,e.shadowColor="rgba(8, 25, 53, 0.6)",e.shadowBlur=s*.4,e.fill(),e.lineWidth=Math.max(1.5,s*.06);const V=e.createLinearGradient(k,U,k+x,U);V.addColorStop(0,`${r.accent}`),V.addColorStop(1,`${r.warm}`),e.strokeStyle=V,e.stroke(),e.fillStyle=r.text,e.shadowColor="rgba(8, 25, 53, 0.65)",e.shadowBlur=s*.3,e.textAlign="center",e.textBaseline="middle",e.fillText(S,l,U+Q/2+C*.05),e.restore()}function Pl(e,t,n,s,o,r){const i=window.devicePixelRatio||1,a=e.canvas.width,c=e.canvas.height;e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,a,c);const l=a/i,d=c/i;e.scale(i,i),e.translate(l/2,d/2),e.scale(O.zoom,O.zoom);const u=t.getOrigin();e.translate(-(O.x-u.x),-(O.y-u.y)),t.draw(e,n,o??void 0);const f=r?.saunojas;f&&Array.isArray(f.units)&&f.units.length>0&&f.draw(e,f.units,{originX:u.x,originY:u.y,hexRadius:t.hexSize}),Il(e,t,n,s,u,r?.fx),r?.sauna&&Bl(e,r.sauna,{origin:u,hexSize:t.hexSize}),e.restore()}function Il(e,t,n,s,o,r){const{width:i,height:a}=wn(t.hexSize),c=i/2,l=a/2,d=s.filter(u=>u.faction==="player"&&!u.isDead()).map(u=>({coord:u.coord,range:u.getVisionRange()}));for(const u of s){if(u.isDead()||u.faction==="enemy"&&!d.some(({coord:P,range:N})=>jt(P,u.coord)<=N))continue;const{x:f,y:h}=me(u.coord,t.hexSize),A=f-o.x-c,m=h-o.y-l,g=n[`unit-${u.type}`]??n.placeholder,p=u.getMaxHealth();e.save();const y=r?.getUnitAlpha?.(u);if(typeof y=="number"){const P=Math.min(1,Math.max(0,y));if(P<=0){e.restore();continue}e.globalAlpha*=P}u.stats.health/p<.5&&(e.filter="saturate(0)"),e.drawImage(g,A,m,i,a),Es()&&u.faction==="player"&&(e.strokeStyle="rgba(255,255,255,0.5)",e.lineWidth=2,e.strokeRect(A,m,i,a)),e.restore()}}const zl=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null,Cl=typeof matchMedia=="function"?matchMedia("(pointer: coarse)"):null,Dl=900,Nl=650;function Ll(e){switch(e){case"down":return{x:0,y:36};case"left":return{x:-26,y:-18};case"right":return{x:26,y:-18};case"up":default:return{x:0,y:-40}}}function Tl(e){const t=document.createElement("div");t.className="ui-floater-layer",e.appendChild(t);const n=!!zl?.matches,s=!!Cl?.matches;return{spawn:({text:i,x:a,y:c,color:l,direction:d="up",durationMs:u,fontSize:f})=>{const h=document.createElement("span");h.className="ui-floater",h.textContent=i,h.style.left=`${Math.round(a)}px`,h.style.top=`${Math.round(c)}px`,l&&(h.style.color=l),f&&(h.style.fontSize=`${f}px`);const A=s?12:24;for(;t.childElementCount>=A;)t.firstElementChild?.remove();t.appendChild(h);const m=u??(s?Nl:Dl);if(n||!h.animate){h.style.opacity="0",h.style.transition=`opacity ${Math.round(m*.8)}ms ease-out`,requestAnimationFrame(()=>{h.style.opacity="1",requestAnimationFrame(()=>{h.style.opacity="0"})}),window.setTimeout(()=>{h.remove()},m);return}const g=Ll(d),p=[{transform:"translate3d(-50%, -50%, 0) translate3d(0, 0, 0)",opacity:0},{transform:"translate3d(-50%, -50%, 0) translate3d(0, 0, 0)",opacity:1,offset:.18},{transform:`translate3d(-50%, -50%, 0) translate3d(${g.x}px, ${g.y}px, 0)`,opacity:0}],y=h.animate(p,{duration:m,easing:"cubic-bezier(0.18, 0.89, 0.32, 1.28)",fill:"forwards"});y.onfinish=()=>{h.remove()}},destroy:()=>{t.remove()}}}const yo=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),xl=new Intl.NumberFormat("en-US",{maximumFractionDigits:1,minimumFractionDigits:0});function Mo(e){return 1-(1-e)*(1-e)}function cn(e,t,n){return Math.min(n,Math.max(t,e))}const kl="var(--color-danger)",jl="color-mix(in srgb, #34d399 88%, white 12%)",Ql=720,Ol=540,Hl=220,Rl=180,Gl=6,Ul=3,Kl="color-mix(in srgb, #fbbf24 82%, white 10%)",Xl=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null,Yl=typeof matchMedia=="function"?matchMedia("(pointer: coarse)"):null;function Fl(e){const{canvas:t,overlay:n,mapRenderer:s,getUnitById:o,requestDraw:r}=e,i=Tl(n),a=new Map,c=new Map,l=[],d={x:0,y:0},u=!!Xl?.matches,f=!!Yl?.matches,h=f?Ol:Ql,A=f?Rl:Hl,m=f?Ul:Gl,g=()=>{r&&(typeof requestAnimationFrame=="function"?requestAnimationFrame(()=>r()):r())},p=C=>{const L=t.getBoundingClientRect(),H=n.getBoundingClientRect();if(L.width===0||L.height===0)return null;const{x:j,y:x}=me(C,s.hexSize),Q=(j-O.x)*O.zoom+L.width/2,k=(x-O.y)*O.zoom+L.height/2,U=s.hexSize*O.zoom*.75;return{x:Q+(L.left-H.left),y:k+(L.top-H.top)-U}},y=(C,L,H,j="up")=>{const x=o(C);if(!x)return;const Q=p(x.coord);Q&&i.spawn({text:L,x:Q.x,y:Q.y,color:H,direction:j,fontSize:f?18:void 0})},P=C=>{if(!C||C.amount<=0)return;const L=yo.format(Math.max(1,Math.round(C.amount)));if(y(C.targetId,`-${L}`,kl,"up"),!u){const H=typeof performance<"u"?performance.now():Date.now();l.push({start:H,duration:A,intensity:m,seedX:Math.random()*500,seedY:Math.random()*500})}g()},N=C=>{if(!C||C.amount<=0)return;const L=C.amount>=1?yo.format(Math.round(C.amount)):xl.format(cn(C.amount,0,9.9));y(C.unitId,`+${L}`,jl,"up"),g()},M=C=>{if(!C)return;const L=typeof performance<"u"?performance.now():Date.now();a.set(C.unitId,{start:L,duration:h}),y(C.unitId,"✖",Kl,"down"),g()};return B.on("unitDamaged",P),B.on("unitHealed",N),B.on("unitDied",M),{step:C=>{if(u)d.x=0,d.y=0;else{let L=0,H=0;for(let j=l.length-1;j>=0;j--){const x=l[j],Q=C-x.start;if(Q>=x.duration){l.splice(j,1);continue}const k=cn(Q/x.duration,0,1),U=x.intensity*Mo(1-k);L+=Math.sin((C+x.seedX)/16)*U,H+=Math.cos((C+x.seedY)/18)*U}d.x=L,d.y=H}for(const[L,H]of a){const j=C-H.start,x=cn(j/H.duration,0,1),Q=1-Mo(x);if(x>=1){c.delete(L),a.delete(L);continue}c.set(L,cn(Q,0,1))}},getShakeOffset:()=>({x:d.x,y:d.y}),getUnitAlpha:C=>c.get(C)??1,dispose:()=>{B.off("unitDamaged",P),B.off("unitHealed",N),B.off("unitDied",M),l.length=0,a.clear(),c.clear(),i.destroy()}}}function Jl(){return`${"/".endsWith("/")?"/":"//"}${"assets/units/saunoja.svg".replace(/^\/+/,"")}`}const wo=Jl();let lt=null,Tt=null;function ls(e){return!!(e&&e.complete&&e.naturalWidth>0&&e.naturalHeight>0)}function ql(e,t){if(!t)return e;try{t(e)}catch(n){console.error("Saunoja icon onLoad callback failed",n)}return e}function Pr(e){const t=s=>e?s.then(o=>ql(o,e)):s;if(ls(lt))return t(Promise.resolve(lt));if(Tt)return t(Tt);if(typeof Image>"u")return Promise.reject(new Error("Image constructor is not available in this environment."));const n=new Image;return n.decoding="async",lt=n,Tt=new Promise((s,o)=>{const r=()=>{n.onload=null,n.onerror=null},i=()=>{r(),s(n)};n.onload=i,n.onerror=a=>{r(),lt=null,Tt=null;const c=new Error(`Failed to load saunoja icon from ${wo}`);console.warn(c.message,a),o(c)},n.src=wo,ls(n)&&i()}),t(Tt)}function Zl(e,t,{originX:n=0,originY:s=0,hexRadius:o=At}={}){if(!e||!Array.isArray(t)||t.length===0)return;const r=ls(lt)?lt:null;if(!r)return;const i=Number.isFinite(o)&&o>0?o:At,a=i*.98,c=[...t].sort((l,d)=>l.coord.r!==d.coord.r?l.coord.r-d.coord.r:l.coord.q!==d.coord.q?l.coord.q-d.coord.q:l.id.localeCompare(d.id));for(const l of c){const{x:d,y:u}=me(l.coord,i),f=d-n,h=u-s,A=f+i,m=h+i;e.save(),Ot(e,A,m,a),e.clip();const g=i*2.15/Math.max(r.naturalWidth,r.naturalHeight||1),p=r.naturalWidth*g,y=r.naturalHeight*g,P=A-p/2,N=m-y*.72;e.save(),e.filter="grayscale(100%) contrast(112%)",e.globalAlpha*=.96,e.drawImage(r,P,N,p,y),e.restore(),e.save(),e.globalCompositeOperation="multiply";const M=e.createRadialGradient(A,m+a*.38,a*.2,A,m+a*.38,a*1.05);M.addColorStop(0,"rgba(15, 23, 42, 0.55)"),M.addColorStop(1,"rgba(15, 23, 42, 0)"),e.fillStyle=M,e.fillRect(A-a,m-a,a*2,a*2),e.restore(),e.save(),e.globalCompositeOperation="soft-light";const w=e.createLinearGradient(A,m-a,A,m+a);w.addColorStop(0,"rgba(255, 232, 210, 0.18)"),w.addColorStop(.52,"rgba(255, 183, 124, 0.32)"),w.addColorStop(1,"rgba(212, 97, 54, 0.5)"),e.fillStyle=w,e.fillRect(A-a,m-a,a*2,a*2),e.restore(),e.save(),e.globalCompositeOperation="screen",e.globalAlpha=.75;const D=e.createRadialGradient(A,m-a*.68,a*.1,A,m,a*1.12);D.addColorStop(0,"rgba(255, 255, 255, 0.85)"),D.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=D,e.fillRect(A-a,m-a,a*2,a*2),e.restore();const S=performance.now()-l.lastHitAt,C=120;if(S<C){const j=1-S/C;Ia(e,{centerX:A,centerY:m,radius:a,progress:j})}e.restore(),za(e,{centerX:A,centerY:m-i*.18,radius:i*.94,intensity:l.steam});const L=i*.42,H=m+i*.34;Pa(e,{centerX:A,centerY:H,hp:l.hp,maxHp:l.maxHp,radius:L})}}const Wl=["Resolute Sauna Guardian","Steam Scholar","Frost-Hardened","Loyal Watchbearer","Aura Whisperer","Shield Brother","Stonefooted Scout","Sisu-Forged Veteran","Brewmaster Quartermaster","Icebreaker Herald","Runic Tactician","Torchbearer"],Vl=["Heat Fickle","Soot Allergic","Slow to Spark","Overconfident","Distracted Dreamer","Stubborn Stoker","Thirsty Between Battles","Clumsy Footwork","Rust-Prone Gear","Echo-Lost Listener"];function bo(e,t,n){const s=[...e],o=[],r=Math.max(0,Math.min(t,s.length));for(let i=0;i<r;i++){const a=Math.floor(n()*s.length),[c]=s.splice(a,1);c&&o.push(c)}return o}function _l(e,t){for(let n=e.length-1;n>0;n--){const s=Math.floor(t()*(n+1));[e[n],e[s]]=[e[s],e[n]]}return e}function $l(e=Math.random){typeof e!="function"&&(e=Math.random);const t=bo(Wl,2,e),n=bo(Vl,1,e),s=[...t,...n];return _l(s,e).map(o=>o.trim()).filter(o=>o.length>0)}const ed=1;function qn(e,t=0){return Number.isFinite(e)?e:t}function td(e){const{heat:t,pickSpawnTile:n,spawnUnit:s,maxSpawns:o}=e,r=Math.max(ed,dt),i=Math.max(0,qn(e.minUpkeepReserve??r,r));let a=Math.max(0,qn(e.availableUpkeep,0));const c=Math.max(1,Math.floor(qn(o??Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)));let l=0,d=0,u=0,f=0,h=0,A=0;for(;t.hasTriggerReady()&&l<c;){if(l+=1,a<i){f+=1,d+=t.vent(.5);break}const m=n();if(!m){h+=1,d+=t.vent(.25);break}if(!s(m)){A+=1,d+=t.vent(.25);break}if(!t.consumeTrigger()){A+=1;break}u+=1,a=Math.max(0,a-i)}return{spawned:u,blockedByUpkeep:f,blockedByPosition:h,failedSpawns:A,ventedHeat:d,remainingUpkeep:a}}function vo(e,t=0){return Number.isFinite(e)?e:t}function nd(e){const t=Math.max(0,vo(e.dt,0)),{addedHeat:n,cooledHeat:s}=e.heat.advance(t);let o=0;for(const l of e.units){if(l.isDead()||l.faction!=="player")continue;const d=Math.max(0,vo(e.getUnitUpkeep(l),0));d>0&&(o+=d)}o>0&&e.state.addResource(E.SAUNA_BEER,-o);const r=e.state.getResource(E.SAUNA_BEER),i=td({heat:e.heat,availableUpkeep:r,pickSpawnTile:e.pickSpawnTile,spawnUnit:e.spawnBaseUnit,minUpkeepReserve:e.minUpkeepReserve,maxSpawns:e.maxSpawns}),a=e.heat.getCooldownSeconds(),c=e.heat.timeUntilNextTrigger();return e.sauna.heat=e.heat.getHeat(),e.sauna.playerSpawnThreshold=e.heat.getThreshold(),e.sauna.playerSpawnCooldown=Number.isFinite(a)?a:0,e.sauna.playerSpawnTimer=Number.isFinite(c)?c:0,e.sauna.heatPerTick=e.heat.getBuildRate(),{addedHeat:n,cooledHeat:s,upkeepDrain:o,spawn:i,beerRemaining:e.state.getResource(E.SAUNA_BEER),availableUpkeep:i.remainingUpkeep}}function sd(){try{return globalThis.localStorage??null}catch(e){return console.warn("Unable to access localStorage for inventory persistence",e),null}}function od(e,t){const n=e.getItem(t);if(n)try{return JSON.parse(n)}catch(s){console.warn(`Failed to parse persisted inventory for "${t}", clearing.`,s),e.removeItem(t);return}}function Eo(e,t,n){const s=Number.isFinite(e.quantity)?e.quantity:1,o=Math.max(1,Math.round(s)),r=typeof e.rarity=="string"?e.rarity.trim():void 0,i=typeof e.icon=="string"?e.icon:void 0,a=typeof e.description=="string"?e.description:void 0;return{id:e.id,name:e.name,description:a,icon:i,rarity:r,quantity:o,acquiredAt:t,sourceTableId:n?.tableId,sourceEntryId:n?.entryId}}class rd{listeners=new Set;storageKey;now;maxStashSize;storage;autoEquip;stash=[];constructor(t={}){this.storageKey=t.storageKey??"autobattles:inventory",this.now=typeof t.now=="function"?t.now:()=>Date.now(),this.maxStashSize=Math.max(1,Math.floor(t.maxStashSize??24)),this.storage=sd(),this.autoEquip=t.autoEquip??!0,this.load()}load(){if(!this.storage)return;const t=od(this.storage,this.storageKey);if(t&&(typeof t.autoEquip=="boolean"&&(this.autoEquip=t.autoEquip),Array.isArray(t.stash))){const n=[];for(const s of t.stash){if(!s||typeof s!="object")continue;const{id:o,name:r,quantity:i}=s;if(typeof o!="string"||typeof r!="string")continue;const a=Number.isFinite(s.acquiredAt)?s.acquiredAt:this.now();n.push(Eo({id:o,name:r,description:s.description,icon:s.icon,rarity:s.rarity,quantity:i},a,{tableId:s.sourceTableId,entryId:s.sourceEntryId}))}this.stash=n.slice(0,this.maxStashSize)}}persist(){if(!this.storage)return;const t={autoEquip:this.autoEquip,stash:this.stash.map(n=>({...n}))};try{this.storage.setItem(this.storageKey,JSON.stringify(t))}catch(n){console.warn("Failed to persist inventory state",n)}}emit(t){for(const n of this.listeners)n(t)}on(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}isAutoEquipEnabled(){return this.autoEquip}setAutoEquip(t){this.autoEquip!==t&&(this.autoEquip=t,this.persist(),this.emit({type:"settings-updated",autoEquip:this.autoEquip}))}getStash(){return this.stash.map(t=>({...t}))}getStashSize(){return this.stash.length}addLoot(t,n={}){return this.addItem({...t.item},{...n,sourceTableId:n.sourceTableId,sourceEntryId:n.sourceEntryId??t.entryId})}addItem(t,n={}){const s=Math.max(0,Math.round(this.now())),o=Eo(t,s,{tableId:n.sourceTableId,entryId:n.sourceEntryId}),r=n.autoEquip??this.autoEquip;let i=!1;if(r&&n.unitId&&typeof n.equip=="function"){try{i=n.equip(n.unitId,o)}catch(a){console.warn("Failed to auto-equip inventory item",{item:o,error:a})}if(i)return this.emit({type:"item-acquired",item:o,equipped:!0,unitId:n.unitId,stashSize:this.stash.length}),this.persist(),{item:o,equipped:!0}}if(this.stash.push(o),this.stash.length>this.maxStashSize){const a=this.stash.splice(0,this.stash.length-this.maxStashSize);a.length>0&&console.warn("Inventory stash full, trimming oldest items",a)}return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-acquired",item:o,equipped:!1,unitId:n.unitId,stashSize:this.stash.length}),{item:o,equipped:!1,stashIndex:this.stash.length-1}}equipFromStash(t,n,s){if(t<0||t>=this.stash.length)return!1;const o=this.stash[t];let r=!1;try{r=s(n,o)}catch(a){console.warn("Failed to equip stash item",{item:o,error:a}),r=!1}if(!r)return!1;const[i]=this.stash.splice(t,1);return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-equipped",item:i,unitId:n,fromStash:!0,stashSize:this.stash.length}),!0}discardFromStash(t){if(t<0||t>=this.stash.length)return null;const[n]=this.stash.splice(t,1);return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-discarded",item:n,stashSize:this.stash.length}),n}}const id=4500;function ad(e){return new Date(e).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}function cd(e,t={}){const n=document.getElementById("ui-overlay");if(!n)return{destroy:()=>{}};const{actions:s}=xn(n),o=n.querySelector(".loot-toast-stack"),r=o??document.createElement("div");o||(r.classList.add("loot-toast-stack"),r.setAttribute("aria-live","polite"),r.setAttribute("role","status"),n.appendChild(r)),n.querySelectorAll(".inventory-badge").forEach(w=>w.remove());const i=document.createElement("button");i.type="button",i.classList.add("inventory-badge"),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-controls","inventory-stash-panel"),i.setAttribute("aria-label","Open quartermaster stash");const a=document.createElement("span");a.classList.add("inventory-badge__icon"),a.setAttribute("aria-hidden","true");const c=document.createElement("span");c.classList.add("inventory-badge__text"),c.textContent="Stash";const l=document.createElement("span");l.classList.add("inventory-badge__count"),l.textContent="0",l.setAttribute("aria-hidden","true"),i.append(a,c,l),n.querySelector("#inventory-stash-panel")?.remove();const d=document.createElement("section");d.id="inventory-stash-panel",d.classList.add("inventory-stash"),d.hidden=!0,d.tabIndex=-1,d.setAttribute("aria-label","Quartermaster stash");const u=document.createElement("header");u.classList.add("inventory-stash__header");const f=document.createElement("h3");f.classList.add("inventory-stash__title"),f.textContent="Quartermaster Stash",u.appendChild(f);const h=document.createElement("span");h.classList.add("inventory-stash__meta"),u.appendChild(h);const A=document.createElement("button");A.type="button",A.classList.add("inventory-stash__close"),A.textContent="Close",A.addEventListener("click",()=>{d.hidden=!0,i.setAttribute("aria-expanded","false"),i.focus({preventScroll:!0})}),u.appendChild(A);const m=document.createElement("ul");m.classList.add("inventory-stash__list"),m.setAttribute("role","list"),d.append(u,m),s.appendChild(i),n.appendChild(d);function g(){const w=d.hidden;d.hidden=!w,i.setAttribute("aria-expanded",w?"true":"false"),i.setAttribute("aria-label",w?"Close quartermaster stash":"Open quartermaster stash"),w&&d.focus({preventScroll:!0})}i.addEventListener("click",()=>{g()});function p(){m.innerHTML="";const w=document.createElement("li");w.classList.add("inventory-stash__empty"),w.textContent="No items are waiting in the stash.",m.appendChild(w)}function y(w,D="loot"){const z=document.createElement("div");z.classList.add("loot-toast"),z.dataset.variant=D,z.textContent=w,r.appendChild(z);const S=window.setTimeout(()=>{z.classList.add("loot-toast--exit"),window.setTimeout(()=>z.remove(),400)},id);z.addEventListener("click",()=>{window.clearTimeout(S),z.remove()})}function P(w){if(l.textContent=String(w.length),i.dataset.count=String(w.length),h.textContent=w.length===0?"Empty":`${w.length} item(s)`,w.length===0){p();return}m.innerHTML="",w.forEach((D,z)=>{const S=document.createElement("li");S.classList.add("inventory-stash__item"),S.dataset.rarity=D.rarity??"common";const C=document.createElement("div");if(C.classList.add("inventory-stash__item-title"),C.textContent=D.name,S.appendChild(C),D.rarity){const k=document.createElement("span");k.classList.add("inventory-stash__item-rarity"),k.textContent=D.rarity,S.appendChild(k)}const L=document.createElement("span");L.classList.add("inventory-stash__item-quantity"),L.textContent=`×${D.quantity}`,S.appendChild(L);const H=document.createElement("span");H.classList.add("inventory-stash__item-time"),H.textContent=ad(D.acquiredAt),S.appendChild(H);const j=document.createElement("div");j.classList.add("inventory-stash__actions");const x=document.createElement("button");x.type="button",x.classList.add("inventory-stash__action"),x.textContent="Equip to selected",x.addEventListener("click",()=>{const k=t.getSelectedUnitId?.()??null;if(!k){y("Select an attendant before equipping an item.","warn");return}const U=t.onEquip??(()=>!1);if(!e.equipFromStash(z,k,U)){y("Unable to equip that item right now.","warn");return}y(`Equipped ${D.name} to the selected attendant.`,"info")}),j.appendChild(x);const Q=document.createElement("button");Q.type="button",Q.classList.add("inventory-stash__action","inventory-stash__action--danger"),Q.textContent="Discard",Q.addEventListener("click",()=>{const k=e.discardFromStash(z);k&&y(`${k.name} was discarded from the stash.`,"warn")}),j.appendChild(Q),S.appendChild(j),m.appendChild(S)})}i.dataset.autoequip=e.isAutoEquipEnabled()?"on":"off",P(e.getStash());const N=e.on(w=>{switch(w.type){case"item-acquired":w.equipped?y(`${w.item.name} auto-equipped successfully.`,"info"):y(`New item secured: ${w.item.name}`);break;case"item-equipped":y(`${w.item.name} equipped to the selected attendant.`,"info");break;case"item-discarded":y(`${w.item.name} discarded from the stash.`,"warn");break;case"stash-updated":P(w.stash);break;case"settings-updated":i.dataset.autoequip=w.autoEquip?"on":"off";break}});return{destroy:()=>{N(),i.remove(),d.remove(),r.hasChildNodes()||r.remove()}}}const ld=Object.freeze({common:1,uncommon:.6,rare:.35,epic:.18,legendary:.08,mythic:.03}),dd=Object.freeze({id:"general-salvage",label:"General Salvage",entries:Object.freeze([{id:"birch-sap-satchel",name:"Birch Sap Satchel",description:"Soothing birch sap that doubles as a brisk field tonic.",rarity:"common",quantity:{min:1,max:3},weight:6},{id:"steamed-bandages",name:"Steamed Linen Bandages",description:"Freshly steamed bandages infused with pine oils.",rarity:"common",quantity:1,weight:5},{id:"emberglass-shard",name:"Emberglass Shard",description:"A radiant shard used to kindle sauna braziers.",rarity:"uncommon",quantity:1,weight:3},{id:"aurora-distillate",name:"Aurora Distillate",description:"Vials of shimmering condensation that empower sauna rituals.",rarity:"rare",quantity:1,weight:1.5},{id:"myrsky-charm",name:"Myrsky Charm",description:"Storm-forged charm rumored to call down aurora flares.",rarity:"epic",quantity:1,weight:.7}])}),ud=Object.freeze({base:Object.freeze({id:"enemy-raiders",label:"Avanto Marauder Spoils",entries:Object.freeze([{id:"cracked-ice-amulet",name:"Cracked Ice Amulet",description:"Necklace of frostbitten charms that hum when danger nears.",rarity:"common",quantity:1,weight:5},{id:"stolen-sauna-tokens",name:"Stolen Sauna Tokens",description:"Pilfered entrance tokens, gladly accepted back at any sauna hall.",rarity:"uncommon",quantity:{min:2,max:5},weight:3},{id:"glacier-brand",name:"Glacier Brand",description:"A cleaver chilled in glacial meltwater that never dulls.",rarity:"rare",quantity:1,weight:1.25}])}),elite:Object.freeze({id:"enemy-champions",label:"Avanto Champion Cache",entries:Object.freeze([{id:"frostwyrm-signet",name:"Frostwyrm Signet",description:"An icy signet ring that wreathes its bearer in frozen vapour.",rarity:"epic",quantity:1,weight:1.1},{id:"aurora-lattice",name:"Aurora Lattice",description:"Filigree latticework that channels auroral light into focused beams.",rarity:"legendary",quantity:1,weight:.4},{id:"midnight-bloodwine",name:"Midnight Bloodwine",description:"A mythical draught said to rekindle a warrior's lost resolve.",rarity:"mythic",quantity:1,weight:.12}])})}),fd=Object.freeze({base:Object.freeze({id:"deepwood-offerings",label:"Deepwood Offerings",entries:Object.freeze([{id:"spirit-oak-charm",name:"Spirit Oak Charm",description:"Carved from living oak, it whispers guidance between sauna rounds.",rarity:"uncommon",quantity:1,weight:4},{id:"sauna-incense",name:"Sauna Incense Pouches",description:"Fragrant blends that steady breathing before the next engagement.",rarity:"common",quantity:{min:1,max:4},weight:5},{id:"emberglass-arrow",name:"Emberglass Arrow Bundle",description:"Arrowheads that glow amber when a perfect shot reveals itself.",rarity:"rare",quantity:{min:1,max:2},weight:1.75}])}),elite:Object.freeze({id:"deepwood-ritual-cache",label:"Deepwood Ritual Cache",entries:Object.freeze([{id:"windstep-totem",name:"Windstep Totem",description:"Totem etched with gale sigils that lighten every cautious stride.",rarity:"epic",quantity:1,weight:.9},{id:"searing-chant-censer",name:"Searing Chant Censer",description:"An ornate censer that empowers allies with smouldering hymns.",rarity:"legendary",quantity:1,weight:.35}])})}),hd=Object.freeze({enemy:ud,deepwood:fd});function md(e){return hd[e]??{base:dd}}function Ad(e,t=!1){const n=md(e);return t&&n.elite?n.elite:n.base}function gd(e){if(!Number.isFinite(e))return 1;const t=Math.floor(e);return t<=0?0:Math.min(10,t)}function pd(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.max(1,Math.round(e));if(!e)return 1;const n=e,s=Math.max(1,Math.round(n.min)),r=Math.max(s,Math.round(n.max))-s+1,i=Math.floor(Math.max(0,Math.min(.999999,t()))*r);return s+i}function yd(e){const t=ld[e.rarity]??1,n=typeof e.weight=="number"?e.weight:1;return Math.max(0,n)*Math.max(0,t)}function Md(e,t){const n=e.map(i=>({entry:i,weight:yd(i)})).filter(i=>i.weight>0);if(n.length===0)return null;const s=n.reduce((i,a)=>i+a.weight,0),o=Math.max(0,Math.min(.999999,t()))*s;let r=0;for(const i of n)if(r+=i.weight,o<r)return i.entry;return n[n.length-1]?.entry??null}function wd(e,t){return{id:e.id,name:e.name,description:e.description,icon:e.icon,rarity:e.rarity,quantity:t}}function bd(e){const t=typeof e.random=="function"?e.random:Math.random,n=!!e.elite,s=e.table??Ad(e.factionId,n),o=gd(e.rolls),r=[];if(o<=0||s.entries.length===0)return{factionId:e.factionId,elite:n,tableId:s.id,tableLabel:s.label,rolls:r};for(let i=0;i<o;i+=1){const a=Md(s.entries,t);if(!a)break;const c=pd(a.quantity,t);r.push({entryId:a.id,rarity:a.rarity,quantity:c,item:wd(a,c)})}return{factionId:e.factionId,elite:n,tableId:s.id,tableLabel:s.label,rolls:r}}const vd="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23a4d67a'%20/%3e%3cpolygon%20points='16,48%2032,16%2048,48'%20fill='%23d2691e'%20/%3e%3crect%20x='24'%20y='32'%20width='16'%20height='16'%20fill='%23f4a460'%20/%3e%3c/svg%3e",Ed="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23c0c0c0'%20/%3e%3crect%20x='8'%20y='24'%20width='48'%20height='24'%20fill='%23808080'%20/%3e%3crect%20x='24'%20y='16'%20width='16'%20height='8'%20fill='%23606060'%20/%3e%3c/svg%3e",Sd="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23e0e0e0'%20/%3e%3crect%20x='10'%20y='22'%20width='12'%20height='30'%20fill='%23a9a9a9'%20/%3e%3crect%20x='26'%20y='14'%20width='12'%20height='38'%20fill='%23808080'%20/%3e%3crect%20x='42'%20y='26'%20width='12'%20height='26'%20fill='%23a9a9a9'%20/%3e%3c/svg%3e",Bd="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%238b4513'%20/%3e%3cpolygon%20points='32,10%2042,22%2022,22'%20fill='%23555'%20/%3e%3crect%20x='30'%20y='22'%20width='4'%20height='32'%20fill='%23ccc'%20/%3e%3c/svg%3e",Pd="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%234682b4'%20/%3e%3ccircle%20cx='32'%20cy='24'%20r='12'%20fill='%23fff'%20/%3e%3crect%20x='28'%20y='36'%20width='8'%20height='16'%20fill='%23fff'%20/%3e%3c/svg%3e",Id="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23556b2f'%20/%3e%3cline%20x1='16'%20y1='16'%20x2='48'%20y2='48'%20stroke='%23fff'%20stroke-width='4'%20/%3e%3cpolygon%20points='48,48%2044,36%2036,44'%20fill='%23fff'%20/%3e%3c/svg%3e",zd="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eAvanto%20Marauder%3c/title%3e%3cdesc%20id='desc'%3eFrost-clad%20marauder%20icon%20with%20jagged%20pauldrons,%20icy%20beard,%20and%20polar%20glow.%3c/desc%3e%3cdefs%3e%3clinearGradient%20id='bg'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23082f49'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230f172a'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='armor'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e2e8f0'%20/%3e%3cstop%20offset='60%25'%20stop-color='%2394a3b8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231f2937'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='beard'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23bae6fd'%20/%3e%3c/linearGradient%3e%3cradialGradient%20id='glow'%20cx='50%25'%20cy='20%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='rgba(191,%20219,%20254,%200.85)'%20/%3e%3cstop%20offset='100%25'%20stop-color='rgba(14,%20116,%20144,%200)'%20/%3e%3c/radialGradient%3e%3c/defs%3e%3crect%20width='128'%20height='128'%20rx='20'%20fill='url(%23bg)'%20/%3e%3ccircle%20cx='64'%20cy='46'%20r='38'%20fill='url(%23glow)'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2018c-14%200-26%208-32%2020l10%204c6-8%2014-12%2022-12s16%204%2022%2012l10-4C90%2026%2078%2018%2064%2018z'%20fill='%23cffafe'%20opacity='0.4'%20/%3e%3cpath%20d='M64%2036c-14%200-28%2010-28%2028v10l-12%2016%2018%2010%2022-10%2022%2010%2018-10-12-16V64c0-18-14-28-28-28z'%20fill='url(%23armor)'%20stroke='%230f172a'%20stroke-width='2'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M48%2090l-12%206-10%2020%2020-8%2018%208%2018-8%2020%208-10-20-12-6'%20fill='%230f172a'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2046c-10%200-18%208-18%2018v10c12-8%2024-8%2036%200V64c0-10-8-18-18-18z'%20fill='%230f172a'%20/%3e%3cpath%20d='M64%2050c-8%200-14%206-14%2014%206-4%2012-6%2014-6s8%202%2014%206c0-8-6-14-14-14z'%20fill='%23bae6fd'%20opacity='0.85'%20/%3e%3cpath%20d='M58%2084c-4%200-8%202-10%206%204%200%208%200%2010-2s4-2%206-2%204%200%206%202%206%202%2010%202c-2-4-6-6-10-6h-12z'%20fill='%23f8fafc'%20opacity='0.75'%20/%3e%3cpath%20d='M64%2086c-6%200-12%204-14%2010%204%202%2010%204%2014%204s10-2%2014-4c-2-6-8-10-14-10z'%20fill='url(%23beard)'%20stroke='%23bae6fd'%20stroke-width='1.4'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M42%2064c-4-8-6-18-6-28-6%208-10%2018-10%2030%204-2%2010-2%2016-2z'%20fill='%230ea5e9'%20opacity='0.5'%20/%3e%3cpath%20d='M86%2064c4-8%206-18%206-28%206%208%2010%2018%2010%2030-4-2-10-2-16-2z'%20fill='%230ea5e9'%20opacity='0.5'%20/%3e%3cpath%20d='M34%2098c-6%202-12%206-14%2012%206%200%2012-2%2018-4'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M94%20106c6%202%2012%204%2018%204-2-6-8-10-14-12'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3c/svg%3e",xt="/",Be={saunaBeer:`${xt}assets/ui/sauna-beer.svg`,saunojaRoster:`${xt}assets/ui/saunoja-roster.svg`,resource:`${xt}assets/ui/resource.svg`,sisu:`${xt}assets/ui/resource.svg`,sound:`${xt}assets/ui/sound.svg`},Cd={images:{placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=","building-farm":vd,"building-barracks":Ed,"building-city":Sd,"building-mine":Bd,"unit-soldier":Pd,"unit-archer":Id,"unit-avanto-marauder":zd,"icon-sauna-beer":Be.saunaBeer,"icon-saunoja-roster":Be.saunojaRoster,"icon-resource":Be.resource,"icon-sound":Be.sound}};let Ir=null;function Dd(e){Ir=e}function zr(){return Ir}const Nd=["city"],Ld=1e4,Td=12e3;function xd(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function So(e){return Object.freeze({strongholds:{...e.strongholds},roster:{...e.roster},economy:{...e.economy},startedAt:e.startedAt})}function Bo(e){const t={[E.SAUNA_BEER]:0,[E.SAUNAKUNNIA]:0,[E.SISU]:0};return Object.values(E).forEach(n=>{t[n]=e.getResource(n)}),t}class kd{timeSource;state;map;getRosterCount;strongholdTypes;rosterGraceMs;bankruptcyGraceMs;progress;startResources;strongholds=new Map;progressListeners=new Set;resolutionListeners=new Set;mapDisposer=null;rosterTimeout=null;bankruptcyTimeout=null;bankruptSince=null;wipeSince=null;resolution=null;disposed=!1;constructor(t){this.timeSource=typeof t.timeSource=="function"?t.timeSource:xd,this.state=t.state,this.map=t.map,this.getRosterCount=t.getRosterCount;const n=t.strongholdTypes?.length?t.strongholdTypes:Nd;this.strongholdTypes=new Set(n),this.rosterGraceMs=Math.max(0,t.rosterWipeGraceMs??Ld),this.bankruptcyGraceMs=Math.max(0,t.bankruptcyGraceMs??Td),this.startResources=Bo(this.state);const s=this.state.getResource(E.SAUNA_BEER),o=Math.max(0,Math.round(this.getRosterCount()))||0;this.progress={strongholds:{total:0,destroyed:0,remaining:0},roster:{active:o,totalDeaths:0,wipeSince:null,wipeDurationMs:0},economy:{beer:s,worstBeer:s,bankruptSince:null,bankruptDurationMs:0},startedAt:this.timeSource()},this.bootstrapStrongholds(),this.attachMapListener(),this.attachEventListeners(),this.emitProgress()}onProgress(t){this.progressListeners.add(t)}offProgress(t){this.progressListeners.delete(t)}onResolution(t){if(this.resolution){t(this.resolution);return}this.resolutionListeners.add(t)}offResolution(t){this.resolutionListeners.delete(t)}getProgress(){return So(this.progress)}dispose(){if(!this.disposed){if(this.disposed=!0,this.clearRosterTimer(),this.clearBankruptcyTimer(),this.mapDisposer){try{this.mapDisposer()}catch(t){console.warn("Failed to detach map listener",t)}this.mapDisposer=null}B.off("unitDied",this.handleUnitDied),B.off("unitSpawned",this.handleUnitSpawned),B.off("resourceChanged",this.handleResourceChanged)}}bootstrapStrongholds(){this.map.forEachTile((t,n)=>{if(this.isStronghold(t.building)){const s=this.coordKey(n);this.strongholds.set(s,{alive:!0})}}),this.updateStrongholdTotals()}attachMapListener(){this.mapDisposer=this.map.addTileChangeListener((t,n,s)=>{if(s!=="building"&&s!=="created")return;const o=this.coordKey(t),r=this.strongholds.get(o);this.isStronghold(n.building)?r?r.alive||(r.alive=!0):this.strongholds.set(o,{alive:!0}):r?.alive&&(r.alive=!1),this.updateStrongholdTotals(),this.emitProgress(),this.evaluateResolution()})}attachEventListeners(){B.on("unitDied",this.handleUnitDied),B.on("unitSpawned",this.handleUnitSpawned),B.on("resourceChanged",this.handleResourceChanged)}handleUnitDied=({unitFaction:t})=>{t==="player"&&(this.progress.roster.totalDeaths+=1,this.refreshRosterStatus(),this.emitProgress(),this.evaluateResolution())};handleUnitSpawned=({unit:t})=>{t.faction==="player"&&(this.refreshRosterStatus(),this.emitProgress())};handleResourceChanged=({resource:t,total:n})=>{t===E.SAUNA_BEER&&(this.progress.economy.beer=n,n<this.progress.economy.worstBeer&&(this.progress.economy.worstBeer=n),n<0?this.bankruptSince===null&&(this.bankruptSince=this.timeSource(),this.progress.economy.bankruptSince=this.bankruptSince,this.startBankruptcyTimer()):(this.updateBankruptcyDuration(),this.bankruptSince=null,this.progress.economy.bankruptSince=null,this.clearBankruptcyTimer()),this.emitProgress())};startBankruptcyTimer(){if(this.bankruptcyTimeout===null){if(this.bankruptcyGraceMs<=0){this.resolve("lose","bankruptcy");return}this.bankruptcyTimeout=setTimeout(()=>{this.updateBankruptcyDuration(),this.resolve("lose","bankruptcy")},this.bankruptcyGraceMs)}}clearBankruptcyTimer(){this.bankruptcyTimeout!==null&&(clearTimeout(this.bankruptcyTimeout),this.bankruptcyTimeout=null)}startRosterTimer(){if(this.rosterTimeout===null){if(this.rosterGraceMs<=0){this.resolve("lose","rosterWipe");return}this.rosterTimeout=setTimeout(()=>{this.updateRosterDuration(),this.resolve("lose","rosterWipe")},this.rosterGraceMs)}}clearRosterTimer(){this.rosterTimeout!==null&&(clearTimeout(this.rosterTimeout),this.rosterTimeout=null)}updateStrongholdTotals(){const t=this.strongholds.size;let n=0;for(const s of this.strongholds.values())s.alive&&(n+=1);this.progress.strongholds.total=t,this.progress.strongholds.remaining=n,this.progress.strongholds.destroyed=Math.max(0,t-n)}refreshRosterStatus(){const t=Math.max(0,Math.round(this.getRosterCount()));this.progress.roster.active=t,t<=0?(this.wipeSince===null&&(this.wipeSince=this.timeSource(),this.progress.roster.wipeSince=this.wipeSince),this.startRosterTimer()):(this.updateRosterDuration(),this.wipeSince=null,this.progress.roster.wipeSince=null,this.clearRosterTimer())}updateBankruptcyDuration(){if(this.bankruptSince===null)return;const t=this.timeSource()-this.bankruptSince;t>this.progress.economy.bankruptDurationMs&&(this.progress.economy.bankruptDurationMs=t)}updateRosterDuration(){if(this.wipeSince===null)return;const t=this.timeSource()-this.wipeSince;t>this.progress.roster.wipeDurationMs&&(this.progress.roster.wipeDurationMs=t)}evaluateResolution(){if(!this.resolution){if(this.progress.strongholds.total>0&&this.progress.strongholds.remaining===0){this.resolve("win","strongholds");return}if(this.wipeSince!==null&&this.rosterGraceMs<=0){this.resolve("lose","rosterWipe");return}this.bankruptSince!==null&&this.bankruptcyGraceMs<=0&&this.resolve("lose","bankruptcy")}}resolve(t,n){if(this.resolution)return;this.updateRosterDuration(),this.updateBankruptcyDuration();const s=this.timeSource(),o=Math.max(0,s-this.progress.startedAt),r=So({...this.progress,roster:{...this.progress.roster,wipeSince:this.wipeSince},economy:{...this.progress.economy,bankruptSince:this.bankruptSince}}),i=this.computeRewards();this.resolution=Object.freeze({outcome:t,cause:n,timestamp:s,durationMs:o,summary:r,rewards:i}),this.emitResolution(),this.dispose()}emitProgress(){const t=this.getProgress();for(const n of this.progressListeners)try{n(t)}catch(s){console.error("Objective progress listener failed",s)}}emitResolution(){if(!this.resolution)return;const t=this.resolution;for(const n of this.resolutionListeners)try{n(t)}catch(s){console.error("Objective resolution listener failed",s)}this.resolutionListeners.clear()}computeRewards(){const t=Bo(this.state);return{resources:{[E.SAUNA_BEER]:{final:t[E.SAUNA_BEER],delta:t[E.SAUNA_BEER]-this.startResources[E.SAUNA_BEER]},[E.SAUNAKUNNIA]:{final:t[E.SAUNAKUNNIA],delta:t[E.SAUNAKUNNIA]-this.startResources[E.SAUNAKUNNIA]},[E.SISU]:{final:t[E.SISU],delta:t[E.SISU]-this.startResources[E.SISU]}}}}coordKey(t){return`${t.q},${t.r}`}isStronghold(t){return t?this.strongholdTypes.has(t):!1}}function jd(e){return new kd(e)}const Cr="autobattles:saunojas";function Dr(){try{return globalThis.localStorage??null}catch{return null}}function Qd(){const e=Dr();if(!e)return[];try{const t=e.getItem(Cr);if(!t)return[];const n=JSON.parse(t);if(!Array.isArray(n))return[];const s=[];for(const o of n){if(!o||typeof o!="object")continue;const r=o,i=r.id;if(typeof i!="string"||i.length===0)continue;const a=r.coord,c=a&&typeof a=="object"&&typeof a.q=="number"&&Number.isFinite(a.q)&&typeof a.r=="number"&&Number.isFinite(a.r)?{q:a.q,r:a.r}:void 0,l=r.traits,d=Array.isArray(l)?l.filter(h=>typeof h=="string"):void 0,u=typeof r.upkeep=="number"?r.upkeep:void 0,f=typeof r.xp=="number"?r.xp:void 0;s.push(ws({id:i,name:typeof r.name=="string"?r.name:void 0,coord:c,maxHp:typeof r.maxHp=="number"?r.maxHp:void 0,hp:typeof r.hp=="number"?r.hp:void 0,steam:typeof r.steam=="number"?r.steam:void 0,traits:d,upkeep:u,xp:f,selected:!!r.selected,items:Array.isArray(r.items)?r.items:void 0,modifiers:Array.isArray(r.modifiers)?r.modifiers:void 0}))}return s}catch(t){return console.warn("Failed to load Saunoja units from storage",t),[]}}function Od(e){const t=Dr();if(t)try{const n=e.map(s=>({id:s.id,name:s.name,coord:{q:s.coord.q,r:s.coord.r},maxHp:s.maxHp,hp:s.hp,steam:s.steam,traits:[...s.traits],upkeep:s.upkeep,xp:s.xp,selected:s.selected,items:s.items.map(o=>({id:o.id,name:o.name,description:o.description,icon:o.icon,rarity:o.rarity,quantity:o.quantity})),modifiers:s.modifiers.map(o=>({id:o.id,name:o.name,description:o.description,remaining:o.remaining,duration:o.duration,appliedAt:o.appliedAt,stacks:o.stacks,source:o.source}))}));t.setItem(Cr,JSON.stringify(n))}catch(n){console.warn("Failed to persist Saunoja units",n)}}const Hd=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),Rd=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function Gd(e,t){const{rosterIcon:n,summaryLabel:s="Saunoja Roster"}=t;e.classList.add("sauna-roster"),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("title","Active sauna battalion on the field"),e.replaceChildren();const o=document.createElement("div");o.classList.add("sauna-roster__summary");const r=document.createElement("img");r.src=n,r.alt="Saunoja roster crest",r.decoding="async",r.classList.add("sauna-roster__icon");const i=document.createElement("div");i.classList.add("sauna-roster__text");const a=document.createElement("span");a.textContent=s,a.classList.add("sauna-roster__label");const c=document.createElement("span");c.textContent="0",c.classList.add("sauna-roster__value"),i.append(a,c),o.append(r,i);const l=document.createElement("div");l.classList.add("saunoja-card"),l.setAttribute("aria-live","polite"),l.hidden=!0;const d=document.createElement("h3");d.classList.add("saunoja-card__name"),d.textContent="Saunoja";const u=document.createElement("p");u.classList.add("saunoja-card__traits");const f=document.createElement("p");f.classList.add("saunoja-card__upkeep"),l.append(d,u,f),e.append(o,l);let h=null,A=null;function m(M){if(!M){l.hidden=!0;return}l.hidden=!1,l.dataset.unitId=M.id,d.textContent=M.name||"Saunoja";const w=M.traits.filter(C=>C.length>0),D=w.length>0?w.join(", "):"No notable traits yet";u.textContent=D,u.title=D;const z=Math.max(0,Math.round(M.upkeep)),S=`Upkeep: ${Rd.format(z)} Beer`;f.textContent=S,f.title=S}function g(M){return M===1/0?"inf":!Number.isFinite(M)||M<=0?"0":String(Math.ceil(M))}function p(M){return[M.id,M.name,M.icon??"",M.rarity??"",M.description??"",M.quantity].join("^")}function y(M){return[M.id,M.name,M.description??"",g(M.duration),g(M.remaining),M.appliedAt??"",M.stacks??1,M.source??""].join("^")}function P(M){const{stats:w}=M,D=M.traits.join("|"),z=M.items.map(p).join("|"),S=M.modifiers.map(y).join("|");return[M.id,M.name,M.upkeep,M.status,M.selected?1:0,w.health,w.maxHealth,w.attackDamage,w.attackRange,w.movementRange,w.defense??0,w.shield??0,D,z,S].join("~")}function N(M){return`${M.length}:${M.map(P).join("||")}`}return{updateSummary(M){const w=Math.max(0,Math.floor(M.count)),D=Hd.format(w);c.textContent=D,e.setAttribute("aria-label",`Saunoja roster: ${D} active attendants`),e.setAttribute("title",`Saunoja roster • ${D} active attendants`),m(M.card)},installRenderer(M){A=null,h=M},renderRoster(M){if(!h)return;const w=N(M);w!==A&&(A=w,h(M))},destroy(){h=null,A=null,e.replaceChildren()}}}const Ud={[E.SAUNA_BEER]:"Sauna Beer",[E.SAUNAKUNNIA]:"Saunakunnia",[E.SISU]:"Sisu"},Kd='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';function Xd(e){if(!Number.isFinite(e)||e<=0)return"0:00";const t=Math.round(e/1e3),n=Math.max(0,t%60).toString().padStart(2,"0"),s=Math.floor(t/60),o=(s%60).toString().padStart(2,"0"),r=Math.floor(s/60);return r>0?`${r}:${o}:${n}`:`${s}:${n}`}function Yd(e){switch(e.cause){case"strongholds":return"All rival strongholds have fallen.";case"rosterWipe":return"Every attendant is down—no one remains to hold the line.";case"bankruptcy":return"Upkeep debts have exhausted the steam reserves.";default:return""}}function Fd(e){if(!Number.isFinite(e)||e===0)return"±0";const t=Math.round(e*100)/100;return`${t>0?"+":""}${t}`}function Jd(e,t){const n=document.createElement("ul");n.className="end-screen__rewards-list";for(const s of Object.values(E)){const o=e.rewards.resources[s];if(!o)continue;const r=document.createElement("li");r.className="end-screen__reward-item";const i=document.createElement("span");i.className="end-screen__reward-label",i.textContent=t[s]??s;const a=document.createElement("span");a.className="end-screen__reward-value",a.textContent=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(Math.round(o.final));const c=document.createElement("span");c.className="end-screen__reward-delta",c.textContent=Fd(o.delta),c.dataset.polarity=o.delta>=0?"positive":"negative",r.append(i,a,c),n.append(r)}return n}function qd(e,t,n){const s=o=>{if(o.key==="Escape"){o.preventDefault(),n?.();return}if(o.key!=="Tab")return;const r=t.querySelectorAll(Kd);if(r.length===0){o.preventDefault(),t.focus();return}const i=r[0],a=r[r.length-1],c=document.activeElement;o.shiftKey?(c===i||!t.contains(c))&&(o.preventDefault(),a.focus()):(c===a||!t.contains(c))&&(o.preventDefault(),i.focus())};return e.addEventListener("keydown",s),()=>e.removeEventListener("keydown",s)}function Zd(e){const{container:t,resolution:n,onNewRun:s,onDismiss:o,currentNgPlusLevel:r}=e;if(!t)return{destroy(){},focusPrimary(){}};const i={...Ud,...e.resourceLabels??{}},a=document.createElement("div");a.className="end-screen",a.setAttribute("role","presentation");const c=document.createElement("section");c.className="end-screen__panel",c.setAttribute("role","dialog"),c.setAttribute("aria-modal","true");const l=`end-screen-title-${Date.now()}`;c.setAttribute("aria-labelledby",l),c.tabIndex=-1,c.dataset.outcome=n.outcome;const d=document.createElement("h2");d.className="end-screen__title",d.id=l,d.textContent=n.outcome==="win"?"Steamforged Victory":"Sauna Lost";const u=document.createElement("p");u.className="end-screen__subtitle",u.textContent=Yd(n);const f=document.createElement("dl");f.className="end-screen__metrics";const h=(z,S)=>{const C=document.createElement("dt");C.textContent=z,C.className="end-screen__metric-label";const L=document.createElement("dd");L.textContent=S,L.className="end-screen__metric-value",f.append(C,L)};h("Run time",Xd(n.durationMs)),h("Strongholds",`${n.summary.strongholds.destroyed}/${n.summary.strongholds.total}`),h("Roster losses",`${n.summary.roster.totalDeaths}`),h("Deepest beer reserve",`${Math.round(n.summary.economy.worstBeer)}`);const A=document.createElement("div");A.className="end-screen__badges";const m=document.createElement("span");m.className="end-screen__badge",m.textContent=`NG+ ${Math.max(0,r)}`,A.append(m);const g=document.createElement("h3");g.className="end-screen__section-title",g.textContent="Rewards";const p=Jd(n,i),y=document.createElement("div");y.className="end-screen__actions";const P=document.createElement("button");P.type="button",P.className="end-screen__button end-screen__button--primary",P.textContent="New run (NG+)",P.addEventListener("click",()=>{s()});const N=document.createElement("button");N.type="button",N.className="end-screen__button",N.textContent="Review battlefield",N.addEventListener("click",()=>{o?.()}),y.append(P,N),c.append(d,u,A,f,g,p,y),a.append(c),t.append(a);const M=qd(a,c,o),w=()=>{M(),a.remove()},D=()=>{requestAnimationFrame(()=>{P.focus({preventScroll:!0})})};return D(),{destroy:w,focusPrimary:D}}const Po=200,Io=3,Wd=2,ds={[E.SAUNA_BEER]:"Sauna Beer",[E.SAUNAKUNNIA]:"Saunakunnia",[E.SISU]:"Sisu"};let re=Ee(mi()),Nr=1,Ps=0,Lr=1,Tr=1,xr=Math.random,kr=Math.random;function Bn(e){re=Ee(e),Nr=gi(re),Ps=pi(re),Lr=Mi(re),Tr=yi(re),xr=Os(re.runSeed,1),kr=Os(re.runSeed,2)}Bn(re);let Pn=null,K=[];const De=new Map,tt=new Map,Kt=new Map;let zo=0,In=null,he=()=>{},$e=null,ee=null,zn=null,He=null,Re=null,et=!1,ae=null,Cn=null,Ae=null;function Co(e){zn=e,ee&&(ee.installRenderer(e),He&&(ee.renderRoster(He),He=null))}function Vd(){return Qd()}function Ke(){Od(K)}function _d(e=Math.random){typeof e!="function"&&(e=Math.random);const t=Math.max(0,Math.floor(dt)),n=Math.max(t,Math.floor(fn));if(n===t)return Math.max(dt,Math.min(fn,t));const s=n-t+1,o=Math.floor(e()*s)+t;return Math.max(dt,Math.min(fn,o))}function $d(e){const n=(Array.isArray(e.traits)?e.traits:[]).length>0,s=Number.isFinite(e.upkeep),o=Number.isFinite(e.xp);return!n||!s||!o}function jr(e){e.traits=$l(),e.upkeep=_d(),e.xp=0}function eu(e,t,n){Pn=e,ae&&(ae.dispose(),ae=null),ae=Fl({canvas:e,overlay:n,mapRenderer:Is,getUnitById:s=>Kt.get(s),requestDraw:()=>{te()}}),ee&&ee.destroy(),ee=Gd(t,{rosterIcon:Be.saunojaRoster}),zn&&ee.installRenderer(zn),He&&(ee.renderRoster(He),He=null),Xe()}const ne=new Pi(10,10,32),tu=new la(ne),Is=new bl(ne),Dn=()=>{Is.invalidateCache(),te()};B.on("buildingPlaced",Dn);B.on("buildingRemoved",Dn);ne.forEachTile(e=>e.setFogged(!0));ui();const W=[];function Do(e){return`${e.q},${e.r}`}function nu(){const e=new Set;for(const c of W)c.isDead()||e.add(Do(c.coord));const t=[],{minQ:n,maxQ:s,minR:o,maxR:r}=ne,i=c=>{const l=Do(c);e.has(l)||(ne.ensureTile(c.q,c.r),t.push(c))};for(let c=n;c<=s;c++)i({q:c,r:o}),r!==o&&i({q:c,r});for(let c=o+1;c<=r-1;c++)i({q:n,r:c}),s!==n&&i({q:s,r:c});if(t.length===0)return;const a=Math.floor(Math.random()*t.length);return t[a]}function su(e){const t=De.get(e);t&&(De.delete(e),tt.get(t.id)===e&&tt.delete(t.id))}function ou(e){const t=De.get(e.id);if(t)return{saunoja:t,created:!1,attached:!1};let n=K.find(i=>i.id===e.id);n||(n=K.find(i=>!tt.has(i.id)));let s=!1;n||(n=ws({id:`saunoja-${K.length+1}`,coord:{q:e.coord.q,r:e.coord.r}}),K.push(n),s=!0);const o=tt.get(n.id);o&&o!==e.id&&De.delete(o),De.set(e.id,n),tt.set(n.id,e.id);const r=$d(n);return(s||r)&&jr(n),{saunoja:n,created:s,attached:!0}}function Qr(){let e=!1;for(const t of W){if(t.faction!=="player"||t.isDead())continue;const{saunoja:n,created:s,attached:o}=ou(t);(s||o)&&(e=!0);const r=Number.isFinite(t.stats.health)?Math.max(0,t.stats.health):0;n.hp!==r&&(n.hp=r,e=!0);const i=Number.isFinite(t.getMaxHealth())?Math.max(1,t.getMaxHealth()):1;n.maxHp!==i&&(n.maxHp=i,e=!0);const a=t.getShield(),c=Number.isFinite(a)?Math.max(0,a):0;n.shield!==c&&(n.shield=c,e=!0);const d=t?.lastHitAt;Number.isFinite(d)&&n.lastHitAt!==d&&(n.lastHitAt=d,e=!0);const{q:u,r:f}=t.coord;(n.coord.q!==u||n.coord.r!==f)&&(n.coord={q:u,r:f},e=!0,n.selected&&Cs(n.coord))}return e&&Ke(),e}function Or(e,t){if(e.faction==="player"){const r=(t??De.get(e.id)??null)?.name?.trim();if(r)return r}return`${(e.constructor?.name??"Unit").replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase()} ${e.id}`.trim()}function Qn(e){if(Kt.has(e.id))return;W.push(e),Kt.set(e.id,e);let t=null;e.faction==="player"&&(Qr()||yt(),t=De.get(e.id)??null),Pn&&te(),e.faction==="player"&&(he(`Our ${Or(e,t)} emerges from the steam.`),Xe())}const Hr=({unit:e})=>{Qn(e)};B.on("unitSpawned",Hr);const Rr=()=>{yt()},ht=()=>{yt()};B.on("inventoryChanged",Rr);B.on("modifierAdded",ht);B.on("modifierRemoved",ht);B.on("modifierExpired",ht);function ru(e){const t=De.get(e.id);if(!t)return 0;const n=Number.isFinite(t.upkeep)?t.upkeep:0;return n>0?n*Nr:0}const X=new bi(1e3),Gr=new rd,zs=X.load(ne);if(zs){const e=X.getNgPlusState();Bn(e),_n(e)}else{const e=X.setNgPlusState(re);Bn(e),_n(e)}if(!zs&&re.ngPlusLevel>0){const e=Math.round(75*re.ngPlusLevel);e>0&&X.addResource(E.SAUNA_BEER,e)}const Ne=La({q:Math.floor(ne.width/2),r:Math.floor(ne.height/2)}),iu=e=>{zo+=1;const t=`p${Date.now()}-${zo}`,n=Ms(X,"soldier",t,e,"player");return n&&Qn(n),n??null},au=new Wa({difficulty:Tr,random:xr,eliteOdds:Ps}),Ur=new vi(1e3,e=>{const t=e/1e3;X.tick(),nd({dt:t,state:X,sauna:Ne,heat:Ne.heatTracker,units:W,getUnitUpkeep:ru,pickSpawnTile:()=>$o(Ne.pos,W),spawnBaseUnit:iu,minUpkeepReserve:Math.max(1,dt),maxSpawns:Lr}),au.update(t,W,Qn,nu),tu.tick(W,t),Fi(t),Qr()&&Xe(),X.save();for(const n of W)n.isDead()||n.faction!=="player"||ne.revealAround(n.coord,n.getVisionRange());te()}),cu=e=>{et&&(et=!1),Ur.stop(),Re!==null&&(cancelAnimationFrame(Re),Re=null),te();const t=document.getElementById("ui-overlay");if(!t)return;Ae&&(Ae.destroy(),Ae=null);const n=re.ngPlusLevel,s=Ai(re,{outcome:e.outcome});_n(s),X.setNgPlusState(s),Bn(s),Ae=Zd({container:t,resolution:e,currentNgPlusLevel:n,resourceLabels:ds,onNewRun:()=>{try{typeof window<"u"&&window.localStorage?.removeItem?.("gameState")}catch(r){console.warn("Failed to reset saved game state for NG+",r)}typeof window<"u"&&typeof window.location?.reload=="function"&&window.setTimeout(()=>window.location.reload(),75)},onDismiss:()=>{Ae&&(Ae.destroy(),Ae=null)}})},lu=W.some(e=>e.faction==="player"&&!e.isDead());if(!lu){X.canAfford($s,E.SAUNA_BEER)||X.addResource(E.SAUNA_BEER,$s);const e=`u${W.length+1}`,t=Ms(X,"soldier",e,Ne.pos,"player");t&&Qn(t)}ne.revealAround(Ne.pos,3);K=Vd();if(K.length===0){const e=ws({id:"saunoja-1",coord:Ne.pos,selected:!0});jr(e),K.push(e),Ke()}else{let e=!1,t=!1;for(const n of K)n.selected&&(e?(n.selected=!1,t=!0):e=!0);t&&Ke()}Cn=jd({state:X,map:ne,getRosterCount:Zr,rosterWipeGraceMs:8e3,bankruptcyGraceMs:12e3});Cn.onResolution(cu);const du=Va(Ne),{update:uu,dispose:fu}=wc(X,{saunakunnia:Be.resource,sisu:Be.sisu,saunaBeer:Be.saunaBeer,sound:Be.sound},{useSisuBurst:()=>{const e=hc(X,W);return e?(Ce("sisu"),he(`Sisu bursts forth, spending ${Gt} grit to steel our attendants.`)):Ce("error"),e},torille:()=>{const e=Ac(X,W,Ne.pos,ne);return e?he(`Torille! Our warriors regroup at the sauna to rally their spirits for ${Ut} SISU.`):Ce("error"),e}}),hu=cd(Gr,{getSelectedUnitId:()=>K.find(e=>e.selected)?.id??null,onEquip:(e,t)=>Fr(e,t)});function mu(){$e&&($e(),$e=null);const e=xc(X,{onRosterSelect:yu,onRosterRendererReady:Co});he=e.log,e.addEvent,Co(e.renderRoster),$e=e.dispose}mu();Xe();zs||(X.addResource(E.SAUNA_BEER,Po),he(`Quartermaster stocks ${Po} bottles of ${ds[E.SAUNA_BEER]} to launch your campaign.`),X.addResource(E.SAUNAKUNNIA,Io),he(`Sauna elders honor your leadership with ${Io} ${ds[E.SAUNAKUNNIA]} to celebrate your arrival.`));const Zn=K.find(e=>e.selected);Zn&&(In={q:Zn.coord.q,r:Zn.coord.r});function Au(e,t){return!e||!t?e===t:e.q===t.q&&e.r===t.r}function Cs(e){return Au(In,e)?!1:(In=e?{q:e.q,r:e.r}:null,!0)}function Kr(e){let t=!1;for(const n of K)e&&n===e||n.selected&&(n.selected=!1,t=!0);return t}function gu(){let e=!1;return Kr()&&(e=!0),Cs(null)&&(e=!0),e}function pu(e){if(!e)return!1;const t=ys(e.type);if(!t)return!1;const n=Ft(t,1),s=e.stats;return s.health>n.health||s.attackDamage>n.attackDamage||s.attackRange>n.attackRange||s.movementRange>n.movementRange}function Xr(e){let t=!1;return e.selected||(e.selected=!0,t=!0),Kr(e)&&(t=!0),Cs(e.coord)&&(t=!0),t}function yu(e){const t=K.find(n=>n.id===e);t&&Xr(t)&&(Ke(),Xe(),te())}function Yr(e){const t=ii(e.x,e.y,ne.hexSize),n=K.find(o=>o.coord.q===t.q&&o.coord.r===t.r);(n?Xr(n):gu())&&(Ke(),Xe(),te())}function Fr(e,t){const n=K.find(r=>r.id===e);if(!n)return!1;const s=Math.max(1,Math.round(t.quantity??1)),o=n.items.find(r=>r.id===t.id);return o?o.quantity=Math.max(1,o.quantity+s):n.items.push({id:t.id,name:t.name,description:t.description,icon:t.icon,rarity:t.rarity,quantity:s}),B.emit("inventoryChanged",{}),Ke(),yt(),!0}function te(){if(!Pn)return;const e=Pn.getContext("2d"),t=zr();if(!e||!t)return;if(ae){const o=typeof performance<"u"?performance.now():Date.now();ae.step(o)}const n=ae?.getShakeOffset()??{x:0,y:0},s=ae?{getUnitAlpha:o=>ae.getUnitAlpha(o.id)}:void 0;e.save(),(n.x!==0||n.y!==0)&&e.translate(n.x,n.y),Pl(e,Is,t.images,W,In,{saunojas:{units:K,draw:Zl},sauna:Ne,fx:s}),e.restore()}const Jr=({policy:e})=>{he(`Sauna council toasts a fresh keg for policy: ${e}.`)};B.on("policyApplied",Jr);const qr=({unitId:e,attackerFaction:t,unitFaction:n})=>{const s=W.findIndex(d=>d.id===e),o=s!==-1?W[s]:null,r=o?{q:o.coord.q,r:o.coord.r}:null,i=n==="player"?De.get(e)??null:null;let a=!1;if(n==="player"){const d=i??K.find(u=>tt.get(u.id)===e||u.id===e)??null;d&&(d.hp!==0&&(d.hp=0,a=!0),d.shield!==0&&(d.shield=0,a=!0))}const c=o?Or(o,i):`unit ${e}`;if(s!==-1&&(W.splice(s,1),Kt.delete(e),su(e),te()),a&&Ke(),n==="player"&&Xe(),t==="player"&&n&&n!=="player"){const d=pu(o??null)||kr()<Ps,u=bd({factionId:n,elite:d});if(u.rolls.length>0){const f=K.find(h=>h.selected)??null;for(const h of u.rolls)if(Gr.addLoot(h,{unitId:f?.id,sourceTableId:u.tableId,equip:Fr}).equipped){const m=f?.name??"our champion";he(`Quartermaster fastens ${h.item.name} to ${m}.`)}else he(`Quartermaster stores ${h.item.name} recovered from ${c}.`)}}t==="player"&&n&&n!=="player"&&(X.addResource(E.SAUNAKUNNIA,Wd),X.addResource(E.SISU,1),he("Our grit surges — +1 SISU earned for the vanquished foe.")),r&&ne.revealAround(r,1),he(`The steam hushes as ${n==="player"?"our":"a rival"} ${c} grows still.`)};B.on("unitDied",qr);function us(){et=!1,Cn?.dispose(),Cn=null,Ae&&(Ae.destroy(),Ae=null),Re!==null&&(cancelAnimationFrame(Re),Re=null);try{X.save()}catch(e){console.warn("Failed to persist game state during cleanup",e)}try{Ke()}catch(e){console.warn("Failed to persist Saunoja roster during cleanup",e)}ae&&(ae.dispose(),ae=null),B.off("policyApplied",Jr),B.off("unitDied",qr),B.off("unitSpawned",Hr),B.off("inventoryChanged",Rr),B.off("modifierAdded",ht),B.off("modifierRemoved",ht),B.off("modifierExpired",ht),B.off("buildingPlaced",Dn),B.off("buildingRemoved",Dn),$e&&($e(),$e=null),hu.destroy(),fu(),ee&&(ee.destroy(),ee=null),He=null,zn=null}async function Mu(){if(et)return;if(!zr()){console.error("Cannot start game without loaded assets.");return}et=!0,Xe(),te();try{await Pr(()=>{te()}).then(()=>{te()})}catch(s){console.warn("Failed to preload Saunoja icon before starting the game",s)}let t=performance.now();function n(s){if(!et)return;const o=s-t;t=s,Ur.tick(o),du(),uu(o),yt(),te(),et&&(Re=requestAnimationFrame(n))}Re=requestAnimationFrame(n)}function Zr(){const e=new Set;for(const t of W)t.faction==="player"&&!t.isDead()&&e.add(t.id);for(const t of K)e.add(t.id);return e.size}function wu(){const e={engaged:0,reserve:1,downed:2},t=K.map(n=>{const s=tt.get(n.id),o=s?Kt.get(s):void 0,r=o?!o.isDead()&&o.stats.health>0:!1,i=Math.round(o?Math.max(0,o.stats.health):Math.max(0,n.hp)),a=Math.round(o?Math.max(1,o.getMaxHealth()):Math.max(1,n.maxHp)),c=o?Math.round(Math.max(0,o.stats.attackDamage)):0,l=o?Math.round(Math.max(0,o.stats.attackRange)):0,d=o?Math.round(Math.max(0,o.stats.movementRange)):0,u=o?.stats.defense??n.defense??0,f=Math.round(Math.max(0,u)),h=o?o.getShield():n.shield,A=Math.round(Math.max(0,h)),m=Math.max(0,Math.round(n.upkeep)),g=i<=0?"downed":r?"engaged":"reserve",p=n.items.map(P=>({...P})),y=n.modifiers.map(P=>({...P}));return{id:n.id,name:n.name,upkeep:m,status:g,selected:!!n.selected,traits:[...n.traits],stats:{health:i,maxHealth:a,attackDamage:c,attackRange:l,movementRange:d,defense:f>0?f:void 0,shield:A>0?A:void 0},items:p,modifiers:y}});return t.sort((n,s)=>{const o=e[n.status]-e[s.status];return o!==0?o:n.name.localeCompare(s.name,"en")}),t}function bu(){return K.length===0?null:K.find(e=>e.selected)??K.find(e=>e.hp>0)??K[0]}function vu(){const e=Zr(),t=bu();let n=null;return t&&(n={id:t.id,name:t.name||"Saunoja",traits:[...t.traits],upkeep:Math.max(0,Math.round(t.upkeep))}),{count:e,card:n}}function yt(e){const t=wu();He=t,ee&&ee.renderRoster(t)}function Xe(){const e=vu();ee&&ee.updateSummary(e),yt()}function Wr(e){if(!e)return{showLoader:()=>({update:()=>{},clear:()=>{},dispose:()=>{}}),showBanner:()=>null,removeTransientUI:()=>{}};const t=()=>{let i=e.querySelector(".hud-banner-stack");return i||(i=document.createElement("div"),i.className="hud-banner-stack",e.append(i)),i},n=(i,a,c)=>{let l=!1;const d=()=>{l||(l=!0,i.removeEventListener("transitionend",d),c())};i.addEventListener("transitionend",d),requestAnimationFrame(()=>{i.classList.add(a)}),window.setTimeout(d,400)};return{showLoader:(i="Heating the sauna stones…")=>{const a=document.createElement("div");a.className="hud-loader",a.setAttribute("role","status"),a.setAttribute("aria-live","polite");const c=document.createElement("div");c.className="hud-loader__card";const l=document.createElement("div");l.className="hud-loader__spinner",l.setAttribute("aria-hidden","true");const d=document.createElement("p");d.className="hud-loader__message",d.textContent=i,c.append(l,d),a.append(c),e.append(a);let u=!1;return{update(f){d.textContent=f},clear(){u||n(a,"hud-loader--hidden",()=>{u=!0,a.remove()})},dispose(){u||(u=!0,a.remove())}}},showBanner:(i,a)=>{const c=t(),l=document.createElement("section");l.className=`hud-banner hud-banner--${i}`,l.setAttribute("role",i==="error"?"alert":"status"),l.setAttribute("aria-live",i==="error"?"assertive":"polite");const d=document.createElement("header");d.className="hud-banner__header";const u=document.createElement("p");u.className="hud-banner__title",u.textContent=a.title??(i==="error"?"Attention required":i==="warning"?"Heads up":"Status update"),d.append(u);const f=document.createElement("ul");f.className="hud-banner__list";for(const g of a.messages){const p=document.createElement("li");p.textContent=g,f.append(p)}if(l.append(d),a.messages.length&&l.append(f),a.actions?.length){const g=document.createElement("div");g.className="hud-banner__actions";for(const p of a.actions){const y=document.createElement("button");y.type="button",y.className=p.variant==="secondary"?"hud-banner__button hud-banner__button--secondary":"hud-banner__button",y.textContent=p.label,y.addEventListener("click",()=>{p.onClick()}),g.append(y)}l.append(g)}let h,A=!1;const m=()=>{A||(A=!0,h&&window.clearTimeout(h),n(l,"hud-banner--hide",()=>{l.remove(),c.hasChildNodes()||c.remove()}))};if(a.dismissible!==!1){const g=document.createElement("button");g.type="button",g.className="hud-banner__close",g.setAttribute("aria-label","Dismiss notification"),g.textContent="×",g.addEventListener("click",()=>{m()}),d.append(g)}return c.append(l),a.autoCloseMs&&a.autoCloseMs>0&&(h=window.setTimeout(()=>m(),a.autoCloseMs)),{element:l,dismiss:m}},removeTransientUI:()=>{e.querySelectorAll(".hud-loader").forEach(i=>{i.remove()}),e.querySelectorAll(".hud-banner-stack").forEach(i=>{i.remove()})}}}async function Eu(e){const t=Object.entries(e),n=await Promise.allSettled(t.map(([i,a])=>a.load().then(c=>({key:i,descriptor:a,value:c})))),s={},o=[],r=[];return n.forEach((i,a)=>{const[c,l]=t[a],d=l.label??String(c);if(i.status==="fulfilled"){const{value:f}=i.value;if(s[c]=f.value,f.warnings?.length)for(const h of f.warnings)o.push(d?`${d}: ${h}`:h);if(f.errors?.length)for(const h of f.errors)r.push(d?`${d}: ${h}`:h);return}const u=Su(i.reason);r.push(d?`${d}: ${u}`:u)}),{resources:s,warnings:o,errors:r}}function Su(e){if(e instanceof Error)return e.message;if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return String(e)}}const Bu="Heating the sauna stones…",Pu="Polishing sauna ambience…";function Iu(e){if(e instanceof Error&&e.message)return e.message;if(typeof e=="string"&&e.trim().length>0)return e;try{return JSON.stringify(e)}catch{return String(e)}}function zu(e){const t=new Set,n=i=>{t.forEach(a=>a(i))},s=e.formatError??Iu;return{run:async i=>{n({type:"status",phase:"start",message:Bu});try{const{resources:a,warnings:c,errors:l}=await Eu({assets:{label:"Core assets",load:async()=>{const u=await e.loadAssets(e.assetPaths);return{value:u.assets,errors:u.failures}}},saunojaIcon:{label:"Saunoja icon",load:async()=>{try{return await e.preloadSaunojaIcon(),{value:!0}}catch(u){return{value:!1,warnings:[`Unable to preload Saunoja icon (${s(u)})`]}}}}});if(e.shouldAbort?.(i)){n({type:"cancelled"});return}n({type:"status",phase:"progress",message:Pu});const d=a.assets;if(!d){const u=l.length?[...l]:["Critical assets were unavailable. Please refresh to try again."];n({type:"fatal",messages:u});return}if(l.length&&n({type:"errors",errors:l}),c.length&&n({type:"warnings",warnings:c}),e.setAssets(d),e.shouldAbort?.(i)){n({type:"cancelled"});return}e.startGame(),n({type:"ready",assets:d,warnings:c,errors:l})}catch(a){if(e.shouldAbort?.(i)){n({type:"cancelled"});return}n({type:"failure",error:a,message:s(a)})}},subscribe:i=>(t.add(i),()=>{t.delete(i)})}}const Cu="grabbing";function Du(e,t){const n=t.dragCursor??Cu;let s=!1,o=null,r=0,i=0,a=null;const c=h=>{h.pointerType!=="mouse"||h.button!==0||(s=!0,o=h.pointerId,r=h.clientX,i=h.clientY,a=e.style.cursor??"",e.setPointerCapture?.(h.pointerId),e.style.cursor=n,t.onPanStart?.(h))},l=h=>{if(!s||o!==h.pointerId)return;const A=h.clientX-r,m=h.clientY-i;r=h.clientX,i=h.clientY,t.onPan(A,m,h)},d=h=>{!s||o!==h.pointerId||(s=!1,o=null,e.releasePointerCapture?.(h.pointerId),e.style.cursor=a??"",t.onPanEnd?.(h))},u=h=>{d(h)},f=h=>{d(h)};return e.addEventListener("pointerdown",c),e.addEventListener("pointermove",l),e.addEventListener("pointerup",u),e.addEventListener("pointercancel",f),e.addEventListener("pointerleave",f),()=>{e.removeEventListener("pointerdown",c),e.removeEventListener("pointermove",l),e.removeEventListener("pointerup",u),e.removeEventListener("pointercancel",f),e.removeEventListener("pointerleave",f),s&&o!==null&&e.releasePointerCapture?.(o),e.style.cursor=a??""}}const Nu=10,Lu=250;function We(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function Tu(e,t){const n=t.tapMaxMovement??Nu,s=t.tapMaxDuration??Lu;let o=null;const r=u=>{if(u.touches.length===1){const f=u.touches[0];o={mode:"pan",lastX:f.clientX,lastY:f.clientY,startX:f.clientX,startY:f.clientY,startTime:We(),moved:!1};return}if(u.touches.length>=2){const[f,h]=[u.touches[0],u.touches[1]];o={mode:"pinch",lastCenterX:(f.clientX+h.clientX)/2,lastCenterY:(f.clientY+h.clientY)/2,lastDistance:Math.hypot(f.clientX-h.clientX,f.clientY-h.clientY),startTime:We(),moved:!1}}},i=(u,f)=>{if(!o||o.mode!=="pan")return;const h=u.clientX-o.lastX,A=u.clientY-o.lastY;!o.moved&&Math.hypot(h,A)>1&&(o.moved=!0),o.lastX=u.clientX,o.lastY=u.clientY,t.onPan(h,A,f)},a=(u,f,h)=>{const A=(u.clientX+f.clientX)/2,m=(u.clientY+f.clientY)/2,g=Math.hypot(u.clientX-f.clientX,u.clientY-f.clientY);let p=1,y=0,P=0;o&&o.mode==="pinch"?(p=g/o.lastDistance,y=A-o.lastCenterX,P=m-o.lastCenterY):o={mode:"pinch",lastCenterX:A,lastCenterY:m,lastDistance:g,startTime:We(),moved:!1},!(!o||o.mode!=="pinch")&&(o.lastCenterX=A,o.lastCenterY=m,o.lastDistance=g,o.moved=!0,t.onPinch({centerX:A,centerY:m,scale:p,deltaCenterX:y,deltaCenterY:P},h))},c=u=>{if(!o||u.touches.length===0)return;if(u.preventDefault(),u.touches.length===1){const A=u.touches[0];o.mode!=="pan"&&(o={mode:"pan",lastX:A.clientX,lastY:A.clientY,startX:A.clientX,startY:A.clientY,startTime:We(),moved:!0}),i(A,u);return}const[f,h]=[u.touches[0],u.touches[1]];a(f,h,u)},l=()=>!o||o.mode!=="pan"||Math.hypot(o.lastX-o.startX,o.lastY-o.startY)>n?!1:We()-o.startTime<=s,d=u=>{if(o){if(u.touches.length===0){o.mode==="pan"&&t.onTap&&l()&&t.onTap({x:o.startX,y:o.startY},u),o=null;return}if(u.touches.length===1){const f=u.touches[0];o={mode:"pan",lastX:f.clientX,lastY:f.clientY,startX:f.clientX,startY:f.clientY,startTime:We(),moved:!0};return}if(u.touches.length>=2){const[f,h]=[u.touches[0],u.touches[1]];o={mode:"pinch",lastCenterX:(f.clientX+h.clientX)/2,lastCenterY:(f.clientY+h.clientY)/2,lastDistance:Math.hypot(f.clientX-h.clientX,f.clientY-h.clientY),startTime:We(),moved:!0}}}};return e.addEventListener("touchstart",r,{passive:!1}),e.addEventListener("touchmove",c,{passive:!1}),e.addEventListener("touchend",d),e.addEventListener("touchcancel",d),()=>{e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",c),e.removeEventListener("touchend",d),e.removeEventListener("touchcancel",d),o=null}}const xu=.5,ku=3.5;function fs(e,t,n,s,o){const r=e.getBoundingClientRect(),i=t-r.left,a=n-r.top,c=r.width/2,l=r.height/2;return{x:o.x+(i-c)/s,y:o.y+(a-l)/s}}function ju(e){return Math.min(ku,Math.max(xu,e))}function Vr(e,t,n,s=O.zoom,o=O){return fs(e,t,n,s,o)}function _r(e,t,n,s){const o=ju(s);if(o===O.zoom)return;const r={x:O.x,y:O.y},i=fs(e,t,n,O.zoom,r),a=fs(e,t,n,o,r);O.x+=i.x-a.x,O.y+=i.y-a.y,O.zoom=o,te()}function Wn(e,t){e===0&&t===0||(O.x-=e/O.zoom,O.y-=t/O.zoom,te())}function Qu(e){const t=window.devicePixelRatio||1,n=Math.max(window.innerWidth,1),s=Math.max(window.innerHeight,1);e.style.width=`${n}px`,e.style.height=`${s}px`,e.width=Math.round(n*t),e.height=Math.round(s*t);const o=e.getContext("2d");o&&o.setTransform(1,0,0,1,0,0),te()}const Ou=.0015,hs=[];let Ds=0,Le=null,On=Wr(null),_=null;function Hu(){if(typeof document>"u")return;const e=document.querySelector("[data-build-commit]");if(!e)return;const t="8f618f4".trim(),n=t.length>0&&t!=="unknown",s=n?`#${t}`:"DEV BUILD";e.textContent=s,e.dataset.state=n?"commit":"dev";const o=e.closest("#build-id");if(o){const r=n?`Build commit ${t}`:"Development build";o.setAttribute("aria-label",r),o.title=n?`Autobattles build ${t}`:"Unversioned development build",o.dataset.buildState=n?"release":"development"}}Hu();function Pe(e){hs.push(e)}function Ru(){for(;hs.length;){const e=hs.pop();try{e?.()}catch(t){console.error("Error during cleanup",t)}}}function Gu(e){Pe(()=>e.dispose())}function ln(e,t){const n=On.showBanner(e,t);n&&Pe(()=>n.dismiss())}function Uu(e){switch(e.type){case"status":if(e.phase==="start"){_?.dispose();const t=On.showLoader(e.message);_=t,Gu(t)}else _&&(_.update(e.message),_.clear(),_=null);break;case"ready":_?.clear(),_=null;break;case"warnings":e.warnings.length&&(console.warn("Resource loader warnings",e.warnings),ln("warning",{title:"Heads up",messages:e.warnings,autoCloseMs:12e3}));break;case"errors":e.errors.length&&(console.error("Resource loader errors",e.errors),ln("error",{title:"Some resources failed to load",messages:e.errors,actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}]}));break;case"fatal":console.error("Critical assets failed to load",e.messages),_?.clear(),_=null,ln("error",{title:"Unable to start the sauna battle",messages:e.messages,actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}],dismissible:!1});break;case"failure":console.error("Failed to initialize resources",e.error),_?.clear(),_=null,ln("error",{title:"Failed to initialize",messages:[e.message],actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}]});break;case"cancelled":_?.dispose(),_=null;break}}const $r=zu({assetPaths:Cd,loadAssets:fi,preloadSaunojaIcon:Pr,setAssets:Dd,startGame:Mu,shouldAbort:e=>e!==Ds});$r.subscribe(Uu);function No(e){if(!Le)return;e.preventDefault();const t=Math.exp(-e.deltaY*Ou),n=O.zoom*t;_r(Le,e.clientX,e.clientY,n)}function Lo(e){if(!Le)return;const t=Vr(Le,e.clientX,e.clientY);Yr(t)}function Ku(e){e.addEventListener("click",Lo),Pe(()=>e.removeEventListener("click",Lo)),e.addEventListener("wheel",No,{passive:!1}),Pe(()=>e.removeEventListener("wheel",No));const t=Du(e,{onPan:(s,o)=>{Wn(s,o)},dragCursor:"grabbing"});Pe(t);const n=Tu(e,{onPan:(s,o)=>{Wn(s,o)},onPinch:({centerX:s,centerY:o,scale:r,deltaCenterX:i,deltaCenterY:a})=>{_r(e,s,o,O.zoom*r),Wn(i,a)},onTap:s=>{const o=Vr(e,s.x,s.y);Yr(o)}});Pe(n)}function Xu(){Ds+=1,Ru(),_?.dispose(),_=null,Le&&(Le.style.cursor=""),Le=null,On.removeTransientUI(),us()}function Yu(){const e=document.getElementById("game-canvas"),t=document.getElementById("resource-bar"),n=document.getElementById("ui-overlay");if(!e||!t||!n){console.error("Autobattles4xFinsauna shell is missing the required canvas, overlay, or resource bar elements.",{hasCanvas:!!e,hasResourceBar:!!t,hasOverlay:!!n});return}Le&&Xu();const s=++Ds;Le=e,On=Wr(n);const o=Mc();Pe(()=>o.dispose()),eu(e,t,n),Ku(e);const r=()=>Qu(e);window.addEventListener("resize",r),Pe(()=>window.removeEventListener("resize",r)),window.addEventListener("beforeunload",us),Pe(()=>window.removeEventListener("beforeunload",us)),r(),import.meta.vitest||$r.run(s)}function Fu(){if(typeof document>"u")return;const e=()=>{document.removeEventListener("DOMContentLoaded",e),Yu()};if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",e);return}e()}import.meta.vitest||Fu();
