(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();class Ub{listeners=new Map;on(a,s){const l=this.listeners.get(a)??[];l.push(s),this.listeners.set(a,l)}off(a,s){const l=this.listeners.get(a);if(!l)return;const c=l.indexOf(s);c!==-1&&(l.splice(c,1),l.length===0?this.listeners.delete(a):this.listeners.set(a,l))}emit(a,s){const l=this.listeners.get(a);if(l)for(const c of l)c(s)}}const ne=new Ub;class Zf{type="farm";cost=50;beerPerTick=1}class UA{type="barracks";cost=100;trainingCapacity=1}const jA=Math.sqrt(3),zA=[{q:1,r:0},{q:1,r:-1},{q:0,r:-1},{q:-1,r:0},{q:-1,r:1},{q:0,r:1}];function Wn(n,a){return{x:a*jA*(n.q+n.r/2),y:a*(3/2)*n.r}}function ul(n,a,s){const l=(jA/3*n-.3333333333333333*a)/s,c=2/3*a/s;return{q:l,r:c}}function jb(n,a,s){return zb(ul(n,a,s))}function pc(n){return zA.map(a=>({q:n.q+a.q,r:n.r+a.r}))}function Is(n,a){const s=-n.q-n.r,l=-a.q-a.r;return Math.max(Math.abs(n.q-a.q),Math.abs(n.r-a.r),Math.abs(s-l))}function zb(n){let a=n.q,s=n.r,l=-a-s,c=Math.round(a),u=Math.round(l),f=Math.round(s);const h=Math.abs(c-a),m=Math.abs(u-l),g=Math.abs(f-s);return h>m&&h>g?c=-u-f:m>g?u=-c-f:f=-c-u,{q:c,r:f}}const Ac=new Set;let uc=32;function Ib(n){return`${n.q},${n.r}`}function kf(n,a){uc=a,Ac.add(Ib(n))}function Fb(n){if(Ac.size===0)return{center:{x:0,y:0},zoom:1};const a=uc*Math.sqrt(3),s=uc*2,l=a/2,c=s/2;let u=1/0,f=1/0,h=-1/0,m=-1/0;for(const q of Ac){const[Z,W]=q.split(",").map(Number),{x:re,y:F}=Wn({q:Z,r:W},uc),ae=re-l,$=F-c;u=Math.min(u,ae),f=Math.min(f,$),h=Math.max(h,ae+a),m=Math.max(m,$+s)}const g=h-u,p=m-f,v=96,b={x:u+g/2,y:f+p/2},E=Math.max(0,Math.min(n.safeRight??0,n.width)),k=Math.max(n.width-E,1)/(g+v*2),B=n.height/(p+v*2),N=Math.min(k,B);return{center:{x:N>0?b.x-E/(2*N):b.x,y:b.y},zoom:N}}const Se={x:0,y:0,zoom:1};function qb(n,a=300){const s=Se.x,l=Se.y,c=Se.zoom,u=typeof performance<"u"?performance.now():Date.now(),f=h=>{const m=Math.min((h-u)/a,1);Se.x=s+(n.center.x-s)*m,Se.y=l+(n.center.y-l)*m,Se.zoom=c+(n.zoom-c)*m,m<1&&(typeof requestAnimationFrame<"u"?requestAnimationFrame(f):setTimeout(()=>f(typeof performance<"u"?performance.now():Date.now()),16))};typeof requestAnimationFrame<"u"?requestAnimationFrame(f):setTimeout(()=>f(typeof performance<"u"?performance.now():Date.now()),0)}function Xb(){Ac.clear()}async function Yb(n){const a={},s={},l=[],c=Object.entries(n.images??{}).map(([f,h])=>new Promise(m=>{const g=new Image;g.onload=()=>{a[f]=g,m()},g.onerror=()=>{const p=`Failed to load image: ${h}`;console.error(p),l.push(p),m()},g.src=h})),u=Object.entries(n.sounds??{}).map(([f,h])=>new Promise(m=>{const g=new Audio;g.oncanplaythrough=()=>{s[f]=g,m()},g.onerror=()=>{const p=`Failed to load sound: ${h}`;console.error(p),l.push(p),m()},g.src=h,g.load()}));return await Promise.all([...c,...u]),{assets:{images:a,sounds:s},failures:l}}function Jf(n){if(typeof globalThis.localStorage>"u")return;const a=globalThis.localStorage.getItem(n);if(a)try{return JSON.parse(a)}catch(s){console.warn(`Failed to parse data for "${n}", clearing`,s),globalThis.localStorage.removeItem(n);return}}var ie=(n=>(n.SAUNA_BEER="sauna-beer",n.SAUNAKUNNIA="saunakunnia",n.SISU="sisu",n))(ie||{});const Fo={"sauna-beer":1,saunakunnia:0,sisu:0},IA="/assets/sauna-beer-CgafwOhX.svg",FA="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eResource%20Icon%3c/title%3e%3cdesc%20id='desc'%3eA%20luminous%20crest%20symbolising%20generic%20resources.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='resource-bg'%20cx='50%25'%20cy='50%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='%2338bdf8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230ea5e9'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='resource-core'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%2338bdf8'%20/%3e%3c/linearGradient%3e%3cfilter%20id='resource-glow'%20x='-40%25'%20y='-40%25'%20width='180%25'%20height='180%25'%3e%3cfeDropShadow%20dx='0'%20dy='4'%20stdDeviation='6'%20flood-color='%2338bdf8'%20flood-opacity='0.45'%20/%3e%3c/filter%3e%3c/defs%3e%3cg%20filter='url(%23resource-glow)'%3e%3ccircle%20cx='32'%20cy='32'%20r='22'%20fill='%230f172a'%20stroke='url(%23resource-bg)'%20stroke-width='4'%20/%3e%3cpath%20d='M32%2016l-12%2014%2012%2022%2012-22z'%20fill='url(%23resource-core)'%20stroke='%23f8fafc'%20stroke-width='2'%20/%3e%3cpath%20d='M20%2030l-4%208%2016%2010'%20fill='none'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M44%2030l4%208-16%2010'%20fill='none'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3c/g%3e%3c/svg%3e",qA="/assets/saunoja-roster-Bfn4ZKxh.svg",jt={APPLIED:"policy:applied",REJECTED:"policy:rejected"},XA=[{id:"eco",name:"Evergreen Eco Mandate",description:"Increase passive sauna beer brewing by one bottle each production tick.",cost:15,resource:ie.SAUNAKUNNIA,prerequisites:[],visuals:{icon:FA,gradient:"linear-gradient(135deg, rgba(66, 240, 155, 0.9), rgba(13, 114, 234, 0.85))",accentColor:"#34d399",badges:["Economy","Sustainability"],flair:"Green-lit by the council of whisked sauna masters."},effects:[{event:jt.APPLIED,once:!0,invoke:({state:n})=>{n.modifyPassiveGeneration(ie.SAUNA_BEER,1)}}],spotlight:"Sustainably expand your brewing line with solar-heated mash tuns."},{id:"temperance",name:"Aurora Temperance Treaty",description:"Boost night shift work speed by 5% once the eco initiative is live.",cost:25,resource:ie.SAUNAKUNNIA,prerequisites:[{description:"Enact the Evergreen Eco Mandate.",isSatisfied:n=>n.hasPolicy("eco")},{description:"Stockpile at least 30 Sauna Beer bottles to brief the midnight crews.",isSatisfied:n=>n.getResource(ie.SAUNA_BEER)>=30}],visuals:{icon:qA,gradient:"linear-gradient(140deg, rgba(46, 51, 227, 0.9), rgba(118, 75, 162, 0.85))",accentColor:"#6366f1",badges:["Discipline","Night Ops"],flair:"Whispers of aurora spirits keep the crew laser-focused after dusk."},effects:[{event:jt.APPLIED,once:!0,invoke:({state:n})=>{n.nightWorkSpeedMultiplier=Number((n.nightWorkSpeedMultiplier*1.05).toFixed(4))}}],spotlight:"Glow-lit helmets and synchronized chants keep the late shift on tempo."},{id:"steam-diplomats",name:"Steam Diplomats Accord",description:"Import two additional sauna beer bottles per tick via gilded trade routes.",cost:35,resource:ie.SAUNAKUNNIA,prerequisites:[{description:"Secure the Aurora Temperance Treaty for your envoys.",isSatisfied:n=>n.hasPolicy("temperance")},{description:"Hold a reserve of 50 Sauna Beer bottles to fund the embassy festivities.",isSatisfied:n=>n.getResource(ie.SAUNA_BEER)>=50}],visuals:{icon:IA,gradient:"linear-gradient(150deg, rgba(255, 173, 94, 0.92), rgba(255, 99, 71, 0.85))",accentColor:"#fb923c",badges:["Diplomacy","Logistics"],flair:"Silver samovars arrive with diplomatic steam-born delights."},effects:[{event:jt.APPLIED,once:!0,invoke:({state:n})=>{n.modifyPassiveGeneration(ie.SAUNA_BEER,2)}}],spotlight:"Trade envoys pipe artisanal steam through every new supply line."}],YA=new Map;for(const n of XA)YA.set(n.id,n);function _A(){return XA}function ep(n){return YA.get(n)}const KA="progression:ngPlusState",Gc=5,VA=1831565813,Xs=Object.freeze({aggressionMultiplier:1,cadenceMultiplier:1,strengthMultiplier:1}),dc=Object.freeze({runSeed:0,ngPlusLevel:0,unlockSlots:0,enemyTuning:Xs});function Vd(n,a,s,l){const c=Number(n);return Number.isFinite(c)?Math.min(s,Math.max(a,c)):l}function Wf(n){return{aggressionMultiplier:Vd(n?.aggressionMultiplier,.25,6,Xs.aggressionMultiplier),cadenceMultiplier:Vd(n?.cadenceMultiplier,.25,4,Xs.cadenceMultiplier),strengthMultiplier:Vd(n?.strengthMultiplier,.25,6,Xs.strengthMultiplier)}}function ZA(){if(typeof window>"u")return null;try{return window.localStorage??null}catch(n){return console.warn("Local storage unavailable for NG+ state",n),null}}function tp(n,a,s){const l=Number.isFinite(n)?n:Number(n);if(!Number.isFinite(l))return a;const c=Math.trunc(l);return Math.min(s,Math.max(a,c))}function JA(n){const a=Number.isFinite(n)?n:Number(n);return!Number.isFinite(a)||a===0?0:Math.trunc(Math.abs(a))}function WA(n=Math.random){let a=n();(!Number.isFinite(a)||a<=0||a>=1)&&(a=Math.random());const s=Math.floor(a*4294967295);return s===0?VA:s}function Qa(n={}){const a=dc,s=JA(n.runSeed??a.runSeed),l=tp(n.ngPlusLevel??a.ngPlusLevel,0,Number.MAX_SAFE_INTEGER),c=tp(n.unlockSlots??a.unlockSlots,0,Gc),u=Wf(n.enemyTuning??a.enemyTuning);return{runSeed:s,ngPlusLevel:l,unlockSlots:c,enemyTuning:u}}function ka(n,a=Math.random){const s=Qa(n);return s.runSeed!==0?s:Qa({...s,runSeed:WA(a)})}function _b(n=Math.random){const a=ZA();if(!a)return ka(dc,n);const s=a.getItem(KA);if(!s)return ka(dc,n);try{const l=JSON.parse(s);return ka(Qa(l),n)}catch(l){return console.warn("Failed to parse NG+ state",l),ka(dc,n)}}function Hf(n){const a=ZA();if(!a)return;const s=Qa(n);a.setItem(KA,JSON.stringify(s))}function Kb(n,a){const s=Qa(n),l=typeof a.random=="function"?a.random:Math.random;let c=s.ngPlusLevel,u=s.unlockSlots;if(a.outcome==="win"){c+=1;const h=Math.max(0,Math.trunc(a.bonusUnlocks??1));h>0&&(u=Math.min(Gc,u+h))}const f=WA(l);return ka(Qa({runSeed:f,ngPlusLevel:c,unlockSlots:u,enemyTuning:s.enemyTuning}),l)}function Vb(n){const a=Math.max(0,n.ngPlusLevel),s=Math.max(0,n.unlockSlots)*.02;return Math.min(3,1+a*.12+s)}function Zb(n){const a=Math.max(0,n.ngPlusLevel),s=Math.max(0,n.unlockSlots)*.01,l=.1+a*.05+s;return Math.max(0,Math.min(.85,l))}function Jb(n){const a=Math.max(0,n.ngPlusLevel),s=Math.max(.5,1+a*.25),l=Wf(n.enemyTuning??Xs);return Math.max(.25,Math.min(8,s*l.aggressionMultiplier))}function Wb(n){return 1+Math.max(0,n.unlockSlots)}function $b(n){return Wf(n.enemyTuning??Xs)}function np(n,a=0){let s=JA(n)^(a|0);return s===0&&(s=VA^(a|0)),()=>{s=s+1831565813|0;let l=Math.imul(s^s>>>15,1|s);return l^=l+Math.imul(l^l>>>7,61|l),((l^l>>>14)>>>0)/4294967296}}function Zd(n){return`${n.q},${n.r}`}const $A={farm:()=>new Zf,barracks:()=>new UA};function e1(n){return $A[n]?.()}const ap=Object.freeze({aggression:1,cadence:1,strength:1});function Ys(n,a,s,l){const c=Number(n);return Number.isFinite(c)?Math.min(s,Math.max(a,c)):l}function ip(n,a){return{aggression:Ys(a.aggression??n.aggression,.1,8,n.aggression),cadence:Ys(a.cadence??n.cadence,.25,6,n.cadence),strength:Ys(a.strength??n.strength,.25,12,n.strength)}}class t1{constructor(a,s="gameState"){this.tickInterval=a,this.storageKey=s}resources={[ie.SAUNA_BEER]:0,[ie.SAUNAKUNNIA]:0,[ie.SISU]:0};passiveGeneration={...Fo};lastSaved=Date.now();buildings={};buildingPlacements=new Map;policies=new Set;nightWorkSpeedMultiplier=1;enemyScaling={...ap};enemyCalmSecondsRemaining=0;ngPlus=Qa();tick(){Object.keys(this.passiveGeneration).forEach(a=>{this.addResource(a,this.passiveGeneration[a])})}save(){this.lastSaved=Date.now();const a={};this.buildingPlacements.forEach((c,u)=>{a[u]=c.type});const s={resources:this.resources,lastSaved:this.lastSaved,buildings:this.buildings,buildingPlacements:a,policies:Array.from(this.policies),passiveGeneration:{...this.passiveGeneration},nightWorkSpeedMultiplier:this.nightWorkSpeedMultiplier,enemyScaling:{...this.enemyScaling},ngPlus:this.ngPlus},l=typeof localStorage<"u"&&localStorage?localStorage:void 0;if(!l){console.warn("GameState.save: localStorage is unavailable, skipping persistence.");return}try{l.setItem(this.storageKey,JSON.stringify(s))}catch(c){console.warn("GameState.save: Failed to persist state to localStorage.",c)}}load(a){const s=Jf(this.storageKey);if(!s)return this.lastSaved=Date.now(),!1;this.resources={...this.resources,...s.resources??{}},Object.keys(this.resources).forEach(m=>{Number.isFinite(this.resources[m])||(this.resources[m]=0)}),this.enemyScaling=ip(ap,s.enemyScaling??{}),this.enemyCalmSecondsRemaining=0;const l={};Object.entries(s.buildings??{}).forEach(([m,g])=>{$A[m]&&(l[m]=g)}),this.buildings=l,this.buildingPlacements.clear(),s.buildingPlacements&&Object.entries(s.buildingPlacements).forEach(([m,g])=>{const p=e1(g);if(!p)return;this.buildingPlacements.set(m,p);const[v,b]=m.split(",").map(Number);if(a){const E=a.ensureTile(v,b);E.placeBuilding(p.type),E.reveal(),kf({q:v,r:b},a.hexSize)}ne.emit("buildingPlaced",{building:p,coord:{q:v,r:b},state:this})}),this.lastSaved=s.lastSaved??Date.now();const c=s.ngPlus?Qa(s.ngPlus):this.ngPlus;if(this.ngPlus=ka(c),this.policies=new Set,this.passiveGeneration={...Fo},this.nightWorkSpeedMultiplier=1,(Array.isArray(s.policies)?s.policies.filter(m=>typeof m=="string"):[]).forEach(m=>{const g=ep(m);g&&(this.policies.add(g.id),ne.emit(jt.APPLIED,{policy:g,state:this}))}),s.passiveGeneration){const m={...Fo};Object.keys(Fo).forEach(g=>{const p=s.passiveGeneration?.[g];typeof p=="number"&&Number.isFinite(p)&&(m[g]=p)}),this.passiveGeneration=m}typeof s.nightWorkSpeedMultiplier=="number"&&Number.isFinite(s.nightWorkSpeedMultiplier)&&(this.nightWorkSpeedMultiplier=s.nightWorkSpeedMultiplier);const f=Date.now()-this.lastSaved,h=Math.floor(f/this.tickInterval);return Object.keys(this.passiveGeneration).forEach(m=>{this.resources[m]+=h*this.passiveGeneration[m]}),!0}getResource(a){return this.resources[a]}canAfford(a,s=ie.SAUNA_BEER){return this.resources[s]>=a}spendResource(a,s=ie.SAUNA_BEER){return this.spend(a,s)}spend(a,s=ie.SAUNA_BEER){return this.canAfford(a,s)?(this.resources[s]-=a,ne.emit("resourceChanged",{resource:s,amount:-a,total:this.resources[s]}),!0):!1}addResource(a,s){this.resources[a]+=s,ne.emit("resourceChanged",{resource:a,amount:s,total:this.resources[a]})}modifyPassiveGeneration(a,s){this.passiveGeneration[a]=(this.passiveGeneration[a]??0)+s}setEnemyScalingBase(a){return this.enemyScaling=ip(this.enemyScaling,a),{...this.enemyScaling}}applyEnemyScalingModifiers(a){const s={aggression:Ys(this.enemyScaling.aggression*(a.aggression??1),.1,8,this.enemyScaling.aggression),cadence:Ys(this.enemyScaling.cadence*(a.cadence??1),.25,6,this.enemyScaling.cadence),strength:Ys(this.enemyScaling.strength*(a.strength??1),.25,12,this.enemyScaling.strength)};return this.enemyScaling=s,{...this.enemyScaling}}getEnemyScalingSnapshot(){return{...this.enemyScaling,calmSecondsRemaining:Math.max(0,this.enemyCalmSecondsRemaining)}}requestEnemyCalm(a){const s=Number(a);return!Number.isFinite(s)||s<=0?this.enemyCalmSecondsRemaining:(this.enemyCalmSecondsRemaining=Math.max(this.enemyCalmSecondsRemaining,s),this.enemyCalmSecondsRemaining)}advanceEnemyCalm(a){const s=Number(a);return!Number.isFinite(s)||s<=0?this.enemyCalmSecondsRemaining:(this.enemyCalmSecondsRemaining=Math.max(0,this.enemyCalmSecondsRemaining-s),this.enemyCalmSecondsRemaining)}clearEnemyCalm(){this.enemyCalmSecondsRemaining=0}construct(a,s,l=ie.SAUNA_BEER){return this.spend(s,l)?(this.buildings[a]=(this.buildings[a]??0)+1,!0):!1}placeBuilding(a,s,l,c=ie.SAUNA_BEER){const u=l.getTile(s.q,s.r);return!u||u.building||!this.construct(a.type,a.cost,c)?!1:(this.buildingPlacements.set(Zd(s),a),u.placeBuilding(a.type),ne.emit("buildingPlaced",{building:a,coord:s,state:this}),!0)}getBuildingAt(a){return this.buildingPlacements.get(Zd(a))}removeBuilding(a,s){const l=Zd(a),c=this.buildingPlacements.get(l);return c?(this.buildingPlacements.delete(l),s.getTile(a.q,a.r)?.placeBuilding(null),this.buildings[c.type]!==void 0&&(this.buildings[c.type]-=1,this.buildings[c.type]<=0&&delete this.buildings[c.type]),ne.emit("buildingRemoved",{building:c,coord:a,state:this}),!0):!1}upgrade(a,s,l=ie.SAUNA_BEER){return this.construct(`upgrade:${a}`,s,l)}applyPolicy(a){const s=ep(a);if(!s){const u={policyId:a,state:this,reason:"unknown-policy"};return ne.emit(jt.REJECTED,u),!1}if(this.hasPolicy(s.id)){const u={policyId:s.id,policy:s,state:this,reason:"already-applied"};return ne.emit(jt.REJECTED,u),!1}const l=s.prerequisites.filter(u=>!u.isSatisfied(this));if(l.length>0){const u={policyId:s.id,policy:s,state:this,reason:"prerequisites-not-met",missingPrerequisites:l};return ne.emit(jt.REJECTED,u),!1}if(!this.spend(s.cost,s.resource)){const u={policyId:s.id,policy:s,state:this,reason:"insufficient-resources"};return ne.emit(jt.REJECTED,u),!1}this.policies.add(s.id);const c={policy:s,state:this};return ne.emit(jt.APPLIED,c),!0}hasPolicy(a){return this.policies.has(a)}getNgPlusState(){return{...this.ngPlus}}setNgPlusState(a){const s=Qa({...this.ngPlus,...a});return this.ngPlus=ka(s),this.ngPlus}}class n1{constructor(a,s){this.baseInterval=a,this.onTick=s}timer=null;speed=1;lastTick=0;accumulator=0;start(){this.stop(),this.lastTick=Date.now();const a=this.baseInterval/this.speed;this.timer=setInterval(()=>{const s=Date.now(),l=s-this.lastTick;this.lastTick=s,this.onTick(l)},a)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}setSpeed(a){if(a<=0)throw new Error("Speed multiplier must be positive");this.speed=a,this.timer!==null&&this.start()}getSpeed(){return this.speed}getBaseInterval(){return this.baseInterval}tick(a){for(this.accumulator+=a*this.speed;this.accumulator>=this.baseInterval;)this.accumulator-=this.baseInterval,this.onTick(this.baseInterval)}}var En=(n=>(n[n.Plains=0]="Plains",n[n.Forest=1]="Forest",n[n.Hills=2]="Hills",n[n.Lake=3]="Lake",n))(En||{});function a1(n,a,s){let l=n*374761393+a*668265263+s*0x14057b7ef7678100;return l=(l^l>>13)*1274126177,l^=l>>16,(l>>>0)/4294967295}function i1(n,a,s=0){const l=a1(n,a,s);return l<.1?3:l<.3?1:l<.5?2:0}class s1{_terrain;_building;_isFogged;listeners=new Set;constructor(a=En.Plains,s=null,l=!0){this._terrain=a,this._building=s,this._isFogged=l}get terrain(){return this._terrain}set terrain(a){this._terrain!==a&&(this._terrain=a,this.notify("terrain"))}get building(){return this._building}set building(a){this._building!==a&&(this._building=a,this.notify("building"))}get isFogged(){return this._isFogged}set isFogged(a){this._isFogged!==a&&(this._isFogged=a,this.notify("fog"))}reveal(){this.isFogged=!1}placeBuilding(a){this.building=a}setFogged(a){this.isFogged=a}addMutationListener(a){return this.listeners.add(a),()=>this.listeners.delete(a)}notify(a){for(const s of this.listeners)s(a)}}class r1{constructor(a=10,s=10,l=32,c=0){this.hexSize=l,this.seed=c,this.minQ=0,this.minR=0,this.maxQ=a-1,this.maxR=s-1}tiles=new Map;tileSubscriptions=new Map;changeListeners=new Set;minQ;maxQ;minR;maxR;get width(){return this.maxQ-this.minQ+1}get height(){return this.maxR-this.minR+1}key(a,s){return`${a},${s}`}addTileChangeListener(a){return this.changeListeners.add(a),()=>this.changeListeners.delete(a)}notifyTileChange(a,s,l){for(const c of this.changeListeners)c(a,s,l)}attachTileListener(a,s,l){const c=s.addMutationListener(u=>{this.notifyTileChange(l,s,u)});this.tileSubscriptions.set(a,c)}ensureTile(a,s){const l=this.key(a,s);let c=this.tiles.get(l);return c||(c=new s1(i1(a,s,this.seed)),this.tiles.set(l,c),this.minQ=Math.min(this.minQ,a),this.maxQ=Math.max(this.maxQ,a),this.minR=Math.min(this.minR,s),this.maxR=Math.max(this.maxR,s),this.attachTileListener(l,c,{q:a,r:s}),this.notifyTileChange({q:a,r:s},c,"created"),c.isFogged||kf({q:a,r:s},this.hexSize)),c}getTile(a,s){return this.tiles.get(this.key(a,s))}forEachTile(a){for(const[s,l]of this.tiles){const[c,u]=s.split(",").map(Number);a(l,{q:c,r:u})}}getNeighbors(a,s){return pc({q:a,r:s}).map(l=>this.ensureTile(l.q,l.r))}revealAround(a,s,l={}){const{autoFrame:c=!0}=l;for(let h=-s;h<=s;h++){const m=Math.max(-s,-h-s),g=Math.min(s,-h+s);for(let p=m;p<=g;p++){const v={q:a.q+h,r:a.r+p};this.ensureTile(v.q,v.r).reveal(),kf(v,this.hexSize)}}if(!c)return;const u=typeof window<"u"?(()=>{const h=Math.max(window.innerWidth,0),m=Math.max(window.innerHeight,0);let g=0;if(typeof document<"u"){const v=document.getElementById("right-panel");if(v){const b=v.getBoundingClientRect();if(b.width>0){const E=v.closest("#ui-overlay");if(E){const C=E.getBoundingClientRect(),k=window.getComputedStyle(E),B=Number.parseFloat(k.paddingRight||"0"),N=C.right-b.left,j=b.width+(Number.isFinite(B)?B:0);g=Math.max(0,Math.max(N,j))}else g=Math.max(0,b.width)}}}const p=Math.min(Math.max(g,0),h);return{width:h,height:m,safeRight:p}})():{width:0,height:0,safeRight:0},f=Fb(u);qb(f,300)}}const vc={TRIGGERED:"scheduler:eventTriggered",RESOLVED:"scheduler:eventResolved"},l1=new Map;function o1(){return globalThis.localStorage??null}function Wr(n){return typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function ev(n){const a=globalThis.crypto;return a?.randomUUID?a.randomUUID():`${n}-${Date.now()}-${Math.random().toString(16).slice(2)}`}function c1(n){const a={id:String(n.id??""),label:String(n.label??""),description:n.description?String(n.description):void 0,event:n.event?String(n.event):void 0,payload:n.payload,accent:n.accent??void 0};return a.id||(a.id=ev("choice")),a.label||(a.label="Choose"),a}function yc(n){const a={id:String(n.id??""),headline:String(n.headline??""),body:String(n.body??""),art:n.art?String(n.art):void 0,typography:n.typography,animation:n.animation,accentColor:n.accentColor?String(n.accentColor):void 0,acknowledgeText:n.acknowledgeText?String(n.acknowledgeText):void 0,choices:Array.isArray(n.choices)?n.choices.map(s=>c1(s)):void 0};return a.id||(a.id=ev("event")),a}function u1(n){return{content:yc(n.content),trigger:n.trigger.type==="time"?{type:"time",at:Number.isFinite(n.trigger.at)?n.trigger.at:0}:{type:"condition",conditionId:String(n.trigger.conditionId),params:n.trigger.params}}}function sp(n){return{content:yc(n.content),triggeredAt:Number.isFinite(n.triggeredAt)?n.triggeredAt:0}}const Jd=Object.freeze({clock:0,queue:[],active:[]});class d1{storageKey;eventBus;getStorage;state=Wr(Jd);subscribers=new Set;constructor(a={}){this.storageKey=a.storageKey??"autobattles:event-scheduler",this.eventBus=a.eventBus??ne,this.getStorage=a.storageProvider??o1,this.load()}subscribe(a){return this.subscribers.add(a),a(this.getActiveEvents()),()=>{this.subscribers.delete(a)}}getActiveEvents(){return this.state.active.map(a=>({...Wr(a.content),triggeredAt:a.triggeredAt}))}schedule(a){const s=yc(a.content);if(!s.headline||!s.body||this.containsEvent(s.id))return!1;const l=a.trigger.type==="condition"?{type:"condition",conditionId:String(a.trigger.conditionId),params:a.trigger.params}:{type:"time",at:this.resolveTriggerTime(a.trigger)};return this.state.queue.push({content:s,trigger:l}),this.sortQueue(),this.save(),!0}publish(a){const s=yc(a);this.containsEvent(s.id)||(this.state.queue=this.state.queue.filter(l=>l.content.id!==s.id),this.activateEvent({content:s,triggeredAt:this.state.clock}))}tick(a,s={}){if(!Number.isFinite(a)||a<=0)return;this.state.clock+=a;const l=[],c=[];for(const u of this.state.queue)this.shouldTrigger(u.trigger,s)?l.push(u):c.push(u);this.state.queue=c;for(const u of l)this.activateEvent({content:u.content,triggeredAt:this.state.clock});this.save()}resolve(a,s){const l=this.state.active.findIndex(h=>h.content.id===a);if(l===-1)return!1;const c=this.state.active[l],u=this.pickChoice(c.content,s),f=u?u.id:null;return this.state.active.splice(l,1),this.save(),this.notify(),this.eventBus.emit(vc.RESOLVED,{eventId:a,choiceId:f,event:c.content}),u?.event&&this.eventBus.emit(u.event,{eventId:a,choiceId:f,payload:u.payload,event:c.content}),!0}reset(){this.state=Wr(Jd),this.save(),this.notify()}activateEvent(a){const s=sp(a);this.state.active.push(s),this.save(),this.notify(),this.eventBus.emit(vc.TRIGGERED,{event:{...Wr(s.content),triggeredAt:s.triggeredAt}})}pickChoice(a,s){const l=a.choices??[];if(l.length!==0){if(s){const c=l.find(u=>u.id===s);if(c)return c}return l[0]}}shouldTrigger(a,s){if(a.type==="time")return this.state.clock>=a.at;const l=l1.get(a.conditionId);if(!l)return!1;try{return!!l(a.params,s)}catch(c){return console.warn("Scheduler condition evaluation failed",a.conditionId,c),!1}}resolveTriggerTime(a){if(Number.isFinite(a.at))return Number(a.at);const s=Number.isFinite(a.in)?Number(a.in):0;return Math.max(0,this.state.clock+s)}sortQueue(){this.state.queue.sort((a,s)=>{const l=a.trigger.type==="time"?a.trigger.at:Number.POSITIVE_INFINITY,c=s.trigger.type==="time"?s.trigger.at:Number.POSITIVE_INFINITY;return l-c})}containsEvent(a){return this.state.active.some(s=>s.content.id===a)||this.state.queue.some(s=>s.content.id===a)}notify(){const a=this.getActiveEvents();for(const s of this.subscribers)try{s(a)}catch(l){console.warn("Scheduler subscriber failed",l)}}load(){const a=Jf(this.storageKey);if(!a){this.state=Wr(Jd);return}const s=Number(a.clock);this.state={clock:Number.isFinite(s)?s:0,queue:Array.isArray(a.queue)?a.queue.map(l=>u1(l)):[],active:Array.isArray(a.active)?a.active.map(l=>sp(l)):[]}}save(){const a=this.getStorage();if(a)try{a.setItem(this.storageKey,JSON.stringify({clock:this.state.clock,queue:this.state.queue,active:this.state.active}))}catch(s){console.warn("Scheduler persistence failed",s)}}}const fc=new d1;function f1(n,a){const s=new WeakSet,l=c=>{c.policy.id===n.id&&(a.once!==!1&&s.has(c.state)||(a.invoke(c),a.once!==!1&&s.add(c.state)))};ne.on(a.event,l)}for(const n of _A())for(const a of n.effects)f1(n,a);const h1="modulepreload",m1=function(n){return"/"+n},rp={},g1=function(a,s,l){let c=Promise.resolve();if(s&&s.length>0){let m=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");c=m(s.map(g=>{if(g=m1(g),g in rp)return;rp[g]=!0;const p=g.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":h1,p||(b.as="script"),b.crossOrigin="",b.href=g,h&&b.setAttribute("nonce",h),document.head.appendChild(b),p)return new Promise((E,C)=>{b.addEventListener("load",E),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return c.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return a().catch(u)})},p1=({building:n,coord:a,state:s})=>{n instanceof Zf?s.modifyPassiveGeneration(ie.SAUNA_BEER,n.beerPerTick):n instanceof UA&&g1(async()=>{const{spawnUnit:l}=await Promise.resolve().then(()=>rE);return{spawnUnit:l}},void 0).then(({spawnUnit:l})=>{l(s,"soldier",`barracks-${a.q}-${a.r}`,a,"player")})},A1=({building:n,state:a})=>{n instanceof Zf&&a.modifyPassiveGeneration(ie.SAUNA_BEER,-n.beerPerTick)};ne.on("buildingPlaced",p1);ne.on("buildingRemoved",A1);const Ls={attack:{payload:"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",loudness:{gain:1}},death:{payload:"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",loudness:{gain:1}},sisu:{payload:"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",loudness:{gain:1}}},tv={click:{loader:n=>y1(n),debounceMs:30},spawn:{loader:n=>b1(n),debounceMs:120},error:{loader:n=>E1(n)},attack:{loader:n=>Wd(Ls.attack.payload,n),debounceMs:70,gain:Ls.attack.loudness.gain},death:{loader:n=>Wd(Ls.death.payload,n),debounceMs:180,gain:Ls.death.loudness.gain},sisu:{loader:n=>Wd(Ls.sisu.payload,n),debounceMs:800,gain:Ls.sisu.loudness.gain}};let gi=null,hl=null;const lp=new Map,qo=new Map,op=new Map;let Ga=!1;typeof localStorage<"u"&&(Ga=localStorage.getItem("sfx-muted")==="true");const Of=new Set;function v1(){for(const n of Of)n(Ga)}function nv(n){if(hl)return hl;const a=n.createGain();return a.gain.value=Ga?0:1,a.connect(n.destination),hl=a,a}function $f(n,a,s){const l=Math.floor(n.sampleRate*a),c=n.createBuffer(1,l,n.sampleRate),u=c.getChannelData(0);for(let f=0;f<l;f++){const h=f/n.sampleRate;u[f]=s(h)}return c}function y1(n){return $f(n,.05,a=>Math.sin(2*Math.PI*1e3*a)*Math.exp(-40*a))}function b1(n){return $f(n,.2,a=>(Math.sin(2*Math.PI*440*a)+Math.sin(2*Math.PI*660*a))*.5*Math.exp(-6*a))}function E1(n){return $f(n,.3,a=>Math.sin(2*Math.PI*110*a)*Math.exp(-8*a))}function w1(n){const a=globalThis;if(typeof a.atob=="function"){const s=a.atob(n),l=s.length,c=new Uint8Array(l);for(let u=0;u<l;u++)c[u]=s.charCodeAt(u);return c}if(a.Buffer){const s=a.Buffer.from(n,"base64"),l=new Uint8Array(s.length);for(let c=0;c<s.length;c++)l[c]=s[c];return l}throw new Error("No base64 decoder available for sound payloads.")}async function Wd(n,a){const s=w1(n),l=s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength);return await a.decodeAudioData(l)}function eh(){if(gi||typeof window>"u")return gi;const n=window.AudioContext||window.webkitAudioContext;if(!n)return console.warn("Web Audio API not supported"),null;try{gi=new n,nv(gi)}catch(a){return console.warn("Unable to create AudioContext",a),gi=null,null}if(gi.state==="suspended"){const a=()=>{gi?.resume()};window.addEventListener("pointerdown",a,{once:!0}),window.addEventListener("keydown",a,{once:!0})}return gi}function S1(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function x1(n){const a=lp.get(n);if(a)return Promise.resolve(a);const s=qo.get(n);if(s)return s;const l=eh();if(!l)return Promise.reject(new Error("Audio context unavailable"));const c=tv[n];if(!c)return Promise.reject(new Error(`No sound registered for ${n}`));const u=Promise.resolve(c.loader(l)).then(f=>(lp.set(n,f),qo.delete(n),f)).catch(f=>{throw qo.delete(n),f});return qo.set(n,u),u}function La(n){if(Ga)return;const a=tv[n];if(!a)return;const s=S1(),l=a.debounceMs??0,c=op.get(n)??0;l>0&&s-c<l||(op.set(n,s),x1(n).then(u=>{if(Ga)return;const f=eh();if(!f)return;const h=nv(f),m=f.createBufferSource();m.buffer=u;const g=a.gain;if(typeof g=="number"&&g>0&&g!==1){const p=f.createGain();p.gain.value=g,m.connect(p),p.connect(h)}else m.connect(h);try{m.start()}catch(p){console.warn("Unable to start sound",p)}}).catch(u=>{u instanceof Error&&u.message==="Audio context unavailable"||console.warn("Failed to play sound",n,u)}))}function C1(){return Ga}function R1(n){Ga=n,hl&&(hl.gain.value=Ga?0:1),typeof localStorage<"u"&&localStorage.setItem("sfx-muted",Ga?"true":"false"),v1()}function B1(n){return Of.add(n),()=>{Of.delete(n)}}typeof document<"u"&&document.addEventListener("click",n=>{n.target instanceof HTMLButtonElement&&La("click")});eh();const cp="__autobattlesAudioEvents__",up=globalThis;up[cp]||(ne.on("unitDamaged",n=>{!n||n.amount<=0||La("attack")}),ne.on("unitDied",()=>{La("death")}),ne.on("sisuBurstStart",()=>{La("sisu")}),up[cp]=!0);function M1(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function D1(n){const a={};if(!n)return a;for(const[s,l]of Object.entries(n))typeof l=="function"&&(a[s]=l);return a}class T1{constructor(a=ne){this.emitter=a}modifiers=new Map;hookIndex=new Map;listeners=new Map;add(a){if(typeof a.id!="string"||a.id.length===0)throw new Error("Modifier id must be a non-empty string");if((typeof a.duration!="number"||!Number.isFinite(a.duration))&&a.duration!==1/0)throw new Error("Modifier duration must be a positive number or Infinity");if(Number.isFinite(a.duration)&&a.duration<=0)throw new Error("Modifier duration must be greater than zero");const s=D1(a.hooks),l=M1();this.modifiers.has(a.id)&&this.remove(a.id,"replaced");const c={...a,hooks:s,remaining:a.duration,appliedAt:l};this.modifiers.set(c.id,c),this.indexHooks(c);const u={runtime:this,modifier:c};return a.onApply?.(u),this.emit("modifierAdded",{modifier:c}),this.emitter?.emit("modifierAdded",{modifier:c}),Number.isFinite(c.remaining)&&c.remaining<=0&&this.remove(c.id,"expired"),c}has(a){return this.modifiers.has(a)}list(){return Array.from(this.modifiers.values()).map(a=>({...a,hooks:{...a.hooks}}))}remove(a,s="manual"){const l=this.modifiers.get(a);if(!l)return!1;this.modifiers.delete(a),this.unindexHooks(l);const c={runtime:this,modifier:l,reason:s};return l.onExpire?.(c),s==="expired"&&(this.emit("modifierExpired",{modifier:l}),this.emitter?.emit("modifierExpired",{modifier:l})),this.emit("modifierRemoved",{modifier:l,reason:s}),this.emitter?.emit("modifierRemoved",{modifier:l,reason:s}),!0}advance(a){if(typeof a!="number"||a<=0)return;const s=[];for(const l of this.modifiers.values())Number.isFinite(l.remaining)&&(l.remaining=Math.max(0,l.remaining-a),l.remaining<=0&&s.push(l.id));for(const l of s)this.remove(l,"expired")}trigger(a,s){const l=this.hookIndex.get(a);if(!l||l.size===0)return;const c=Array.from(l);for(const u of c){const f=this.modifiers.get(u);if(!f){l.delete(u);continue}const h=f.hooks[a];if(!h){l.delete(u);continue}h(s,{runtime:this,modifier:f})}}clear(){const a=Array.from(this.modifiers.keys());for(const s of a)this.remove(s,"manual")}on(a,s){const l=this.listeners.get(a)??new Set;l.add(s),this.listeners.set(a,l)}off(a,s){const l=this.listeners.get(a);l&&(l.delete(s),l.size===0&&this.listeners.delete(a))}emit(a,s){const l=this.listeners.get(a);if(!(!l||l.size===0))for(const c of Array.from(l))c(s)}indexHooks(a){for(const s of Object.keys(a.hooks)){const l=this.hookIndex.get(s)??new Set;l.add(a.id),this.hookIndex.set(s,l)}}unindexHooks(a){for(const s of Object.keys(a.hooks)){const l=this.hookIndex.get(s);l&&(l.delete(a.id),l.size===0&&this.hookIndex.delete(s))}}}const Lc=new T1,k1=n=>Lc.add(n),H1=(n,a="manual")=>Lc.remove(n,a),O1=n=>{Lc.advance(n)},Xo=(n,a)=>{Lc.trigger(n,a)};class N1{constructor(a,s,l){this.owner=a,this.entries=s,this.log=l}runTick(a,s){for(const{definition:l,state:c}of this.entries){if(!l.onTick)continue;const u=l.onTick({owner:this.owner,state:c,self:a,opponent:s}),f=_i(u?.shieldDamage??0);if(f>0){const m=Math.min(a.shield,f);m>0&&(a.shield-=m,this.log.tickShieldDamage+=m)}const h=_i(u?.hpDamage??0);if(h>0){const m=Math.min(a.health,h);m>0&&(a.health-=m,this.log.tickHpDamage+=m)}}}grantShield(a,s){let l=0;for(const{definition:c,state:u}of this.entries){if(!c.onGrantShield)continue;const f=_i(c.onGrantShield({owner:this.owner,state:u,self:a,opponent:s})??0);f>0&&(l+=f)}return l>0&&(a.shield+=l,this.log.shieldGranted+=l),l}consumeShield(a,s,l){let c=_i(a);if(c<=0)return 0;let u=0;for(const{definition:f,state:h}of this.entries){if(!f.onConsumeShield||c<=0)continue;const m=_i(f.onConsumeShield({owner:this.owner,state:h,self:s,opponent:l,amount:c})??0);if(m<=0)continue;const g=Math.min(c,m);u+=g,c-=g}return u>0&&(this.log.shieldConsumed+=u),u}applyHit(a,s,l){if(a<=0)return 0;let c=0;for(const{definition:h,state:m}of this.entries){if(!h.onHit)continue;const g=_i(h.onHit({owner:this.owner,state:m,self:s,opponent:l,hpDamage:a})??0);g>0&&(c+=g)}if(c<=0)return 0;const u=Math.max(0,s.maxHealth-s.health);if(u<=0)return 0;const f=Math.min(u,c);return f>0&&(s.health+=f,this.log.lifesteal+=f),f}getShieldValue(){let a=0;for(const{definition:s,state:l}of this.entries){if(!s.onGrantShield||l.keyword!=="Shield")continue;const c=Nf(l);if(c<=0)continue;const u=Math.max(0,Number.isFinite(l.stacks)?l.stacks:0);u<=0||(a+=u*c)}return a}}function P1(){return{attacker:fp(),defender:fp()}}function dp(n,a,s){const l=Q1(n);if(l.length===0)return null;const c=[];for(const u of l){const f=av.get(u.keyword);f&&c.push({state:u,definition:f})}return c.length===0?null:new N1(a,c,s)}const av=new Map;function Uc(n,a){av.set(n,a)}function fp(){return{tickHpDamage:0,tickShieldDamage:0,shieldGranted:0,shieldConsumed:0,lifesteal:0,keywordShieldRemaining:0}}function _i(n){return typeof n!="number"||!Number.isFinite(n)?0:n>0?n:0}function $s(n){return typeof n!="number"||!Number.isFinite(n)?0:n>0?n:0}function El(n){return typeof n!="number"||!Number.isFinite(n)?0:n>0?n:0}function Q1(n){if(!n)return[];const a=[],s=n;if(typeof s[Symbol.iterator]=="function"){for(const l of s){const c=hp(l);c&&a.push(c)}return a}if(typeof n=="object")for(const l of Object.values(n)){const c=hp(l);c&&a.push(c)}return a}function hp(n){if(!n||typeof n!="object")return null;const a=n;if(!Object.prototype.hasOwnProperty.call(a,"stacks"))return null;const s=G1(a.keyword);if(!s)return null;const l=a;return l.keyword=s,l.stacks=$s(l.stacks),Object.prototype.hasOwnProperty.call(a,"potency")&&l.potency!==void 0&&(l.potency=El(l.potency)),l}function G1(n){if(typeof n!="string")return null;switch(n.trim().toLowerCase()){case"bleed":return"Bleed";case"burn":return"Burn";case"lifesteal":case"life-steal":return"Lifesteal";case"shield":return"Shield";default:return null}}function Nf(n){const a=n.potency!==void 0?El(n.potency):1;return a>0?a:0}function L1(n){if(n.potency!==void 0){const l=El(n.potency);return l>0?l:0}const a=$s(n.stacks);if(a<=0)return 0;const s=a*.2;return s>0?s:0}Uc("Bleed",{onTick({state:n,self:a}){const s=$s(n.stacks);if(s<=0||a.health<=0){n.stacks=s;return}const l=n.potency!==void 0?El(n.potency):1,c=s*l;if(c<=0)return;const u=Math.min(a.health,c);return n.stacks=Math.max(0,s-1),{hpDamage:u}}});Uc("Burn",{onTick({state:n,self:a}){const s=$s(n.stacks);if(s<=0){n.stacks=s;return}const l=n.potency!==void 0?El(n.potency):1,c=s*l;if(c<=0)return;const u=Math.min(a.shield,c),f=c-u,h=Math.min(a.health,f);return n.stacks=Math.max(0,s-1),{shieldDamage:u,hpDamage:h}}});Uc("Shield",{onGrantShield({state:n}){const a=$s(n.stacks);if(a<=0)return n.stacks=a,0;const s=a*Nf(n);return s>0?s:0},onConsumeShield({state:n,amount:a}){const s=$s(n.stacks);if(s<=0)return n.stacks=0,0;const l=Nf(n);if(l<=0)return n.stacks=0,0;const c=s*l;if(c<=0)return n.stacks=0,0;const u=Math.min(c,_i(a)),f=u/l;return n.stacks=Math.max(0,s-f),u>0?u:0}});Uc("Lifesteal",{onHit({state:n,hpDamage:a}){if(a<=0)return 0;const s=L1(n);if(s<=0)return 0;const l=a*s;return l>0?l:0}});function On(n){return Number.isFinite(n)?Math.max(0,n):0}function mp(n,a){const s=On(a?.health??n?.health??0),l=On(a?.shield??n?.shield??0);return{id:n?.id??"unknown",faction:n?.faction,health:s,maxHealth:n?.maxHealth,shield:l}}function gp(n){if(!n)return!1;const a=n;return typeof a.onHit=="function"||typeof a.onKill=="function"||Array.isArray(a.onHit)||Array.isArray(a.onKill)}function pp(n){return n?Array.isArray(n)?n.filter(a=>typeof a=="function"):typeof n=="function"?[n]:[]:[]}function U1(n){if(!n)return[];if(typeof n[Symbol.iterator]=="function"){const s=[];for(const l of n)gp(l)&&s.push(l);return s}return Object.values(n).filter(s=>gp(s))}function Yo(n,a,s){if(!n)return;const l=pp(n.hooks?.[a]);for(const u of l)u(s);const c=U1(n.keywords);for(const u of c)for(const f of pp(u[a]))f(s)}function Ap(n){const a=On(n?.health??0),s=On(n?.maxHealth??a);return{health:a,maxHealth:Math.max(s,a),shield:On(n?.shield??0)}}function j1(){return{health:0,maxHealth:0,shield:0}}function z1(n){const a=n.attacker??null,s=n.defender,l=n.baseDamage,c=On(n.minimumDamage??1),u=Number.isFinite(l)?On(l):On(a?.attack??0),f=On(s.defense??0),h=P1(),m=Ap(s),g=a?Ap(a):null,p=dp(s.keywords??null,"defender",h.defender),v=a?dp(a.keywords??null,"attacker",h.attacker):null,b=g??j1();p&&p.runTick(m,b),v&&g&&v.runTick(g,m);const E=m.health>0,C=On(m.shield);p&&p.grantShield(m,b);const k=On(m.shield),B=E?Math.max(c,u-f):0,N=E?Math.min(k,B):0,j=E?Math.max(0,B-N):0;m.shield=Math.max(0,k-N);const q=Math.min(C,N),Z=Math.max(0,N-q);p&&Z>0&&p.consumeShield(Z,m,b);const W=p?p.getShieldValue():0;h.defender.keywordShieldRemaining=W;const re=Math.max(0,C-q);m.shield=re+W;const F=m.health;m.health=Math.max(0,F-j);const ae=m.health,$=ae<=0;let _=0;v&&g?(_=v.applyHit(j,g,m),h.attacker.keywordShieldRemaining=v.getShieldValue()):h.attacker.keywordShieldRemaining=0;const L=mp(a,g??void 0),P=mp(s,{health:ae,shield:re+W}),T={attacker:L,defender:P,damage:B,shieldDamage:N,hpDamage:j,lethal:$},K={...T,source:"defender"};if(Yo(s,"onHit",K),Xo("combat:onHit",K),a){const z={...T,source:"attacker"};Yo(a,"onHit",z),Xo("combat:onHit",z),$&&(Yo(a,"onKill",z),Xo("combat:onKill",z))}return $&&(Yo(s,"onKill",K),Xo("combat:onKill",K)),{damage:B,shieldDamage:N,hpDamage:j,lethal:$,remainingHealth:ae,remainingShield:re+W,attackerHealing:_,attackerRemainingHealth:g?.health,attackerRemainingShield:g?.shield,keywordEffects:h}}const vp=5;function dn(n){return`${n.q},${n.r}`}function yp(n){const[a,s]=n.split(",").map(Number);return{q:a,r:s}}function Us(n){return{q:n.q,r:n.r}}class I1{constructor(a,s,l,c,u,f=[]){this.id=a,this.type=s,this.faction=c,this.stats=u,this.priorityFactions=f,this.coord=Us(l),this.renderCoord=Us(l),this.maxHealth=u.health}alive=!0;listeners={};maxHealth;healMarkerElapsed=0;healAmountBuffer=0;cachedTargetKey;cachedStartKey;cachedPath;movementCooldownSeconds=0;shield=0;immortal=!1;experience=0;combatHooks=null;combatKeywords=null;coord;renderCoord;setCoord(a,s){this.coord=Us(a),(s?.snapRender??!0)&&(this.renderCoord=Us(a))}setRenderCoord(a){this.renderCoord=Us(a)}snapRenderToCoord(a=this.coord){this.renderCoord=Us(a)}onDeath(a){(this.listeners.death??=[]).push(a)}emitDeath(){for(const a of this.listeners.death??[])a()}isDead(){return!this.alive}getMaxHealth(){return this.maxHealth}distanceTo(a){return Is(this.coord,a)}getVisionRange(){const{visionRange:a}=this.stats;return Number.isFinite(a)?a:3}attack(a){return this.distanceTo(a.coord)>this.stats.attackRange?null:a.takeDamage(this.stats.attackDamage,this)}update(a,s){if(!(this.isDead()||!s))if(Is(this.coord,s.pos)<=s.auraRadius){const l=this.stats.health;if(this.stats.health=Math.min(this.stats.health+s.regenPerSec*a,this.maxHealth),this.stats.health>l){const c=this.stats.health-l;this.healMarkerElapsed+=a,this.healAmountBuffer+=c,(this.healMarkerElapsed>=.9||this.healAmountBuffer>=2)&&this.flushHealEvent()}}else this.healAmountBuffer>0&&this.flushHealEvent(),this.healMarkerElapsed=0,this.healAmountBuffer=0}flushHealEvent(){if(this.healAmountBuffer<=0){this.healMarkerElapsed=0;return}const a=Math.round(this.healAmountBuffer*10)/10;a>0&&ne.emit("unitHealed",{unitId:this.id,amount:a,remainingHealth:this.stats.health}),this.healAmountBuffer=0,this.healMarkerElapsed=0}takeDamage(a,s){const l=Number.isFinite(a);if(l&&a<=0||!l&&!s)return null;const c=s?s.toCombatParticipant():null,u=this.toCombatParticipant(),f=z1({attacker:c,defender:u,baseDamage:l?a:void 0});this.stats.health=f.remainingHealth,this.shield=f.remainingShield;let h=f;if(f.lethal&&this.alive&&this.immortal&&(this.stats.health=Math.max(1,this.stats.health),h={...f,lethal:!1,remainingHealth:this.stats.health,remainingShield:this.shield}),s&&f.attackerRemainingHealth!==void 0){const m=Math.min(s.getMaxHealth(),Math.max(0,f.attackerRemainingHealth));s.stats.health=m}return s&&f.attackerRemainingShield!==void 0&&s.setShield(f.attackerRemainingShield),h.damage>0&&ne.emit("unitDamaged",{attackerId:s?.id,targetId:this.id,amount:h.damage,remainingHealth:this.stats.health}),h.lethal&&this.alive&&(this.stats.health=0,this.alive=!1,this.snapRenderToCoord(),ne.emit("unitDied",{unitId:this.id,attackerId:s?.id,unitFaction:this.faction,attackerFaction:s?.faction}),this.emitDeath()),h}getShield(){return this.shield}setShield(a){if(!Number.isFinite(a)||a<=0){this.shield=0;return}this.shield=a}updateStats(a){this.stats.attackDamage=a.attackDamage,this.stats.attackRange=a.attackRange,this.stats.movementRange=a.movementRange,typeof a.defense=="number"&&Number.isFinite(a.defense)?this.stats.defense=a.defense:delete this.stats.defense,typeof a.visionRange=="number"&&Number.isFinite(a.visionRange)&&(this.stats.visionRange=a.visionRange);const s=Math.max(1,Math.round(a.health));this.maxHealth=s,this.stats.health=Math.min(s,Math.max(0,this.stats.health))}isImmortal(){return this.immortal}setImmortal(a){this.immortal=!!a}getExperience(){return this.experience}setExperience(a){const s=Number.isFinite(a)?Math.max(0,Math.floor(a)):0;s!==this.experience&&(this.experience=s,ne.emit("unit:xpChanged",{unitId:this.id,xp:this.experience}))}addExperience(a){if(!Number.isFinite(a)||a===0)return this.experience;const s=Math.max(0,Math.floor(this.experience+a));return this.setExperience(s),this.experience}toCombatParticipant(){return{id:this.id,faction:this.faction,attack:this.stats.attackDamage,defense:this.stats.defense,health:this.stats.health,maxHealth:this.maxHealth,shield:this.shield,hooks:this.combatHooks,keywords:this.combatKeywords}}addMovementTime(a){!Number.isFinite(a)||a<=0||(this.movementCooldownSeconds+=a)}canStep(a=vp){return this.movementCooldownSeconds>=a}consumeMovementCooldown(a=vp){return this.canStep(a)?(this.movementCooldownSeconds-=a,!0):!1}moveTowards(a,s,l){const c=this.getPathTo(a,s,l);if(c.length<2)return[];let u=0;const f=dn(a);for(let m=1;m<c.length;m++){const g=dn(c[m]);if(l.has(g)){g!==f&&this.clearPathCache();break}u=m}if(u===0)return[];const h=Math.min(this.stats.movementRange,u);return c.slice(0,h+1)}getPathTo(a,s,l){const c=dn(this.coord),u=dn(a);return(!this.cachedPath||this.cachedTargetKey!==u||this.cachedStartKey!==c)&&(this.cachedPath=this.findPath(a,s,l),this.cachedTargetKey=u,this.cachedStartKey=c),this.cachedPath}advancePathCache(a){!this.cachedPath||a<=0||(this.cachedPath=this.cachedPath.slice(a),this.cachedPath.length>0?this.cachedStartKey=dn(this.cachedPath[0]):(this.cachedPath=void 0,this.cachedStartKey=void 0,this.cachedTargetKey=void 0))}clearPathCache(){this.cachedPath=void 0,this.cachedStartKey=void 0,this.cachedTargetKey=void 0}findPath(a,s,l){const c=this.coord,u=dn(c),f=dn(a),h=new Set([u]),m=new Map([[u,null]]),g=new Map([[u,0]]),p=new Map([[u,Is(c,a)]]);for(;h.size>0;){let E=null,C=1/0;for(const N of h){const j=p.get(N)??1/0;j<C&&(C=j,E=N)}if(E===null||E===f)break;h.delete(E);const k=yp(E),B=g.get(E)??1/0;for(const N of pc(k)){const j=dn(N);if(j!==f&&!this.isPassable(N,s,l))continue;const q=B+1;q<(g.get(j)??1/0)&&(m.set(j,E),g.set(j,q),p.set(j,q+Is(N,a)),h.add(j))}}if(!m.has(f))return[c];const v=[];let b=f;for(;b;)v.push(yp(b)),b=m.get(b)??null;return v.reverse()}seekNearestEnemy(a,s,l){const c=new Map;for(const h of a)c.set(dn(h.coord),h);const u=[this.coord],f=new Set([dn(this.coord)]);for(;u.length>0;){const h=u.shift(),m=dn(h),g=c.get(m);if(g)return g;for(const p of pc(h)){const v=dn(p),b=c.get(v);if(b)return b;this.isPassable(p,s,l)&&(f.has(v)||(f.add(v),u.push(p)))}}return null}canTraverse(a,s,l){return this.isPassable(a,s,l)}isPassable(a,s,l){const c=s.getTile(a.q,a.r);return!c||l&&l.has(dn(a))?!1:c.terrain!==En.Lake}}class F1{static selectTarget(a,s){let l=s.filter(u=>u.faction!==a.faction&&!u.isDead());if(l.length===0)return null;if(a.priorityFactions.length>0){const u=l.filter(f=>a.priorityFactions.includes(f.faction));u.length>0&&(l=u)}const c=l.filter(u=>a.distanceTo(u.coord)<=a.stats.attackRange);return c.length>0?(c.sort((u,f)=>u.stats.health-f.stats.health),c[0]):(l.sort((u,f)=>a.distanceTo(u.coord)-a.distanceTo(f.coord)),l[0]??null)}}const q1=4,X1=8;class Y1{buckets=[];bucketCount=0;currentBucket=0;minBuckets;maxBuckets;constructor(a={}){this.minBuckets=a.minBuckets??q1,this.maxBuckets=a.maxBuckets??X1}reset(){this.buckets=[],this.bucketCount=0,this.currentBucket=0}next(a){const s=a.length;if(s===0)return this.reset(),[];const l=this.computeBucketCount(s);l!==this.bucketCount&&(this.bucketCount=l,this.currentBucket=this.currentBucket%Math.max(1,l)),this.rebuildBuckets(a);const c=this.buckets[this.currentBucket]??[];return this.bucketCount>0&&(this.currentBucket=(this.currentBucket+1)%this.bucketCount),c}rebuildBuckets(a){const s=this.bucketCount;this.buckets=Array.from({length:s},()=>[]);const l=[...a].sort((c,u)=>c.id.localeCompare(u.id));for(let c=0;c<l.length;c++){const u=c%s;this.buckets[u].push(l[c])}}computeBucketCount(a){if(a<=0)return 0;const s=Math.ceil(a/12);let l=Math.max(this.minBuckets,s);return l=Math.min(this.maxBuckets,l),l=Math.min(l,a),l=Math.max(1,l),l}}function $d(n){return`${n.q},${n.r}`}const _1=500;class K1{cache=new Map;targetIndex=new Map;targetPositions=new Map;ttlMs;constructor(a=_1){this.ttlMs=a}clearExpired(a=Date.now()){for(const[s,l]of this.cache.entries())if(l.expiresAt<=a&&(this.cache.delete(s),l.targetId)){const c=this.targetIndex.get(l.targetId);c?.delete(s),c&&c.size===0&&this.targetIndex.delete(l.targetId)}}trackUnit(a){this.invalidateIfTargetMoved(a.id,$d(a.coord))}invalidateForUnit(a){const s=this.targetIndex.get(a);if(s){for(const l of s)this.cache.delete(l);this.targetIndex.delete(a)}this.targetPositions.delete(a)}getPath(a,s,l,c,u={}){const f=u.now??Date.now(),h=u.targetId,m=$d(s);h&&this.invalidateIfTargetMoved(h,m);const g=this.hashObstacles(c),p=this.createCacheKey($d(a.coord),m,g),v=this.cache.get(p);if(v&&v.expiresAt>f)return v.path;a.clearPathCache();const b=a.getPathTo(s,l,c);if(this.cache.set(p,{path:b,expiresAt:f+this.ttlMs,targetId:h}),h){let E=this.targetIndex.get(h);E||(E=new Set,this.targetIndex.set(h,E)),E.add(p),this.targetPositions.set(h,m)}return b}invalidateIfTargetMoved(a,s){const l=this.targetPositions.get(a);if(!l){this.targetPositions.set(a,s);return}if(l===s)return;const c=this.targetIndex.get(a);if(c){for(const u of c)this.cache.delete(u);c.clear()}this.targetPositions.set(a,s)}hashObstacles(a){return a.size===0?"empty":Array.from(a).sort().join("|")}createCacheKey(a,s,l){return`${a}->${s}|${l}`}}const V1={baseThreshold:50,heatPerSecond:50/30,thresholdGrowth:.05,coolingPerSecond:0};function Gt(n,a=0){return Number.isFinite(n)?n:a}class Z1{heat;threshold;baseThreshold;thresholdGrowthFactor;heatPerSecond;coolingPerSecond;maxStoredHeat;constructor(a={}){const s={...V1,...a},l=Math.max(1,Gt(s.baseThreshold,50)),c=Math.max(1,Gt(a.initialThreshold??l,l));this.baseThreshold=l,this.threshold=c,this.thresholdGrowthFactor=1+Math.max(0,Gt(s.thresholdGrowth,0)),this.heatPerSecond=Math.max(0,Gt(s.heatPerSecond,0)),this.coolingPerSecond=Math.max(0,Gt(s.coolingPerSecond,0));const u=Gt(s.maxStoredHeat??Number.NaN,Number.NaN);this.maxStoredHeat=Number.isFinite(u)&&u>=0?u:null;const f=Math.max(0,Gt(a.initialHeat??0,0));this.heat=this.setHeatInternal(f)}getHeat(){return this.heat}getThreshold(){return this.threshold}getBuildRate(){return this.heatPerSecond}getCoolingRate(){return this.coolingPerSecond}reset(){this.heat=0,this.threshold=this.baseThreshold}setHeat(a){const s=Math.max(0,Gt(a,0));return this.heat=this.setHeatInternal(s),this.heat}setHeatInternal(a){const s=Math.max(0,Gt(a,0));return this.maxStoredHeat===null?(this.heat=s,this.heat):(this.heat=Math.min(s,this.maxStoredHeat),this.heat)}addHeat(a){const s=Math.max(0,Gt(a,0));if(s<=0)return 0;const l=this.heat,c=l+s;return this.heat=this.maxStoredHeat===null?c:Math.min(c,this.maxStoredHeat),this.heat-l}cool(a){const s=Math.max(0,Gt(a,0));if(s<=0||this.heat<=0)return 0;const l=this.heat;return this.heat=Math.max(0,this.heat-s),l-this.heat}vent(a=1){const s=Math.max(0,Math.min(1,Gt(a,1)));return s<=0?0:this.cool(this.threshold*s)}advance(a,s){const l=Math.max(0,Gt(a,0)),c=this.heatPerSecond,u=l>0?c*l:0,f=Math.max(0,Gt(s?.bonusHeat??0,0)),h=u+f,m=this.addHeat(h),g=Math.max(0,Gt(s?.coolingMultiplier??1,1)),p=l>0?this.coolingPerSecond*l*g:0,v=this.cool(p);return{addedHeat:m,cooledHeat:v,heat:this.heat}}hasTriggerReady(){return this.heat>=this.threshold-1e-6}consumeTrigger(){return this.hasTriggerReady()?(this.cool(this.threshold),this.threshold=Math.max(this.baseThreshold,this.threshold*this.thresholdGrowthFactor),!0):!1}timeUntilNextTrigger(){return this.hasTriggerReady()?0:this.heatPerSecond<=0?Number.POSITIVE_INFINITY:Math.max(0,this.threshold-this.heat)/this.heatPerSecond}getCooldownSeconds(){return this.heatPerSecond<=0?Number.POSITIVE_INFINITY:this.threshold/this.heatPerSecond}}function J1(n){return new Z1(n)}const bp=500;function iv(n,a,s){const l=typeof a=="number"?a:2,c=(typeof a=="number"?s:a)??[],u=[];for(let h=-l;h<=l;h++){const m=Math.max(-l,-h-l),g=Math.min(l,-h+l);for(let p=m;p<=g;p++){const v=Math.max(Math.abs(h),Math.abs(p),Math.abs(-h-p));if(v===0||v>l)continue;const b={q:n.q+h,r:n.r+p};c.some(C=>!C.isDead()&&C.coord.q===b.q&&C.coord.r===b.r)||u.push(b)}}if(u.length===0)return null;const f=Math.floor(Math.random()*u.length);return u[f]}function W1(n,a,s={}){const l=J1(a),c=l.getBuildRate(),u=l.getCooldownSeconds(),f=l.timeUntilNextTrigger(),h=Number.isFinite(s.maxRosterSize)?Math.max(0,Math.floor(s.maxRosterSize??0)):0,m=Number.isFinite(s.maxHealth)?Math.max(1,Math.floor(s.maxHealth??bp)):bp,g=Number.isFinite(s.health)?Math.max(0,Math.min(m,Math.floor(s.health??m))):m;return{id:"sauna",pos:n,auraRadius:2,regenPerSec:1,rallyToFront:!1,maxRosterSize:h,maxHealth:m,health:g,destroyed:g<=0,heat:l.getHeat(),heatPerTick:c,playerSpawnThreshold:l.getThreshold(),playerSpawnCooldown:Number.isFinite(u)?u:0,playerSpawnTimer:Number.isFinite(f)?f:0,beerUpkeepAccumulator:0,heatTracker:l}}function $1(n,a){if(!Number.isFinite(a)||a<=0||n.destroyed)return{amount:0,remainingHealth:Math.max(0,n.health),destroyed:n.destroyed};const s=Math.max(0,n.health),l=Math.min(s,Math.max(0,Math.floor(a))),c=Math.max(0,s-l);return n.health=c,c<=0&&(n.health=0,n.destroyed=!0),{amount:l,remainingHealth:n.health,destroyed:n.destroyed}}const eE=30;function Lt(n){return`${n.q},${n.r}`}class tE{constructor(a,s){this.map=a,this.animator=s}scheduler=new Y1;pathCache=new K1;lastKnownCoords=new Map;findExplorationGoal(a,s){const l=a.coord;if(this.map.ensureTile(l.q,l.r).isFogged&&a.canTraverse(l,this.map,s))return l;const u=new Set([Lt(l)]),f=[l];for(;f.length>0;){const h=f.shift(),m=pc(h),g=this.map.getNeighbors(h.q,h.r);for(let p=0;p<m.length;p++){const v=m[p],b=g[p],E=Lt(v);if(!u.has(E)&&(u.add(E),!!a.canTraverse(v,this.map,s))){if(b.isFogged)return v;f.push(v)}}}return null}tick(a,s,l){const c=a.length,u=Date.now();if(this.pathCache.clearExpired(u),c===0){this.scheduler.reset();return}const f=new Set,h=[],m=new Set;for(const p of a){if(p.addMovementTime(s),p.isDead()){p.clearPathCache(),this.pathCache.invalidateForUnit(p.id),this.animator?.clear(p),this.lastKnownCoords.delete(p.id);continue}const v=this.lastKnownCoords.get(p.id);v&&Is(v,p.coord)>1&&this.animator?.clear(p,{snap:!0}),this.lastKnownCoords.set(p.id,{q:p.coord.q,r:p.coord.r}),this.pathCache.trackUnit(p),h.push(p),f.add(Lt(p.coord)),m.add(p.id)}for(const p of[...this.lastKnownCoords.keys()])m.has(p)||this.lastKnownCoords.delete(p);if(h.length===0){this.scheduler.reset();return}const g=this.scheduler.next(h);if(g.length!==0)for(const p of g){const v=Lt(p.coord);if(f.delete(v),p.isDead()){p.clearPathCache(),this.pathCache.invalidateForUnit(p.id),this.animator?.clear(p);continue}const b=F1.selectTarget(p,a);if(!b&&l&&!l.destroyed&&this.tryAttackSauna(p,l)){const j=Lt(p.coord);f.add(j);continue}if(!b){let N=null;if(l&&!l.destroyed&&(N=l.pos),N||(N=this.findExplorationGoal(p,f)),N){const q=this.computeMovementPath(p,N,f,u);if(q.length>1&&p.stats.movementRange>0){const Z=q[1],W=Lt(Z);if(f.has(W))p.clearPathCache();else{if(!p.canStep()){f.add(v);continue}if(p.consumeMovementCooldown()){const re={q:p.coord.q,r:p.coord.r};this.animator?(p.setCoord(Z,{snapRender:!1}),this.animator.enqueue(p,[re,Z])):p.setCoord(Z),p.advancePathCache(1);const F=Lt(p.coord);F===Lt(N)&&p.clearPathCache(),f.add(F),this.lastKnownCoords.set(p.id,{q:p.coord.q,r:p.coord.r});continue}}}else p.clearPathCache()}else p.clearPathCache();const j=Lt(p.coord);f.add(j),l&&!l.destroyed&&this.tryAttackSauna(p,l);continue}if(b.isDead()){p.clearPathCache(),f.add(v);continue}const E=Lt(b.coord),C=this.pathCache.getPath(p,b.coord,this.map,f,{now:u,targetId:b.id});if(C.length>1&&p.stats.movementRange>0){const N=C[1],j=Lt(N),q=j===E;if(!f.has(j)||q){if(p.canStep()&&p.consumeMovementCooldown()){const Z={q:p.coord.q,r:p.coord.r};this.animator?(p.setCoord(N,{snapRender:!1}),this.animator.enqueue(p,[Z,N])):p.setCoord(N),p.advancePathCache(1)}}else p.clearPathCache()}const k=Lt(p.coord);f.add(k),this.lastKnownCoords.set(p.id,{q:p.coord.q,r:p.coord.r});const B=Lt(b.coord);B!==E&&p.clearPathCache(),p.distanceTo(b.coord)<=p.stats.attackRange&&!b.isDead()&&((p.attack(b)?.lethal??!1)||b.isDead())&&(f.delete(B),p.clearPathCache(),this.pathCache.invalidateForUnit(b.id),this.animator?.clear(b))}}tryAttackSauna(a,s){if(a.faction==="player")return!1;const l=a.stats.attackRange;if(l<=0||a.distanceTo(s.pos)>l)return!1;const c=$1(s,a.stats.attackDamage);if(c.amount<=0)return!1;const u={attackerId:a.id,attackerFaction:a.faction,amount:c.amount,remainingHealth:c.remainingHealth};if(ne.emit("saunaDamaged",u),c.destroyed){const f={attackerId:a.id,attackerFaction:a.faction};ne.emit("saunaDestroyed",f)}return!0}computeMovementPath(a,s,l,c){const u=this.pathCache.getPath(a,s,this.map,l,{now:c});if(u.length<2)return[];let f=0;const h=Lt(s);for(let g=1;g<u.length;g++){const p=Lt(u[g]);if(l.has(p)){p!==h&&a.clearPathCache();break}f=g}if(f===0)return[];const m=Math.min(a.stats.movementRange,f);return u.slice(0,m+1)}}function jc(n){if(!Number.isFinite(n??NaN))return 1;const a=Math.floor(n);return Math.max(1,a)}function nE(n){return Math.max(0,jc(n)-1)}function aE(n,a="linear"){const s=nE(n);switch(a){case"accelerating":return s*(s+1)/2;case"diminishing":return s===0?0:Math.log2(s+1);case"linear":default:return s}}function iE(n,a="round"){switch(a){case"floor":return Math.floor(n);case"ceil":return Math.ceil(n);case"none":return n;case"round":default:return Math.round(n)}}function sE(n,a,s){let l=n;return Number.isFinite(a)&&(l=Math.max(l,a)),Number.isFinite(s)&&(l=Math.min(l,s)),l}function $r(n,a){const s=jc(a),l=n.curve??"linear",c=aE(s,l),u=n.base+n.growth*c,f=sE(u,n.min,n.max);return iE(f,n.round??"round")}function wl(n,a){const s=jc(a),l=n.stats,c={health:$r(l.health,s),attackDamage:$r(l.attackDamage,s),attackRange:$r(l.attackRange,s),movementRange:$r(l.movementRange,s)};return l.visionRange&&(c.visionRange=$r(l.visionRange,s)),c}function Ep(n){if(typeof n=="number"&&Number.isFinite(n))return n}function bc(n,a){let s=n.health,l=n.attackDamage,c=n.attackRange,u=n.movementRange,f=Ep(n.defense),h=Ep(n.shield);for(const g of a){const p=Math.max(1,Math.round(g.quantity)),v=g.modifiers;typeof v.health=="number"&&(s+=v.health*p),typeof v.attackDamage=="number"&&(l+=v.attackDamage*p),typeof v.attackRange=="number"&&(c+=v.attackRange*p),typeof v.movementRange=="number"&&(u+=v.movementRange*p),typeof v.defense=="number"&&(f=(f??0)+v.defense*p),typeof v.shield=="number"&&(h=(h??0)+v.shield*p)}const m={health:Math.max(1,Math.round(s)),attackDamage:Math.max(0,Math.round(l)),attackRange:Math.max(0,Math.round(c)),movementRange:Math.max(0,Math.round(u))};return f!==void 0&&(m.defense=Math.max(0,Math.round(f))),h!==void 0&&(m.shield=Math.max(0,Math.round(h))),typeof n.visionRange=="number"&&Number.isFinite(n.visionRange)&&(m.visionRange=Math.max(0,Math.round(n.visionRange))),m}const th=Object.freeze({id:"soldier",displayName:"Sauna Soldier",cost:50,tags:["infantry","melee"],stats:{health:{base:20,growth:6,curve:"linear",round:"round"},attackDamage:{base:5,growth:1,curve:"linear",round:"round"},attackRange:{base:1,growth:0,round:"round"},movementRange:{base:1,growth:0,round:"round"},visionRange:{base:3,growth:0,round:"round"}}}),nh=Object.freeze({id:"archer",displayName:"Sauna Archer",cost:75,tags:["ranged"],stats:{health:{base:15,growth:4,curve:"linear",round:"round"},attackDamage:{base:3,growth:.4,curve:"accelerating",round:"ceil"},attackRange:{base:3,growth:.5,curve:"diminishing",round:"ceil",max:5},movementRange:{base:1,growth:0,round:"round"},visionRange:{base:3,growth:.25,curve:"linear",round:"round",max:5}}}),sv=Object.freeze({id:"avanto-marauder",displayName:"Avanto Marauder",cost:0,tags:["enemy","melee"],stats:{health:{base:12,growth:5,curve:"linear",round:"round"},attackDamage:{base:4,growth:.6,curve:"accelerating",round:"ceil"},attackRange:{base:1,growth:0,round:"round"},movementRange:{base:1,growth:.25,curve:"linear",round:"round",max:2},visionRange:{base:3,growth:0,round:"round"}}}),rv=Object.freeze({soldier:th,archer:nh,"avanto-marauder":sv});function ah(n){return rv[n]??null}Object.freeze(Object.keys(rv));const wp=th.cost;Object.freeze(wl(th,1));nh.cost;Object.freeze(wl(nh,1));Object.freeze(wl(sv,1));function lv(n,a,s,l,c){const u=jc(c?.level),f=wl(n,u);return new I1(a,n.id,s,l,f,n.priorityFactions)}function ov(n,a,s,l,c){const u=ah(n);return u?lv(u,a,s,l,c):null}function ih(n,a,s,l,c,u){const f=ah(a);if(!f)return null;const h=f.cost;if(!n.canAfford(h,ie.SAUNA_BEER))return La("error"),null;n.addResource(ie.SAUNA_BEER,-h);const m=lv(f,s,l,c,u);return La("spawn"),ne.emit("unitSpawned",{unit:m}),m}const rE=Object.freeze(Object.defineProperty({__proto__:null,createUnit:ov,spawnUnit:ih},Symbol.toStringTag,{value:"Module"})),lE=["Aino","Eero","Ilona","Kalevi","Lumi","Mika","Noora","Oskari","Saana","Tapio","Veera","Yrj"],oE=["Emberguard","Frostwalker","Steamcaller","Dawnwatch","Gritforged","Stormchant","Snowborn","Torchbearer","Chillwarden","Sisuheart"],cE=["Aalto","Halla","Karhu","Korhonen","Laine","Mets","Niemi","Salmi","Tuomi","Virta"];function ef(n,a){if(n.length===0)throw new Error("Cannot select a name from an empty collection.");const s=Math.floor(a()*n.length);return n[Math.min(s,n.length-1)]}function uE(n=Math.random){const a=ef(lE,n),s=ef(oE,n),l=ef(cE,n);return`${a} "${s}" ${l}`}const er=Object.freeze(["supply","weapon","focus","relic"]);function cv(){return{supply:null,weapon:null,focus:null,relic:null}}const dE=Object.freeze({supply:Object.freeze({id:"supply",label:"Supply Satchel",description:"Consumables and restorative provisions carried into battle.",maxStacks:5}),weapon:Object.freeze({id:"weapon",label:"Primary Armament",description:"The attendant's main weapon or ranged kit.",maxStacks:1}),focus:Object.freeze({id:"focus",label:"Battle Focus",description:"Tools that sharpen aim, steps, or battlefield intuition.",maxStacks:1}),relic:Object.freeze({id:"relic",label:"Sauna Relic",description:"Charms and relics that empower the attendant's resolve.",maxStacks:1})}),fE=Object.freeze({"birch-sap-satchel":Object.freeze({id:"birch-sap-satchel",slot:"supply",modifiers:{health:3},maxStacks:3}),"steamed-bandages":Object.freeze({id:"steamed-bandages",slot:"supply",modifiers:{shield:4},maxStacks:2}),"aurora-distillate":Object.freeze({id:"aurora-distillate",slot:"supply",modifiers:{attackDamage:2,defense:1},maxStacks:1}),"stolen-sauna-tokens":Object.freeze({id:"stolen-sauna-tokens",slot:"supply",modifiers:{movementRange:.5},maxStacks:5}),"midnight-bloodwine":Object.freeze({id:"midnight-bloodwine",slot:"supply",modifiers:{health:6,attackDamage:1},maxStacks:1}),"sauna-incense":Object.freeze({id:"sauna-incense",slot:"supply",modifiers:{attackRange:1},maxStacks:2}),"glacier-brand":Object.freeze({id:"glacier-brand",slot:"weapon",modifiers:{attackDamage:3},maxStacks:1}),"emberglass-arrow":Object.freeze({id:"emberglass-arrow",slot:"weapon",modifiers:{attackDamage:1,attackRange:2},maxStacks:1}),"aurora-lattice":Object.freeze({id:"aurora-lattice",slot:"focus",modifiers:{attackDamage:2,attackRange:1},maxStacks:1}),"emberglass-shard":Object.freeze({id:"emberglass-shard",slot:"focus",modifiers:{attackDamage:1,movementRange:1},maxStacks:1}),"windstep-totem":Object.freeze({id:"windstep-totem",slot:"focus",modifiers:{movementRange:1,defense:1},maxStacks:1}),"searing-chant-censer":Object.freeze({id:"searing-chant-censer",slot:"focus",modifiers:{attackDamage:2,shield:2},maxStacks:1}),"cracked-ice-amulet":Object.freeze({id:"cracked-ice-amulet",slot:"relic",modifiers:{defense:2},maxStacks:1}),"myrsky-charm":Object.freeze({id:"myrsky-charm",slot:"relic",modifiers:{attackRange:1,defense:1},maxStacks:1}),"frostwyrm-signet":Object.freeze({id:"frostwyrm-signet",slot:"relic",modifiers:{shield:5},maxStacks:1}),"spirit-oak-charm":Object.freeze({id:"spirit-oak-charm",slot:"relic",modifiers:{defense:1,health:2},maxStacks:1})});function Sl(n){const a=dE[n];if(!a)throw new Error(`Unknown equipment slot: ${n}`);return a}function xl(n){return fE[n]}function uv(n){return Number.isFinite(n)?Math.max(1,Math.round(n)):1}function dv(n,a){return{id:n.id,name:n.name,description:n.description,icon:n.icon,rarity:n.rarity,quantity:a}}function fv(n,a,s,l){const c=Sl(a),u=Math.max(1,Math.floor(s.maxStacks??c.maxStacks)),f=Math.min(u,l),h=s.modifiers??{};return{...dv(n,f),slot:a,maxStacks:u,modifiers:h}}function Pf(n){n.equipment||(n.equipment=cv());for(const a of er)n.equipment[a]??=null;return n.equipment}function Pn(n){const a=[];for(const s of er){const l=n[s];l&&a.push({...l})}return a}function sh(n){return Pn(n).map(a=>dv(a,a.quantity))}function tf(n){const a=cv();for(const s of n){const l=xl(s.id);if(!l)continue;const c=uv(s.quantity),u=a[l.slot];if(u&&u.id!==s.id)continue;const f=(u?.quantity??0)+c,h=fv(s,l.slot,l,f);a[l.slot]=h}return a}function hE(n,a){const s=xl(a.id);if(!s)return{success:!1,slot:"supply",loadout:Pn(Pf(n)),item:null,reason:"unknown-item"};const l=Pf(n),c=s.slot,u=Sl(c),f=uv(a.quantity),h=Math.max(1,Math.floor(s.maxStacks??u.maxStacks)),m=l[c];if(m&&m.id!==a.id)return{success:!1,slot:c,loadout:Pn(l),item:m,reason:"slot-occupied"};const g=Math.min(h,(m?.quantity??0)+f);if((m?.quantity??0)+f>h)return{success:!1,slot:c,loadout:Pn(l),item:m,reason:"stack-limit"};const p=fv(a,c,s,g);return l[c]=p,n.items=sh(l),{success:!0,slot:c,loadout:Pn(l),item:p}}function mE(n,a){const s=Pf(n),l=s[a];return l?(s[a]=null,n.items=sh(s),{success:!0,slot:a,loadout:Pn(s),removed:l}):{success:!1,slot:a,loadout:Pn(s),removed:null,reason:"empty-slot"}}function gE(n,a){return xl(n)?.slot===a}const pE={q:0,r:0},AE="Saunoja",Qf=18,Sp=0,_s=0,hc=10,xp=1,_o={health:Qf,attackDamage:4,attackRange:1,movementRange:1,defense:0,shield:0};function Ko(n,a,s){return Math.min(Math.max(n,a),s)}function Vo(n,a,s){const l=typeof n=="number"&&Number.isFinite(n)?n:a;return Math.max(s,l)}function nf(n,a,s=0){if(typeof n=="number"&&Number.isFinite(n))return Math.max(s,n);if(typeof a=="number"&&Number.isFinite(a))return Math.max(s,a)}function Cp(n,a){if(!n||typeof n!="object")return{...a};const s=n,l=Vo(s.health,a.health,1),c=Vo(s.attackDamage,a.attackDamage,0),u=Vo(s.attackRange,a.attackRange,0),f=Vo(s.movementRange,a.movementRange,0),h=nf(s.defense,a.defense,0),m=nf(s.shield,a.shield,0),g=nf(s.visionRange,a.visionRange,0);return{health:l,attackDamage:c,attackRange:u,movementRange:f,defense:h,shield:m,visionRange:g}}function vE(n,a){if(!n||typeof n!="object")return tf(a);const s=n,l=[];for(const c of Object.values(s)){const u=hv(c);u&&l.push(u)}return l.length===0?tf(a):tf(l)}function hv(n){if(!n||typeof n!="object")return null;const a=n,s=typeof a.id=="string"?a.id.trim():"",l=typeof a.name=="string"?a.name.trim():"";if(!s||!l)return null;const c=typeof a.description=="string"?a.description.trim():void 0,u=typeof a.icon=="string"?a.icon.trim():void 0,f=typeof a.rarity=="string"?a.rarity.trim():void 0,h=typeof a.quantity=="number"?a.quantity:Number(a.quantity),m=Number.isFinite(h)?Math.max(1,Math.round(h)):1;return{id:s,name:l,description:c,icon:u,rarity:f,quantity:m}}function yE(n){if(!n||n.length===0)return[];const a=[];for(const s of n){const l=hv(s);l&&a.push(l)}return a}function bE(n){if(!n||typeof n!="object")return null;const a=n,s=typeof a.id=="string"?a.id.trim():"",l=typeof a.name=="string"?a.name.trim():"";if(!s||!l)return null;const c=a.duration;let u=1/0;typeof c=="number"&&Number.isFinite(c)?u=Math.max(0,c):c!==1/0&&(u=1/0);const f=a.remaining;let h=u;typeof f=="number"&&Number.isFinite(f)?h=Math.max(0,f):f===1/0&&(h=1/0),u!==1/0&&h===1/0&&(h=u);const m=a.appliedAt,g=typeof m=="number"&&Number.isFinite(m)?Math.max(0,m):void 0,p=a.stacks,v=typeof p=="number"&&Number.isFinite(p)?Math.max(1,Math.round(p)):void 0,b=typeof a.description=="string"?a.description.trim():void 0,E=typeof a.source=="string"?a.source.trim():void 0;return{id:s,name:l,description:b,duration:u,remaining:h,appliedAt:g,stacks:v,source:E}}function EE(n){if(!n||n.length===0)return[];const a=[];for(const s of n){const l=bE(s);l&&a.push(l)}return a}function wE(n){if(typeof n=="string"){const a=n.trim();if(a.length>0)return a}try{return uE()}catch(a){return console.warn("Falling back to default Saunoja name",a),AE}}function rh(n){const{id:a,name:s,coord:l=pE,maxHp:c=Qf,hp:u=c,steam:f=0,defense:h,shield:m=0,traits:g=[],upkeep:p=xp,xp:v=0,lastHitAt:b=Sp,selected:E=!1,items:C,modifiers:k,combatKeywords:B=null,combatHooks:N=null}=n,j=Number.isFinite(c)?Math.max(1,c):Qf,q=Number.isFinite(u)?u:j,Z=Ko(q,0,j),W=Number.isFinite(f)?f:0,re=Ko(W,0,1),ae=(Array.isArray(g)?g:[]).filter(It=>typeof It=="string").map(It=>It.trim()).filter(It=>It.length>0),$=Number.isFinite(p)?p:xp,_=Ko($,_s,hc),L=Number.isFinite(v)?v:0,P=Math.max(0,L),T=Number.isFinite(b)?b:Sp,K=Math.max(0,T),z=Number.isFinite(m)?m:0,R=Math.max(0,z),U=Number.isFinite(h)?h:void 0,se=U!==void 0?Math.max(0,U):void 0,fe=yE(C),w=EE(k),I=vE(n.equipment,fe),te=sh(I),ee={..._o,health:j,defense:se??_o.defense,shield:_o.shield},oe=Cp(n.baseStats,ee),ge={...oe,health:j,defense:se??oe.defense,shield:R},he=Cp(n.effectiveStats,ge),Ie=Math.max(1,he.health),Ce=Ko(Z,0,Ie),xt=typeof he.defense=="number"?Math.max(0,he.defense):se??void 0,Jt=typeof he.shield=="number"?Math.max(0,he.shield):R,wn={...oe,health:Math.max(1,oe.health),defense:typeof oe.defense=="number"?Math.max(0,oe.defense):se??void 0,shield:typeof oe.shield=="number"?Math.max(0,oe.shield):_o.shield},Wt={...he,health:Ie,defense:xt,shield:Jt},zt=wE(s);return{id:a,name:zt,coord:{q:l.q,r:l.r},maxHp:Ie,hp:Ce,defense:xt,shield:Jt,steam:re,traits:[...ae],upkeep:_,xp:P,lastHitAt:K,selected:E,items:te,baseStats:wn,effectiveStats:Wt,equipment:I,modifiers:w,combatKeywords:B,combatHooks:N}}const tr=32;function ml(n,a,s,l){n.beginPath();for(let c=0;c<6;c++){const u=Math.PI/3*c,f=a+l*Math.cos(u),h=s+l*Math.sin(u);c===0?n.moveTo(f,h):n.lineTo(f,h)}n.closePath()}function lh(n,a,s){return Math.min(Math.max(n,a),s)}function SE(n,{centerX:a,centerY:s,hp:l,maxHp:c,radius:u=tr*.55}){const f=Number.isFinite(c)?Math.max(1,c):1,h=Number.isFinite(l)?l:f,m=lh(h/f,0,1);if(n.save(),ml(n,a,s,u),n.fillStyle="rgba(7, 11, 18, 0.72)",n.fill(),n.restore(),m>0){n.save(),ml(n,a,s,u),n.clip();const g=n.createLinearGradient(a,s+u,a,s-u);g.addColorStop(0,"rgba(46, 160, 98, 0.35)"),g.addColorStop(1,"rgba(218, 255, 239, 0.95)"),n.fillStyle=g;const p=u*2*m,v=s+u-p;n.fillRect(a-u,v,u*2,p),n.restore()}n.save(),ml(n,a,s,u),n.lineWidth=Math.max(1,u*.12),n.strokeStyle="rgba(255, 255, 255, 0.28)",n.stroke(),n.restore()}function xE(n,{centerX:a,centerY:s,radius:l=tr,progress:c=0}){const u=lh(c,0,1);if(u<=0)return;const f=Number.isFinite(l)&&l>0?l:tr;n.save(),n.globalCompositeOperation="lighter",n.globalAlpha=u;const h=n.createRadialGradient(a,s,Math.max(1,f*.1),a,s,f);h.addColorStop(0,"rgba(255, 255, 255, 0.92)"),h.addColorStop(.45,"rgba(255, 255, 255, 0.68)"),h.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=h,n.beginPath(),n.arc(a,s,f,0,Math.PI*2),n.fill(),n.restore()}function CE(n,{centerX:a,centerY:s,radius:l=tr*.85,intensity:c=1}){const u=lh(c,0,1);if(u<=0)return;n.save(),ml(n,a,s,l),n.clip();const f=n.createLinearGradient(a,s+l,a,s-l);f.addColorStop(0,"rgba(255, 255, 255, 0)"),f.addColorStop(.55,`rgba(255, 255, 255, ${.12*u})`),f.addColorStop(1,`rgba(255, 255, 255, ${.35*u})`),n.globalCompositeOperation="lighter",n.fillStyle=f,n.fillRect(a-l,s-l,l*2,l*2),n.restore(),n.save(),n.globalCompositeOperation="lighter",n.lineCap="round",n.strokeStyle=`rgba(255, 255, 255, ${.25*u})`,n.lineWidth=Math.max(1,l*.08);const h=l*.75,m=l*.35;for(let g=0;g<3;g++){const p=s-l*.5+g*m;n.beginPath(),n.moveTo(a-h,p),n.bezierCurveTo(a-h*.4,p-l*.4,a+h*.4,p+l*.2,a+h,p-l*.45),n.stroke()}n.restore()}function Gf(n,a,s){return n<a?a:n>s?s:n}const af=Object.freeze([{id:"skirmish",label:"Skirmish Patrols",minRunSeconds:0,minClears:0,cadence:26,multiplier:1,bundleTier:0},{id:"raids",label:"Raid Pressure",minRunSeconds:90,minClears:2,cadence:19,multiplier:1.35,bundleTier:1},{id:"siege",label:"Siege Lines",minRunSeconds:210,minClears:5,cadence:13,multiplier:1.8,bundleTier:2},{id:"onslaught",label:"Winter Onslaught",minRunSeconds:360,minClears:9,cadence:8.5,multiplier:2.45,bundleTier:3},{id:"maelstrom",label:"Glacier Maelstrom",minRunSeconds:540,minClears:14,cadence:6.2,multiplier:3.25,bundleTier:4}]);function RE(n){return n>=1?1/(1+(n-1)*.45):1+(1-n)*.35}function BE(n){if(n>=1)return 1+(n-1)*.85;const a=1-n;return Gf(1-a*.4,.45,1)}function ME(n){return{runSeconds:Math.max(0,Number.isFinite(n.runSeconds)?n.runSeconds:0),clears:Math.max(0,Number.isFinite(n.clears)?n.clears:0),spawnCycles:Math.max(0,Number.isFinite(n.spawnCycles)?n.spawnCycles:0)}}function Rp(n,a){const s=ME(a);let l=0;for(let g=0;g<af.length;g+=1){const p=af[g];if(s.runSeconds<p.minRunSeconds||s.clears<p.minClears)break;l=g}const c=af[l],u=RE(n),f=BE(n),h=Math.max(.75,c.cadence*u),m=c.multiplier*f;return{stage:c,stageIndex:l,cadenceTarget:h,multiplierBase:m}}function Bp(n){if(n>=1){const s=Math.min(3,n-1);return Gf(.93-s*.035,.82,.93)}const a=Math.min(1,1-n);return Gf(.93+a*.03,.9,.97)}function Mp(n){if(n>=1)return .024+Math.min(3,n-1)*.012;const a=Math.min(1,1-n);return Math.max(.012,.024-a*.01)}const mv="deepwood",gv="Deepwood Wardens",pv="Reclusive guardians attuned to sauna spirits.",Av=[{id:"warding-circle",label:"Warding Circle",weight:2,units:[{unit:"soldier",level:1,quantity:2},{unit:"archer",level:1,quantity:1}],items:["spirit-oak-charm","sauna-incense"],modifiers:["barkskin-ritual"]},{id:"spirit-strike",label:"Spirit Strike",weight:1,units:[{unit:"archer",level:2,quantity:2}],items:["emberglass-arrow"],modifiers:["searing-chant","windstep"]}],DE={id:mv,name:gv,description:pv,bundles:Av},TE=Object.freeze(Object.defineProperty({__proto__:null,bundles:Av,default:DE,description:pv,id:mv,name:gv},Symbol.toStringTag,{value:"Module"})),vv="enemy",yv="Avanto Marauders",bv="Frostbitten raiders who harry the sauna frontier.",Ev=[{id:"iceblade-scouts",label:"Iceblade Scouts",weight:3,minRampTier:0,units:[{unit:"avanto-marauder",level:1,quantity:1}],items:["cracked-ice-amulet"],modifiers:["frost-resilience"]},{id:"raiding-party",label:"Raiding Party",weight:2,minRampTier:0,units:[{unit:"avanto-marauder",level:1,quantity:2}],items:["stolen-sauna-tokens"],modifiers:["berserker-drift"]},{id:"frost-champion",label:"Frost Champion",weight:1,minRampTier:0,units:[{unit:"avanto-marauder",level:2,quantity:1}],items:["glacier-brand"],modifiers:["glacial-ward"]},{id:"icebreaker-vanguard",label:"Icebreaker Vanguard",weight:2.5,minRampTier:1,units:[{unit:"avanto-marauder",level:2,quantity:2},{unit:"avanto-marauder",level:1,quantity:1}],items:["stormglass-pendant"],modifiers:["frost-resilience","berserker-drift"]},{id:"glacial-phalanx",label:"Glacial Phalanx",weight:2,minRampTier:2,units:[{unit:"avanto-marauder",level:3,quantity:3},{unit:"avanto-marauder",level:2,quantity:1}],items:["glacier-brand","frostshard-relic"],modifiers:["glacial-ward","polar-endurance"]},{id:"avalanche-warhost",label:"Avalanche Warhost",weight:1.25,minRampTier:3,units:[{unit:"avanto-marauder",level:4,quantity:3},{unit:"avanto-marauder",level:3,quantity:2}],items:["avalanche-totem"],modifiers:["glacial-ward","polar-endurance","berserker-drift"]}],kE={id:vv,name:yv,description:bv,bundles:Ev},HE=Object.freeze(Object.defineProperty({__proto__:null,bundles:Ev,default:kE,description:bv,id:vv,name:yv},Symbol.toStringTag,{value:"Module"})),OE=Object.assign({"../content/factions/deepwood.json":TE,"../content/factions/enemy.json":HE}),Ec=new Map;for(const[n,a]of Object.entries(OE)){const s=NE(a),l=LE(s,n);if(Ec.has(l.id))throw new Error(`Duplicate faction bundle id: ${l.id}`);Ec.set(l.id,l)}function NE(n){return typeof n=="object"&&n!==null&&"default"in n?n.default:n}function oh(n){return typeof n=="object"&&n!==null}function Lf(n,a){if(typeof n!="string")throw new Error(`Expected string at ${a}`);const s=n.trim();if(!s)throw new Error(`Expected non-empty string at ${a}`);return s}function Uf(n){if(typeof n!="string")return;const a=n.trim();return a||void 0}function Dp(n,a){if(n===void 0)return Object.freeze([]);if(!Array.isArray(n))throw new Error(`Expected array at ${a}`);const s=n.map((l,c)=>{if(typeof l!="string")throw new Error(`Expected string at ${a}[${c}]`);const u=l.trim();if(!u)throw new Error(`Expected non-empty string at ${a}[${c}]`);return u});return Object.freeze(s)}function wv(n,a){const s=typeof n=="number"?n:Number(n);return!Number.isFinite(s)||s<=0?a:s}function Tp(n,a){const s=Math.floor(wv(n,a));return s>0?s:a}function PE(n,a){if(!oh(n))throw new Error(`Expected object at ${a}`);const s=Lf(n.unit,`${a}.unit`),l=Tp(n.level,1),c=Tp(n.quantity,1);return Object.freeze({unit:s,level:l,quantity:c})}function QE(n){if(n===void 0)return;const a=Number(n);if(!Number.isFinite(a))return;const s=Math.floor(a);return s>=0?s:void 0}function GE(n,a,s){if(!oh(n))throw new Error(`Expected object at ${a}`);const l=Uf(n.id)??`${s}-bundle`,c=Uf(n.label)??l,u=wv(n.weight,1),f=n.units;if(!Array.isArray(f)||f.length===0)throw new Error(`Expected non-empty units array at ${a}.units`);const h=f.map((v,b)=>PE(v,`${a}.units[${b}]`)),m=Dp(n.items,`${a}.items`),g=Dp(n.modifiers,`${a}.modifiers`),p=QE(n.minRampTier);return Object.freeze({id:l,label:c,weight:u,units:Object.freeze(h),items:m,modifiers:g,minRampTier:p})}function LE(n,a){if(!oh(n))throw new Error(`Expected object at ${a}`);const s=Lf(n.id,`${a}.id`),l=Lf(n.name,`${a}.name`),c=Uf(n.description);if(!Array.isArray(n.bundles)||n.bundles.length===0)throw new Error(`Expected non-empty bundles array at ${a}.bundles`);const u=n.bundles.map((f,h)=>GE(f,`${a}.bundles[${h}]`,`${s}-${h}`));return Object.freeze({id:s,name:l,description:c,bundles:Object.freeze(u)})}Object.freeze(Array.from(Ec.keys()));function UE(n){return Ec.get(n)??null}function jE(n){return UE(n)?.bundles??Object.freeze([])}function zE(){return`e${Date.now()}-${Math.floor(Math.random()*1e6)}`}function IE(n){return{level:n}}function FE(n,a,s){const l=jE(n);if(l.length===0)throw new Error(`No bundles registered for faction: ${n}`);const c=Math.max(0,Math.floor(Number.isFinite(a)?a:0)),u=l.filter(v=>(typeof v.minRampTier=="number"?v.minRampTier:0)<=c),f=u.length>0?u:l,h=typeof s=="function"?s:Math.random,m=f.reduce((v,b)=>v+b.weight,0);if(!Number.isFinite(m)||m<=0)throw new Error(`Invalid bundle weights for faction: ${n}`);const g=h()*m;let p=0;for(const v of f)if(p+=v.weight,g<p)return v;return f[f.length-1]}function qE(n){let a=Math.max(0,Math.floor(n.availableSlots));const s=[];if(a<=0)return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers};const l=n.makeId??zE,c=typeof n.random=="function"?n.random:Math.random,u=Math.max(0,Math.min(.95,typeof n.eliteOdds=="number"?n.eliteOdds:0)),f=Math.max(1,Number.isFinite(n.difficultyMultiplier)?n.difficultyMultiplier:1),h=Math.max(0,Math.floor(Number.isFinite(n.rampTier)?n.rampTier:0)),m=1+h*.25,g=Math.floor(h/2);for(const p of n.bundle.units){const v=Math.max(1,Math.round(p.quantity*f*m)),b=Math.min(v,a),E=p.unit,C=Math.max(1,Math.round((p.level+g)*f));for(let k=0;k<b;k+=1){const B=c()<u?1:0,N=Math.max(1,C+B),j=IE(N),q=n.pickEdge();if(!q)return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers};const Z=ov(E,l(),q,n.factionId,j);if(Z&&(n.addUnit(Z),s.push(Z),a-=1,a<=0))return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers}}}return{spawned:Object.freeze(s),items:n.bundle.items,modifiers:n.bundle.modifiers}}function Zo(n,a,s,l=1){const c=Number(n);return Number.isFinite(c)?Math.max(a,Math.min(s,c)):l}const kp=6;class XE{timer;interval;spawnCycles;factionId;random;makeId;difficulty;eliteOdds;cadenceDecay;multiplierGrowth;runSeconds=0;clearCount=0;boardEmpty=!0;lastClearAt=null;lastSpawnAt=null;lastCadence;lastMultiplier;rampEvaluation;rampStageIndex;currentDifficulty;cadenceScale=1;multiplierScale=1;pressureScale=1;calmUntil=null;calmSecondsRemaining=0;cadenceFloor=.3;constructor(a={}){this.factionId=a.factionId??"enemy",this.random=typeof a.random=="function"?a.random:Math.random;const s=Number.isFinite(a.difficulty)?Number(a.difficulty):1;this.difficulty=Math.max(.5,s);const l=typeof a.eliteOdds=="number"?a.eliteOdds:0;this.eliteOdds=Math.max(0,Math.min(.95,l)),this.currentDifficulty=this.difficulty,this.cadenceDecay=Bp(this.currentDifficulty),this.multiplierGrowth=Mp(this.currentDifficulty),this.spawnCycles=0,this.rampEvaluation=Rp(this.currentDifficulty,{runSeconds:0,clears:0,spawnCycles:0}),this.rampStageIndex=this.rampEvaluation.stageIndex,this.interval=this.rampEvaluation.cadenceTarget,this.timer=this.interval,this.lastCadence=this.interval,this.lastMultiplier=this.rampEvaluation.multiplierBase;const c=(()=>{let u=0;return()=>`e${Date.now()}-${u+=1}`})();this.makeId=typeof a.idFactory=="function"?a.idFactory:c}update(a,s,l,c,u={}){if(!Number.isFinite(a)||a<=0)return;this.runSeconds+=a,this.applyRuntimeModifiers(u),this.resolveRampState();const f=this.countActiveEnemies(s);if(this.trackClears(f),this.calmUntil!==null&&this.runSeconds<this.calmUntil){const m=this.calmUntil-this.runSeconds;this.calmSecondsRemaining=m,this.timer=Math.max(this.timer,m);return}this.calmSecondsRemaining=Math.max(0,this.calmUntil!==null?this.calmUntil-this.runSeconds:0),this.timer-=a;let h=0;for(;this.timer<=0&&h<kp;){const m=this.getAvailableSlots(s);if(m<=0){this.timer=Math.max(this.timer,.5);break}const g=this.resolveRampState(),p=FE(this.factionId,g.stage.bundleTier,this.random),v=this.computeMultiplier(g);if(qE({bundle:p,factionId:this.factionId,pickEdge:c,addUnit:l,makeId:this.makeId,availableSlots:m,eliteOdds:this.eliteOdds,random:this.random,difficultyMultiplier:v,rampTier:g.stage.bundleTier}).spawned.length===0){this.timer=Math.max(this.timer,.5);break}const E=this.runSeconds+this.timer;this.lastCadence=this.lastSpawnAt===null?this.interval:Math.max(.01,E-this.lastSpawnAt),this.lastSpawnAt=E,this.lastMultiplier=v,this.spawnCycles+=1,h+=1;const C=this.resolveRampState();this.interval=this.computeNextInterval(C),this.timer+=this.interval}h===kp&&this.timer<=0&&(this.timer=this.interval)}getSnapshot(){const a=this.rampEvaluation.stage;return{runSeconds:this.runSeconds,clears:this.clearCount,spawnCycles:this.spawnCycles,rampStageIndex:this.rampStageIndex,rampStageId:a.id,rampStageLabel:a.label,bundleTier:a.bundleTier,cadence:this.interval,lastCadence:this.lastCadence,lastSpawnAt:this.lastSpawnAt,lastClearAt:this.lastClearAt,difficultyMultiplier:this.lastMultiplier,effectiveDifficulty:this.currentDifficulty,aggressionMultiplier:this.currentDifficulty/this.difficulty,cadenceMultiplier:this.cadenceScale,strengthMultiplier:this.multiplierScale,pressureMultiplier:this.pressureScale,calmSecondsRemaining:this.calmSecondsRemaining}}resolveRampState(){return this.rampEvaluation=Rp(this.currentDifficulty,{runSeconds:this.runSeconds,clears:this.clearCount,spawnCycles:this.spawnCycles}),this.rampStageIndex=this.rampEvaluation.stageIndex,this.rampEvaluation}applyRuntimeModifiers(a){const s=Zo(a.aggressionMultiplier,.25,6,1),l=Zo(a.cadenceMultiplier,.1,10,1),c=Zo(a.strengthMultiplier,.1,12,1),u=Zo(a.pressureMultiplier,.1,10,1),f=Number.isFinite(a.cadenceFloor)?Math.max(.1,a.cadenceFloor):this.cadenceFloor,h=Math.max(.25,this.difficulty*s);if(h!==this.currentDifficulty&&(this.currentDifficulty=h,this.cadenceDecay=Bp(this.currentDifficulty),this.multiplierGrowth=Mp(this.currentDifficulty),this.resolveRampState()),this.cadenceScale=l,this.multiplierScale=c,this.pressureScale=u,this.cadenceFloor=f,Object.prototype.hasOwnProperty.call(a,"calmSecondsRemaining")){const m=a.calmSecondsRemaining;m===null?this.calmUntil=null:typeof m=="number"&&Number.isFinite(m)&&m>0?this.calmUntil=this.runSeconds+m:typeof m=="number"&&m<=0&&(this.calmUntil=null)}this.calmSecondsRemaining=Math.max(0,this.calmUntil!==null?this.calmUntil-this.runSeconds:0)}computeNextInterval(a){const s=a.cadenceTarget*this.cadenceScale,l=Math.pow(this.spawnCycles+1,.6)*.018*this.pressureScale,c=1+Math.min(4,l),u=s/c,f=this.interval*this.cadenceDecay,h=Math.min(f,u);return Math.max(this.cadenceFloor,h)}computeMultiplier(a){const s=1+this.spawnCycles*this.multiplierGrowth*this.pressureScale,l=1+a.stageIndex*.15,c=a.multiplierBase*s*l*this.multiplierScale;return Math.min(16,Math.max(1,c))}countActiveEnemies(a){return a.filter(s=>s.faction===this.factionId&&!s.isDead()).length}getAvailableSlots(a){return eE-this.countActiveEnemies(a)}trackClears(a){if(a<=0){this.boardEmpty||(this.clearCount+=1,this.lastClearAt=this.runSeconds),this.boardEmpty=!0;return}this.boardEmpty=!1}}function YE(){if(typeof window>"u")return null;try{return window.localStorage??null}catch(n){return console.warn("Structured telemetry storage unavailable",n),null}}function _E(n,a){const s={event:n,timestamp:Date.now(),payload:{...a}};return console.info(n,s),s}function KE(n,a,s={}){const l=YE();if(!l)return;const c=Number.isFinite(s.limit)?Math.max(1,Math.trunc(s.limit??16)):16,f=[...Jf(n)??[],a].slice(-c);try{l.setItem(n,JSON.stringify(f))}catch(h){console.warn("Failed to persist structured telemetry",{storageKey:n,error:h})}}let Hp=-1,Op=-1,sf=null,rf=0,lf=0;const VE="telemetry:enemy-scaling:summaries";function ZE(n,a={}){const s=n.rampStageIndex!==Hp,l=n.spawnCycles>=Op+10,c=n.lastClearAt!==null&&n.lastClearAt!==sf;if(!s&&!l&&!c)return;Hp=n.rampStageIndex,Op=n.spawnCycles,sf=n.lastClearAt??sf,rf=Math.max(rf,n.difficultyMultiplier);const u=Math.max(0,Math.round(n.calmSecondsRemaining*1e3));u>lf&&(lf=u);const f={stage:n.rampStageLabel,stageIndex:n.rampStageIndex,bundleTier:n.bundleTier,cadenceSeconds:Number(n.cadence.toFixed(2)),lastCadenceSeconds:Number(n.lastCadence.toFixed(2)),multiplier:Number(n.difficultyMultiplier.toFixed(2)),effectiveDifficulty:Number(n.effectiveDifficulty.toFixed(2)),aggressionMultiplier:Number(n.aggressionMultiplier.toFixed(2)),cadenceMultiplier:Number(n.cadenceMultiplier.toFixed(2)),strengthMultiplier:Number(n.strengthMultiplier.toFixed(2)),pressureMultiplier:Number(n.pressureMultiplier.toFixed(2)),calmSecondsRemaining:Number(n.calmSecondsRemaining.toFixed(2)),runSeconds:Math.round(n.runSeconds),spawnCycles:n.spawnCycles,clears:n.clears,wipeSince:a.wipeSince??null,longestWipeMs:a.wipeDurationMs??0,peakMultiplier:Number(rf.toFixed(2)),longestCalmMs:lf},h=_E("enemy-scaling",f);KE(VE,h,{limit:24})}const JE=Object.freeze({ngPlusLevel:0,unlockSlots:0}),WE={default:"Included with the sauna key",ngPlusLevel:"Reach NG+ level",unlockSlots:"Earn roster unlocks"},ch=Object.freeze([{id:"ember-circuit",name:"Ember Circuit",rosterCap:3,description:"Classic cedar benches with a loyal trio of attendants.",art:{badge:qA,glow:"linear-gradient(145deg, rgba(255,161,76,0.65), rgba(255,226,173,0.18))"},unlock:{type:"default",label:"Available from the first steam session"}},{id:"aurora-ward",name:"Aurora Ward",rosterCap:4,description:"Glacial glass benches and a quartet ready to repel sieges.",art:{badge:IA,glow:"linear-gradient(140deg, rgba(128,208,255,0.7), rgba(61,184,255,0.2))"},unlock:{type:"unlockSlots",slots:2,label:"Secure 2 roster unlocks"}},{id:"mythic-conclave",name:"Mythic Conclave",rosterCap:6,description:"Runic obsidian tiers where six legends guard the lyly.",art:{badge:FA,glow:"linear-gradient(135deg, rgba(176,106,255,0.72), rgba(245,199,255,0.2))"},unlock:{type:"ngPlusLevel",level:3,label:"Prestige to NG+ level 3"}}]),Cl=ch[0].id,of=new Map(ch.map(n=>[n.id,n]));function Sv(){return ch}function ea(n){return n&&of.has(n)?of.get(n):of.get(Cl)}function Np(n,a,s){if(!Number.isFinite(n))return a;const l=Math.max(a,Math.min(s,n));return Number.isNaN(l)?a:l}function Jo(n){if(n.label)return n.label;const a=WE[n.type];if(!a)return"";switch(n.type){case"ngPlusLevel":return`${a} ${n.level}`;case"unlockSlots":return`${a} ${n.slots}`;default:return a}}function nr(n,a){const s=a??JE;if(n.unlock.type==="default")return{tier:n,unlocked:!0,progress:1,requirementLabel:Jo(n.unlock)};if(n.unlock.type==="ngPlusLevel"){const l=Np(s.ngPlusLevel/n.unlock.level,0,1);return{tier:n,unlocked:s.ngPlusLevel>=n.unlock.level,progress:l,requirementLabel:Jo(n.unlock)}}if(n.unlock.type==="unlockSlots"){const l=Np(s.unlockSlots/n.unlock.slots,0,1);return{tier:n,unlocked:s.unlockSlots>=n.unlock.slots,progress:l,requirementLabel:Jo(n.unlock)}}return{tier:n,unlocked:!1,progress:0,requirementLabel:Jo(n.unlock)}}const Pp=["hud-grid","grid","grid-rows-[64px_1fr_80px]","grid-cols-[280px_1fr_340px]","gap-[clamp(16px,3vw,28px)]"],Qp={top:["col-span-3","row-span-1","row-start-1"],left:["col-start-1","row-start-2","row-span-1"],content:["col-start-2","row-start-2","row-span-1"],right:["col-start-3","row-start-2","row-span-1"],bottom:["col-span-3","row-start-3","row-span-1"]};function $E(n,a){let s=n.querySelector("[data-hud-root]");return s||(s=a.createElement("div"),s.dataset.hudRoot="true",s.className="hud-layout-root",n.prepend(s)),s}function el(n,a,s,l){let c=n.querySelector(`[data-hud-region="${s}"]`);return c||(c=a.createElement("div"),c.dataset.hudRegion=s,n.appendChild(c)),c.classList.add("hud-region",...l),c.parentElement!==n&&n.appendChild(c),c}function ew(n,a,s){if(s){n.classList.add(...Pp);for(const[l,c]of Object.entries(Qp))a[l].classList.add(...c)}else{n.classList.remove(...Pp);for(const[l,c]of Object.entries(Qp))a[l].classList.remove(...c)}}function ir(n){const a=n.ownerDocument??document,s=$E(n,a),l={top:el(s,a,"top",["hud-top-row"]),left:el(s,a,"left",["hud-actions"]),content:el(s,a,"content",["hud-content"]),right:el(s,a,"right",["hud-right-column"]),bottom:el(s,a,"bottom",["hud-bottom-row"])};s.append(l.top,l.left,l.content,l.right,l.bottom);const c=n.dataset.hudVariant==="v2";if(ew(n,l,c),!c){const g=n.querySelector("#resource-bar");g&&g.parentElement!==l.right&&l.right.prepend(g)}const u=n.querySelector("#build-menu");u&&u.parentElement!==l.left&&l.left.appendChild(u);const f=n.querySelector("#build-id");f&&f.parentElement!==l.bottom&&l.bottom.appendChild(f);let h=n.querySelector(".hud-mobile-bar__tray"),m=h?.closest(".hud-mobile-bar")??null;return(!h||!m)&&(m=a.createElement("div"),m.className="hud-mobile-bar",h=a.createElement("div"),h.className="hud-mobile-bar__tray",m.appendChild(h)),m.parentElement!==l.bottom&&l.bottom.appendChild(m),{root:s,regions:l,actions:l.left,side:l.right,mobileBar:h}}const Gp=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function tw(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{update:()=>{},dispose:()=>{}};const l=document.createElement("div");l.classList.add("sauna-control"),l.dataset.tutorialTarget="heat";const c=()=>{const ce=a.getActiveTierId?.();return ea(ce??Cl).id},u=()=>a.getTierContext?.()??null,f=document.createElement("button");f.type="button",f.textContent="Sauna ",f.classList.add("topbar-button","sauna-toggle"),f.setAttribute("aria-expanded","false"),l.appendChild(f);const h=document.createElement("div");h.classList.add("sauna-card","hud-card"),h.hidden=!0;const m=document.createElement("section");m.classList.add("sauna-health");const g=`sauna-health-label-${Math.floor(Math.random()*1e5)}`,p=document.createElement("div");p.classList.add("sauna-health__header");const v=document.createElement("span");v.id=g,v.classList.add("sauna-health__title"),v.textContent="Sauna Integrity",p.appendChild(v);const b=document.createElement("span");b.classList.add("sauna-health__value"),b.setAttribute("aria-live","polite"),p.appendChild(b),m.appendChild(p);const E=document.createElement("div");E.classList.add("sauna-health__bar"),E.setAttribute("role","meter"),E.setAttribute("aria-valuemin","0"),E.setAttribute("aria-labelledby",g);const C=document.createElement("div");C.classList.add("sauna-health__fill"),E.appendChild(C),m.appendChild(E);const k=document.createElement("div");k.classList.add("sauna-health__destruction"),k.hidden=!0,E.appendChild(k);const B=document.createElement("div");B.classList.add("sauna-progress");const N=document.createElement("div");N.classList.add("sauna-progress__fill"),B.appendChild(N),h.appendChild(m),h.appendChild(B);const j=Sv(),q=new Map,Z=document.createElement("section");Z.classList.add("sauna-tier");const W=document.createElement("div");W.classList.add("sauna-tier__header");const re=document.createElement("span");re.classList.add("sauna-tier__title"),re.textContent="Premium Tiers",W.appendChild(re);const F=document.createElement("p");F.classList.add("sauna-tier__subtitle"),F.textContent="Align the lyly with your prestige to unlock lavish benches and roster headroom.",W.appendChild(F),Z.appendChild(W);const ae=document.createElement("div");ae.classList.add("sauna-tier__grid"),Z.appendChild(ae);for(const ce of j){const ye=document.createElement("button");ye.type="button",ye.classList.add("sauna-tier__option"),ye.dataset.tierId=ce.id,ye.setAttribute("aria-pressed","false");const be=document.createElement("div");be.classList.add("sauna-tier__badge"),be.style.setProperty("--sauna-tier-badge-image",`url(${ce.art.badge})`),ce.art.glow&&be.style.setProperty("--sauna-tier-glow",ce.art.glow),ye.appendChild(be);const De=document.createElement("div");De.classList.add("sauna-tier__copy"),ye.appendChild(De);const yt=document.createElement("span");yt.classList.add("sauna-tier__name"),yt.textContent=ce.name,De.appendChild(yt);const ft=document.createElement("span");ft.classList.add("sauna-tier__cap"),ft.textContent=`Cap ${ce.rosterCap}`,De.appendChild(ft);const Ct=document.createElement("p");Ct.classList.add("sauna-tier__description"),Ct.textContent=ce.description,De.appendChild(Ct);const ra=document.createElement("div");ra.classList.add("sauna-tier__progress");const la=document.createElement("div");la.classList.add("sauna-tier__progress-fill"),ra.appendChild(la);const oa=document.createElement("span");oa.classList.add("sauna-tier__progress-label"),ra.appendChild(oa),De.appendChild(ra);const ca=document.createElement("span");ca.classList.add("sauna-tier__requirement"),De.appendChild(ca);const ua={tier:ce,button:ye,fill:la,progressLabel:oa,requirement:ca,handleClick:()=>{wn(ce,ua)}};ye.addEventListener("click",ua.handleClick),q.set(ce.id,ua),ae.appendChild(ye)}h.appendChild(Z),Jt();const $=document.createElement("div");$.classList.add("sauna-roster");const _=document.createElement("div");_.classList.add("sauna-roster__header");const L=document.createElement("span");L.textContent="Roster Cap",L.classList.add("sauna-roster__title"),_.appendChild(L);const P=document.createElement("span");P.classList.add("sauna-roster__value"),P.setAttribute("aria-live","polite"),_.appendChild(P),$.appendChild(_);const T=document.createElement("p");T.classList.add("sauna-roster__description"),T.textContent="Tune how many attendants may be active before new recruits wait in the steam.",$.appendChild(T);const K=`sauna-roster-${Math.floor(Math.random()*1e5)}`,z=document.createElement("label");z.classList.add("sauna-roster__label"),z.htmlFor=K,z.textContent="Active attendants";const R=document.createElement("input");R.type="range",R.id=K,R.min="0",R.step="1",R.classList.add("sauna-roster__slider");const U=document.createElement("input");U.type="number",U.min="0",U.step="1",U.inputMode="numeric",U.classList.add("sauna-roster__number");const se=document.createElement("div");se.classList.add("sauna-roster__controls"),se.appendChild(z),se.appendChild(R),se.appendChild(U),$.appendChild(se),h.appendChild($);const fe=document.createElement("label");fe.classList.add("sauna-option");const w=document.createElement("input");w.type="checkbox",w.classList.add("sauna-option__input"),w.checked=n.rallyToFront,w.addEventListener("change",()=>{n.rallyToFront=w.checked}),fe.appendChild(w);const I=document.createElement("span");I.textContent="Rally to Front",I.classList.add("sauna-option__label"),fe.appendChild(I),h.appendChild(fe),l.appendChild(h);const{regions:te}=ir(s),ee=te.top,oe=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null;let ge=!!oe?.matches;const he=(ce,ye)=>{typeof ce.addEventListener=="function"?ce.addEventListener("change",ye):typeof ce.addListener=="function"&&ce.addListener(ye)},Ie=(ce,ye)=>{typeof ce.removeEventListener=="function"?ce.removeEventListener("change",ye):typeof ce.removeListener=="function"&&ce.removeListener(ye)},Ce=ce=>{ge=!!ce.matches,m.dataset.motion=ge?"reduced":"full"};m.dataset.motion=ge?"reduced":"full",oe&&he(oe,Ce);const xt=()=>{const ce=ea(c()),ye=Math.max(0,Math.floor(ce.rosterCap)),be=a.getRosterCapLimit?.();if(typeof be=="number"&&Number.isFinite(be)){const De=Math.max(0,Math.floor(be));return Math.max(0,Math.min(ye,De))}return ye};function Jt(){const ce=c(),ye=u();for(const be of q.values()){const De=nr(be.tier,ye),yt=Math.round(Math.max(0,Math.min(De.progress,1))*100);be.fill.style.width=`${yt}%`,be.progressLabel.textContent=De.unlocked?"Unlocked":`${yt}% ready`,be.requirement.textContent=De.unlocked?`Roster cap ${be.tier.rosterCap}`:De.requirementLabel,be.button.dataset.state=De.unlocked?be.tier.id===ce?"active":"available":"locked",be.button.setAttribute("aria-pressed",be.tier.id===ce?"true":"false"),be.button.setAttribute("aria-disabled",De.unlocked?"false":"true")}}function wn(ce,ye){if(!nr(ce,u()).unlocked){ye.button.classList.remove("sauna-tier__option--denied"),ye.button.offsetWidth,ye.button.classList.add("sauna-tier__option--denied");return}(a.setActiveTierId?.(ce.id,{persist:!0})??!1)&&zt(n.maxRosterSize,!0),Jt()}const Wt=(ce,ye)=>{const be=Math.max(0,Math.min(ce,Math.floor(ye)));R.max=String(ce),R.value=String(be),R.setAttribute("aria-valuemax",R.max),R.setAttribute("aria-valuenow",R.value),U.max=String(ce),U.value=String(be),P.textContent=be===0?"Paused":`${be}`,P.dataset.state=be===0?"paused":"active",U.setAttribute("aria-label",`Roster cap set to ${be}`)};function zt(ce,ye){const be=Number(ce),De=xt(),yt=Number.isFinite(be)?Math.max(0,Math.floor(be)):0;let ft=Math.max(0,Math.min(De,yt));return a.updateMaxRosterSize?ft=a.updateMaxRosterSize(ft,{persist:ye}):n.maxRosterSize=ft,Wt(De,ft),ft}const It=()=>{zt(Number(R.value),!1)},na=()=>{zt(Number(R.value),!0)};R.addEventListener("input",It),R.addEventListener("change",na);const aa=ce=>{zt(Number(U.value),ce)},lt=()=>{aa(!1)},ia=()=>{aa(!0)},Sn=()=>{aa(!0)};U.addEventListener("input",lt),U.addEventListener("change",ia),U.addEventListener("blur",Sn),zt(n.maxRosterSize,!1);const fn=()=>{l.parentElement!==ee&&ee.appendChild(l);const ce=ee.querySelector("#topbar");return ce&&ce.parentElement===ee?(ce.nextSibling!==l&&ee.insertBefore(l,ce.nextSibling),!0):!1};let Ft=null;fn()||(Ft=new MutationObserver(()=>{fn()&&Ft?.disconnect()}),Ft.observe(ee,{childList:!0}));const za=()=>{const ce=!h.hidden;h.hidden=ce,f.setAttribute("aria-expanded",String(!ce))};f.addEventListener("click",za);const xn=()=>{const ce=Math.max(1,Math.floor(n.maxHealth)),ye=Math.max(0,Math.min(ce,Math.floor(Number.isFinite(n.health)?n.health:0))),be=ce>0?ye/ce:0,De=Math.max(0,Math.min(be,1));C.style.width=`${De*100}%`;const yt=Gp.format(ye),ft=Gp.format(ce);b.textContent=`${yt} / ${ft}`,E.setAttribute("aria-valuenow",String(ye)),E.setAttribute("aria-valuemax",String(ce)),E.setAttribute("aria-valuetext",`${yt} of ${ft} health`);const Ct=n.destroyed?"offline":De<=.2?"critical":De<=.55?"warning":"stable";E.dataset.level=Ct,b.dataset.state=Ct,m.dataset.state=n.destroyed?"destroyed":"active"},Ln=()=>{k.classList.remove("sauna-health__destruction--active"),k.hidden=!0};let Cn=null,Ne=null;const Ze=()=>{Cn!==null&&(window.clearTimeout(Cn),Cn=null),E.classList.remove("sauna-health__bar--impact")},$t=()=>{C.classList.remove("sauna-health__fill--damage")};C.addEventListener("animationend",$t);const dt=()=>{Ln()};k.addEventListener("animationend",dt);const ts=()=>{Ze(),E.classList.add("sauna-health__bar--impact"),ge||(C.classList.remove("sauna-health__fill--damage"),C.offsetWidth,C.classList.add("sauna-health__fill--damage")),Cn=window.setTimeout(()=>{E.classList.remove("sauna-health__bar--impact"),Cn=null},ge?360:560)},sr=()=>{Ne!==null&&(window.clearTimeout(Ne),Ne=null),k.hidden=!1,k.classList.remove("sauna-health__destruction--active"),k.offsetWidth,k.classList.add("sauna-health__destruction--active"),Ne=window.setTimeout(()=>{Ln(),Ne=null},ge?720:1100)},ns=()=>{xn();const ce=n.playerSpawnCooldown>0?n.playerSpawnCooldown:1,ye=1-n.playerSpawnTimer/ce;N.style.width=`${Math.max(0,Math.min(ye,1))*100}%`,w.checked=n.rallyToFront;const be=xt(),De=Math.max(0,Math.min(be,Math.floor(n.maxRosterSize)));if(De!==n.maxRosterSize)if(a.updateMaxRosterSize){const yt=a.updateMaxRosterSize(De,{persist:!0});Wt(be,yt)}else n.maxRosterSize=De,Wt(be,De);else Wt(be,De);Jt()};return xn(),{update:ns,handleDamage:ce=>{xn(),ts()},handleDestroyed:ce=>{h.hidden=!1,f.setAttribute("aria-expanded","true"),xn(),ts(),sr()},dispose:()=>{Ft?.disconnect(),Ft=null,f.removeEventListener("click",za),R.removeEventListener("input",It),R.removeEventListener("change",na),U.removeEventListener("input",lt),U.removeEventListener("change",ia),U.removeEventListener("blur",Sn),oe&&Ie(oe,Ce),C.removeEventListener("animationend",$t),k.removeEventListener("animationend",dt),Ze(),Ne!==null&&(window.clearTimeout(Ne),Ne=null),Ln();for(const ce of q.values())ce.button.removeEventListener("click",ce.handleClick);q.clear(),l.remove()}}}function tl(n,a={}){const{iconSrc:s,description:l,srLabel:c}=a,u=document.createElement("div");if(u.classList.add("topbar-badge"),u.setAttribute("role","status"),u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),s){const v=document.createElement("img");v.src=s,v.alt=n,v.decoding="async",v.classList.add("topbar-badge-icon"),u.appendChild(v)}const f=document.createElement("div");f.classList.add("badge-text");const h=document.createElement("span");h.textContent=n,h.classList.add("badge-label"),f.appendChild(h);const m=document.createElement("span");m.textContent="0",m.classList.add("badge-value"),m.setAttribute("aria-hidden","true"),f.appendChild(m);const g=document.createElement("span");g.classList.add("badge-delta"),g.style.opacity="0",g.style.transform="translateY(-6px)",g.style.transition="opacity 0.5s ease, transform 0.5s ease",g.setAttribute("aria-hidden","true"),u.append(f,g),l&&(u.title=l);const p=c??n;return u.dataset.label=p,u.setAttribute("aria-label",`${p}: 0`),{container:u,value:m,delta:g,label:p}}function nw(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{update:()=>{},dispose:()=>{}};const{regions:l}=ir(s),c=l.top,u=document.createElement("div");u.id="topbar",c.prepend(u);const f=document.createElement("div");f.className="topbar-badge-row",u.appendChild(f);const h={[ie.SAUNA_BEER]:"Sauna beer bottles chilled for construction crews and eager recruits.",[ie.SAUNAKUNNIA]:"Saunakunniaprestige earned from sauna rituals and triumphant battles.",[ie.SISU]:"Sisuthe relentless grit forged when your warriors triumph on the snow."},m=tl("Sauna Beer",{iconSrc:a.saunaBeer,description:h[ie.SAUNA_BEER],srLabel:"Sauna beer reserves"});m.container.classList.add("badge-sauna-beer");const g=tl("Sisu",{iconSrc:a.sisu,description:h[ie.SISU],srLabel:"Sisu reserves"});g.container.classList.add("badge-sisu"),g.container.dataset.tutorialTarget="sisu";const p=tl("Saunakunnia",{iconSrc:a.saunakunnia,description:h[ie.SAUNAKUNNIA],srLabel:"Saunakunnia"});p.container.classList.add("badge-sauna"),p.container.dataset.tutorialTarget="victory";const v=tl("Time");v.container.classList.add("badge-time"),v.delta.style.display="none";const b=tl("Enemy Ramp",{srLabel:"Enemy ramp intensity"});b.container.classList.add("badge-ramp"),b.delta.style.display="none",b.container.dataset.tutorialTarget="enemy-ramp",b.container.title="Enemy ramp intensity and cadence.",f.appendChild(m.container),f.appendChild(g.container),f.appendChild(p.container),f.appendChild(b.container),f.appendChild(v.container);const E=new Intl.NumberFormat("en-US"),C=new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}),k={[ie.SAUNA_BEER]:"Sauna Beer",[ie.SAUNAKUNNIA]:"Saunakunnia",[ie.SISU]:"Sisu"},B={[ie.SAUNA_BEER]:{singular:"bottle",plural:"bottles"},[ie.SAUNAKUNNIA]:{singular:"Saunakunnia",plural:"Saunakunnia"},[ie.SISU]:{singular:"Sisu",plural:"Sisu"}},N={[ie.SAUNA_BEER]:"",[ie.SAUNAKUNNIA]:"",[ie.SISU]:""},j={[ie.SAUNA_BEER]:m,[ie.SAUNAKUNNIA]:p,[ie.SISU]:g},q={};let Z=null;function W(T){if(Z=T,!T){b.value.textContent="Stage 1  1.00",b.delta.textContent="",b.delta.style.display="none",b.container.dataset.state="idle",b.container.title="Enemy ramp idle",b.container.setAttribute("aria-label","Enemy ramp idle.");return}const K=T.stage||`Stage ${T.stageIndex+1}`,z=`${T.multiplier.toFixed(2)}`,R=`${T.cadenceSeconds.toFixed(2)}s cadence`,U=`${T.effectiveDifficulty.toFixed(2)}`,se=T.calmSecondsRemaining>.05,fe=se?`Calm remaining: ${Math.ceil(T.calmSecondsRemaining)}s`:"Calm inactive";b.value.textContent=`${K}  ${z}`,b.delta.style.display=se?"":"none",b.delta.textContent=se?`Calm ${Math.ceil(T.calmSecondsRemaining)}s`:"",b.container.dataset.state=se?"calm":"active",b.container.title=[`Stage: ${K} (Tier ${T.bundleTier})`,`Cadence: ${R}`,`Multiplier: ${z}`,`Difficulty: ${U}`,`Aggression ${T.aggressionMultiplier.toFixed(2)}  Cadence ${T.cadenceMultiplier.toFixed(2)}  Strength ${T.strengthMultiplier.toFixed(2)}`,fe,`Spawn cycles: ${T.spawnCycles}`].join(`
`),b.container.setAttribute("aria-label",[`Enemy ramp ${K}`,`Multiplier ${z}`,`Cadence ${T.cadenceSeconds.toFixed(2)} seconds`,`Difficulty ${U}`,se?`Calm remaining ${Math.ceil(T.calmSecondsRemaining)} seconds`:"Calm inactive"].join("  "))}function re(T,K){const z=Number.isFinite(K)?K:0;return T===ie.SAUNA_BEER?Math.trunc(z):Math.max(0,Math.round(z))}function F(T,K){return E.format(re(T,K))}function ae(T,K){return K===0?"":`${C.format(K)}${N[T]}`}function $(T,K){if(K===0)return"";const z=K>0?"gained":"spent",R=E.format(Math.abs(K)),U=B[T];if(U){const fe=Math.abs(K)===1?U.singular:U.plural,w=k[T],I=[w];fe&&fe!==w&&I.push(fe);const te=I.filter(Boolean).join(" ");return`${z} ${R}${te?` ${te}`:""}`}const se=k[T];return`${z} ${R}${se?` ${se}`:""}`}function _(T,K,z=0){const R=j[T];if(!R)return;const U=re(T,K),se=F(T,K);R.value.textContent=se;const fe=T===ie.SAUNA_BEER&&U<0;if(R.container.classList.toggle("topbar-badge--debt",fe),z!==0){R.delta.textContent=ae(T,z),R.delta.style.opacity="1",R.delta.style.transform="translateY(0)";const te=q[T];te&&clearTimeout(te),q[T]=setTimeout(()=>{R.delta.style.opacity="0",R.delta.style.transform="translateY(-6px)",delete q[T]},1e3)}else R.delta.textContent="",R.delta.style.opacity="0",R.delta.style.transform="translateY(-6px)";const w=$(T,z),I=[`${R.label} ${se}`];if(fe){const te=E.format(Math.abs(U)),ee=B[T];if(ee){const oe=Math.abs(U)===1?ee.singular:ee.plural,ge=oe&&oe!==k[T];I.push(ge?`Debt of ${te} ${oe}`:`Debt of ${te}`)}else I.push(`Debt of ${te}`)}w&&I.push(w),R.container.setAttribute("aria-label",I.join("  "))}_(ie.SAUNA_BEER,n.getResource(ie.SAUNA_BEER)),_(ie.SAUNAKUNNIA,n.getResource(ie.SAUNAKUNNIA)),_(ie.SISU,n.getResource(ie.SISU)),W(Z);const L=({resource:T,amount:K,total:z})=>{j[T]&&_(T,z,K)};ne.on("resourceChanged",L);let P=0;return{update(T){P+=T;const K=Math.floor(P/1e3),z=Math.floor(K/60),R=K%60;v.value.textContent=`${z}:${R.toString().padStart(2,"0")}`},setEnemyRampSummary(T){W(T)},dispose(){ne.off("resourceChanged",L),Object.values(q).forEach(T=>{T&&clearTimeout(T)}),u.remove()}}}var cf={exports:{}},nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function aw(){if(Lp)return nl;Lp=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var h in c)h!=="key"&&(u[h]=c[h])}else u=c;return c=u.ref,{$$typeof:n,type:l,key:f,ref:c!==void 0?c:null,props:u}}return nl.Fragment=a,nl.jsx=s,nl.jsxs=s,nl}var Up;function iw(){return Up||(Up=1,cf.exports=aw()),cf.exports}var Vt=iw(),uf={exports:{}},al={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function sw(){return jp||(jp=1,(function(n){function a(R,U){var se=R.length;R.push(U);e:for(;0<se;){var fe=se-1>>>1,w=R[fe];if(0<c(w,U))R[fe]=U,R[se]=w,se=fe;else break e}}function s(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var U=R[0],se=R.pop();if(se!==U){R[0]=se;e:for(var fe=0,w=R.length,I=w>>>1;fe<I;){var te=2*(fe+1)-1,ee=R[te],oe=te+1,ge=R[oe];if(0>c(ee,se))oe<w&&0>c(ge,ee)?(R[fe]=ge,R[oe]=se,fe=oe):(R[fe]=ee,R[te]=se,fe=te);else if(oe<w&&0>c(ge,se))R[fe]=ge,R[oe]=se,fe=oe;else break e}}return U}function c(R,U){var se=R.sortIndex-U.sortIndex;return se!==0?se:R.id-U.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var m=[],g=[],p=1,v=null,b=3,E=!1,C=!1,k=!1,B=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Z(R){for(var U=s(g);U!==null;){if(U.callback===null)l(g);else if(U.startTime<=R)l(g),U.sortIndex=U.expirationTime,a(m,U);else break;U=s(g)}}function W(R){if(k=!1,Z(R),!C)if(s(m)!==null)C=!0,re||(re=!0,P());else{var U=s(g);U!==null&&z(W,U.startTime-R)}}var re=!1,F=-1,ae=5,$=-1;function _(){return B?!0:!(n.unstable_now()-$<ae)}function L(){if(B=!1,re){var R=n.unstable_now();$=R;var U=!0;try{e:{C=!1,k&&(k=!1,j(F),F=-1),E=!0;var se=b;try{t:{for(Z(R),v=s(m);v!==null&&!(v.expirationTime>R&&_());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,b=v.priorityLevel;var w=fe(v.expirationTime<=R);if(R=n.unstable_now(),typeof w=="function"){v.callback=w,Z(R),U=!0;break t}v===s(m)&&l(m),Z(R)}else l(m);v=s(m)}if(v!==null)U=!0;else{var I=s(g);I!==null&&z(W,I.startTime-R),U=!1}}break e}finally{v=null,b=se,E=!1}U=void 0}}finally{U?P():re=!1}}}var P;if(typeof q=="function")P=function(){q(L)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,K=T.port2;T.port1.onmessage=L,P=function(){K.postMessage(null)}}else P=function(){N(L,0)};function z(R,U){F=N(function(){R(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(R){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var se=b;b=U;try{return R()}finally{b=se}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var se=b;b=R;try{return U()}finally{b=se}},n.unstable_scheduleCallback=function(R,U,se){var fe=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?fe+se:fe):se=fe,R){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=se+w,R={id:p++,callback:U,priorityLevel:R,startTime:se,expirationTime:w,sortIndex:-1},se>fe?(R.sortIndex=se,a(g,R),s(m)===null&&R===s(g)&&(k?(j(F),F=-1):k=!0,z(W,se-fe))):(R.sortIndex=w,a(m,R),C||E||(C=!0,re||(re=!0,P()))),R},n.unstable_shouldYield=_,n.unstable_wrapCallback=function(R){var U=b;return function(){var se=b;b=U;try{return R.apply(this,arguments)}finally{b=se}}}})(ff)),ff}var zp;function rw(){return zp||(zp=1,df.exports=sw()),df.exports}var hf={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function lw(){if(Ip)return Ee;Ip=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function B(w,I,te){this.props=w,this.context=I,this.refs=k,this.updater=te||E}B.prototype.isReactComponent={},B.prototype.setState=function(w,I){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,I,"setState")},B.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function N(){}N.prototype=B.prototype;function j(w,I,te){this.props=w,this.context=I,this.refs=k,this.updater=te||E}var q=j.prototype=new N;q.constructor=j,C(q,B.prototype),q.isPureReactComponent=!0;var Z=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function F(w,I,te,ee,oe,ge){return te=ge.ref,{$$typeof:n,type:w,key:I,ref:te!==void 0?te:null,props:ge}}function ae(w,I){return F(w.type,I,void 0,void 0,void 0,w.props)}function $(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function _(w){var I={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return I[te]})}var L=/\/+/g;function P(w,I){return typeof w=="object"&&w!==null&&w.key!=null?_(""+w.key):I.toString(36)}function T(){}function K(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(T,T):(w.status="pending",w.then(function(I){w.status==="pending"&&(w.status="fulfilled",w.value=I)},function(I){w.status==="pending"&&(w.status="rejected",w.reason=I)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function z(w,I,te,ee,oe){var ge=typeof w;(ge==="undefined"||ge==="boolean")&&(w=null);var he=!1;if(w===null)he=!0;else switch(ge){case"bigint":case"string":case"number":he=!0;break;case"object":switch(w.$$typeof){case n:case a:he=!0;break;case p:return he=w._init,z(he(w._payload),I,te,ee,oe)}}if(he)return oe=oe(w),he=ee===""?"."+P(w,0):ee,Z(oe)?(te="",he!=null&&(te=he.replace(L,"$&/")+"/"),z(oe,I,te,"",function(xt){return xt})):oe!=null&&($(oe)&&(oe=ae(oe,te+(oe.key==null||w&&w.key===oe.key?"":(""+oe.key).replace(L,"$&/")+"/")+he)),I.push(oe)),1;he=0;var Ie=ee===""?".":ee+":";if(Z(w))for(var Ce=0;Ce<w.length;Ce++)ee=w[Ce],ge=Ie+P(ee,Ce),he+=z(ee,I,te,ge,oe);else if(Ce=b(w),typeof Ce=="function")for(w=Ce.call(w),Ce=0;!(ee=w.next()).done;)ee=ee.value,ge=Ie+P(ee,Ce++),he+=z(ee,I,te,ge,oe);else if(ge==="object"){if(typeof w.then=="function")return z(K(w),I,te,ee,oe);throw I=String(w),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return he}function R(w,I,te){if(w==null)return w;var ee=[],oe=0;return z(w,ee,"","",function(ge){return I.call(te,ge,oe++)}),ee}function U(w){if(w._status===-1){var I=w._result;I=I(),I.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=I)}if(w._status===1)return w._result.default;throw w._result}var se=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function fe(){}return Ee.Children={map:R,forEach:function(w,I,te){R(w,function(){I.apply(this,arguments)},te)},count:function(w){var I=0;return R(w,function(){I++}),I},toArray:function(w){return R(w,function(I){return I})||[]},only:function(w){if(!$(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Ee.Component=B,Ee.Fragment=s,Ee.Profiler=c,Ee.PureComponent=j,Ee.StrictMode=l,Ee.Suspense=m,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(w){return W.H.useMemoCache(w)}},Ee.cache=function(w){return function(){return w.apply(null,arguments)}},Ee.cloneElement=function(w,I,te){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ee=C({},w.props),oe=w.key,ge=void 0;if(I!=null)for(he in I.ref!==void 0&&(ge=void 0),I.key!==void 0&&(oe=""+I.key),I)!re.call(I,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&I.ref===void 0||(ee[he]=I[he]);var he=arguments.length-2;if(he===1)ee.children=te;else if(1<he){for(var Ie=Array(he),Ce=0;Ce<he;Ce++)Ie[Ce]=arguments[Ce+2];ee.children=Ie}return F(w.type,oe,void 0,void 0,ge,ee)},Ee.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},Ee.createElement=function(w,I,te){var ee,oe={},ge=null;if(I!=null)for(ee in I.key!==void 0&&(ge=""+I.key),I)re.call(I,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(oe[ee]=I[ee]);var he=arguments.length-2;if(he===1)oe.children=te;else if(1<he){for(var Ie=Array(he),Ce=0;Ce<he;Ce++)Ie[Ce]=arguments[Ce+2];oe.children=Ie}if(w&&w.defaultProps)for(ee in he=w.defaultProps,he)oe[ee]===void 0&&(oe[ee]=he[ee]);return F(w,ge,void 0,void 0,null,oe)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(w){return{$$typeof:h,render:w}},Ee.isValidElement=$,Ee.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:U}},Ee.memo=function(w,I){return{$$typeof:g,type:w,compare:I===void 0?null:I}},Ee.startTransition=function(w){var I=W.T,te={};W.T=te;try{var ee=w(),oe=W.S;oe!==null&&oe(te,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(fe,se)}catch(ge){se(ge)}finally{W.T=I}},Ee.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ee.use=function(w){return W.H.use(w)},Ee.useActionState=function(w,I,te){return W.H.useActionState(w,I,te)},Ee.useCallback=function(w,I){return W.H.useCallback(w,I)},Ee.useContext=function(w){return W.H.useContext(w)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(w,I){return W.H.useDeferredValue(w,I)},Ee.useEffect=function(w,I,te){var ee=W.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(w,I)},Ee.useId=function(){return W.H.useId()},Ee.useImperativeHandle=function(w,I,te){return W.H.useImperativeHandle(w,I,te)},Ee.useInsertionEffect=function(w,I){return W.H.useInsertionEffect(w,I)},Ee.useLayoutEffect=function(w,I){return W.H.useLayoutEffect(w,I)},Ee.useMemo=function(w,I){return W.H.useMemo(w,I)},Ee.useOptimistic=function(w,I){return W.H.useOptimistic(w,I)},Ee.useReducer=function(w,I,te){return W.H.useReducer(w,I,te)},Ee.useRef=function(w){return W.H.useRef(w)},Ee.useState=function(w){return W.H.useState(w)},Ee.useSyncExternalStore=function(w,I,te){return W.H.useSyncExternalStore(w,I,te)},Ee.useTransition=function(){return W.H.useTransition()},Ee.version="19.1.1",Ee}var Fp;function uh(){return Fp||(Fp=1,hf.exports=lw()),hf.exports}var mf={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function ow(){if(qp)return kt;qp=1;var n=uh();function a(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(m,g,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:m,containerInfo:g,implementation:p}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,kt.createPortal=function(m,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return u(m,g,null,p)},kt.flushSync=function(m){var g=f.T,p=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=g,l.p=p,l.d.f()}},kt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},kt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},kt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var p=g.as,v=h(p,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):p==="script"&&l.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},kt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},kt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,v=h(p,g.crossOrigin);l.d.L(m,p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},kt.preloadModule=function(m,g){if(typeof m=="string")if(g){var p=h(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},kt.requestFormReset=function(m){l.d.r(m)},kt.unstable_batchedUpdates=function(m,g){return m(g)},kt.useFormState=function(m,g,p){return f.H.useFormState(m,g,p)},kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},kt.version="19.1.1",kt}var Xp;function cw(){if(Xp)return mf.exports;Xp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),mf.exports=ow(),mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function uw(){if(Yp)return al;Yp=1;var n=rw(),a=uh(),s=cw();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var i=e,r=t;;){var o=i.return;if(o===null)break;var d=o.alternate;if(d===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===i)return h(o),e;if(d===r)return h(o),t;d=d.sibling}throw Error(l(188))}if(i.return!==r.return)i=o,r=d;else{for(var A=!1,y=o.child;y;){if(y===i){A=!0,i=o,r=d;break}if(y===r){A=!0,r=o,i=d;break}y=y.sibling}if(!A){for(y=d.child;y;){if(y===i){A=!0,i=d,r=o;break}if(y===r){A=!0,r=d,i=o;break}y=y.sibling}if(!A)throw Error(l(189))}}if(i.alternate!==r)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),_=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var T=Symbol.for("react.client.reference");function K(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===T?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case W:return"Suspense";case re:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case q:return(e.displayName||"Context")+".Provider";case j:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:K(e.type)||"Memo";case ae:t=e._payload,e=e._init;try{return K(e(t))}catch{}}return null}var z=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},fe=[],w=-1;function I(e){return{current:e}}function te(e){0>w||(e.current=fe[w],fe[w]=null,w--)}function ee(e,t){w++,fe[w]=e.current,e.current=t}var oe=I(null),ge=I(null),he=I(null),Ie=I(null);function Ce(e,t){switch(ee(he,t),ee(ge,e),ee(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Mg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Mg(t),e=Dg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(oe),ee(oe,e)}function xt(){te(oe),te(ge),te(he)}function Jt(e){e.memoizedState!==null&&ee(Ie,e);var t=oe.current,i=Dg(t,e.type);t!==i&&(ee(ge,e),ee(oe,i))}function wn(e){ge.current===e&&(te(oe),te(ge)),Ie.current===e&&(te(Ie),_r._currentValue=se)}var Wt=Object.prototype.hasOwnProperty,zt=n.unstable_scheduleCallback,It=n.unstable_cancelCallback,na=n.unstable_shouldYield,aa=n.unstable_requestPaint,lt=n.unstable_now,ia=n.unstable_getCurrentPriorityLevel,Sn=n.unstable_ImmediatePriority,fn=n.unstable_UserBlockingPriority,Ft=n.unstable_NormalPriority,za=n.unstable_LowPriority,xn=n.unstable_IdlePriority,Ln=n.log,Cn=n.unstable_setDisableYieldValue,Ne=null,Ze=null;function $t(e){if(typeof Ln=="function"&&Cn(e),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(Ne,e)}catch{}}var dt=Math.clz32?Math.clz32:ns,ts=Math.log,sr=Math.LN2;function ns(e){return e>>>=0,e===0?32:31-(ts(e)/sr|0)|0}var Si=256,sa=4194304;function Rn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ce(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var o=0,d=e.suspendedLanes,A=e.pingedLanes;e=e.warmLanes;var y=r&134217727;return y!==0?(r=y&~d,r!==0?o=Rn(r):(A&=y,A!==0?o=Rn(A):i||(i=y&~e,i!==0&&(o=Rn(i))))):(y=r&~d,y!==0?o=Rn(y):A!==0?o=Rn(A):i||(i=r&~e,i!==0&&(o=Rn(i)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,i=t&-t,d>=i||d===32&&(i&4194048)!==0)?t:o}function ye(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var e=Si;return Si<<=1,(Si&4194048)===0&&(Si=256),e}function yt(){var e=sa;return sa<<=1,(sa&62914560)===0&&(sa=4194304),e}function ft(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ct(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ra(e,t,i,r,o,d){var A=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,O=e.hiddenUpdates;for(i=A&~i;0<i;){var Y=31-dt(i),J=1<<Y;y[Y]=0,S[Y]=-1;var Q=O[Y];if(Q!==null)for(O[Y]=null,Y=0;Y<Q.length;Y++){var G=Q[Y];G!==null&&(G.lane&=-536870913)}i&=~J}r!==0&&la(e,r,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(A&~t))}function la(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-dt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&4194090}function oa(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-dt(i),o=1<<r;o&t|e[r]&t&&(e[r]|=t),i&=~o}}function ca(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ua(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bl(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:Kg(e.type))}function Ml(e,t){var i=U.p;try{return U.p=e,t()}finally{U.p=i}}var Un=Math.random().toString(36).slice(2),Je="__reactFiber$"+Un,ht="__reactProps$"+Un,da="__reactContainer$"+Un,Ia="__reactEvents$"+Un,Bn="__reactListeners$"+Un,as="__reactHandles$"+Un,xi="__reactResources$"+Un,Ci="__reactMarker$"+Un;function is(e){delete e[Je],delete e[ht],delete e[Ia],delete e[Bn],delete e[as]}function fa(e){var t=e[Je];if(t)return t;for(var i=e.parentNode;i;){if(t=i[da]||i[Je]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Og(e);e!==null;){if(i=e[Je])return i;e=Og(e)}return t}e=i,i=e.parentNode}return null}function Fa(e){if(e=e[Je]||e[da]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ha(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function ma(e){var t=e[xi];return t||(t=e[xi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Ci]=!0}var ss=new Set,Dl={};function jn(e,t){qa(e,t),qa(e+"Capture",t)}function qa(e,t){for(Dl[e]=t,e=0;e<t.length;e++)ss.add(t[e])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},Hl={};function Ol(e){return Wt.call(Hl,e)?!0:Wt.call(kl,e)?!1:Tl.test(e)?Hl[e]=!0:(kl[e]=!0,!1)}function Ri(e,t,i){if(Ol(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Bi(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Mn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}var Nl,M;function X(e){if(Nl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Nl=t&&t[1]||"",M=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nl+e+M}var le=!1;function de(e,t){if(!e||le)return"";le=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var Q=G}Reflect.construct(e,[],J)}else{try{J.call()}catch(G){Q=G}e.call(J.prototype)}}else{try{throw Error()}catch(G){Q=G}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&Q&&typeof G.stack=="string")return[G.stack,Q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),A=d[0],y=d[1];if(A&&y){var S=A.split(`
`),O=y.split(`
`);for(o=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;if(r===S.length||o===O.length)for(r=S.length-1,o=O.length-1;1<=r&&0<=o&&S[r]!==O[o];)o--;for(;1<=r&&0<=o;r--,o--)if(S[r]!==O[o]){if(r!==1||o!==1)do if(r--,o--,0>o||S[r]!==O[o]){var Y=`
`+S[r].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=r&&0<=o);break}}}finally{le=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?X(i):""}function Te(e){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return de(e.type,!1);case 11:return de(e.type.render,!1);case 1:return de(e.type,!0);case 31:return X("Activity");default:return""}}function Fe(e){try{var t="";do t+=Te(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function en(e){var t=$e(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(A){r=""+A,d.call(this,A)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bt(e){e._valueTracker||(e._valueTracker=en(e))}function tn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=$e(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function nn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mi=/[\n"\\]/g;function mt(e){return e.replace(Mi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function et(e,t,i,r,o,d,A,y){e.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.type=A:e.removeAttribute("type"),t!=null?A==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Me(t)):e.value!==""+Me(t)&&(e.value=""+Me(t)):A!=="submit"&&A!=="reset"||e.removeAttribute("value"),t!=null?Ya(e,A,Me(t)):i!=null?Ya(e,A,Me(i)):r!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Me(y):e.removeAttribute("name")}function Xa(e,t,i,r,o,d,A,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;i=i!=null?""+Me(i):"",t=t!=null?""+Me(t):i,y||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=y?e.checked:!!r,e.defaultChecked=!!r,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(e.name=A)}function Ya(e,t,i){t==="number"&&nn(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ga(e,t,i,r){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Me(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zn(e,t,i){if(t!=null&&(t=""+Me(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Me(i):""}function Pl(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(l(92));if(z(r)){if(1<r.length)throw Error(l(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=Me(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r)}function rs(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Qy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mh(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||Qy.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Dh(e,t,i){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&i[o]!==r&&Mh(e,o,r)}else for(var d in t)t.hasOwnProperty(d)&&Mh(e,d,t[d])}function Kc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ly=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ql(e){return Ly.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Vc=null;function Zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,os=null;function Th(e){var t=Fa(e);if(t&&(e=t.stateNode)){var i=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(et(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var o=r[ht]||null;if(!o)throw Error(l(90));et(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&tn(r)}break e;case"textarea":zn(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ga(e,!!i.multiple,t,!1)}}}var Jc=!1;function kh(e,t,i){if(Jc)return e(t,i);Jc=!0;try{var r=e(t);return r}finally{if(Jc=!1,(ls!==null||os!==null)&&(wo(),ls&&(t=ls,e=os,os=ls=null,Th(t),e)))for(t=0;t<e.length;t++)Th(e[t])}}function rr(e,t){var i=e.stateNode;if(i===null)return null;var r=i[ht]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,t,typeof i));return i}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=!1;if(pa)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Wc=!1}var _a=null,$c=null,Gl=null;function Hh(){if(Gl)return Gl;var e,t=$c,i=t.length,r,o="value"in _a?_a.value:_a.textContent,d=o.length;for(e=0;e<i&&t[e]===o[e];e++);var A=i-e;for(r=1;r<=A&&t[i-r]===o[d-r];r++);return Gl=o.slice(e,1<r?1-r:void 0)}function Ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ul(){return!0}function Oh(){return!1}function qt(e){function t(i,r,o,d,A){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=d,this.target=A,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ul:Oh,this.isPropagationStopped=Oh,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),t}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=qt(Di),or=p({},Di,{view:0,detail:0}),Uy=qt(or),eu,tu,cr,zl=p({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&e.type==="mousemove"?(eu=e.screenX-cr.screenX,tu=e.screenY-cr.screenY):tu=eu=0,cr=e),eu)},movementY:function(e){return"movementY"in e?e.movementY:tu}}),Nh=qt(zl),jy=p({},zl,{dataTransfer:0}),zy=qt(jy),Iy=p({},or,{relatedTarget:0}),nu=qt(Iy),Fy=p({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),qy=qt(Fy),Xy=p({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yy=qt(Xy),_y=p({},Di,{data:0}),Ph=qt(_y),Ky={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zy[e])?!!t[e]:!1}function au(){return Jy}var Wy=p({},or,{key:function(e){if(e.key){var t=Ky[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?Ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$y=qt(Wy),e2=p({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qh=qt(e2),t2=p({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),n2=qt(t2),a2=p({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),i2=qt(a2),s2=p({},zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r2=qt(s2),l2=p({},Di,{newState:0,oldState:0}),o2=qt(l2),c2=[9,13,27,32],iu=pa&&"CompositionEvent"in window,ur=null;pa&&"documentMode"in document&&(ur=document.documentMode);var u2=pa&&"TextEvent"in window&&!ur,Gh=pa&&(!iu||ur&&8<ur&&11>=ur),Lh=" ",Uh=!1;function jh(e,t){switch(e){case"keyup":return c2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function d2(e,t){switch(e){case"compositionend":return zh(t);case"keypress":return t.which!==32?null:(Uh=!0,Lh);case"textInput":return e=t.data,e===Lh&&Uh?null:e;default:return null}}function f2(e,t){if(cs)return e==="compositionend"||!iu&&jh(e,t)?(e=Hh(),Gl=$c=_a=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gh&&t.locale!=="ko"?null:t.data;default:return null}}var h2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!h2[e.type]:t==="textarea"}function Fh(e,t,i,r){ls?os?os.push(r):os=[r]:ls=r,t=Mo(t,"onChange"),0<t.length&&(i=new jl("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var dr=null,fr=null;function m2(e){Sg(e,0)}function Il(e){var t=ha(e);if(tn(t))return e}function qh(e,t){if(e==="change")return t}var Xh=!1;if(pa){var su;if(pa){var ru="oninput"in document;if(!ru){var Yh=document.createElement("div");Yh.setAttribute("oninput","return;"),ru=typeof Yh.oninput=="function"}su=ru}else su=!1;Xh=su&&(!document.documentMode||9<document.documentMode)}function _h(){dr&&(dr.detachEvent("onpropertychange",Kh),fr=dr=null)}function Kh(e){if(e.propertyName==="value"&&Il(fr)){var t=[];Fh(t,fr,e,Zc(e)),kh(m2,t)}}function g2(e,t,i){e==="focusin"?(_h(),dr=t,fr=i,dr.attachEvent("onpropertychange",Kh)):e==="focusout"&&_h()}function p2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(fr)}function A2(e,t){if(e==="click")return Il(t)}function v2(e,t){if(e==="input"||e==="change")return Il(t)}function y2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:y2;function hr(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!Wt.call(t,o)||!an(e[o],t[o]))return!1}return!0}function Vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zh(e,t){var i=Vh(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Vh(i)}}function Jh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nn(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=nn(e.document)}return t}function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var b2=pa&&"documentMode"in document&&11>=document.documentMode,us=null,ou=null,mr=null,cu=!1;function $h(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;cu||us==null||us!==nn(r)||(r=us,"selectionStart"in r&&lu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mr&&hr(mr,r)||(mr=r,r=Mo(ou,"onSelect"),0<r.length&&(t=new jl("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=us)))}function Ti(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ds={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},uu={},em={};pa&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function ki(e){if(uu[e])return uu[e];if(!ds[e])return e;var t=ds[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in em)return uu[e]=t[i];return e}var tm=ki("animationend"),nm=ki("animationiteration"),am=ki("animationstart"),E2=ki("transitionrun"),w2=ki("transitionstart"),S2=ki("transitioncancel"),im=ki("transitionend"),sm=new Map,du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");du.push("scrollEnd");function Dn(e,t){sm.set(e,t),jn(t,[e])}var rm=new WeakMap;function hn(e,t){if(typeof e=="object"&&e!==null){var i=rm.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Fe(t)},rm.set(e,t),t)}return{value:e,source:t,stack:Fe(t)}}var mn=[],fs=0,fu=0;function Fl(){for(var e=fs,t=fu=fs=0;t<e;){var i=mn[t];mn[t++]=null;var r=mn[t];mn[t++]=null;var o=mn[t];mn[t++]=null;var d=mn[t];if(mn[t++]=null,r!==null&&o!==null){var A=r.pending;A===null?o.next=o:(o.next=A.next,A.next=o),r.pending=o}d!==0&&lm(i,o,d)}}function ql(e,t,i,r){mn[fs++]=e,mn[fs++]=t,mn[fs++]=i,mn[fs++]=r,fu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function hu(e,t,i,r){return ql(e,t,i,r),Xl(e)}function hs(e,t){return ql(e,null,null,t),Xl(e)}function lm(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var o=!1,d=e.return;d!==null;)d.childLanes|=i,r=d.alternate,r!==null&&(r.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-dt(i),e=d.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=i|536870912),d):null}function Xl(e){if(50<Ur)throw Ur=0,yd=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ms={};function x2(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,i,r){return new x2(e,t,i,r)}function mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Aa(e,t){var i=e.alternate;return i===null?(i=sn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function om(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Yl(e,t,i,r,o,d){var A=0;if(r=e,typeof e=="function")mu(e)&&(A=1);else if(typeof e=="string")A=Rb(e,i,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=sn(31,i,t,o),e.elementType=$,e.lanes=d,e;case C:return Hi(i.children,o,d,t);case k:A=8,o|=24;break;case B:return e=sn(12,i,t,o|2),e.elementType=B,e.lanes=d,e;case W:return e=sn(13,i,t,o),e.elementType=W,e.lanes=d,e;case re:return e=sn(19,i,t,o),e.elementType=re,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:case q:A=10;break e;case j:A=9;break e;case Z:A=11;break e;case F:A=14;break e;case ae:A=16,r=null;break e}A=29,i=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=sn(A,i,t,o),t.elementType=e,t.type=r,t.lanes=d,t}function Hi(e,t,i,r){return e=sn(7,e,r,t),e.lanes=i,e}function gu(e,t,i){return e=sn(6,e,null,t),e.lanes=i,e}function pu(e,t,i){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var gs=[],ps=0,_l=null,Kl=0,gn=[],pn=0,Oi=null,va=1,ya="";function Ni(e,t){gs[ps++]=Kl,gs[ps++]=_l,_l=e,Kl=t}function cm(e,t,i){gn[pn++]=va,gn[pn++]=ya,gn[pn++]=Oi,Oi=e;var r=va;e=ya;var o=32-dt(r)-1;r&=~(1<<o),i+=1;var d=32-dt(t)+o;if(30<d){var A=o-o%5;d=(r&(1<<A)-1).toString(32),r>>=A,o-=A,va=1<<32-dt(t)+o|i<<o|r,ya=d+e}else va=1<<d|i<<o|r,ya=e}function Au(e){e.return!==null&&(Ni(e,1),cm(e,1,0))}function vu(e){for(;e===_l;)_l=gs[--ps],gs[ps]=null,Kl=gs[--ps],gs[ps]=null;for(;e===Oi;)Oi=gn[--pn],gn[pn]=null,ya=gn[--pn],gn[pn]=null,va=gn[--pn],gn[pn]=null}var Qt=null,tt=null,Oe=!1,Pi=null,In=!1,yu=Error(l(519));function Qi(e){var t=Error(l(418,""));throw Ar(hn(t,e)),yu}function um(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[Je]=e,t[ht]=r,i){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(i=0;i<zr.length;i++)Be(zr[i],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),Xa(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),bt(t);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),Pl(t,r.value,r.defaultValue,r.children),bt(t)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Bg(t.textContent,i)?(r.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),r.onScroll!=null&&Be("scroll",t),r.onScrollEnd!=null&&Be("scrollend",t),r.onClick!=null&&(t.onclick=Do),t=!0):t=!1,t||Qi(e)}function dm(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Qt=Qt.return}}function gr(e){if(e!==Qt)return!1;if(!Oe)return dm(e),Oe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Pd(e.type,e.memoizedProps)),i=!i),i&&tt&&Qi(e),dm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){tt=kn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}tt=null}}else t===27?(t=tt,ci(e.type)?(e=Ud,Ud=null,tt=e):tt=t):tt=Qt?kn(e.stateNode.nextSibling):null;return!0}function pr(){tt=Qt=null,Oe=!1}function fm(){var e=Pi;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Pi=null),e}function Ar(e){Pi===null?Pi=[e]:Pi.push(e)}var bu=I(null),Gi=null,ba=null;function Ka(e,t,i){ee(bu,t._currentValue),t._currentValue=i}function Ea(e){e._currentValue=bu.current,te(bu)}function Eu(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function wu(e,t,i,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var A=o.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=o;for(var S=0;S<t.length;S++)if(y.context===t[S]){d.lanes|=i,y=d.alternate,y!==null&&(y.lanes|=i),Eu(d.return,i,e),r||(A=null);break e}d=y.next}}else if(o.tag===18){if(A=o.return,A===null)throw Error(l(341));A.lanes|=i,d=A.alternate,d!==null&&(d.lanes|=i),Eu(A,i,e),A=null}else A=o.child;if(A!==null)A.return=o;else for(A=o;A!==null;){if(A===e){A=null;break}if(o=A.sibling,o!==null){o.return=A.return,A=o;break}A=A.return}o=A}}function vr(e,t,i,r){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var A=o.alternate;if(A===null)throw Error(l(387));if(A=A.memoizedProps,A!==null){var y=o.type;an(o.pendingProps.value,A.value)||(e!==null?e.push(y):e=[y])}}else if(o===Ie.current){if(A=o.alternate,A===null)throw Error(l(387));A.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(_r):e=[_r])}o=o.return}e!==null&&wu(t,e,i,r),t.flags|=262144}function Vl(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Li(e){Gi=e,ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return hm(Gi,e)}function Zl(e,t){return Gi===null&&Li(e),hm(e,t)}function hm(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},ba===null){if(e===null)throw Error(l(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return i}var C2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},R2=n.unstable_scheduleCallback,B2=n.unstable_NormalPriority,gt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Su(){return{controller:new C2,data:new Map,refCount:0}}function yr(e){e.refCount--,e.refCount===0&&R2(B2,function(){e.controller.abort()})}var br=null,xu=0,As=0,vs=null;function M2(e,t){if(br===null){var i=br=[];xu=0,As=Rd(),vs={status:"pending",value:void 0,then:function(r){i.push(r)}}}return xu++,t.then(mm,mm),t}function mm(){if(--xu===0&&br!==null){vs!==null&&(vs.status="fulfilled");var e=br;br=null,As=0,vs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function D2(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var gm=R.S;R.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&M2(e,t),gm!==null&&gm(e,t)};var Ui=I(null);function Cu(){var e=Ui.current;return e!==null?e:Ye.pooledCache}function Jl(e,t){t===null?ee(Ui,Ui.current):ee(Ui,t.pool)}function pm(){var e=Cu();return e===null?null:{parent:gt._currentValue,pool:e}}var Er=Error(l(460)),Am=Error(l(474)),Wl=Error(l(542)),Ru={then:function(){}};function vm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $l(){}function ym(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then($l,$l),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Em(e),e;default:if(typeof t.status=="string")t.then($l,$l);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Em(e),e}throw wr=t,Er}}var wr=null;function bm(){if(wr===null)throw Error(l(459));var e=wr;return wr=null,e}function Em(e){if(e===Er||e===Wl)throw Error(l(483))}var Va=!1;function Bu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Pe&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Xl(e),lm(e,null,i),t}return ql(e,r,t,i),Xl(e)}function Sr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,oa(e,i)}}function Du(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var A={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?o=d=A:d=d.next=A,i=i.next}while(i!==null);d===null?o=d=t:d=d.next=t}else o=d=t;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Tu=!1;function xr(){if(Tu){var e=vs;if(e!==null)throw e}}function Cr(e,t,i,r){Tu=!1;var o=e.updateQueue;Va=!1;var d=o.firstBaseUpdate,A=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var S=y,O=S.next;S.next=null,A===null?d=O:A.next=O,A=S;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,y=Y.lastBaseUpdate,y!==A&&(y===null?Y.firstBaseUpdate=O:y.next=O,Y.lastBaseUpdate=S))}if(d!==null){var J=o.baseState;A=0,Y=O=S=null,y=d;do{var Q=y.lane&-536870913,G=Q!==y.lane;if(G?(ke&Q)===Q:(r&Q)===Q){Q!==0&&Q===As&&(Tu=!0),Y!==null&&(Y=Y.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ve=e,pe=y;Q=t;var je=i;switch(pe.tag){case 1:if(ve=pe.payload,typeof ve=="function"){J=ve.call(je,J,Q);break e}J=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=pe.payload,Q=typeof ve=="function"?ve.call(je,J,Q):ve,Q==null)break e;J=p({},J,Q);break e;case 2:Va=!0}}Q=y.callback,Q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=o.callbacks,G===null?o.callbacks=[Q]:G.push(Q))}else G={lane:Q,tag:y.tag,payload:y.payload,callback:y.callback,next:null},Y===null?(O=Y=G,S=J):Y=Y.next=G,A|=Q;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;G=y,y=G.next,G.next=null,o.lastBaseUpdate=G,o.shared.pending=null}}while(!0);Y===null&&(S=J),o.baseState=S,o.firstBaseUpdate=O,o.lastBaseUpdate=Y,d===null&&(o.shared.lanes=0),si|=A,e.lanes=A,e.memoizedState=J}}function wm(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Sm(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)wm(i[e],t)}var ys=I(null),eo=I(0);function xm(e,t){e=Ma,ee(eo,e),ee(ys,t),Ma=e|t.baseLanes}function ku(){ee(eo,Ma),ee(ys,ys.current)}function Hu(){Ma=eo.current,te(ys),te(eo)}var Wa=0,we=null,Le=null,ot=null,to=!1,bs=!1,ji=!1,no=0,Rr=0,Es=null,T2=0;function it(){throw Error(l(321))}function Ou(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!an(e[i],t[i]))return!1;return!0}function Nu(e,t,i,r,o,d){return Wa=d,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?l0:o0,ji=!1,d=i(r,o),ji=!1,bs&&(d=Rm(t,i,r,o)),Cm(e),d}function Cm(e){R.H=oo;var t=Le!==null&&Le.next!==null;if(Wa=0,ot=Le=we=null,to=!1,Rr=0,Es=null,t)throw Error(l(300));e===null||Et||(e=e.dependencies,e!==null&&Vl(e)&&(Et=!0))}function Rm(e,t,i,r){we=e;var o=0;do{if(bs&&(Es=null),Rr=0,bs=!1,25<=o)throw Error(l(301));if(o+=1,ot=Le=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}R.H=G2,d=t(i,r)}while(bs);return d}function k2(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Br(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(we.flags|=1024),t}function Pu(){var e=no!==0;return no=0,e}function Qu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Gu(e){if(to){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}to=!1}Wa=0,ot=Le=we=null,bs=!1,Rr=no=0,Es=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?we.memoizedState=ot=e:ot=ot.next=e,ot}function ct(){if(Le===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=ot===null?we.memoizedState:ot.next;if(t!==null)ot=t,Le=e;else{if(e===null)throw we.alternate===null?Error(l(467)):Error(l(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ot===null?we.memoizedState=ot=e:ot=ot.next=e}return ot}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Br(e){var t=Rr;return Rr+=1,Es===null&&(Es=[]),e=ym(Es,e,t),t=we,(ot===null?t.memoizedState:ot.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?l0:o0),e}function ao(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Br(e);if(e.$$typeof===q)return Tt(e)}throw Error(l(438,String(e)))}function Uu(e){var t=null,i=we.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=we.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Lu(),we.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=_;return t.index++,i}function wa(e,t){return typeof t=="function"?t(e):t}function io(e){var t=ct();return ju(t,Le,e)}function ju(e,t,i){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=i;var o=e.baseQueue,d=r.pending;if(d!==null){if(o!==null){var A=o.next;o.next=d.next,d.next=A}t.baseQueue=o=d,r.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var y=A=null,S=null,O=t,Y=!1;do{var J=O.lane&-536870913;if(J!==O.lane?(ke&J)===J:(Wa&J)===J){var Q=O.revertLane;if(Q===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),J===As&&(Y=!0);else if((Wa&Q)===Q){O=O.next,Q===As&&(Y=!0);continue}else J={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(y=S=J,A=d):S=S.next=J,we.lanes|=Q,si|=Q;J=O.action,ji&&i(d,J),d=O.hasEagerState?O.eagerState:i(d,J)}else Q={lane:J,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(y=S=Q,A=d):S=S.next=Q,we.lanes|=J,si|=J;O=O.next}while(O!==null&&O!==t);if(S===null?A=d:S.next=y,!an(d,e.memoizedState)&&(Et=!0,Y&&(i=vs,i!==null)))throw i;e.memoizedState=d,e.baseState=A,e.baseQueue=S,r.lastRenderedState=d}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function zu(e){var t=ct(),i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var r=i.dispatch,o=i.pending,d=t.memoizedState;if(o!==null){i.pending=null;var A=o=o.next;do d=e(d,A.action),A=A.next;while(A!==o);an(d,t.memoizedState)||(Et=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,r]}function Bm(e,t,i){var r=we,o=ct(),d=Oe;if(d){if(i===void 0)throw Error(l(407));i=i()}else i=t();var A=!an((Le||o).memoizedState,i);A&&(o.memoizedState=i,Et=!0),o=o.queue;var y=Tm.bind(null,r,o,e);if(Mr(2048,8,y,[e]),o.getSnapshot!==t||A||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,ws(9,so(),Dm.bind(null,r,o,i,t),null),Ye===null)throw Error(l(349));d||(Wa&124)!==0||Mm(r,t,i)}return i}function Mm(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=we.updateQueue,t===null?(t=Lu(),we.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Dm(e,t,i,r){t.value=i,t.getSnapshot=r,km(t)&&Hm(e)}function Tm(e,t,i){return i(function(){km(t)&&Hm(e)})}function km(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!an(e,i)}catch{return!0}}function Hm(e){var t=hs(e,2);t!==null&&un(t,e,2)}function Iu(e){var t=Xt();if(typeof e=="function"){var i=e;if(e=i(),ji){$t(!0);try{i()}finally{$t(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t}function Om(e,t,i,r){return e.baseState=i,ju(e,Le,typeof r=="function"?r:wa)}function H2(e,t,i,r,o){if(lo(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){d.listeners.push(A)}};R.T!==null?i(!0):d.isTransition=!1,r(d),i=t.pending,i===null?(d.next=t.pending=d,Nm(t,d)):(d.next=i.next,t.pending=i.next=d)}}function Nm(e,t){var i=t.action,r=t.payload,o=e.state;if(t.isTransition){var d=R.T,A={};R.T=A;try{var y=i(o,r),S=R.S;S!==null&&S(A,y),Pm(e,t,y)}catch(O){Fu(e,t,O)}finally{R.T=d}}else try{d=i(o,r),Pm(e,t,d)}catch(O){Fu(e,t,O)}}function Pm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Qm(e,t,r)},function(r){return Fu(e,t,r)}):Qm(e,t,i)}function Qm(e,t,i){t.status="fulfilled",t.value=i,Gm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Nm(e,i)))}function Fu(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,Gm(t),t=t.next;while(t!==r)}e.action=null}function Gm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lm(e,t){return t}function Um(e,t){if(Oe){var i=Ye.formState;if(i!==null){e:{var r=we;if(Oe){if(tt){t:{for(var o=tt,d=In;o.nodeType!==8;){if(!d){o=null;break t}if(o=kn(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){tt=kn(o.nextSibling),r=o.data==="F!";break e}}Qi(r)}r=!1}r&&(t=i[0])}}return i=Xt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lm,lastRenderedState:t},i.queue=r,i=i0.bind(null,we,r),r.dispatch=i,r=Iu(!1),d=Ku.bind(null,we,!1,r.queue),r=Xt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,i=H2.bind(null,we,o,d,i),o.dispatch=i,r.memoizedState=e,[t,i,!1]}function jm(e){var t=ct();return zm(t,Le,e)}function zm(e,t,i){if(t=ju(e,t,Lm)[0],e=io(wa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Br(t)}catch(A){throw A===Er?Wl:A}else r=t;t=ct();var o=t.queue,d=o.dispatch;return i!==t.memoizedState&&(we.flags|=2048,ws(9,so(),O2.bind(null,o,i),null)),[r,d,e]}function O2(e,t){e.action=t}function Im(e){var t=ct(),i=Le;if(i!==null)return zm(t,i,e);ct(),t=t.memoizedState,i=ct();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function ws(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=we.updateQueue,t===null&&(t=Lu(),we.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function so(){return{destroy:void 0,resource:void 0}}function Fm(){return ct().memoizedState}function ro(e,t,i,r){var o=Xt();r=r===void 0?null:r,we.flags|=e,o.memoizedState=ws(1|t,so(),i,r)}function Mr(e,t,i,r){var o=ct();r=r===void 0?null:r;var d=o.memoizedState.inst;Le!==null&&r!==null&&Ou(r,Le.memoizedState.deps)?o.memoizedState=ws(t,d,i,r):(we.flags|=e,o.memoizedState=ws(1|t,d,i,r))}function qm(e,t){ro(8390656,8,e,t)}function Xm(e,t){Mr(2048,8,e,t)}function Ym(e,t){return Mr(4,2,e,t)}function _m(e,t){return Mr(4,4,e,t)}function Km(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vm(e,t,i){i=i!=null?i.concat([e]):null,Mr(4,4,Km.bind(null,t,e),i)}function qu(){}function Zm(e,t){var i=ct();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&Ou(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function Jm(e,t){var i=ct();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&Ou(t,r[1]))return r[0];if(r=e(),ji){$t(!0);try{e()}finally{$t(!1)}}return i.memoizedState=[r,t],r}function Xu(e,t,i){return i===void 0||(Wa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=eg(),we.lanes|=e,si|=e,i)}function Wm(e,t,i,r){return an(i,t)?i:ys.current!==null?(e=Xu(e,i,r),an(e,t)||(Et=!0),e):(Wa&42)===0?(Et=!0,e.memoizedState=i):(e=eg(),we.lanes|=e,si|=e,t)}function $m(e,t,i,r,o){var d=U.p;U.p=d!==0&&8>d?d:8;var A=R.T,y={};R.T=y,Ku(e,!1,t,i);try{var S=o(),O=R.S;if(O!==null&&O(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Y=D2(S,r);Dr(e,t,Y,cn(e))}else Dr(e,t,r,cn(e))}catch(J){Dr(e,t,{then:function(){},status:"rejected",reason:J},cn())}finally{U.p=d,R.T=A}}function N2(){}function Yu(e,t,i,r){if(e.tag!==5)throw Error(l(476));var o=e0(e).queue;$m(e,o,t,se,i===null?N2:function(){return t0(e),i(r)})}function e0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:se},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function t0(e){var t=e0(e).next.queue;Dr(e,t,{},cn())}function _u(){return Tt(_r)}function n0(){return ct().memoizedState}function a0(){return ct().memoizedState}function P2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=cn();e=Za(i);var r=Ja(t,e,i);r!==null&&(un(r,t,i),Sr(r,t,i)),t={cache:Su()},e.payload=t;return}t=t.return}}function Q2(e,t,i){var r=cn();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},lo(e)?s0(t,i):(i=hu(e,t,i,r),i!==null&&(un(i,e,r),r0(i,t,r)))}function i0(e,t,i){var r=cn();Dr(e,t,i,r)}function Dr(e,t,i,r){var o={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(lo(e))s0(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var A=t.lastRenderedState,y=d(A,i);if(o.hasEagerState=!0,o.eagerState=y,an(y,A))return ql(e,t,o,0),Ye===null&&Fl(),!1}catch{}finally{}if(i=hu(e,t,o,r),i!==null)return un(i,e,r),r0(i,t,r),!0}return!1}function Ku(e,t,i,r){if(r={lane:2,revertLane:Rd(),action:r,hasEagerState:!1,eagerState:null,next:null},lo(e)){if(t)throw Error(l(479))}else t=hu(e,i,r,2),t!==null&&un(t,e,2)}function lo(e){var t=e.alternate;return e===we||t!==null&&t===we}function s0(e,t){bs=to=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function r0(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,oa(e,i)}}var oo={readContext:Tt,use:ao,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it},l0={readContext:Tt,use:ao,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:qm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,ro(4194308,4,Km.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){ro(4,2,e,t)},useMemo:function(e,t){var i=Xt();t=t===void 0?null:t;var r=e();if(ji){$t(!0);try{e()}finally{$t(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=Xt();if(i!==void 0){var o=i(t);if(ji){$t(!0);try{i(t)}finally{$t(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Q2.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Iu(e);var t=e.queue,i=i0.bind(null,we,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:qu,useDeferredValue:function(e,t){var i=Xt();return Xu(i,e,t)},useTransition:function(){var e=Iu(!1);return e=$m.bind(null,we,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=we,o=Xt();if(Oe){if(i===void 0)throw Error(l(407));i=i()}else{if(i=t(),Ye===null)throw Error(l(349));(ke&124)!==0||Mm(r,t,i)}o.memoizedState=i;var d={value:i,getSnapshot:t};return o.queue=d,qm(Tm.bind(null,r,d,e),[e]),r.flags|=2048,ws(9,so(),Dm.bind(null,r,d,i,t),null),i},useId:function(){var e=Xt(),t=Ye.identifierPrefix;if(Oe){var i=ya,r=va;i=(r&~(1<<32-dt(r)-1)).toString(32)+i,t=""+t+"R"+i,i=no++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=T2++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:_u,useFormState:Um,useActionState:Um,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ku.bind(null,we,!0,i),i.dispatch=t,[e,t]},useMemoCache:Uu,useCacheRefresh:function(){return Xt().memoizedState=P2.bind(null,we)}},o0={readContext:Tt,use:ao,useCallback:Zm,useContext:Tt,useEffect:Xm,useImperativeHandle:Vm,useInsertionEffect:Ym,useLayoutEffect:_m,useMemo:Jm,useReducer:io,useRef:Fm,useState:function(){return io(wa)},useDebugValue:qu,useDeferredValue:function(e,t){var i=ct();return Wm(i,Le.memoizedState,e,t)},useTransition:function(){var e=io(wa)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Br(e),t]},useSyncExternalStore:Bm,useId:n0,useHostTransitionStatus:_u,useFormState:jm,useActionState:jm,useOptimistic:function(e,t){var i=ct();return Om(i,Le,e,t)},useMemoCache:Uu,useCacheRefresh:a0},G2={readContext:Tt,use:ao,useCallback:Zm,useContext:Tt,useEffect:Xm,useImperativeHandle:Vm,useInsertionEffect:Ym,useLayoutEffect:_m,useMemo:Jm,useReducer:zu,useRef:Fm,useState:function(){return zu(wa)},useDebugValue:qu,useDeferredValue:function(e,t){var i=ct();return Le===null?Xu(i,e,t):Wm(i,Le.memoizedState,e,t)},useTransition:function(){var e=zu(wa)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Br(e),t]},useSyncExternalStore:Bm,useId:n0,useHostTransitionStatus:_u,useFormState:Im,useActionState:Im,useOptimistic:function(e,t){var i=ct();return Le!==null?Om(i,Le,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:a0},Ss=null,Tr=0;function co(e){var t=Tr;return Tr+=1,Ss===null&&(Ss=[]),ym(Ss,e,t)}function kr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function uo(e,t){throw t.$$typeof===v?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function c0(e){var t=e._init;return t(e._payload)}function u0(e){function t(D,x){if(e){var H=D.deletions;H===null?(D.deletions=[x],D.flags|=16):H.push(x)}}function i(D,x){if(!e)return null;for(;x!==null;)t(D,x),x=x.sibling;return null}function r(D){for(var x=new Map;D!==null;)D.key!==null?x.set(D.key,D):x.set(D.index,D),D=D.sibling;return x}function o(D,x){return D=Aa(D,x),D.index=0,D.sibling=null,D}function d(D,x,H){return D.index=H,e?(H=D.alternate,H!==null?(H=H.index,H<x?(D.flags|=67108866,x):H):(D.flags|=67108866,x)):(D.flags|=1048576,x)}function A(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function y(D,x,H,V){return x===null||x.tag!==6?(x=gu(H,D.mode,V),x.return=D,x):(x=o(x,H),x.return=D,x)}function S(D,x,H,V){var ue=H.type;return ue===C?Y(D,x,H.props.children,V,H.key):x!==null&&(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ae&&c0(ue)===x.type)?(x=o(x,H.props),kr(x,H),x.return=D,x):(x=Yl(H.type,H.key,H.props,null,D.mode,V),kr(x,H),x.return=D,x)}function O(D,x,H,V){return x===null||x.tag!==4||x.stateNode.containerInfo!==H.containerInfo||x.stateNode.implementation!==H.implementation?(x=pu(H,D.mode,V),x.return=D,x):(x=o(x,H.children||[]),x.return=D,x)}function Y(D,x,H,V,ue){return x===null||x.tag!==7?(x=Hi(H,D.mode,V,ue),x.return=D,x):(x=o(x,H),x.return=D,x)}function J(D,x,H){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=gu(""+x,D.mode,H),x.return=D,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return H=Yl(x.type,x.key,x.props,null,D.mode,H),kr(H,x),H.return=D,H;case E:return x=pu(x,D.mode,H),x.return=D,x;case ae:var V=x._init;return x=V(x._payload),J(D,x,H)}if(z(x)||P(x))return x=Hi(x,D.mode,H,null),x.return=D,x;if(typeof x.then=="function")return J(D,co(x),H);if(x.$$typeof===q)return J(D,Zl(D,x),H);uo(D,x)}return null}function Q(D,x,H,V){var ue=x!==null?x.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ue!==null?null:y(D,x,""+H,V);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===ue?S(D,x,H,V):null;case E:return H.key===ue?O(D,x,H,V):null;case ae:return ue=H._init,H=ue(H._payload),Q(D,x,H,V)}if(z(H)||P(H))return ue!==null?null:Y(D,x,H,V,null);if(typeof H.then=="function")return Q(D,x,co(H),V);if(H.$$typeof===q)return Q(D,x,Zl(D,H),V);uo(D,H)}return null}function G(D,x,H,V,ue){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return D=D.get(H)||null,y(x,D,""+V,ue);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return D=D.get(V.key===null?H:V.key)||null,S(x,D,V,ue);case E:return D=D.get(V.key===null?H:V.key)||null,O(x,D,V,ue);case ae:var xe=V._init;return V=xe(V._payload),G(D,x,H,V,ue)}if(z(V)||P(V))return D=D.get(H)||null,Y(x,D,V,ue,null);if(typeof V.then=="function")return G(D,x,H,co(V),ue);if(V.$$typeof===q)return G(D,x,H,Zl(x,V),ue);uo(x,V)}return null}function ve(D,x,H,V){for(var ue=null,xe=null,me=x,Ae=x=0,St=null;me!==null&&Ae<H.length;Ae++){me.index>Ae?(St=me,me=null):St=me.sibling;var He=Q(D,me,H[Ae],V);if(He===null){me===null&&(me=St);break}e&&me&&He.alternate===null&&t(D,me),x=d(He,x,Ae),xe===null?ue=He:xe.sibling=He,xe=He,me=St}if(Ae===H.length)return i(D,me),Oe&&Ni(D,Ae),ue;if(me===null){for(;Ae<H.length;Ae++)me=J(D,H[Ae],V),me!==null&&(x=d(me,x,Ae),xe===null?ue=me:xe.sibling=me,xe=me);return Oe&&Ni(D,Ae),ue}for(me=r(me);Ae<H.length;Ae++)St=G(me,D,Ae,H[Ae],V),St!==null&&(e&&St.alternate!==null&&me.delete(St.key===null?Ae:St.key),x=d(St,x,Ae),xe===null?ue=St:xe.sibling=St,xe=St);return e&&me.forEach(function(mi){return t(D,mi)}),Oe&&Ni(D,Ae),ue}function pe(D,x,H,V){if(H==null)throw Error(l(151));for(var ue=null,xe=null,me=x,Ae=x=0,St=null,He=H.next();me!==null&&!He.done;Ae++,He=H.next()){me.index>Ae?(St=me,me=null):St=me.sibling;var mi=Q(D,me,He.value,V);if(mi===null){me===null&&(me=St);break}e&&me&&mi.alternate===null&&t(D,me),x=d(mi,x,Ae),xe===null?ue=mi:xe.sibling=mi,xe=mi,me=St}if(He.done)return i(D,me),Oe&&Ni(D,Ae),ue;if(me===null){for(;!He.done;Ae++,He=H.next())He=J(D,He.value,V),He!==null&&(x=d(He,x,Ae),xe===null?ue=He:xe.sibling=He,xe=He);return Oe&&Ni(D,Ae),ue}for(me=r(me);!He.done;Ae++,He=H.next())He=G(me,D,Ae,He.value,V),He!==null&&(e&&He.alternate!==null&&me.delete(He.key===null?Ae:He.key),x=d(He,x,Ae),xe===null?ue=He:xe.sibling=He,xe=He);return e&&me.forEach(function(Lb){return t(D,Lb)}),Oe&&Ni(D,Ae),ue}function je(D,x,H,V){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var ue=H.key;x!==null;){if(x.key===ue){if(ue=H.type,ue===C){if(x.tag===7){i(D,x.sibling),V=o(x,H.props.children),V.return=D,D=V;break e}}else if(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ae&&c0(ue)===x.type){i(D,x.sibling),V=o(x,H.props),kr(V,H),V.return=D,D=V;break e}i(D,x);break}else t(D,x);x=x.sibling}H.type===C?(V=Hi(H.props.children,D.mode,V,H.key),V.return=D,D=V):(V=Yl(H.type,H.key,H.props,null,D.mode,V),kr(V,H),V.return=D,D=V)}return A(D);case E:e:{for(ue=H.key;x!==null;){if(x.key===ue)if(x.tag===4&&x.stateNode.containerInfo===H.containerInfo&&x.stateNode.implementation===H.implementation){i(D,x.sibling),V=o(x,H.children||[]),V.return=D,D=V;break e}else{i(D,x);break}else t(D,x);x=x.sibling}V=pu(H,D.mode,V),V.return=D,D=V}return A(D);case ae:return ue=H._init,H=ue(H._payload),je(D,x,H,V)}if(z(H))return ve(D,x,H,V);if(P(H)){if(ue=P(H),typeof ue!="function")throw Error(l(150));return H=ue.call(H),pe(D,x,H,V)}if(typeof H.then=="function")return je(D,x,co(H),V);if(H.$$typeof===q)return je(D,x,Zl(D,H),V);uo(D,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,x!==null&&x.tag===6?(i(D,x.sibling),V=o(x,H),V.return=D,D=V):(i(D,x),V=gu(H,D.mode,V),V.return=D,D=V),A(D)):i(D,x)}return function(D,x,H,V){try{Tr=0;var ue=je(D,x,H,V);return Ss=null,ue}catch(me){if(me===Er||me===Wl)throw me;var xe=sn(29,me,null,D.mode);return xe.lanes=V,xe.return=D,xe}finally{}}}var xs=u0(!0),d0=u0(!1),An=I(null),Fn=null;function $a(e){var t=e.alternate;ee(pt,pt.current&1),ee(An,e),Fn===null&&(t===null||ys.current!==null||t.memoizedState!==null)&&(Fn=e)}function f0(e){if(e.tag===22){if(ee(pt,pt.current),ee(An,e),Fn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Fn=e)}}else ei()}function ei(){ee(pt,pt.current),ee(An,An.current)}function Sa(e){te(An),Fn===e&&(Fn=null),te(pt)}var pt=I(0);function fo(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Ld(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Vu(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:p({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Zu={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=cn(),o=Za(r);o.payload=t,i!=null&&(o.callback=i),t=Ja(e,o,r),t!==null&&(un(t,e,r),Sr(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=cn(),o=Za(r);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Ja(e,o,r),t!==null&&(un(t,e,r),Sr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=cn(),r=Za(i);r.tag=2,t!=null&&(r.callback=t),t=Ja(e,r,i),t!==null&&(un(t,e,i),Sr(t,e,i))}};function h0(e,t,i,r,o,d,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,A):t.prototype&&t.prototype.isPureReactComponent?!hr(i,r)||!hr(o,d):!0}function m0(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&Zu.enqueueReplaceState(t,t.state,null)}function zi(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=p({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}var ho=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function g0(e){ho(e)}function p0(e){console.error(e)}function A0(e){ho(e)}function mo(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function v0(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ju(e,t,i){return i=Za(i),i.tag=3,i.payload={element:null},i.callback=function(){mo(e,t)},i}function y0(e){return e=Za(e),e.tag=3,e}function b0(e,t,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var d=r.value;e.payload=function(){return o(d)},e.callback=function(){v0(t,i,r)}}var A=i.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(e.callback=function(){v0(t,i,r),typeof o!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})})}function L2(e,t,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&vr(t,i,o,!0),i=An.current,i!==null){switch(i.tag){case 13:return Fn===null?Ed():i.alternate===null&&nt===0&&(nt=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===Ru?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),Sd(e,r,o)),!1;case 22:return i.flags|=65536,r===Ru?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),Sd(e,r,o)),!1}throw Error(l(435,i.tag))}return Sd(e,r,o),Ed(),!1}if(Oe)return t=An.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==yu&&(e=Error(l(422),{cause:r}),Ar(hn(e,i)))):(r!==yu&&(t=Error(l(423),{cause:r}),Ar(hn(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=hn(r,i),o=Ju(e.stateNode,r,o),Du(e,o),nt!==4&&(nt=2)),!1;var d=Error(l(520),{cause:r});if(d=hn(d,i),Lr===null?Lr=[d]:Lr.push(d),nt!==4&&(nt=2),t===null)return!0;r=hn(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Ju(i.stateNode,r,e),Du(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ri===null||!ri.has(d))))return i.flags|=65536,o&=-o,i.lanes|=o,o=y0(o),b0(o,e,i,r),Du(i,o),!1}i=i.return}while(i!==null);return!1}var E0=Error(l(461)),Et=!1;function Rt(e,t,i,r){t.child=e===null?d0(t,null,i,r):xs(t,e.child,i,r)}function w0(e,t,i,r,o){i=i.render;var d=t.ref;if("ref"in r){var A={};for(var y in r)y!=="ref"&&(A[y]=r[y])}else A=r;return Li(t),r=Nu(e,t,i,A,d,o),y=Pu(),e!==null&&!Et?(Qu(e,t,o),xa(e,t,o)):(Oe&&y&&Au(t),t.flags|=1,Rt(e,t,r,o),t.child)}function S0(e,t,i,r,o){if(e===null){var d=i.type;return typeof d=="function"&&!mu(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,x0(e,t,d,r,o)):(e=Yl(i.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!sd(e,o)){var A=d.memoizedProps;if(i=i.compare,i=i!==null?i:hr,i(A,r)&&e.ref===t.ref)return xa(e,t,o)}return t.flags|=1,e=Aa(d,r),e.ref=t.ref,e.return=t,t.child=e}function x0(e,t,i,r,o){if(e!==null){var d=e.memoizedProps;if(hr(d,r)&&e.ref===t.ref)if(Et=!1,t.pendingProps=r=d,sd(e,o))(e.flags&131072)!==0&&(Et=!0);else return t.lanes=e.lanes,xa(e,t,o)}return Wu(e,t,i,r,o)}function C0(e,t,i){var r=t.pendingProps,o=r.children,d=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=d!==null?d.baseLanes|i:i,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~r}else t.childLanes=0,t.child=null;return R0(e,t,r,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jl(t,d!==null?d.cachePool:null),d!==null?xm(t,d):ku(),f0(t);else return t.lanes=t.childLanes=536870912,R0(e,t,d!==null?d.baseLanes|i:i,i)}else d!==null?(Jl(t,d.cachePool),xm(t,d),ei(),t.memoizedState=null):(e!==null&&Jl(t,null),ku(),ei());return Rt(e,t,o,i),t.child}function R0(e,t,i,r){var o=Cu();return o=o===null?null:{parent:gt._currentValue,pool:o},t.memoizedState={baseLanes:i,cachePool:o},e!==null&&Jl(t,null),ku(),f0(t),e!==null&&vr(e,t,r,!0),null}function go(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Wu(e,t,i,r,o){return Li(t),i=Nu(e,t,i,r,void 0,o),r=Pu(),e!==null&&!Et?(Qu(e,t,o),xa(e,t,o)):(Oe&&r&&Au(t),t.flags|=1,Rt(e,t,i,o),t.child)}function B0(e,t,i,r,o,d){return Li(t),t.updateQueue=null,i=Rm(t,r,i,o),Cm(e),r=Pu(),e!==null&&!Et?(Qu(e,t,d),xa(e,t,d)):(Oe&&r&&Au(t),t.flags|=1,Rt(e,t,i,d),t.child)}function M0(e,t,i,r,o){if(Li(t),t.stateNode===null){var d=ms,A=i.contextType;typeof A=="object"&&A!==null&&(d=Tt(A)),d=new i(r,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=r,d.state=t.memoizedState,d.refs={},Bu(t),A=i.contextType,d.context=typeof A=="object"&&A!==null?Tt(A):ms,d.state=t.memoizedState,A=i.getDerivedStateFromProps,typeof A=="function"&&(Vu(t,i,A,r),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(A=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),A!==d.state&&Zu.enqueueReplaceState(d,d.state,null),Cr(t,r,d,o),xr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){d=t.stateNode;var y=t.memoizedProps,S=zi(i,y);d.props=S;var O=d.context,Y=i.contextType;A=ms,typeof Y=="object"&&Y!==null&&(A=Tt(Y));var J=i.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||O!==A)&&m0(t,d,r,A),Va=!1;var Q=t.memoizedState;d.state=Q,Cr(t,r,d,o),xr(),O=t.memoizedState,y||Q!==O||Va?(typeof J=="function"&&(Vu(t,i,J,r),O=t.memoizedState),(S=Va||h0(t,i,S,r,Q,O,A))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=O),d.props=r,d.state=O,d.context=A,r=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Mu(e,t),A=t.memoizedProps,Y=zi(i,A),d.props=Y,J=t.pendingProps,Q=d.context,O=i.contextType,S=ms,typeof O=="object"&&O!==null&&(S=Tt(O)),y=i.getDerivedStateFromProps,(O=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A!==J||Q!==S)&&m0(t,d,r,S),Va=!1,Q=t.memoizedState,d.state=Q,Cr(t,r,d,o),xr();var G=t.memoizedState;A!==J||Q!==G||Va||e!==null&&e.dependencies!==null&&Vl(e.dependencies)?(typeof y=="function"&&(Vu(t,i,y,r),G=t.memoizedState),(Y=Va||h0(t,i,Y,r,Q,G,S)||e!==null&&e.dependencies!==null&&Vl(e.dependencies))?(O||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,G,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,G,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||A===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=G),d.props=r,d.state=G,d.context=S,r=Y):(typeof d.componentDidUpdate!="function"||A===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),r=!1)}return d=r,go(e,t),r=(t.flags&128)!==0,d||r?(d=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&r?(t.child=xs(t,e.child,null,o),t.child=xs(t,null,i,o)):Rt(e,t,i,o),t.memoizedState=d.state,e=t.child):e=xa(e,t,o),e}function D0(e,t,i,r){return pr(),t.flags|=256,Rt(e,t,i,r),t.child}var $u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(e){return{baseLanes:e,cachePool:pm()}}function td(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=vn),e}function T0(e,t,i){var r=t.pendingProps,o=!1,d=(t.flags&128)!==0,A;if((A=d)||(A=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),A&&(o=!0,t.flags&=-129),A=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(o?$a(t):ei(),Oe){var y=tt,S;if(S=y){e:{for(S=y,y=In;S.nodeType!==8;){if(!y){y=null;break e}if(S=kn(S.nextSibling),S===null){y=null;break e}}y=S}y!==null?(t.memoizedState={dehydrated:y,treeContext:Oi!==null?{id:va,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},S=sn(18,null,null,0),S.stateNode=y,S.return=t,t.child=S,Qt=t,tt=null,S=!0):S=!1}S||Qi(t)}if(y=t.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return Ld(y)?t.lanes=32:t.lanes=536870912,null;Sa(t)}return y=r.children,r=r.fallback,o?(ei(),o=t.mode,y=po({mode:"hidden",children:y},o),r=Hi(r,o,i,null),y.return=t,r.return=t,y.sibling=r,t.child=y,o=t.child,o.memoizedState=ed(i),o.childLanes=td(e,A,i),t.memoizedState=$u,r):($a(t),nd(t,y))}if(S=e.memoizedState,S!==null&&(y=S.dehydrated,y!==null)){if(d)t.flags&256?($a(t),t.flags&=-257,t=ad(e,t,i)):t.memoizedState!==null?(ei(),t.child=e.child,t.flags|=128,t=null):(ei(),o=r.fallback,y=t.mode,r=po({mode:"visible",children:r.children},y),o=Hi(o,y,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,xs(t,e.child,null,i),r=t.child,r.memoizedState=ed(i),r.childLanes=td(e,A,i),t.memoizedState=$u,t=o);else if($a(t),Ld(y)){if(A=y.nextSibling&&y.nextSibling.dataset,A)var O=A.dgst;A=O,r=Error(l(419)),r.stack="",r.digest=A,Ar({value:r,source:null,stack:null}),t=ad(e,t,i)}else if(Et||vr(e,t,i,!1),A=(i&e.childLanes)!==0,Et||A){if(A=Ye,A!==null&&(r=i&-i,r=(r&42)!==0?1:ca(r),r=(r&(A.suspendedLanes|i))!==0?0:r,r!==0&&r!==S.retryLane))throw S.retryLane=r,hs(e,r),un(A,e,r),E0;y.data==="$?"||Ed(),t=ad(e,t,i)}else y.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,tt=kn(y.nextSibling),Qt=t,Oe=!0,Pi=null,In=!1,e!==null&&(gn[pn++]=va,gn[pn++]=ya,gn[pn++]=Oi,va=e.id,ya=e.overflow,Oi=t),t=nd(t,r.children),t.flags|=4096);return t}return o?(ei(),o=r.fallback,y=t.mode,S=e.child,O=S.sibling,r=Aa(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,O!==null?o=Aa(O,o):(o=Hi(o,y,i,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,y=e.child.memoizedState,y===null?y=ed(i):(S=y.cachePool,S!==null?(O=gt._currentValue,S=S.parent!==O?{parent:O,pool:O}:S):S=pm(),y={baseLanes:y.baseLanes|i,cachePool:S}),o.memoizedState=y,o.childLanes=td(e,A,i),t.memoizedState=$u,r):($a(t),i=e.child,e=i.sibling,i=Aa(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(A=t.deletions,A===null?(t.deletions=[e],t.flags|=16):A.push(e)),t.child=i,t.memoizedState=null,i)}function nd(e,t){return t=po({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function po(e,t){return e=sn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ad(e,t,i){return xs(t,e.child,null,i),e=nd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k0(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Eu(e.return,t,i)}function id(e,t,i,r,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=i,d.tailMode=o)}function H0(e,t,i){var r=t.pendingProps,o=r.revealOrder,d=r.tail;if(Rt(e,t,r.children,i),r=pt.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k0(e,i,t);else if(e.tag===19)k0(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(ee(pt,r),o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&fo(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),id(t,!1,o,i,d);break;case"backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&fo(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}id(t,!0,i,null,d);break;case"together":id(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xa(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),si|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(vr(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,i=Aa(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Aa(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function sd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Vl(e)))}function U2(e,t,i){switch(t.tag){case 3:Ce(t,t.stateNode.containerInfo),Ka(t,gt,e.memoizedState.cache),pr();break;case 27:case 5:Jt(t);break;case 4:Ce(t,t.stateNode.containerInfo);break;case 10:Ka(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?($a(t),t.flags|=128,null):(i&t.child.childLanes)!==0?T0(e,t,i):($a(t),e=xa(e,t,i),e!==null?e.sibling:null);$a(t);break;case 19:var o=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(vr(e,t,i,!1),r=(i&t.childLanes)!==0),o){if(r)return H0(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ee(pt,pt.current),r)break;return null;case 22:case 23:return t.lanes=0,C0(e,t,i);case 24:Ka(t,gt,e.memoizedState.cache)}return xa(e,t,i)}function O0(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Et=!0;else{if(!sd(e,i)&&(t.flags&128)===0)return Et=!1,U2(e,t,i);Et=(e.flags&131072)!==0}else Et=!1,Oe&&(t.flags&1048576)!==0&&cm(t,Kl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,typeof r=="function")mu(r)?(e=zi(r,e),t.tag=1,t=M0(null,t,r,e,i)):(t.tag=0,t=Wu(null,t,r,e,i));else{if(r!=null){if(o=r.$$typeof,o===Z){t.tag=11,t=w0(null,t,r,e,i);break e}else if(o===F){t.tag=14,t=S0(null,t,r,e,i);break e}}throw t=K(r)||r,Error(l(306,t,""))}}return t;case 0:return Wu(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,o=zi(r,t.pendingProps),M0(e,t,r,o,i);case 3:e:{if(Ce(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var d=t.memoizedState;o=d.element,Mu(e,t),Cr(t,r,null,i);var A=t.memoizedState;if(r=A.cache,Ka(t,gt,r),r!==d.cache&&wu(t,[gt],i,!0),xr(),r=A.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:A.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=D0(e,t,r,i);break e}else if(r!==o){o=hn(Error(l(424)),t),Ar(o),t=D0(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=kn(e.firstChild),Qt=t,Oe=!0,Pi=null,In=!0,i=d0(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(pr(),r===o){t=xa(e,t,i);break e}Rt(e,t,r,i)}t=t.child}return t;case 26:return go(e,t),e===null?(i=Gg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Oe||(i=t.type,e=t.pendingProps,r=To(he.current).createElement(i),r[Je]=t,r[ht]=e,Mt(r,i,e),We(r),t.stateNode=r):t.memoizedState=Gg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Jt(t),e===null&&Oe&&(r=t.stateNode=Ng(t.type,t.pendingProps,he.current),Qt=t,In=!0,o=tt,ci(t.type)?(Ud=o,tt=kn(r.firstChild)):tt=o),Rt(e,t,t.pendingProps.children,i),go(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((o=r=tt)&&(r=hb(r,t.type,t.pendingProps,In),r!==null?(t.stateNode=r,Qt=t,tt=kn(r.firstChild),In=!1,o=!0):o=!1),o||Qi(t)),Jt(t),o=t.type,d=t.pendingProps,A=e!==null?e.memoizedProps:null,r=d.children,Pd(o,d)?r=null:A!==null&&Pd(o,A)&&(t.flags|=32),t.memoizedState!==null&&(o=Nu(e,t,k2,null,null,i),_r._currentValue=o),go(e,t),Rt(e,t,r,i),t.child;case 6:return e===null&&Oe&&((e=i=tt)&&(i=mb(i,t.pendingProps,In),i!==null?(t.stateNode=i,Qt=t,tt=null,e=!0):e=!1),e||Qi(t)),null;case 13:return T0(e,t,i);case 4:return Ce(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xs(t,null,r,i):Rt(e,t,r,i),t.child;case 11:return w0(e,t,t.type,t.pendingProps,i);case 7:return Rt(e,t,t.pendingProps,i),t.child;case 8:return Rt(e,t,t.pendingProps.children,i),t.child;case 12:return Rt(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,Ka(t,t.type,r.value),Rt(e,t,r.children,i),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Li(t),o=Tt(o),r=r(o),t.flags|=1,Rt(e,t,r,i),t.child;case 14:return S0(e,t,t.type,t.pendingProps,i);case 15:return x0(e,t,t.type,t.pendingProps,i);case 19:return H0(e,t,i);case 31:return r=t.pendingProps,i=t.mode,r={mode:r.mode,children:r.children},e===null?(i=po(r,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=Aa(e.child,r),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return C0(e,t,i);case 24:return Li(t),r=Tt(gt),e===null?(o=Cu(),o===null&&(o=Ye,d=Su(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=i),o=d),t.memoizedState={parent:r,cache:o},Bu(t),Ka(t,gt,o)):((e.lanes&i)!==0&&(Mu(e,t),Cr(t,null,null,i),xr()),o=e.memoizedState,d=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ka(t,gt,r)):(r=d.cache,Ka(t,gt,r),r!==o.cache&&wu(t,[gt],i,!0))),Rt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ca(e){e.flags|=4}function N0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ig(t)){if(t=An.current,t!==null&&((ke&4194048)===ke?Fn!==null:(ke&62914560)!==ke&&(ke&536870912)===0||t!==Fn))throw wr=Ru,Am;e.flags|=8192}}function Ao(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?yt():536870912,e.lanes|=t,Ms|=t)}function Hr(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function j2(e,t,i){var r=t.pendingProps;switch(vu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ea(gt),xt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(gr(t)?Ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fm())),Ve(t),null;case 26:return i=t.memoizedState,e===null?(Ca(t),i!==null?(Ve(t),N0(t,i)):(Ve(t),t.flags&=-16777217)):i?i!==e.memoizedState?(Ca(t),Ve(t),N0(t,i)):(Ve(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ca(t),Ve(t),t.flags&=-16777217),null;case 27:wn(t),i=he.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ca(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}e=oe.current,gr(t)?um(t):(e=Ng(o,r,i),t.stateNode=e,Ca(t))}return Ve(t),null;case 5:if(wn(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ca(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}if(e=oe.current,gr(t))um(t);else{switch(o=To(he.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}e[Je]=t,e[ht]=r;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Mt(e,i,r),i){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ca(t)}}return Ve(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ca(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=he.current,gr(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,o=Qt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Je]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Bg(e.nodeValue,i)),e||Qi(t)}else e=To(e).createTextNode(r),e[Je]=t,t.stateNode=e}return Ve(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=gr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[Je]=t}else pr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else o=fm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Sa(t),t):(Sa(t),null)}if(Sa(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=r!==null,e=e!==null&&e.memoizedState!==null,i){r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool);var d=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==o&&(r.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Ao(t,t.updateQueue),Ve(t),null;case 4:return xt(),e===null&&Td(t.stateNode.containerInfo),Ve(t),null;case 10:return Ea(t.type),Ve(t),null;case 19:if(te(pt),o=t.memoizedState,o===null)return Ve(t),null;if(r=(t.flags&128)!==0,d=o.rendering,d===null)if(r)Hr(o,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=fo(e),d!==null){for(t.flags|=128,Hr(o,!1),e=d.updateQueue,t.updateQueue=e,Ao(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)om(i,e),i=i.sibling;return ee(pt,pt.current&1|2),t.child}e=e.sibling}o.tail!==null&&lt()>bo&&(t.flags|=128,r=!0,Hr(o,!1),t.lanes=4194304)}else{if(!r)if(e=fo(d),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Ao(t,e),Hr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Oe)return Ve(t),null}else 2*lt()-o.renderingStartTime>bo&&i!==536870912&&(t.flags|=128,r=!0,Hr(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=lt(),t.sibling=null,e=pt.current,ee(pt,r?e&1|2:e&1),t):(Ve(t),null);case 22:case 23:return Sa(t),Hu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),i=t.updateQueue,i!==null&&Ao(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&te(Ui),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ea(gt),Ve(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function z2(e,t){switch(vu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ea(gt),xt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wn(t),null;case 13:if(Sa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(pt),null;case 4:return xt(),null;case 10:return Ea(t.type),null;case 22:case 23:return Sa(t),Hu(),e!==null&&te(Ui),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ea(gt),null;case 25:return null;default:return null}}function P0(e,t){switch(vu(t),t.tag){case 3:Ea(gt),xt();break;case 26:case 27:case 5:wn(t);break;case 4:xt();break;case 13:Sa(t);break;case 19:te(pt);break;case 10:Ea(t.type);break;case 22:case 23:Sa(t),Hu(),e!==null&&te(Ui);break;case 24:Ea(gt)}}function Or(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){r=void 0;var d=i.create,A=i.inst;r=d(),A.destroy=r}i=i.next}while(i!==o)}}catch(y){qe(t,t.return,y)}}function ti(e,t,i){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&e)===e){var A=r.inst,y=A.destroy;if(y!==void 0){A.destroy=void 0,o=t;var S=i,O=y;try{O()}catch(Y){qe(o,S,Y)}}}r=r.next}while(r!==d)}}catch(Y){qe(t,t.return,Y)}}function Q0(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Sm(t,i)}catch(r){qe(e,e.return,r)}}}function G0(e,t,i){i.props=zi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){qe(e,t,r)}}function Nr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(o){qe(e,t,o)}}function qn(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){qe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){qe(e,t,o)}else i.current=null}function L0(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){qe(e,e.return,o)}}function rd(e,t,i){try{var r=e.stateNode;ob(r,e.type,i,t),r[ht]=t}catch(o){qe(e,e.return,o)}}function U0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ci(e.type)||e.tag===4}function ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ci(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function od(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Do));else if(r!==4&&(r===27&&ci(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(od(e,t,i),e=e.sibling;e!==null;)od(e,t,i),e=e.sibling}function vo(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&ci(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(vo(e,t,i),e=e.sibling;e!==null;)vo(e,t,i),e=e.sibling}function j0(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Mt(t,r,i),t[Je]=e,t[ht]=i}catch(d){qe(e,e.return,d)}}var Ra=!1,st=!1,cd=!1,z0=typeof WeakSet=="function"?WeakSet:Set,wt=null;function I2(e,t){if(e=e.containerInfo,Od=Qo,e=Wh(e),lu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var A=0,y=-1,S=-1,O=0,Y=0,J=e,Q=null;t:for(;;){for(var G;J!==i||o!==0&&J.nodeType!==3||(y=A+o),J!==d||r!==0&&J.nodeType!==3||(S=A+r),J.nodeType===3&&(A+=J.nodeValue.length),(G=J.firstChild)!==null;)Q=J,J=G;for(;;){if(J===e)break t;if(Q===i&&++O===o&&(y=A),Q===d&&++Y===r&&(S=A),(G=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=G}i=y===-1||S===-1?null:{start:y,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(Nd={focusedElem:e,selectionRange:i},Qo=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){switch(t=wt,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,o=d.memoizedProps,d=d.memoizedState,r=i.stateNode;try{var ve=zi(i.type,o,i.elementType===i.type);e=r.getSnapshotBeforeUpdate(ve,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(pe){qe(i,i.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Gd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}}function I0(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i),r&4&&Or(5,i);break;case 1:if(ni(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(A){qe(i,i.return,A)}else{var o=zi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(A){qe(i,i.return,A)}}r&64&&Q0(i),r&512&&Nr(i,i.return);break;case 3:if(ni(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Sm(e,t)}catch(A){qe(i,i.return,A)}}break;case 27:t===null&&r&4&&j0(i);case 26:case 5:ni(e,i),t===null&&r&4&&L0(i),r&512&&Nr(i,i.return);break;case 12:ni(e,i);break;case 13:ni(e,i),r&4&&X0(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=J2.bind(null,i),gb(e,i))));break;case 22:if(r=i.memoizedState!==null||Ra,!r){t=t!==null&&t.memoizedState!==null||st,o=Ra;var d=st;Ra=r,(st=t)&&!d?ai(e,i,(i.subtreeFlags&8772)!==0):ni(e,i),Ra=o,st=d}break;case 30:break;default:ni(e,i)}}function F0(e){var t=e.alternate;t!==null&&(e.alternate=null,F0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&is(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Yt=!1;function Ba(e,t,i){for(i=i.child;i!==null;)q0(e,t,i),i=i.sibling}function q0(e,t,i){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Ne,i)}catch{}switch(i.tag){case 26:st||qn(i,t),Ba(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:st||qn(i,t);var r=Ke,o=Yt;ci(i.type)&&(Ke=i.stateNode,Yt=!1),Ba(e,t,i),Fr(i.stateNode),Ke=r,Yt=o;break;case 5:st||qn(i,t);case 6:if(r=Ke,o=Yt,Ke=null,Ba(e,t,i),Ke=r,Yt=o,Ke!==null)if(Yt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(i.stateNode)}catch(d){qe(i,t,d)}else try{Ke.removeChild(i.stateNode)}catch(d){qe(i,t,d)}break;case 18:Ke!==null&&(Yt?(e=Ke,Hg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Jr(e)):Hg(Ke,i.stateNode));break;case 4:r=Ke,o=Yt,Ke=i.stateNode.containerInfo,Yt=!0,Ba(e,t,i),Ke=r,Yt=o;break;case 0:case 11:case 14:case 15:st||ti(2,i,t),st||ti(4,i,t),Ba(e,t,i);break;case 1:st||(qn(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&G0(i,t,r)),Ba(e,t,i);break;case 21:Ba(e,t,i);break;case 22:st=(r=st)||i.memoizedState!==null,Ba(e,t,i),st=r;break;default:Ba(e,t,i)}}function X0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jr(e)}catch(i){qe(t,t.return,i)}}function F2(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new z0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new z0),t;default:throw Error(l(435,e.tag))}}function ud(e,t){var i=F2(e);t.forEach(function(r){var o=W2.bind(null,e,r);i.has(r)||(i.add(r),r.then(o,o))})}function rn(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],d=e,A=t,y=A;e:for(;y!==null;){switch(y.tag){case 27:if(ci(y.type)){Ke=y.stateNode,Yt=!1;break e}break;case 5:Ke=y.stateNode,Yt=!1;break e;case 3:case 4:Ke=y.stateNode.containerInfo,Yt=!0;break e}y=y.return}if(Ke===null)throw Error(l(160));q0(d,A,o),Ke=null,Yt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Y0(t,e),t=t.sibling}var Tn=null;function Y0(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(t,e),ln(e),r&4&&(ti(3,e,e.return),Or(3,e),ti(5,e,e.return));break;case 1:rn(t,e),ln(e),r&512&&(st||i===null||qn(i,i.return)),r&64&&Ra&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=Tn;if(rn(t,e),ln(e),r&512&&(st||i===null||qn(i,i.return)),r&4){var d=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Ci]||d[Je]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(r),o.head.insertBefore(d,o.querySelector("head > title"))),Mt(d,r,i),d[Je]=e,We(d),r=d;break e;case"link":var A=jg("link","href",o).get(r+(i.href||""));if(A){for(var y=0;y<A.length;y++)if(d=A[y],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){A.splice(y,1);break t}}d=o.createElement(r),Mt(d,r,i),o.head.appendChild(d);break;case"meta":if(A=jg("meta","content",o).get(r+(i.content||""))){for(y=0;y<A.length;y++)if(d=A[y],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){A.splice(y,1);break t}}d=o.createElement(r),Mt(d,r,i),o.head.appendChild(d);break;default:throw Error(l(468,r))}d[Je]=e,We(d),r=d}e.stateNode=r}else zg(o,e.type,e.stateNode);else e.stateNode=Ug(o,r,e.memoizedProps);else d!==r?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,r===null?zg(o,e.type,e.stateNode):Ug(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&rd(e,e.memoizedProps,i.memoizedProps)}break;case 27:rn(t,e),ln(e),r&512&&(st||i===null||qn(i,i.return)),i!==null&&r&4&&rd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(rn(t,e),ln(e),r&512&&(st||i===null||qn(i,i.return)),e.flags&32){o=e.stateNode;try{rs(o,"")}catch(G){qe(e,e.return,G)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,rd(e,o,i!==null?i.memoizedProps:o)),r&1024&&(cd=!0);break;case 6:if(rn(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(G){qe(e,e.return,G)}}break;case 3:if(Oo=null,o=Tn,Tn=ko(t.containerInfo),rn(t,e),Tn=o,ln(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Jr(t.containerInfo)}catch(G){qe(e,e.return,G)}cd&&(cd=!1,_0(e));break;case 4:r=Tn,Tn=ko(e.stateNode.containerInfo),rn(t,e),ln(e),Tn=r;break;case 12:rn(t,e),ln(e);break;case 13:rn(t,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(pd=lt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ud(e,r)));break;case 22:o=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,O=Ra,Y=st;if(Ra=O||o,st=Y||S,rn(t,e),st=Y,Ra=O,ln(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||S||Ra||st||Ii(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(d=S.stateNode,o)A=d.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{y=S.stateNode;var J=S.memoizedProps.style,Q=J!=null&&J.hasOwnProperty("display")?J.display:null;y.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(G){qe(S,S.return,G)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(G){qe(S,S.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,ud(e,i))));break;case 19:rn(t,e),ln(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ud(e,r)));break;case 30:break;case 21:break;default:rn(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(U0(r)){i=r;break}r=r.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var o=i.stateNode,d=ld(e);vo(e,d,o);break;case 5:var A=i.stateNode;i.flags&32&&(rs(A,""),i.flags&=-33);var y=ld(e);vo(e,y,A);break;case 3:case 4:var S=i.stateNode.containerInfo,O=ld(e);od(e,O,S);break;default:throw Error(l(161))}}catch(Y){qe(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ni(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)I0(e,t.alternate,t),t=t.sibling}function Ii(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ti(4,t,t.return),Ii(t);break;case 1:qn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&G0(t,t.return,i),Ii(t);break;case 27:Fr(t.stateNode);case 26:case 5:qn(t,t.return),Ii(t);break;case 22:t.memoizedState===null&&Ii(t);break;case 30:Ii(t);break;default:Ii(t)}e=e.sibling}}function ai(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,d=t,A=d.flags;switch(d.tag){case 0:case 11:case 15:ai(o,d,i),Or(4,d);break;case 1:if(ai(o,d,i),r=d,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(O){qe(r,r.return,O)}if(r=d,o=r.updateQueue,o!==null){var y=r.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)wm(S[o],y)}catch(O){qe(r,r.return,O)}}i&&A&64&&Q0(d),Nr(d,d.return);break;case 27:j0(d);case 26:case 5:ai(o,d,i),i&&r===null&&A&4&&L0(d),Nr(d,d.return);break;case 12:ai(o,d,i);break;case 13:ai(o,d,i),i&&A&4&&X0(o,d);break;case 22:d.memoizedState===null&&ai(o,d,i),Nr(d,d.return);break;case 30:break;default:ai(o,d,i)}t=t.sibling}}function dd(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&yr(i))}function fd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yr(e))}function Xn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)K0(e,t,i,r),t=t.sibling}function K0(e,t,i,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Xn(e,t,i,r),o&2048&&Or(9,t);break;case 1:Xn(e,t,i,r);break;case 3:Xn(e,t,i,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yr(e)));break;case 12:if(o&2048){Xn(e,t,i,r),e=t.stateNode;try{var d=t.memoizedProps,A=d.id,y=d.onPostCommit;typeof y=="function"&&y(A,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){qe(t,t.return,S)}}else Xn(e,t,i,r);break;case 13:Xn(e,t,i,r);break;case 23:break;case 22:d=t.stateNode,A=t.alternate,t.memoizedState!==null?d._visibility&2?Xn(e,t,i,r):Pr(e,t):d._visibility&2?Xn(e,t,i,r):(d._visibility|=2,Cs(e,t,i,r,(t.subtreeFlags&10256)!==0)),o&2048&&dd(A,t);break;case 24:Xn(e,t,i,r),o&2048&&fd(t.alternate,t);break;default:Xn(e,t,i,r)}}function Cs(e,t,i,r,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,A=t,y=i,S=r,O=A.flags;switch(A.tag){case 0:case 11:case 15:Cs(d,A,y,S,o),Or(8,A);break;case 23:break;case 22:var Y=A.stateNode;A.memoizedState!==null?Y._visibility&2?Cs(d,A,y,S,o):Pr(d,A):(Y._visibility|=2,Cs(d,A,y,S,o)),o&&O&2048&&dd(A.alternate,A);break;case 24:Cs(d,A,y,S,o),o&&O&2048&&fd(A.alternate,A);break;default:Cs(d,A,y,S,o)}t=t.sibling}}function Pr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,o=r.flags;switch(r.tag){case 22:Pr(i,r),o&2048&&dd(r.alternate,r);break;case 24:Pr(i,r),o&2048&&fd(r.alternate,r);break;default:Pr(i,r)}t=t.sibling}}var Qr=8192;function Rs(e){if(e.subtreeFlags&Qr)for(e=e.child;e!==null;)V0(e),e=e.sibling}function V0(e){switch(e.tag){case 26:Rs(e),e.flags&Qr&&e.memoizedState!==null&&Mb(Tn,e.memoizedState,e.memoizedProps);break;case 5:Rs(e);break;case 3:case 4:var t=Tn;Tn=ko(e.stateNode.containerInfo),Rs(e),Tn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Qr,Qr=16777216,Rs(e),Qr=t):Rs(e));break;default:Rs(e)}}function Z0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];wt=r,W0(r,e)}Z0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)J0(e),e=e.sibling}function J0(e){switch(e.tag){case 0:case 11:case 15:Gr(e),e.flags&2048&&ti(9,e,e.return);break;case 3:Gr(e);break;case 12:Gr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yo(e)):Gr(e);break;default:Gr(e)}}function yo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];wt=r,W0(r,e)}Z0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ti(8,t,t.return),yo(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,yo(t));break;default:yo(t)}e=e.sibling}}function W0(e,t){for(;wt!==null;){var i=wt;switch(i.tag){case 0:case 11:case 15:ti(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:yr(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,wt=r;else e:for(i=e;wt!==null;){r=wt;var o=r.sibling,d=r.return;if(F0(r),r===i){wt=null;break e}if(o!==null){o.return=d,wt=o;break e}wt=d}}}var q2={getCacheForType:function(e){var t=Tt(gt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},X2=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ye=null,Re=null,ke=0,Qe=0,on=null,ii=!1,Bs=!1,hd=!1,Ma=0,nt=0,si=0,Fi=0,md=0,vn=0,Ms=0,Lr=null,_t=null,gd=!1,pd=0,bo=1/0,Eo=null,ri=null,Bt=0,li=null,Ds=null,Ts=0,Ad=0,vd=null,$0=null,Ur=0,yd=null;function cn(){if((Pe&2)!==0&&ke!==0)return ke&-ke;if(R.T!==null){var e=As;return e!==0?e:Rd()}return Bl()}function eg(){vn===0&&(vn=(ke&536870912)===0||Oe?De():536870912);var e=An.current;return e!==null&&(e.flags|=32),vn}function un(e,t,i){(e===Ye&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(ks(e,0),oi(e,ke,vn,!1)),Ct(e,i),((Pe&2)===0||e!==Ye)&&(e===Ye&&((Pe&2)===0&&(Fi|=i),nt===4&&oi(e,ke,vn,!1)),Yn(e))}function tg(e,t,i){if((Pe&6)!==0)throw Error(l(327));var r=!i&&(t&124)===0&&(t&e.expiredLanes)===0||ye(e,t),o=r?K2(e,t):wd(e,t,!0),d=r;do{if(o===0){Bs&&!r&&oi(e,t,0,!1);break}else{if(i=e.current.alternate,d&&!Y2(i)){o=wd(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var A=0;else A=e.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){t=A;e:{var y=e;o=Lr;var S=y.current.memoizedState.isDehydrated;if(S&&(ks(y,A).flags|=256),A=wd(y,A,!1),A!==2){if(hd&&!S){y.errorRecoveryDisabledLanes|=d,Fi|=d,o=4;break e}d=_t,_t=o,d!==null&&(_t===null?_t=d:_t.push.apply(_t,d))}o=A}if(d=!1,o!==2)continue}}if(o===1){ks(e,0),oi(e,t,0,!0);break}e:{switch(r=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:oi(r,t,vn,!ii);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=pd+300-lt(),10<o)){if(oi(r,t,vn,!ii),ce(r,0,!0)!==0)break e;r.timeoutHandle=Tg(ng.bind(null,r,i,_t,Eo,gd,t,vn,Fi,Ms,ii,d,2,-0,0),o);break e}ng(r,i,_t,Eo,gd,t,vn,Fi,Ms,ii,d,0,-0,0)}}break}while(!0);Yn(e)}function ng(e,t,i,r,o,d,A,y,S,O,Y,J,Q,G){if(e.timeoutHandle=-1,J=t.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Yr={stylesheets:null,count:0,unsuspend:Bb},V0(t),J=Db(),J!==null)){e.cancelPendingCommit=J(cg.bind(null,e,t,d,i,r,o,A,y,S,Y,1,Q,G)),oi(e,d,A,!O);return}cg(e,t,d,i,r,o,A,y,S)}function Y2(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],d=o.getSnapshot;o=o.value;try{if(!an(d(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t,i,r){t&=~md,t&=~Fi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var d=31-dt(o),A=1<<d;r[d]=-1,o&=~A}i!==0&&la(e,i,t)}function wo(){return(Pe&6)===0?(jr(0),!1):!0}function bd(){if(Re!==null){if(Qe===0)var e=Re.return;else e=Re,ba=Gi=null,Gu(e),Ss=null,Tr=0,e=Re;for(;e!==null;)P0(e.alternate,e),e=e.return;Re=null}}function ks(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,ub(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),bd(),Ye=e,Re=i=Aa(e.current,null),ke=t,Qe=0,on=null,ii=!1,Bs=ye(e,t),hd=!1,Ms=vn=md=Fi=si=nt=0,_t=Lr=null,gd=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-dt(r),d=1<<o;t|=e[o],r&=~d}return Ma=t,Fl(),i}function ag(e,t){we=null,R.H=oo,t===Er||t===Wl?(t=bm(),Qe=3):t===Am?(t=bm(),Qe=4):Qe=t===E0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,Re===null&&(nt=1,mo(e,hn(t,e.current)))}function ig(){var e=R.H;return R.H=oo,e===null?oo:e}function sg(){var e=R.A;return R.A=q2,e}function Ed(){nt=4,ii||(ke&4194048)!==ke&&An.current!==null||(Bs=!0),(si&134217727)===0&&(Fi&134217727)===0||Ye===null||oi(Ye,ke,vn,!1)}function wd(e,t,i){var r=Pe;Pe|=2;var o=ig(),d=sg();(Ye!==e||ke!==t)&&(Eo=null,ks(e,t)),t=!1;var A=nt;e:do try{if(Qe!==0&&Re!==null){var y=Re,S=on;switch(Qe){case 8:bd(),A=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(t=!0);var O=Qe;if(Qe=0,on=null,Hs(e,y,S,O),i&&Bs){A=0;break e}break;default:O=Qe,Qe=0,on=null,Hs(e,y,S,O)}}_2(),A=nt;break}catch(Y){ag(e,Y)}while(!0);return t&&e.shellSuspendCounter++,ba=Gi=null,Pe=r,R.H=o,R.A=d,Re===null&&(Ye=null,ke=0,Fl()),A}function _2(){for(;Re!==null;)rg(Re)}function K2(e,t){var i=Pe;Pe|=2;var r=ig(),o=sg();Ye!==e||ke!==t?(Eo=null,bo=lt()+500,ks(e,t)):Bs=ye(e,t);e:do try{if(Qe!==0&&Re!==null){t=Re;var d=on;t:switch(Qe){case 1:Qe=0,on=null,Hs(e,t,d,1);break;case 2:case 9:if(vm(d)){Qe=0,on=null,lg(t);break}t=function(){Qe!==2&&Qe!==9||Ye!==e||(Qe=7),Yn(e)},d.then(t,t);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:vm(d)?(Qe=0,on=null,lg(t)):(Qe=0,on=null,Hs(e,t,d,7));break;case 5:var A=null;switch(Re.tag){case 26:A=Re.memoizedState;case 5:case 27:var y=Re;if(!A||Ig(A)){Qe=0,on=null;var S=y.sibling;if(S!==null)Re=S;else{var O=y.return;O!==null?(Re=O,So(O)):Re=null}break t}}Qe=0,on=null,Hs(e,t,d,5);break;case 6:Qe=0,on=null,Hs(e,t,d,6);break;case 8:bd(),nt=6;break e;default:throw Error(l(462))}}V2();break}catch(Y){ag(e,Y)}while(!0);return ba=Gi=null,R.H=r,R.A=o,Pe=i,Re!==null?0:(Ye=null,ke=0,Fl(),nt)}function V2(){for(;Re!==null&&!na();)rg(Re)}function rg(e){var t=O0(e.alternate,e,Ma);e.memoizedProps=e.pendingProps,t===null?So(e):Re=t}function lg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=B0(i,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=B0(i,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Gu(t);default:P0(i,t),t=Re=om(t,Ma),t=O0(i,t,Ma)}e.memoizedProps=e.pendingProps,t===null?So(e):Re=t}function Hs(e,t,i,r){ba=Gi=null,Gu(t),Ss=null,Tr=0;var o=t.return;try{if(L2(e,o,t,i,ke)){nt=1,mo(e,hn(i,e.current)),Re=null;return}}catch(d){if(o!==null)throw Re=o,d;nt=1,mo(e,hn(i,e.current)),Re=null;return}t.flags&32768?(Oe||r===1?e=!0:Bs||(ke&536870912)!==0?e=!1:(ii=e=!0,(r===2||r===9||r===3||r===6)&&(r=An.current,r!==null&&r.tag===13&&(r.flags|=16384))),og(t,e)):So(t)}function So(e){var t=e;do{if((t.flags&32768)!==0){og(t,ii);return}e=t.return;var i=j2(t.alternate,t,Ma);if(i!==null){Re=i;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);nt===0&&(nt=5)}function og(e,t){do{var i=z2(e.alternate,e);if(i!==null){i.flags&=32767,Re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=i}while(e!==null);nt=6,Re=null}function cg(e,t,i,r,o,d,A,y,S){e.cancelPendingCommit=null;do xo();while(Bt!==0);if((Pe&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=fu,ra(e,i,d,A,y,S),e===Ye&&(Re=Ye=null,ke=0),Ds=t,li=e,Ts=i,Ad=d,vd=o,$0=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$2(Ft,function(){return mg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=R.T,R.T=null,o=U.p,U.p=2,A=Pe,Pe|=4;try{I2(e,t,i)}finally{Pe=A,U.p=o,R.T=r}}Bt=1,ug(),dg(),fg()}}function ug(){if(Bt===1){Bt=0;var e=li,t=Ds,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=R.T,R.T=null;var r=U.p;U.p=2;var o=Pe;Pe|=4;try{Y0(t,e);var d=Nd,A=Wh(e.containerInfo),y=d.focusedElem,S=d.selectionRange;if(A!==y&&y&&y.ownerDocument&&Jh(y.ownerDocument.documentElement,y)){if(S!==null&&lu(y)){var O=S.start,Y=S.end;if(Y===void 0&&(Y=O),"selectionStart"in y)y.selectionStart=O,y.selectionEnd=Math.min(Y,y.value.length);else{var J=y.ownerDocument||document,Q=J&&J.defaultView||window;if(Q.getSelection){var G=Q.getSelection(),ve=y.textContent.length,pe=Math.min(S.start,ve),je=S.end===void 0?pe:Math.min(S.end,ve);!G.extend&&pe>je&&(A=je,je=pe,pe=A);var D=Zh(y,pe),x=Zh(y,je);if(D&&x&&(G.rangeCount!==1||G.anchorNode!==D.node||G.anchorOffset!==D.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var H=J.createRange();H.setStart(D.node,D.offset),G.removeAllRanges(),pe>je?(G.addRange(H),G.extend(x.node,x.offset)):(H.setEnd(x.node,x.offset),G.addRange(H))}}}}for(J=[],G=y;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<J.length;y++){var V=J[y];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Qo=!!Od,Nd=Od=null}finally{Pe=o,U.p=r,R.T=i}}e.current=t,Bt=2}}function dg(){if(Bt===2){Bt=0;var e=li,t=Ds,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=R.T,R.T=null;var r=U.p;U.p=2;var o=Pe;Pe|=4;try{I0(e,t.alternate,t)}finally{Pe=o,U.p=r,R.T=i}}Bt=3}}function fg(){if(Bt===4||Bt===3){Bt=0,aa();var e=li,t=Ds,i=Ts,r=$0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Bt=5:(Bt=0,Ds=li=null,hg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ri=null),ua(i),t=t.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Ne,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=R.T,o=U.p,U.p=2,R.T=null;try{for(var d=e.onRecoverableError,A=0;A<r.length;A++){var y=r[A];d(y.value,{componentStack:y.stack})}}finally{R.T=t,U.p=o}}(Ts&3)!==0&&xo(),Yn(e),o=e.pendingLanes,(i&4194090)!==0&&(o&42)!==0?e===yd?Ur++:(Ur=0,yd=e):Ur=0,jr(0)}}function hg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yr(t)))}function xo(e){return ug(),dg(),fg(),mg()}function mg(){if(Bt!==5)return!1;var e=li,t=Ad;Ad=0;var i=ua(Ts),r=R.T,o=U.p;try{U.p=32>i?32:i,R.T=null,i=vd,vd=null;var d=li,A=Ts;if(Bt=0,Ds=li=null,Ts=0,(Pe&6)!==0)throw Error(l(331));var y=Pe;if(Pe|=4,J0(d.current),K0(d,d.current,A,i),Pe=y,jr(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Ne,d)}catch{}return!0}finally{U.p=o,R.T=r,hg(e,t)}}function gg(e,t,i){t=hn(i,t),t=Ju(e.stateNode,t,2),e=Ja(e,t,2),e!==null&&(Ct(e,2),Yn(e))}function qe(e,t,i){if(e.tag===3)gg(e,e,i);else for(;t!==null;){if(t.tag===3){gg(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){e=hn(i,e),i=y0(2),r=Ja(t,i,2),r!==null&&(b0(i,r,t,e),Ct(r,2),Yn(r));break}}t=t.return}}function Sd(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new X2;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(i)||(hd=!0,o.add(i),e=Z2.bind(null,e,t,i),t.then(e,e))}function Z2(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ye===e&&(ke&i)===i&&(nt===4||nt===3&&(ke&62914560)===ke&&300>lt()-pd?(Pe&2)===0&&ks(e,0):md|=i,Ms===ke&&(Ms=0)),Yn(e)}function pg(e,t){t===0&&(t=yt()),e=hs(e,t),e!==null&&(Ct(e,t),Yn(e))}function J2(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),pg(e,i)}function W2(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),pg(e,i)}function $2(e,t){return zt(e,t)}var Co=null,Os=null,xd=!1,Ro=!1,Cd=!1,qi=0;function Yn(e){e!==Os&&e.next===null&&(Os===null?Co=Os=e:Os=Os.next=e),Ro=!0,xd||(xd=!0,tb())}function jr(e,t){if(!Cd&&Ro){Cd=!0;do for(var i=!1,r=Co;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var d=0;else{var A=r.suspendedLanes,y=r.pingedLanes;d=(1<<31-dt(42|e)+1)-1,d&=o&~(A&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,bg(r,d))}else d=ke,d=ce(r,r===Ye?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||ye(r,d)||(i=!0,bg(r,d));r=r.next}while(i);Cd=!1}}function eb(){Ag()}function Ag(){Ro=xd=!1;var e=0;qi!==0&&(cb()&&(e=qi),qi=0);for(var t=lt(),i=null,r=Co;r!==null;){var o=r.next,d=vg(r,t);d===0?(r.next=null,i===null?Co=o:i.next=o,o===null&&(Os=i)):(i=r,(e!==0||(d&3)!==0)&&(Ro=!0)),r=o}jr(e)}function vg(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var A=31-dt(d),y=1<<A,S=o[A];S===-1?((y&i)===0||(y&r)!==0)&&(o[A]=be(y,t)):S<=t&&(e.expiredLanes|=y),d&=~y}if(t=Ye,i=ke,i=ce(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&It(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ye(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&It(r),ua(i)){case 2:case 8:i=fn;break;case 32:i=Ft;break;case 268435456:i=xn;break;default:i=Ft}return r=yg.bind(null,e),i=zt(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&It(r),e.callbackPriority=2,e.callbackNode=null,2}function yg(e,t){if(Bt!==0&&Bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(xo()&&e.callbackNode!==i)return null;var r=ke;return r=ce(e,e===Ye?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(tg(e,r,t),vg(e,lt()),e.callbackNode!=null&&e.callbackNode===i?yg.bind(null,e):null)}function bg(e,t){if(xo())return null;tg(e,t,!0)}function tb(){db(function(){(Pe&6)!==0?zt(Sn,eb):Ag()})}function Rd(){return qi===0&&(qi=De()),qi}function Eg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ql(""+e)}function wg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function nb(e,t,i,r,o){if(t==="submit"&&i&&i.stateNode===o){var d=Eg((o[ht]||null).action),A=r.submitter;A&&(t=(t=A[ht]||null)?Eg(t.formAction):A.getAttribute("formAction"),t!==null&&(d=t,A=null));var y=new jl("action","action",null,r,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(qi!==0){var S=A?wg(o,A):new FormData(o);Yu(i,{pending:!0,data:S,method:o.method,action:d},null,S)}}else typeof d=="function"&&(y.preventDefault(),S=A?wg(o,A):new FormData(o),Yu(i,{pending:!0,data:S,method:o.method,action:d},d,S))},currentTarget:o}]})}}for(var Bd=0;Bd<du.length;Bd++){var Md=du[Bd],ab=Md.toLowerCase(),ib=Md[0].toUpperCase()+Md.slice(1);Dn(ab,"on"+ib)}Dn(tm,"onAnimationEnd"),Dn(nm,"onAnimationIteration"),Dn(am,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(E2,"onTransitionRun"),Dn(w2,"onTransitionStart"),Dn(S2,"onTransitionCancel"),Dn(im,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zr));function Sg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],o=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var A=r.length-1;0<=A;A--){var y=r[A],S=y.instance,O=y.currentTarget;if(y=y.listener,S!==d&&o.isPropagationStopped())break e;d=y,o.currentTarget=O;try{d(o)}catch(Y){ho(Y)}o.currentTarget=null,d=S}else for(A=0;A<r.length;A++){if(y=r[A],S=y.instance,O=y.currentTarget,y=y.listener,S!==d&&o.isPropagationStopped())break e;d=y,o.currentTarget=O;try{d(o)}catch(Y){ho(Y)}o.currentTarget=null,d=S}}}}function Be(e,t){var i=t[Ia];i===void 0&&(i=t[Ia]=new Set);var r=e+"__bubble";i.has(r)||(xg(t,e,2,!1),i.add(r))}function Dd(e,t,i){var r=0;t&&(r|=4),xg(i,e,r,t)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[Bo]){e[Bo]=!0,ss.forEach(function(i){i!=="selectionchange"&&(sb.has(i)||Dd(i,!1,e),Dd(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bo]||(t[Bo]=!0,Dd("selectionchange",!1,t))}}function xg(e,t,i,r){switch(Kg(t)){case 2:var o=Hb;break;case 8:o=Ob;break;default:o=qd}i=o.bind(null,t,i,e),o=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function kd(e,t,i,r,o){var d=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var y=r.stateNode.containerInfo;if(y===o)break;if(A===4)for(A=r.return;A!==null;){var S=A.tag;if((S===3||S===4)&&A.stateNode.containerInfo===o)return;A=A.return}for(;y!==null;){if(A=fa(y),A===null)return;if(S=A.tag,S===5||S===6||S===26||S===27){r=d=A;continue e}y=y.parentNode}}r=r.return}kh(function(){var O=d,Y=Zc(i),J=[];e:{var Q=sm.get(e);if(Q!==void 0){var G=jl,ve=e;switch(e){case"keypress":if(Ll(i)===0)break e;case"keydown":case"keyup":G=$y;break;case"focusin":ve="focus",G=nu;break;case"focusout":ve="blur",G=nu;break;case"beforeblur":case"afterblur":G=nu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=n2;break;case tm:case nm:case am:G=qy;break;case im:G=i2;break;case"scroll":case"scrollend":G=Uy;break;case"wheel":G=r2;break;case"copy":case"cut":case"paste":G=Yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Qh;break;case"toggle":case"beforetoggle":G=o2}var pe=(t&4)!==0,je=!pe&&(e==="scroll"||e==="scrollend"),D=pe?Q!==null?Q+"Capture":null:Q;pe=[];for(var x=O,H;x!==null;){var V=x;if(H=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||H===null||D===null||(V=rr(x,D),V!=null&&pe.push(Ir(x,V,H))),je)break;x=x.return}0<pe.length&&(Q=new G(Q,ve,null,i,Y),J.push({event:Q,listeners:pe}))}}if((t&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",Q&&i!==Vc&&(ve=i.relatedTarget||i.fromElement)&&(fa(ve)||ve[da]))break e;if((G||Q)&&(Q=Y.window===Y?Y:(Q=Y.ownerDocument)?Q.defaultView||Q.parentWindow:window,G?(ve=i.relatedTarget||i.toElement,G=O,ve=ve?fa(ve):null,ve!==null&&(je=u(ve),pe=ve.tag,ve!==je||pe!==5&&pe!==27&&pe!==6)&&(ve=null)):(G=null,ve=O),G!==ve)){if(pe=Nh,V="onMouseLeave",D="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Qh,V="onPointerLeave",D="onPointerEnter",x="pointer"),je=G==null?Q:ha(G),H=ve==null?Q:ha(ve),Q=new pe(V,x+"leave",G,i,Y),Q.target=je,Q.relatedTarget=H,V=null,fa(Y)===O&&(pe=new pe(D,x+"enter",ve,i,Y),pe.target=H,pe.relatedTarget=je,V=pe),je=V,G&&ve)t:{for(pe=G,D=ve,x=0,H=pe;H;H=Ns(H))x++;for(H=0,V=D;V;V=Ns(V))H++;for(;0<x-H;)pe=Ns(pe),x--;for(;0<H-x;)D=Ns(D),H--;for(;x--;){if(pe===D||D!==null&&pe===D.alternate)break t;pe=Ns(pe),D=Ns(D)}pe=null}else pe=null;G!==null&&Cg(J,Q,G,pe,!1),ve!==null&&je!==null&&Cg(J,je,ve,pe,!0)}}e:{if(Q=O?ha(O):window,G=Q.nodeName&&Q.nodeName.toLowerCase(),G==="select"||G==="input"&&Q.type==="file")var ue=qh;else if(Ih(Q))if(Xh)ue=v2;else{ue=p2;var xe=g2}else G=Q.nodeName,!G||G.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?O&&Kc(O.elementType)&&(ue=qh):ue=A2;if(ue&&(ue=ue(e,O))){Fh(J,ue,i,Y);break e}xe&&xe(e,Q,O),e==="focusout"&&O&&Q.type==="number"&&O.memoizedProps.value!=null&&Ya(Q,"number",Q.value)}switch(xe=O?ha(O):window,e){case"focusin":(Ih(xe)||xe.contentEditable==="true")&&(us=xe,ou=O,mr=null);break;case"focusout":mr=ou=us=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,$h(J,i,Y);break;case"selectionchange":if(b2)break;case"keydown":case"keyup":$h(J,i,Y)}var me;if(iu)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else cs?jh(e,i)&&(Ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ae="onCompositionStart");Ae&&(Gh&&i.locale!=="ko"&&(cs||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&cs&&(me=Hh()):(_a=Y,$c="value"in _a?_a.value:_a.textContent,cs=!0)),xe=Mo(O,Ae),0<xe.length&&(Ae=new Ph(Ae,e,null,i,Y),J.push({event:Ae,listeners:xe}),me?Ae.data=me:(me=zh(i),me!==null&&(Ae.data=me)))),(me=u2?d2(e,i):f2(e,i))&&(Ae=Mo(O,"onBeforeInput"),0<Ae.length&&(xe=new Ph("onBeforeInput","beforeinput",null,i,Y),J.push({event:xe,listeners:Ae}),xe.data=me)),nb(J,e,O,i,Y)}Sg(J,t)})}function Ir(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Mo(e,t){for(var i=t+"Capture",r=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=rr(e,i),o!=null&&r.unshift(Ir(e,o,d)),o=rr(e,t),o!=null&&r.push(Ir(e,o,d))),e.tag===3)return r;e=e.return}return[]}function Ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cg(e,t,i,r,o){for(var d=t._reactName,A=[];i!==null&&i!==r;){var y=i,S=y.alternate,O=y.stateNode;if(y=y.tag,S!==null&&S===r)break;y!==5&&y!==26&&y!==27||O===null||(S=O,o?(O=rr(i,d),O!=null&&A.unshift(Ir(i,O,S))):o||(O=rr(i,d),O!=null&&A.push(Ir(i,O,S)))),i=i.return}A.length!==0&&e.push({event:t,listeners:A})}var rb=/\r\n?/g,lb=/\u0000|\uFFFD/g;function Rg(e){return(typeof e=="string"?e:""+e).replace(rb,`
`).replace(lb,"")}function Bg(e,t){return t=Rg(t),Rg(e)===t}function Do(){}function Ue(e,t,i,r,o,d){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||rs(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&rs(e,""+r);break;case"className":Bi(e,"class",r);break;case"tabIndex":Bi(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(e,i,r);break;case"style":Dh(e,r,d);break;case"data":if(t!=="object"){Bi(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ql(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&Ue(e,t,"name",o.name,o,null),Ue(e,t,"formEncType",o.formEncType,o,null),Ue(e,t,"formMethod",o.formMethod,o,null),Ue(e,t,"formTarget",o.formTarget,o,null)):(Ue(e,t,"encType",o.encType,o,null),Ue(e,t,"method",o.method,o,null),Ue(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ql(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=Do);break;case"onScroll":r!=null&&Be("scroll",e);break;case"onScrollEnd":r!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Ql(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":Be("beforetoggle",e),Be("toggle",e),Ri(e,"popover",r);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ri(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Gy.get(i)||i,Ri(e,i,r))}}function Hd(e,t,i,r,o,d){switch(i){case"style":Dh(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof r=="string"?rs(e,r):(typeof r=="number"||typeof r=="bigint")&&rs(e,""+r);break;case"onScroll":r!=null&&Be("scroll",e);break;case"onScrollEnd":r!=null&&Be("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Do);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),d=e[ht]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof r=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,o);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):Ri(e,i,r)}}}function Mt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var r=!1,o=!1,d;for(d in i)if(i.hasOwnProperty(d)){var A=i[d];if(A!=null)switch(d){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,d,A,i,null)}}o&&Ue(e,t,"srcSet",i.srcSet,i,null),r&&Ue(e,t,"src",i.src,i,null);return;case"input":Be("invalid",e);var y=d=A=o=null,S=null,O=null;for(r in i)if(i.hasOwnProperty(r)){var Y=i[r];if(Y!=null)switch(r){case"name":o=Y;break;case"type":A=Y;break;case"checked":S=Y;break;case"defaultChecked":O=Y;break;case"value":d=Y;break;case"defaultValue":y=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,t));break;default:Ue(e,t,r,Y,i,null)}}Xa(e,d,y,S,O,A,o,!1),bt(e);return;case"select":Be("invalid",e),r=A=d=null;for(o in i)if(i.hasOwnProperty(o)&&(y=i[o],y!=null))switch(o){case"value":d=y;break;case"defaultValue":A=y;break;case"multiple":r=y;default:Ue(e,t,o,y,i,null)}t=d,i=A,e.multiple=!!r,t!=null?ga(e,!!r,t,!1):i!=null&&ga(e,!!r,i,!0);return;case"textarea":Be("invalid",e),d=o=r=null;for(A in i)if(i.hasOwnProperty(A)&&(y=i[A],y!=null))switch(A){case"value":r=y;break;case"defaultValue":o=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:Ue(e,t,A,y,i,null)}Pl(e,r,o,d),bt(e);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(r=i[S],r!=null))switch(S){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ue(e,t,S,r,i,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(r=0;r<zr.length;r++)Be(zr[r],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in i)if(i.hasOwnProperty(O)&&(r=i[O],r!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,O,r,i,null)}return;default:if(Kc(t)){for(Y in i)i.hasOwnProperty(Y)&&(r=i[Y],r!==void 0&&Hd(e,t,Y,r,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(r=i[y],r!=null&&Ue(e,t,y,r,i,null))}function ob(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,A=null,y=null,S=null,O=null,Y=null;for(G in i){var J=i[G];if(i.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":S=J;default:r.hasOwnProperty(G)||Ue(e,t,G,null,r,J)}}for(var Q in r){var G=r[Q];if(J=i[Q],r.hasOwnProperty(Q)&&(G!=null||J!=null))switch(Q){case"type":d=G;break;case"name":o=G;break;case"checked":O=G;break;case"defaultChecked":Y=G;break;case"value":A=G;break;case"defaultValue":y=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,t));break;default:G!==J&&Ue(e,t,Q,G,r,J)}}et(e,A,y,S,O,Y,d,o);return;case"select":G=A=y=Q=null;for(d in i)if(S=i[d],i.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":G=S;default:r.hasOwnProperty(d)||Ue(e,t,d,null,r,S)}for(o in r)if(d=r[o],S=i[o],r.hasOwnProperty(o)&&(d!=null||S!=null))switch(o){case"value":Q=d;break;case"defaultValue":y=d;break;case"multiple":A=d;default:d!==S&&Ue(e,t,o,d,r,S)}t=y,i=A,r=G,Q!=null?ga(e,!!i,Q,!1):!!r!=!!i&&(t!=null?ga(e,!!i,t,!0):ga(e,!!i,i?[]:"",!1));return;case"textarea":G=Q=null;for(y in i)if(o=i[y],i.hasOwnProperty(y)&&o!=null&&!r.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ue(e,t,y,null,r,o)}for(A in r)if(o=r[A],d=i[A],r.hasOwnProperty(A)&&(o!=null||d!=null))switch(A){case"value":Q=o;break;case"defaultValue":G=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&Ue(e,t,A,o,r,d)}zn(e,Q,G);return;case"option":for(var ve in i)if(Q=i[ve],i.hasOwnProperty(ve)&&Q!=null&&!r.hasOwnProperty(ve))switch(ve){case"selected":e.selected=!1;break;default:Ue(e,t,ve,null,r,Q)}for(S in r)if(Q=r[S],G=i[S],r.hasOwnProperty(S)&&Q!==G&&(Q!=null||G!=null))switch(S){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ue(e,t,S,Q,r,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in i)Q=i[pe],i.hasOwnProperty(pe)&&Q!=null&&!r.hasOwnProperty(pe)&&Ue(e,t,pe,null,r,Q);for(O in r)if(Q=r[O],G=i[O],r.hasOwnProperty(O)&&Q!==G&&(Q!=null||G!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(l(137,t));break;default:Ue(e,t,O,Q,r,G)}return;default:if(Kc(t)){for(var je in i)Q=i[je],i.hasOwnProperty(je)&&Q!==void 0&&!r.hasOwnProperty(je)&&Hd(e,t,je,void 0,r,Q);for(Y in r)Q=r[Y],G=i[Y],!r.hasOwnProperty(Y)||Q===G||Q===void 0&&G===void 0||Hd(e,t,Y,Q,r,G);return}}for(var D in i)Q=i[D],i.hasOwnProperty(D)&&Q!=null&&!r.hasOwnProperty(D)&&Ue(e,t,D,null,r,Q);for(J in r)Q=r[J],G=i[J],!r.hasOwnProperty(J)||Q===G||Q==null&&G==null||Ue(e,t,J,Q,r,G)}var Od=null,Nd=null;function To(e){return e.nodeType===9?e:e.ownerDocument}function Mg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Pd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qd=null;function cb(){var e=window.event;return e&&e.type==="popstate"?e===Qd?!1:(Qd=e,!0):(Qd=null,!1)}var Tg=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(e){return kg.resolve(null).then(e).catch(fb)}:Tg;function fb(e){setTimeout(function(){throw e})}function ci(e){return e==="head"}function Hg(e,t){var i=t,r=0,o=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(0<r&&8>r){i=r;var A=e.ownerDocument;if(i&1&&Fr(A.documentElement),i&2&&Fr(A.body),i&4)for(i=A.head,Fr(i),A=i.firstChild;A;){var y=A.nextSibling,S=A.nodeName;A[Ci]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&A.rel.toLowerCase()==="stylesheet"||i.removeChild(A),A=y}}if(o===0){e.removeChild(d),Jr(t);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:r=i.charCodeAt(0)-48;else r=0;i=d}while(i);Jr(t)}function Gd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Gd(i),is(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function hb(e,t,i,r){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ci])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function mb(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=kn(e.nextSibling),e===null))return null;return e}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function gb(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Ud=null;function Og(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function Ng(e,t,i){switch(t=To(i),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Fr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);is(e)}var yn=new Map,Pg=new Set;function ko(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=U.d;U.d={f:pb,r:Ab,D:vb,C:yb,L:bb,m:Eb,X:Sb,S:wb,M:xb};function pb(){var e=Da.f(),t=wo();return e||t}function Ab(e){var t=Fa(e);t!==null&&t.tag===5&&t.type==="form"?t0(t):Da.r(e)}var Ps=typeof document>"u"?null:document;function Qg(e,t,i){var r=Ps;if(r&&typeof t=="string"&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Pg.has(o)||(Pg.add(o),e={rel:e,crossOrigin:i,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),Mt(t,"link",e),We(t),r.head.appendChild(t)))}}function vb(e){Da.D(e),Qg("dns-prefetch",e,null)}function yb(e,t){Da.C(e,t),Qg("preconnect",e,t)}function bb(e,t,i){Da.L(e,t,i);var r=Ps;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+mt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+mt(i.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var d=o;switch(t){case"style":d=Qs(e);break;case"script":d=Gs(e)}yn.has(d)||(e=p({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),yn.set(d,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(qr(d))||t==="script"&&r.querySelector(Xr(d))||(t=r.createElement("link"),Mt(t,"link",e),We(t),r.head.appendChild(t)))}}function Eb(e,t){Da.m(e,t);var i=Ps;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',d=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Gs(e)}if(!yn.has(d)&&(e=p({rel:"modulepreload",href:e},t),yn.set(d,e),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Xr(d)))return}r=i.createElement("link"),Mt(r,"link",e),We(r),i.head.appendChild(r)}}}function wb(e,t,i){Da.S(e,t,i);var r=Ps;if(r&&e){var o=ma(r).hoistableStyles,d=Qs(e);t=t||"default";var A=o.get(d);if(!A){var y={loading:0,preload:null};if(A=r.querySelector(qr(d)))y.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},i),(i=yn.get(d))&&jd(e,i);var S=A=r.createElement("link");We(S),Mt(S,"link",e),S._p=new Promise(function(O,Y){S.onload=O,S.onerror=Y}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ho(A,t,r)}A={type:"stylesheet",instance:A,count:1,state:y},o.set(d,A)}}}function Sb(e,t){Da.X(e,t);var i=Ps;if(i&&e){var r=ma(i).hoistableScripts,o=Gs(e),d=r.get(o);d||(d=i.querySelector(Xr(o)),d||(e=p({src:e,async:!0},t),(t=yn.get(o))&&zd(e,t),d=i.createElement("script"),We(d),Mt(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(o,d))}}function xb(e,t){Da.M(e,t);var i=Ps;if(i&&e){var r=ma(i).hoistableScripts,o=Gs(e),d=r.get(o);d||(d=i.querySelector(Xr(o)),d||(e=p({src:e,async:!0,type:"module"},t),(t=yn.get(o))&&zd(e,t),d=i.createElement("script"),We(d),Mt(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(o,d))}}function Gg(e,t,i,r){var o=(o=he.current)?ko(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Qs(i.href),i=ma(o).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Qs(i.href);var d=ma(o).hoistableStyles,A=d.get(e);if(A||(o=o.ownerDocument||o,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,A),(d=o.querySelector(qr(e)))&&!d._p&&(A.instance=d,A.state.loading=5),yn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},yn.set(e,i),d||Cb(o,e,i,A.state))),t&&r===null)throw Error(l(528,""));return A}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Gs(i),i=ma(o).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Qs(e){return'href="'+mt(e)+'"'}function qr(e){return'link[rel="stylesheet"]['+e+"]"}function Lg(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Cb(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Mt(t,"link",i),We(t),e.head.appendChild(t))}function Gs(e){return'[src="'+mt(e)+'"]'}function Xr(e){return"script[async]"+e}function Ug(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(i.href)+'"]');if(r)return t.instance=r,We(r),r;var o=p({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),We(r),Mt(r,"style",o),Ho(r,i.precedence,e),t.instance=r;case"stylesheet":o=Qs(i.href);var d=e.querySelector(qr(o));if(d)return t.state.loading|=4,t.instance=d,We(d),d;r=Lg(i),(o=yn.get(o))&&jd(r,o),d=(e.ownerDocument||e).createElement("link"),We(d);var A=d;return A._p=new Promise(function(y,S){A.onload=y,A.onerror=S}),Mt(d,"link",r),t.state.loading|=4,Ho(d,i.precedence,e),t.instance=d;case"script":return d=Gs(i.src),(o=e.querySelector(Xr(d)))?(t.instance=o,We(o),o):(r=i,(o=yn.get(d))&&(r=p({},i),zd(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),We(o),Mt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Ho(r,i.precedence,e));return t.instance}function Ho(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,d=o,A=0;A<r.length;A++){var y=r[A];if(y.dataset.precedence===t)d=y;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function jd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Oo=null;function jg(e,t,i){if(Oo===null){var r=new Map,o=Oo=new Map;o.set(i,r)}else o=Oo,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var d=i[o];if(!(d[Ci]||d[Je]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var A=d.getAttribute(t)||"";A=e+A;var y=r.get(A);y?y.push(d):r.set(A,[d])}}return r}function zg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Rb(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ig(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Yr=null;function Bb(){}function Mb(e,t,i){if(Yr===null)throw Error(l(475));var r=Yr;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=Qs(i.href),d=e.querySelector(qr(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=No.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=d,We(d);return}d=e.ownerDocument||e,i=Lg(i),(o=yn.get(o))&&jd(i,o),d=d.createElement("link"),We(d);var A=d;A._p=new Promise(function(y,S){A.onload=y,A.onerror=S}),Mt(d,"link",i),t.instance=d}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=No.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Db(){if(Yr===null)throw Error(l(475));var e=Yr;return e.stylesheets&&e.count===0&&Id(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Id(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function No(){if(this.count--,this.count===0){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Po=null;function Id(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Po=new Map,t.forEach(Tb,e),Po=null,No.call(e))}function Tb(e,t){if(!(t.state.loading&4)){var i=Po.get(e);if(i)var r=i.get(null);else{i=new Map,Po.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var A=o[d];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(i.set(A.dataset.precedence,A),r=A)}r&&i.set(null,r)}o=t.instance,A=o.getAttribute("data-precedence"),d=i.get(A)||r,d===r&&i.set(null,o),i.set(A,o),this.count++,r=No.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var _r={$$typeof:q,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function kb(e,t,i,r,o,d,A,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.hiddenUpdates=ft(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Fg(e,t,i,r,o,d,A,y,S,O,Y,J){return e=new kb(e,t,i,A,y,S,O,J),t=1,d===!0&&(t|=24),d=sn(3,null,null,t),e.current=d,d.stateNode=e,t=Su(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:r,isDehydrated:i,cache:t},Bu(d),e}function qg(e){return e?(e=ms,e):ms}function Xg(e,t,i,r,o,d){o=qg(o),r.context===null?r.context=o:r.pendingContext=o,r=Za(t),r.payload={element:i},d=d===void 0?null:d,d!==null&&(r.callback=d),i=Ja(e,r,t),i!==null&&(un(i,e,t),Sr(i,e,t))}function Yg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Fd(e,t){Yg(e,t),(e=e.alternate)&&Yg(e,t)}function _g(e){if(e.tag===13){var t=hs(e,67108864);t!==null&&un(t,e,67108864),Fd(e,67108864)}}var Qo=!0;function Hb(e,t,i,r){var o=R.T;R.T=null;var d=U.p;try{U.p=2,qd(e,t,i,r)}finally{U.p=d,R.T=o}}function Ob(e,t,i,r){var o=R.T;R.T=null;var d=U.p;try{U.p=8,qd(e,t,i,r)}finally{U.p=d,R.T=o}}function qd(e,t,i,r){if(Qo){var o=Xd(r);if(o===null)kd(e,t,r,Go,i),Vg(e,r);else if(Pb(o,e,t,i,r))r.stopPropagation();else if(Vg(e,r),t&4&&-1<Nb.indexOf(e)){for(;o!==null;){var d=Fa(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var A=Rn(d.pendingLanes);if(A!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;A;){var S=1<<31-dt(A);y.entanglements[1]|=S,A&=~S}Yn(d),(Pe&6)===0&&(bo=lt()+500,jr(0))}}break;case 13:y=hs(d,2),y!==null&&un(y,d,2),wo(),Fd(d,2)}if(d=Xd(r),d===null&&kd(e,t,r,Go,i),d===o)break;o=d}o!==null&&r.stopPropagation()}else kd(e,t,r,null,i)}}function Xd(e){return e=Zc(e),Yd(e)}var Go=null;function Yd(e){if(Go=null,e=fa(e),e!==null){var t=u(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Go=e,null}function Kg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case Sn:return 2;case fn:return 8;case Ft:case za:return 32;case xn:return 268435456;default:return 32}default:return 32}}var _d=!1,ui=null,di=null,fi=null,Kr=new Map,Vr=new Map,hi=[],Nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vg(e,t){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(t.pointerId)}}function Zr(e,t,i,r,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Fa(t),t!==null&&_g(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Pb(e,t,i,r,o){switch(t){case"focusin":return ui=Zr(ui,e,t,i,r,o),!0;case"dragenter":return di=Zr(di,e,t,i,r,o),!0;case"mouseover":return fi=Zr(fi,e,t,i,r,o),!0;case"pointerover":var d=o.pointerId;return Kr.set(d,Zr(Kr.get(d)||null,e,t,i,r,o)),!0;case"gotpointercapture":return d=o.pointerId,Vr.set(d,Zr(Vr.get(d)||null,e,t,i,r,o)),!0}return!1}function Zg(e){var t=fa(e.target);if(t!==null){var i=u(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,Ml(e.priority,function(){if(i.tag===13){var r=cn();r=ca(r);var o=hs(i,r);o!==null&&un(o,i,r),Fd(i,r)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Xd(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Vc=r,i.target.dispatchEvent(r),Vc=null}else return t=Fa(i),t!==null&&_g(t),e.blockedOn=i,!1;t.shift()}return!0}function Jg(e,t,i){Lo(e)&&i.delete(t)}function Qb(){_d=!1,ui!==null&&Lo(ui)&&(ui=null),di!==null&&Lo(di)&&(di=null),fi!==null&&Lo(fi)&&(fi=null),Kr.forEach(Jg),Vr.forEach(Jg)}function Uo(e,t){e.blockedOn===t&&(e.blockedOn=null,_d||(_d=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Qb)))}var jo=null;function Wg(e){jo!==e&&(jo=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jo===e&&(jo=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Yd(r||i)===null)continue;break}var d=Fa(i);d!==null&&(e.splice(t,3),t-=3,Yu(d,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function Jr(e){function t(S){return Uo(S,e)}ui!==null&&Uo(ui,e),di!==null&&Uo(di,e),fi!==null&&Uo(fi,e),Kr.forEach(t),Vr.forEach(t);for(var i=0;i<hi.length;i++){var r=hi[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<hi.length&&(i=hi[0],i.blockedOn===null);)Zg(i),i.blockedOn===null&&hi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],d=i[r+1],A=o[ht]||null;if(typeof d=="function")A||Wg(i);else if(A){var y=null;if(d&&d.hasAttribute("formAction")){if(o=d,A=d[ht]||null)y=A.formAction;else if(Yd(o)!==null)continue}else y=A.action;typeof y=="function"?i[r+1]=y:(i.splice(r,3),r-=3),Wg(i)}}}function Kd(e){this._internalRoot=e}zo.prototype.render=Kd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var i=t.current,r=cn();Xg(i,r,e,t,null,null)},zo.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xg(e.current,2,null,e,null,null),wo(),t[da]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bl();e={blockedOn:null,target:e,priority:t};for(var i=0;i<hi.length&&t!==0&&t<hi[i].priority;i++);hi.splice(i,0,e),i===0&&Zg(e)}};var $g=a.version;if($g!=="19.1.1")throw Error(l(527,$g,"19.1.1"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Gb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{Ne=Io.inject(Gb),Ze=Io}catch{}}return al.createRoot=function(e,t){if(!c(e))throw Error(l(299));var i=!1,r="",o=g0,d=p0,A=A0,y=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(A=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(y=t.unstable_transitionCallbacks)),t=Fg(e,1,!1,null,null,i,r,o,d,A,y,null),e[da]=t.current,Td(e),new Kd(t)},al.hydrateRoot=function(e,t,i){if(!c(e))throw Error(l(299));var r=!1,o="",d=g0,A=p0,y=A0,S=null,O=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(A=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(O=i.formState)),t=Fg(e,1,!0,t,i??null,r,o,d,A,y,S,O),t.context=qg(null),i=t.current,r=cn(),r=ca(r),o=Za(r),o.callback=null,Ja(i,o,r),i=r,t.current.lanes=i,Ct(t,i),Yn(t),e[da]=t.current,Td(e),new zo(t)},al.version="19.1.1",al}var _p;function dw(){if(_p)return uf.exports;_p=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),uf.exports=uw(),uf.exports}var fw=dw(),Ut=uh();const Wo=10,hw=1.5,mw=1.5,Kp=1,gw=.6,Vp=" +50% attack   Barrier   Immortal",Vi=5,Zi=3;let At=null;function pw(){At&&(At.tickTimer&&clearInterval(At.tickTimer),At.timeout&&clearTimeout(At.timeout),At=null)}function dh(){return At!==null}function xv(){return At?Math.max(0,At.endTime-performance.now())/1e3:0}function Aw(n,a){if(dh()||!n.spendResource(Vi,ie.SISU))return!1;const s=[];for(const c of a){if(c.faction!=="player"||c.isDead())continue;const u=`sisu-burst-${c.id}`,f={unit:c,attackDelta:0,movementDelta:0,shieldBonusApplied:Kp,shieldBonusRemaining:Kp,wasImmortal:c.isImmortal()};k1({id:u,duration:Wo,data:f,onApply:()=>{const h=c.stats.attackDamage,m=Math.round(h*hw);f.attackDelta=Math.max(0,m-h),f.attackDelta!==0&&(c.stats.attackDamage=h+f.attackDelta);const g=c.stats.movementRange,p=Math.max(1,Math.round(g*mw));f.movementDelta=Math.max(0,p-g),f.movementDelta!==0&&(c.stats.movementRange=g+f.movementDelta),f.shieldBonusRemaining=f.shieldBonusApplied,c.setShield(c.getShield()+f.shieldBonusApplied),c.setImmortal(!0),c.fearless=!0},onExpire:()=>{let h=!1;if(f.attackDelta!==0){const g=c.stats.attackDamage,p=Math.max(0,g-f.attackDelta);p!==g&&(c.stats.attackDamage=p,h=!0)}if(f.movementDelta!==0){const g=c.stats.movementRange,p=Math.max(0,g-f.movementDelta);p!==g&&(c.stats.movementRange=p,h=!0)}c.setImmortal(f.wasImmortal);const m=Math.max(0,Math.min(f.shieldBonusApplied,f.shieldBonusRemaining));m>0&&c.setShield(Math.max(0,c.getShield()-m)),delete c.fearless,h&&ne.emit("unit:stats:changed",{unitId:c.id,stats:{...c.stats}}),At&&(At.affected=At.affected.filter(g=>g.modifierId!==u))},hooks:{"combat:onHit":h=>{const m=h;if(m.source!=="defender"||m.defender.id!==c.id||m.shieldDamage<=0||f.shieldBonusRemaining<=0)return;const g=Math.min(f.shieldBonusRemaining,m.shieldDamage);f.shieldBonusRemaining=Math.max(0,f.shieldBonusRemaining-g)}}}),s.push({unit:c,modifierId:u,state:f})}return At={endTime:performance.now()+Wo*1e3,status:Vp,affected:s,tickTimer:null,timeout:null},ne.emit("sisuBurstStart",{remaining:Wo,status:Vp}),At.tickTimer=setInterval(()=>{if(!At)return;const c=Math.max(0,Math.ceil(xv()));c>0&&ne.emit("sisuBurstTick",{remaining:c,status:At.status})},1e3),At.timeout=setTimeout(()=>{vw()},Wo*1e3),!0}function vw(){if(At){for(const n of At.affected)H1(n.modifierId);pw(),ne.emit("sisuBurstEnd",{})}}function yw(n,a,s,l){const c=a.filter(u=>u.faction==="player"&&!u.isDead());if(c.length===0||!n.spendResource(Zi,ie.SISU))return!1;for(const u of c){const f=iv(s,3,a)??{...s};u.setCoord(f);const h=Math.round(u.getMaxHealth()*gw);u.stats.health=Math.min(u.getMaxHealth(),Math.max(u.stats.health,h))}return l.revealAround(s,3,{autoFrame:!1}),ne.emit("torilleRecalled",{count:c.length}),!0}let $i=!1;function Cv(){return $i}function Rv(n){$i!==n&&($i=n,ne.emit("game:pause-changed",{paused:$i}))}function bw(){return Rv(!$i),$i}function Ew(){$i&&Rv(!1)}function Zp(...n){return n.filter(Boolean).join(" ")}function Jp(n,a){return!(n.code!==a.code||(a.shift??!1)!==n.shiftKey||(a.alt??!1)!==n.altKey||(a.meta??!1)!==n.metaKey||(a.ctrl??!1)!==n.ctrlKey)}function ww(n){return!Number.isFinite(n)||n<=0?"0s":`${Math.max(0,Math.ceil(n))}s`}function Sw(){const[n,a]=Ut.useState(()=>{const s=dh();return{active:s,remaining:s?Math.ceil(xv()):0,status:s?"Burst active":void 0}});return Ut.useEffect(()=>{const s=({remaining:u,status:f})=>{a({active:!0,remaining:Math.ceil(u),status:f})},l=({remaining:u,status:f})=>{a(h=>({active:!0,remaining:Math.ceil(u),status:f??h.status}))},c=()=>{a({active:!1,remaining:0,status:void 0})};return ne.on("sisuBurstStart",s),ne.on("sisuBurstTick",l),ne.on("sisuBurstEnd",c),()=>{ne.off("sisuBurstStart",s),ne.off("sisuBurstTick",l),ne.off("sisuBurstEnd",c)}},[]),n}function xw(){const[n,a]=Ut.useState(()=>Cv());return Ut.useEffect(()=>{const s=({paused:l})=>{a(l)};return ne.on("game:pause-changed",s),()=>{ne.off("game:pause-changed",s)}},[]),n}function Wp(n){const a=n.target;if(!a)return!1;const s=a.tagName;return!!(s==="INPUT"||s==="TEXTAREA"||s==="SELECT"||a.isContentEditable)}function Cw({state:n,abilities:a}){const[s,l]=Ut.useState(()=>n.getResource(ie.SISU)),[c,u]=Ut.useState(()=>C1()),[f,h]=Ut.useState(null),m=Ut.useRef({}),[g,p]=Ut.useState(()=>new Set),v=Sw(),b=xw(),E=Ut.useCallback(F=>{p($=>{const _=new Set($);return _.add(F),_});const ae=m.current[F];ae&&window.clearTimeout(ae),m.current[F]=window.setTimeout(()=>{p($=>{const _=new Set($);return _.delete(F),_}),delete m.current[F]},650)},[]);Ut.useEffect(()=>{const F=({resource:ae,total:$})=>{ae===ie.SISU&&l($)};return ne.on("resourceChanged",F),()=>{ne.off("resourceChanged",F),Object.values(m.current).forEach(ae=>{ae&&window.clearTimeout(ae)}),m.current={}}},[]),Ut.useEffect(()=>B1(u),[]);const C=a.useSisuBurst,k=a.torille,B=a.onOpenBuildPlanner,N=!C||v.active||s<Vi,j=C?v.active?"Burst already surging.":s<Vi?`Requires ${Vi} SISU.`:void 0:"Burst controls offline in this build.",q=!k||s<Zi,Z=k?s<Zi?`Requires ${Zi} SISU.`:void 0:"Torille rally is unavailable right now.",W=Ut.useMemo(()=>[{id:"burst",icon:"",label:"Sisu Burst",description:"Ignite a surge of fury and resilience across your warriors.",hotkey:{code:"KeyQ",label:"Q"},accent:"primary",cost:`-${Vi} SISU`,detail:v.active?`${v.status??"Burst active"}  ${ww(v.remaining)}`:void 0,blocked:N,blockedReason:j,interactive:!!C,onActivate:()=>C?C():!1},{id:"torille",icon:"",label:"Torille!",description:"Call every survivor home to the sauna to regroup and heal.",hotkey:{code:"KeyW",label:"W"},accent:"primary",cost:`-${Zi} SISU`,blocked:q,blockedReason:Z,interactive:!!k,onActivate:()=>k?k():!1},{id:"build",icon:"",label:"Build",description:"Draft new structures to reinforce your frontier.",hotkey:{code:"KeyE",label:"E"},accent:"neutral",blocked:!B,blockedReason:B?void 0:"Construction planner will unlock in a forthcoming update.",interactive:!!B,onActivate:()=>B?B()??!0:!1},{id:"sound",icon:c?"":"",label:c?"Muted":"Sound",description:"Toggle combat sound effects and ambience cues.",hotkey:{code:"KeyR",label:"R"},accent:"neutral",toggled:c,detail:c?"Silence engaged":"Soundscape active",interactive:!0,blocked:!1,onActivate:()=>(R1(!c),u(!c),!0)},{id:"pause",icon:b?"":"",label:b?"Paused":"Pause",description:b?"Time is frozen  resume when your strategy is ready.":"Freeze the battlefield to reassess and issue commands.",hotkey:{code:"Space",label:"Space"},accent:"neutral",toggled:b,detail:b?"Combat frozen":"Time flowing",interactive:!0,blocked:!1,onActivate:()=>(bw(),!0)}],[v.active,v.remaining,N,j,k,c,B,b,q,Z,C]),re=Ut.useCallback(F=>{if(!F.interactive){E(F.id);return}if(F.blocked){E(F.id);return}F.onActivate?.()===!1&&E(F.id)},[E]);return Ut.useEffect(()=>{const F=$=>{if($.repeat||Wp($))return;const _=W.find(L=>Jp($,L.hotkey));_&&($.preventDefault(),h(_.id),re(_))},ae=$=>{if(Wp($))return;const _=W.find(L=>Jp($,L.hotkey));_&&($.preventDefault(),h(L=>L===_.id?null:L))};return window.addEventListener("keydown",F),window.addEventListener("keyup",ae),()=>{window.removeEventListener("keydown",F),window.removeEventListener("keyup",ae)}},[W,re]),Vt.jsx("div",{className:"pointer-events-none w-full",children:Vt.jsx("div",{className:"pointer-events-auto mx-auto flex w-full max-w-4xl flex-col gap-4 rounded-[26px] border border-white/10 bg-[linear-gradient(145deg,rgba(11,17,30,0.86),rgba(6,10,18,0.92))] p-6 shadow-[0_26px_65px_rgba(6,12,24,0.6),_inset_0_1px_0_rgba(255,255,255,0.08)] backdrop-blur-xl","aria-label":"Combat and systems action bar",children:Vt.jsx("div",{className:"flex flex-wrap items-stretch justify-center gap-4",children:W.map(F=>{const ae=f===F.id,$=g.has(F.id),L=(F.blocked??!1)||!F.interactive,P=F.detail??F.blockedReason,T=Zp("group relative flex min-w-[150px] flex-1 flex-col gap-2 rounded-[20px] border border-white/10 px-5 py-4 text-left transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 focus-visible:ring-offset-0","bg-[radial-gradient(circle_at_top,rgba(56,189,248,0.22),rgba(14,25,45,0.6))] shadow-[0_18px_42px_rgba(8,25,53,0.55)]",F.accent==="primary"&&"border-sky-300/40 bg-[radial-gradient(circle_at_top,rgba(56,189,248,0.32),rgba(11,22,45,0.7))]",F.accent==="danger"&&"border-rose-400/45 bg-[radial-gradient(circle_at_top,rgba(244,114,182,0.32),rgba(45,9,25,0.75))]",ae&&"ring-2 ring-sky-300/80 ring-offset-0 translate-y-[-2px] shadow-[0_24px_48px_rgba(56,189,248,0.45)]",$&&'animate-hud-shake after:pointer-events-none after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-rose-300/45 after:bg-[radial-gradient(circle_at_center,rgba(248,113,113,0.18),rgba(248,113,113,0))] after:content-[""] after:animate-hud-pulse',!L&&!ae&&"hover:-translate-y-1 hover:shadow-[0_24px_50px_rgba(56,189,248,0.4)]",L&&"cursor-not-allowed opacity-70",F.toggled&&"border-sky-400/60 shadow-[0_0_36px_rgba(56,189,248,0.45)]");return Vt.jsxs("button",{type:"button",className:T,"aria-pressed":F.toggled?"true":void 0,"aria-disabled":L?"true":void 0,"data-hotkey":F.hotkey.label,onClick:K=>{if(L){K.preventDefault(),E(F.id);return}re(F)},onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),re(F))},title:Zp(F.description,F.blockedReason),children:[Vt.jsxs("div",{className:"flex items-center justify-between gap-3",children:[Vt.jsxs("span",{className:"flex items-center gap-3 text-base font-semibold uppercase tracking-[0.18em] text-slate-100",children:[Vt.jsx("span",{"aria-hidden":"true",className:"text-2xl",children:F.icon}),F.label]}),Vt.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.28em] text-slate-300/80",children:F.hotkey.label})]}),Vt.jsx("p",{className:"text-sm leading-relaxed text-slate-200/80",children:F.description}),Vt.jsxs("div",{className:"flex items-center justify-between text-xs font-medium uppercase tracking-[0.28em] text-slate-300/70",children:[Vt.jsx("span",{children:P??""}),F.cost?Vt.jsx("span",{className:"text-slate-200/90",children:F.cost}):Vt.jsx("span",{className:"opacity-0",children:"cost"})]})]},F.id)})})})})}function Rw(n,a,s={}){const l=ir(a),c=a.ownerDocument.createElement("div");c.dataset.component="action-bar",c.className="flex w-full justify-center";const u=l.regions.bottom,f=u.querySelector("#build-id");f?u.insertBefore(c,f):u.appendChild(c);const h=fw.createRoot(c);return h.render(Vt.jsx(Cw,{state:n,abilities:s})),{destroy(){h.unmount(),c.remove()}}}const Bw="(max-width: 820px)",Bv="is-mobile",Mv="is-desktop";let Hn=null,wc=null,Vn=!1,$o=0;const Sc=new Set,jf=new Set,xc=n=>{for(const a of jf)a.classList.toggle(Bv,n),a.classList.toggle(Mv,!n),a.dataset.viewport=n?"mobile":"desktop"},Mw=n=>{if(Vn!==n){Vn=n,xc(Vn);for(const a of Array.from(Sc))try{a(Vn)}catch(s){console.error("Failed to notify mobile listener",s)}}},Dv=()=>{if(Hn||typeof window>"u")return;Hn=window.matchMedia(Bw),Vn=Hn.matches,xc(Vn);const n=a=>{Mw(a.matches)};typeof Hn.addEventListener=="function"?(Hn.addEventListener("change",n),wc=()=>Hn?.removeEventListener("change",n)):(Hn.addListener(n),wc=()=>Hn?.removeListener(n))},Dw=()=>{Hn&&(wc?.(),wc=null,Hn=null)},Tv=(n,{immediate:a=!0}={})=>(Dv(),Sc.add(n),a&&n(Vn),()=>{Sc.delete(n)}),Tw=({root:n,onChange:a,immediate:s=!0}={})=>{Dv();const l=n??(typeof document<"u"?document.documentElement:null);l&&(jf.add(l),xc(Vn)),$o+=1;let c=null;return a?c=Tv(a,{immediate:s}):s&&Hn&&xc(Vn),{matches:()=>Vn,dispose:()=>{l&&(jf.delete(l),l.classList.remove(Bv,Mv),(l.dataset.viewport==="mobile"||l.dataset.viewport==="desktop")&&delete l.dataset.viewport),c&&(c(),c=null),$o=Math.max(0,$o-1),$o===0&&Sc.size===0&&Dw()}}};function kw(n){const a=[n.name];return n.description&&a.push(n.description),n.rarity&&a.push(`Rarity: ${n.rarity}`),n.quantity>1&&a.push(`Quantity: ${n.quantity}`),a.join("  ")}function Hw(n){const a=document.createElement("span");a.classList.add("item-icon__fallback");const s=n.trim();return a.textContent=s?s[0]?.toUpperCase()??"?":"?",a.setAttribute("aria-hidden","true"),a}function Ow(n,a){const s=document.createElement("img");return s.src=n,s.alt="",s.decoding="async",s.loading="lazy",s.classList.add("item-icon__image"),s.setAttribute("aria-hidden","true"),s.title=a,s}function Nw(n){const a=document.createElement("li");a.classList.add("item-icon"),a.dataset.itemId=n.id;const s=kw(n);if(a.title=s,a.setAttribute("aria-label",s),a.setAttribute("role","listitem"),n.rarity&&(a.dataset.rarity=n.rarity.toLowerCase()),n.icon&&n.icon.trim().length>0?a.appendChild(Ow(n.icon,n.name)):a.appendChild(Hw(n.name)),n.quantity>1){const l=document.createElement("span");l.classList.add("item-icon__quantity"),l.textContent=`${n.quantity}`,l.setAttribute("aria-hidden","true"),a.appendChild(l)}return a}const Pw=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function zf(n){return n===1/0?"":!Number.isFinite(n)||n<=0?"0s":`${Pw.format(Math.ceil(n))}s`}function Qw(n){const a=[n.name];return n.description&&a.push(n.description),n.source&&a.push(`Source: ${n.source}`),n.duration!==1/0&&a.push(`Duration: ${zf(n.duration)}`),a.push(`Remaining: ${zf(n.remaining)}`),n.stacks&&n.stacks>1&&a.push(`Stacks: ${n.stacks}`),a.join("  ")}function Gw(n){const a=document.createElement("li");a.classList.add("mod-pill"),a.dataset.modifierId=n.id,a.title=Qw(n),a.setAttribute("aria-label",a.title),a.setAttribute("role","listitem"),a.dataset.duration=n.duration===1/0?"infinite":String(n.duration),a.dataset.remaining=n.remaining===1/0?"infinite":String(n.remaining),n.appliedAt!==void 0&&(a.dataset.appliedAt=String(n.appliedAt)),n.stacks&&n.stacks>1&&(a.dataset.stacks=String(n.stacks));const s=document.createElement("span");if(s.classList.add("mod-pill__name"),s.textContent=n.name,s.setAttribute("aria-hidden","true"),a.appendChild(s),n.stacks&&n.stacks>1){const c=document.createElement("span");c.classList.add("mod-pill__stacks"),c.textContent=`${n.stacks}`,c.setAttribute("aria-hidden","true"),a.appendChild(c)}const l=document.createElement("span");return l.classList.add("mod-pill__timer"),l.textContent=zf(n.remaining),l.setAttribute("aria-hidden","true"),a.appendChild(l),n.remaining!==1/0&&n.remaining<=5&&(a.dataset.urgent="true"),a}const If={engaged:"Engaged on the field",reserve:"On reserve duty",downed:"Recovering from battle"},_e=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),$p="panel-roster-title";function Lw(n){return n.length===0?"No defining traits yet":n.join("  ")}function kv(n){return Number.isFinite(n)?Math.max(0,Math.min(100,Math.round(n*100))):0}function Uw(n){const a=_e;if(n.xpForNext===null)return`${a.format(n.xp)} XP  Max level`;const s=kv(n.progress);return`${a.format(n.xpIntoLevel)} / ${a.format(n.xpForNext)} XP  ${s}%`}function Hv(n){const a=[],s=(l,c)=>{c>0&&a.push(`+${_e.format(c)} ${l}`)};return s("Vigor",n.vigor),s("Focus",n.focus),s("Resolve",n.resolve),a.length===0?"No level bonuses yet":a.join("  ")}function js(n,a){const l=Math.round(n-(typeof a=="number"?a:0));if(l===0)return"";const c=_e.format(Math.abs(l));return l>0?` (+${c})`:` (-${c})`}function jw(n){if(!n)return"No stat changes";const a=[],s=(l,c)=>{if(typeof c=="number"&&c!==0){const u=c>0?"+":"";a.push(`${l} ${u}${_e.format(Math.abs(c))}`)}};return s("HP",n.health),s("ATK",n.attackDamage),s("RNG",n.attackRange),s("MOV",n.movementRange),s("DEF",n.defense),s("Shield",n.shield),a.length===0?"No stat changes":a.join(", ")}function zw(n){const{stats:a,baseStats:s}=n,l=[`HP ${_e.format(a.health)}/${_e.format(a.maxHealth)}${js(a.maxHealth,s.maxHealth)}`];return a.shield&&a.shield>0&&l.push(`Shield ${_e.format(a.shield)}${js(a.shield,s.shield)}`),l.push(`ATK ${_e.format(a.attackDamage)}${js(a.attackDamage,s.attackDamage)}`),l.push(`RNG ${_e.format(a.attackRange)}${js(a.attackRange,s.attackRange)}`),a.defense&&a.defense>0&&l.push(`DEF ${_e.format(a.defense)}${js(a.defense,s.defense)}`),l.push(`MOV ${_e.format(a.movementRange)}${js(a.movementRange,s.movementRange)}`),l.push(`Upkeep ${_e.format(n.upkeep)} beer`),l.join("  ")}function Iw(n){const{stats:a}=n,s=[n.name,If[n.status]];s.push(`level ${n.progression.level}`),s.push(`health ${_e.format(a.health)} of ${_e.format(a.maxHealth)}`),a.shield&&a.shield>0&&s.push(`shield ${_e.format(a.shield)}`),s.push(`attack ${_e.format(a.attackDamage)}`),a.defense&&a.defense>0&&s.push(`defense ${_e.format(a.defense)}`),a.attackRange>0&&s.push(`attack range ${_e.format(a.attackRange)}`),s.push(`movement ${_e.format(a.movementRange)}`),s.push(`upkeep ${_e.format(n.upkeep)} beer`),n.progression.xpForNext===null?s.push(`${_e.format(n.progression.xp)} total experience`):s.push(`${_e.format(n.progression.xpIntoLevel)} of ${_e.format(n.progression.xpForNext)} experience toward next level`);const l=Hv(n.progression.statBonuses);l&&s.push(`level bonuses ${l}`);const c=n.equipment.filter(u=>u.item).length;return c>0&&s.push(`${c} equipped item${c===1?"":"s"}`),n.modifiers.length>0&&s.push(`${n.modifiers.length} active modifier${n.modifiers.length===1?"":"s"}`),s.join(", ")}function Fw(n,a){const s=a.filter(h=>h.status==="engaged").length,l=a.filter(h=>h.status==="reserve").length,c=a.filter(h=>h.status==="downed").length,u=(h,m,g)=>{const p=document.createElement("span");return p.classList.add("panel-roster__metric"),p.dataset.status=g,p.textContent=`${_e.format(m)} ${h}`,p.setAttribute("aria-label",p.textContent),p},f=document.createElement("div");f.classList.add("panel-roster__metrics"),f.append(u("engaged",s,"engaged"),u("reserve",l,"reserve"),u("downed",c,"downed")),n.appendChild(f)}function qw(n,a,s){const l=document.createElement("div");l.classList.add("panel-roster__loadout");const c=document.createElement("ul");c.classList.add("panel-roster__slots"),c.setAttribute("role","list"),c.setAttribute("aria-label",`${a.name} equipment slots`);for(const u of a.equipment){const f=document.createElement("li");f.classList.add("panel-roster__slot"),f.dataset.slot=u.id;const h=document.createElement("div");h.classList.add("panel-roster__slot-header");const m=document.createElement("span");m.classList.add("panel-roster__slot-label"),m.textContent=u.label,m.title=u.description,h.appendChild(m);const g=document.createElement("span");if(g.classList.add("panel-roster__slot-summary"),g.textContent=u.item?u.item.name:"Empty",g.title=u.description,h.appendChild(g),f.appendChild(h),u.item){const C=document.createElement("ul");C.classList.add("panel-roster__slot-icons"),C.setAttribute("role","list"),C.appendChild(Nw(u.item)),f.appendChild(C)}const p=document.createElement("span");p.classList.add("panel-roster__slot-modifiers"),p.textContent=jw(u.modifiers),p.title=p.textContent,f.appendChild(p);const v=document.createElement("div");v.classList.add("panel-roster__slot-actions");const b=document.createElement("button");b.type="button",b.classList.add("panel-roster__slot-action"),b.textContent=u.item?"Replace":"Equip",b.setAttribute("aria-label",`Equip ${u.label} for ${a.name}`),b.addEventListener("click",C=>{C.stopPropagation(),s.onEquipSlot?.(a.id,u.id)}),v.appendChild(b);const E=document.createElement("button");E.type="button",E.classList.add("panel-roster__slot-action"),E.textContent="Unequip",E.disabled=u.item===null,E.setAttribute("aria-label",`Unequip ${u.label} from ${a.name}`),E.addEventListener("click",C=>{C.stopPropagation(),E.disabled||s.onUnequipSlot?.(a.id,u.id)}),v.appendChild(E),f.appendChild(v),c.appendChild(f)}if(l.appendChild(c),a.modifiers.length>0){const u=document.createElement("ul");u.classList.add("panel-roster__mods"),u.setAttribute("role","list"),u.setAttribute("aria-label",`${a.name} active modifiers`),u.title=a.modifiers.map(f=>f.name).join(", ");for(const f of a.modifiers)u.appendChild(Gw(f));l.appendChild(u)}n.appendChild(l)}function Xw(n,a={}){return{render:l=>{n.innerHTML="",n.dataset.count=String(l.length),n.classList.add("panel-roster");const c=document.createElement("div");c.classList.add("panel-roster__header");const u=document.createElement("h4");u.classList.add("panel-roster__title"),u.textContent="Battalion Roster",u.id=$p,c.appendChild(u),n.setAttribute("aria-labelledby",$p);const f=l.length===0?"No attendants mustered yet":`${_e.format(l.length)} attendant${l.length===1?"":"s"} enlisted`,h=document.createElement("span");if(h.classList.add("panel-roster__count"),h.textContent=f,c.appendChild(h),n.appendChild(c),l.length===0){const g=document.createElement("p");g.classList.add("panel-roster__empty"),g.textContent="No attendants have rallied to the sauna yet.",n.appendChild(g);return}Fw(n,l);const m=document.createElement("ul");m.classList.add("panel-roster__list"),m.setAttribute("role","list");for(const g of l){const p=document.createElement("li");p.classList.add("panel-roster__row");const v=document.createElement("button");v.type="button",v.classList.add("panel-roster__item"),v.dataset.unitId=g.id,v.dataset.status=g.status,v.setAttribute("aria-pressed",g.selected?"true":"false"),v.setAttribute("aria-label",Iw(g)),v.title=`${g.name}  ${If[g.status]}`,g.selected&&v.classList.add("is-selected"),g.status==="downed"&&v.classList.add("is-downed");const b=document.createElement("div");b.classList.add("panel-roster__name-row");const E=document.createElement("div");E.classList.add("panel-roster__identity");const C=document.createElement("span");C.classList.add("panel-roster__level"),C.dataset.level=String(g.progression.level),C.style.setProperty("--level-progress","0%");const k=kv(g.progression.progress);C.style.setProperty("--level-progress",`${k}%`),C.setAttribute("role","img");const B=g.progression.xpForNext===null?`Level ${g.progression.level}, at mastery`:`Level ${g.progression.level}, ${k}% toward next level`;C.setAttribute("aria-label",B);const N=document.createElement("span");N.classList.add("panel-roster__level-value"),N.textContent=String(g.progression.level),C.appendChild(N);const j=document.createElement("span");j.classList.add("panel-roster__name"),j.textContent=g.name,j.title=g.name,E.append(C,j),b.appendChild(E);const q=document.createElement("span");q.classList.add("panel-roster__status"),q.dataset.status=g.status,q.textContent=If[g.status],b.appendChild(q);const Z=document.createElement("div");Z.classList.add("panel-roster__meta");const W=zw(g);Z.textContent=W,Z.title=W;const re=document.createElement("div");re.classList.add("panel-roster__xp");const F=Uw(g.progression);re.textContent=F,re.title=F;const ae=document.createElement("div");ae.classList.add("panel-roster__callouts");const $=Hv(g.progression.statBonuses);ae.textContent=$,ae.title=$;const _=document.createElement("div");_.classList.add("panel-roster__health");const L=document.createElement("div");L.classList.add("panel-roster__health-fill");const P=g.stats.maxHealth>0?Math.max(0,Math.min(100,Math.round(g.stats.health/g.stats.maxHealth*100))):0;L.style.width=`${P}%`,L.dataset.percent=`${P}`,_.appendChild(L);const T=document.createElement("div");T.classList.add("panel-roster__traits");const K=Lw(g.traits);T.textContent=K,T.title=K,v.append(b,re,Z,ae,_,T),qw(v,g,a),typeof a.onSelect=="function"&&v.addEventListener("click",()=>a.onSelect?.(g.id)),p.appendChild(v),m.appendChild(p)}n.appendChild(m)}}}const Yw=150,_w="autobattles:log-history:v2",Ov="autobattles:log-preferences:v1",fh=typeof window<"u"&&typeof window.localStorage<"u"?window.localStorage:null;let eA=0;const tA=()=>(eA+=1,`${Date.now().toString(36)}-${eA.toString(36)}`),dl=n=>{if(Array.isArray(n))return n.map(a=>typeof a=="string"?a.trim():"").filter(a=>a.length>0);if(typeof n=="string"){const a=n.trim();return a?[a]:[]}return[]},gf=n=>n?typeof n!="object"?{}:{...n}:{},Kw=n=>{if(!n)return null;if(typeof n.unitId=="string"&&n.unitId.trim().length>0)return n.unitId.trim();const a=dl(n.unitIds);return a.length>0?a[a.length-1]:null},Vw=(n,a)=>{const s=dl(n.unitIds??n.unitId),l=dl(a.unitIds??a.unitId),c=Array.from(new Set([...s,...l])),u=dl(n.unitNames??n.unitName),f=dl(a.unitNames??a.unitName),h=Array.from(new Set([...u,...f])),m=typeof a.steward=="string"?a.steward:n.steward,g={...n,...a,unitIds:c,unitNames:h};return typeof m=="string"&&(g.steward=m),h.length>0&&(g.unitName=h[h.length-1]),c.length>0&&(g.unitId=c[c.length-1]),g};class Zw{history=[];listeners=new Set;storage;storageKey;maxEntries;constructor(a={}){this.storage=a.storage??fh,this.storageKey=a.storageKey??_w,this.maxEntries=Math.max(1,a.maxEntries??Yw),this.hydrate()}hydrate(){if(this.storage)try{const a=this.storage.getItem(this.storageKey);if(!a)return;const s=JSON.parse(a);if(!Array.isArray(s))return;const l=[];for(const c of s){if(!c||typeof c!="object")continue;const u=c;if(typeof u.type!="string"||typeof u.message!="string")continue;const f={id:typeof u.id=="string"?u.id:tA(),type:u.type,message:u.message,metadata:gf(u.metadata),timestamp:typeof u.timestamp=="number"&&Number.isFinite(u.timestamp)?u.timestamp:Date.now(),occurrences:typeof u.occurrences=="number"&&u.occurrences>0?Math.floor(u.occurrences):1};l.push(f)}l.length>0&&(l.length>this.maxEntries?this.history=l.slice(-this.maxEntries):this.history=l)}catch{this.history=[]}}persist(){if(this.storage)try{const a=JSON.stringify(this.history.map(s=>({id:s.id,type:s.type,message:s.message,metadata:s.metadata,timestamp:s.timestamp,occurrences:s.occurrences})));this.storage.setItem(this.storageKey,a)}catch{}}getHistory(){return this.history.map(a=>({...a,metadata:gf(a.metadata)}))}subscribe(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}clear(){if(this.history.length===0)return;const a=this.history.slice();this.history=[],this.persist(),this.emitChange({kind:"remove",entries:a})}emit(a){const s=gf(a.metadata),l={id:tA(),type:a.type,message:a.message,metadata:s,timestamp:Date.now(),occurrences:1},c=this.tryAggregate(l);if(c)return this.history[c.index]=c.entry,this.persist(),this.emitChange({kind:"update",entry:c.entry,index:c.index}),c.entry;this.history.push(l);const u=[];for(;this.history.length>this.maxEntries;){const h=this.history.shift();h&&u.push(h)}this.persist(),u.length>0&&this.emitChange({kind:"remove",entries:u});const f=this.history.length-1;return this.emitChange({kind:"append",entry:l,index:f}),l}tryAggregate(a){if(a.type!=="spawn"||!Kw(a.metadata)||this.history.length===0)return null;const l=this.history.length-1,c=this.history[l];return c.type!=="spawn"?null:{entry:{...c,id:c.id,message:a.message,metadata:Vw(c.metadata??{},a.metadata??{}),timestamp:a.timestamp,occurrences:c.occurrences+a.occurrences},index:l}}emitChange(a){for(const s of this.listeners)try{s(a)}catch(l){console.warn("Failed to handle log change",l)}}}const hh=new Zw,Nt=n=>hh.emit(n),Jw=n=>hh.subscribe(n),Ww=()=>hh.getHistory(),gl={combat:{label:"Combat",accent:"var(--color-accent-red)"},spawn:{label:"Reinforcements",accent:"var(--color-accent-green)"},loot:{label:"Loot",accent:"var(--color-accent-gold)"},progression:{label:"Progression",accent:"var(--color-accent-blue)"},ability:{label:"Abilities",accent:"var(--color-accent-purple)"},resource:{label:"Economy",accent:"var(--color-accent-cyan)"},policy:{label:"Policies",accent:"var(--color-accent-orange)"},event:{label:"Events",accent:"var(--color-accent-pink)"},system:{label:"Systems",accent:"var(--color-muted)"}},nA=["combat","spawn","loot","progression","ability","resource","policy","event","system"],ec={mutedTypes:[]},$w=(n=fh)=>{if(!n)return{...ec};try{const a=n.getItem(Ov);if(!a)return{...ec};const s=JSON.parse(a);if(!s||typeof s!="object")return{...ec};const l=Array.isArray(s.mutedTypes)?s.mutedTypes.filter(c=>typeof c=="string"&&c in gl):[];return{mutedTypes:Array.from(new Set(l))}}catch{return{...ec}}},eS=(n,a=fh)=>{if(a)try{const s=Array.isArray(n.mutedTypes)?n.mutedTypes.filter(l=>l in gl):[];a.setItem(Ov,JSON.stringify({mutedTypes:Array.from(new Set(s))}))}catch{}},pf=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function tS(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{log:()=>{},addEvent:()=>{},renderRoster:()=>{},dispose:()=>{}};const{regions:l,mobileBar:c}=ir(s),u=l.top,f=l.right,h=s.querySelector("#right-panel");h&&h.remove();const m=s.querySelector(".right-panel-slide");m&&m.remove();const g=s.querySelector("#right-panel-toggle");g&&g.remove();const p=document.createElement("div");p.id="right-panel",p.classList.add("hud-card"),p.setAttribute("role","complementary"),p.setAttribute("aria-label","Sauna command console"),p.tabIndex=-1;const v=document.createElement("div");v.className="right-panel-slide",v.setAttribute("aria-hidden","true");const b=document.createElement("div");b.className="right-panel-slide__backdrop",b.setAttribute("aria-hidden","true");const E=document.createElement("div");E.className="right-panel-slide__sheet",E.appendChild(p),v.append(b,E);const C=window.matchMedia("(max-width: 1040px)"),k=[],B=document.createElement("button");B.type="button",B.id="right-panel-toggle",B.classList.add("hud-panel-toggle"),B.setAttribute("aria-controls",p.id);const N=document.createElement("span");N.classList.add("hud-panel-toggle__icon"),N.setAttribute("aria-hidden","true");const j=document.createElement("span");j.classList.add("hud-panel-toggle__icon-bars"),N.appendChild(j);const q=document.createElement("span");q.classList.add("hud-panel-toggle__text");const Z=document.createElement("span");Z.classList.add("hud-panel-toggle__title"),Z.textContent="Command Console";const W=document.createElement("span");W.classList.add("hud-panel-toggle__state"),q.append(Z,W),B.append(N,q);const re=()=>{const M=u.querySelector("#topbar");M&&M.parentElement===u?M.insertAdjacentElement("afterend",B):u.prepend(B)};let F=!1,ae=!1,$=!1,_=!1;const L="is-mobile-panel-open",P=()=>{$?W.textContent=_?"Close":"Menu":W.textContent=F?"Open":"Close"},T=()=>{if($){B.setAttribute("aria-expanded",_?"true":"false");const M=_?"Close command console panel":"Open command console panel";B.setAttribute("aria-label",M),B.title=_?"Close the sauna command console overlay":"Open the sauna command console overlay"}else{B.setAttribute("aria-expanded",F?"false":"true");const M=F?"Open command console panel":"Close command console panel";B.setAttribute("aria-label",M),B.title=F?"Open the sauna command console overlay":"Close the sauna command console overlay"}},K=()=>{P(),T()},z=(M,X=C.matches)=>{if($)return;const le=F;X&&(ae=M);const de=M&&X;F=de,p.classList.toggle("right-panel--collapsed",de),p.setAttribute("aria-hidden",de?"true":"false"),K(),le&&!de&&X&&p.focus({preventScroll:!0})},R=M=>{!$||!_||M.key==="Escape"&&(M.preventDefault(),I())};let U=!1;const se=()=>{U||(document.addEventListener("keydown",R),U=!0)},fe=()=>{U&&(document.removeEventListener("keydown",R),U=!1)},w=()=>{!$||_||(_=!0,v.classList.add("right-panel-slide--open"),v.setAttribute("aria-hidden","false"),p.setAttribute("aria-hidden","false"),document.body.classList.add(L),v.style.setProperty("--panel-drag-progress","1"),K(),se(),requestAnimationFrame(()=>{p.focus({preventScroll:!0})}))},I=({skipFocus:M=!1}={})=>{!$||!_||(Ce(),_=!1,v.classList.remove("right-panel-slide--open"),v.setAttribute("aria-hidden","true"),p.setAttribute("aria-hidden","true"),document.body.classList.remove(L),v.style.setProperty("--panel-drag-progress","0"),K(),fe(),M||B.focus({preventScroll:!0}))},te=M=>{if($)return;const X=M.matches;B.hidden=!X,z(X?ae:!1,X)};typeof C.addEventListener=="function"?(C.addEventListener("change",te),k.push(()=>C.removeEventListener("change",te))):(C.addListener(te),k.push(()=>C.removeListener(te)));const ee=()=>{if($){_?I():w();return}z(!F)};B.addEventListener("click",ee),k.push(()=>B.removeEventListener("click",ee));const oe=()=>{I()};b.addEventListener("click",oe),k.push(()=>b.removeEventListener("click",oe));let ge=null,he=0,Ie=0;const Ce=()=>{ge!==null&&(E.releasePointerCapture(ge),ge=null),E.style.transition="",E.style.transform="",v.style.setProperty("--panel-drag-progress",_?"1":"0")},xt=M=>{!$||!_||M.pointerType==="mouse"&&M.button!==0||(ge=M.pointerId,he=M.clientX,Ie=0,E.style.transition="none",E.setPointerCapture(M.pointerId))},Jt=M=>{if(!$||M.pointerId!==ge||!_)return;Ie=Math.max(0,M.clientX-he);const X=E.offsetWidth||1,le=Math.min(Ie,X);E.style.transform=`translateX(${le}px)`,v.style.setProperty("--panel-drag-progress",String(1-le/X))},wn=M=>{Ce(),M&&I()},Wt=M=>{if(M.pointerId!==ge)return;const X=E.offsetWidth||1,le=Ie>X*.35;wn(le)},zt=()=>{wn(!1)};E.addEventListener("pointerdown",xt),E.addEventListener("pointermove",Jt),E.addEventListener("pointerup",Wt),E.addEventListener("pointercancel",zt),k.push(()=>{E.removeEventListener("pointerdown",xt),E.removeEventListener("pointermove",Jt),E.removeEventListener("pointerup",Wt),E.removeEventListener("pointercancel",zt)});const It=Tv(M=>{$=M,$?(E.appendChild(p),v.isConnected||s.appendChild(v),c.appendChild(B),B.classList.add("hud-panel-toggle--mobile"),B.hidden=!1,_||(p.setAttribute("aria-hidden","true"),v.setAttribute("aria-hidden","true"),v.style.setProperty("--panel-drag-progress","0"))):(I({skipFocus:!0}),v.style.setProperty("--panel-drag-progress","1"),v.remove(),f.appendChild(p),re(),B.classList.remove("hud-panel-toggle--mobile"),B.hidden=!C.matches,p.setAttribute("aria-hidden","false"),z(ae,C.matches)),K()});k.push(It);const na=document.createElement("div");na.classList.add("panel-tabs"),p.appendChild(na);const aa=document.createElement("div");aa.classList.add("panel-content"),p.appendChild(aa);const lt=document.createElement("div");lt.id="right-panel-roster",lt.setAttribute("role","region"),lt.setAttribute("aria-live","polite"),lt.setAttribute("aria-label","Battalion roster");const ia=document.createElement("div");ia.id="right-panel-policies";const Sn=document.createElement("div");Sn.id="right-panel-events";const fn=document.createElement("div");fn.id="right-panel-log",fn.setAttribute("role","region"),fn.setAttribute("aria-label","Combat log");const Ft=document.createElement("section");Ft.className="panel-log";const za=document.createElement("header");za.className="panel-log__header";const xn=document.createElement("h3");xn.className="panel-log__title",xn.textContent="Combat Log";const Ln=document.createElement("span");Ln.className="panel-log__total",Ln.textContent="0 entries",za.append(xn,Ln);const Cn=document.createElement("div");Cn.className="panel-log__filters";const Ne=document.createElement("div");Ne.id="event-log",Ne.className="panel-log__feed",Ne.setAttribute("role","log"),Ne.setAttribute("aria-live","polite"),Ft.append(za,Cn,Ne),fn.appendChild(Ft);const Ze={Roster:lt,Policies:ia,Events:Sn,Log:fn},{onRosterSelect:$t,onRosterRendererReady:dt,onRosterEquipSlot:ts,onRosterUnequipSlot:sr}=a;for(const[M,X]of Object.entries(Ze))X.classList.add("panel-section","panel-section--scroll"),X.dataset.tab=M,X.hidden=!0;fn.classList.add("panel-section--log");function ns(M){for(const[X,le]of Object.entries(Ze))le.hidden=X!==M;for(const X of Array.from(na.children)){const le=X,de=le.textContent===M;le.disabled=de,le.setAttribute("aria-pressed",de?"true":"false")}}for(const M of Object.keys(Ze)){const X=document.createElement("button");X.type="button",X.textContent=M;const le=Ze[M];le?.id&&X.setAttribute("aria-controls",le.id),X.setAttribute("aria-pressed","false");const de=()=>ns(M);X.addEventListener("click",de),k.push(()=>X.removeEventListener("click",de)),na.appendChild(X),aa.appendChild(Ze[M])}const Si=Xw(lt,{onSelect:$t,onEquipSlot:ts,onUnequipSlot:sr}),sa=M=>{Si.render(M)};sa([]),typeof dt=="function"&&dt(sa);const Rn={[ie.SAUNA_BEER]:"Sauna Beer Bottles",[ie.SAUNAKUNNIA]:"Saunakunnia",[ie.SISU]:"Sisu"},ce=_A(),ye=new Map;function be(M){const X=document.createElement("span");return X.className="policy-card__badge",X.textContent=M,X}function De(M){const X=document.createElement("article");X.className="policy-card",X.style.setProperty("--policy-gradient",M.visuals.gradient),X.style.setProperty("--policy-accent",M.visuals.accentColor);const le=document.createElement("div");le.className="policy-card__header";const de=document.createElement("div");de.className="policy-card__icon-frame";const Te=document.createElement("img");Te.className="policy-card__icon",Te.src=M.visuals.icon,Te.alt=`${M.name} icon`,de.appendChild(Te);const Fe=document.createElement("div");Fe.className="policy-card__heading";const Me=document.createElement("h4");if(Me.className="policy-card__title",Me.textContent=M.name,Fe.appendChild(Me),M.visuals.badges?.length){const zn=document.createElement("div");zn.className="policy-card__badges",M.visuals.badges.forEach(Pl=>zn.appendChild(be(Pl))),Fe.appendChild(zn)}const $e=document.createElement("span");$e.className="policy-card__state",$e.textContent="Ready",le.append(de,Fe,$e);const en=document.createElement("p");en.className="policy-card__description",en.textContent=M.description;const bt=M.visuals.flair?(()=>{const zn=document.createElement("p");return zn.className="policy-card__flair",zn.textContent=M.visuals.flair??"",zn})():null,tn=document.createElement("div");tn.className="policy-card__actions";const nn=document.createElement("span");nn.className="policy-card__cost";const Mi=document.createElement("span");Mi.className="policy-card__cost-label",Mi.textContent="Cost";const mt=document.createElement("span");mt.className="policy-card__cost-value",mt.textContent=`${pf.format(M.cost)} ${Rn[M.resource]}`,nn.append(Mi,mt);const et=document.createElement("button");et.type="button",et.className="policy-card__action",et.textContent="Enact Policy";const Xa=document.createElement("p");Xa.className="policy-card__status";const Ya=document.createElement("ul");Ya.className="policy-card__requirements",Ya.hidden=!0,tn.append(nn,et);const ga=()=>{n.applyPolicy(M.id)&&ft(M)};return et.addEventListener("click",ga),k.push(()=>et.removeEventListener("click",ga)),X.append(le,en),bt&&X.appendChild(bt),X.append(tn,Xa,Ya),ye.set(M.id,{card:X,action:et,stateBadge:$e,statusCopy:Xa,requirements:Ya,costChip:nn}),X}function yt(){ia.innerHTML="",ye.clear();const M=document.createElement("div");M.className="policy-grid",ce.forEach(X=>{const le=De(X);M.appendChild(le)}),ia.appendChild(M),Ct()}function ft(M){const X=ye.get(M.id);if(!X)return;const le=n.hasPolicy(M.id),de=M.prerequisites.filter(bt=>!bt.isSatisfied(n)),Te=n.canAfford(M.cost,M.resource);X.action.disabled=le||de.length>0||!Te,X.action.textContent=le?"Enacted":"Enact Policy";let Fe="ready",Me="Ready",$e=M.spotlight??"All signals point to go.";X.requirements.innerHTML="",X.requirements.hidden=!0,le?(Fe="applied",Me="Enacted",$e=M.visuals.flair??"Policy active."):de.length>0?(Fe="locked",Me="Locked",$e="Awaiting requirements:",X.requirements.hidden=!1,de.forEach(bt=>{const tn=document.createElement("li");tn.textContent=bt.description,X.requirements.appendChild(tn)})):Te||(Fe="budget",Me="Needs Resources",$e=`Earn ${pf.format(M.cost)} ${Rn[M.resource]} to enact this edict.`),X.card.dataset.status=Fe,X.stateBadge.textContent=Me,X.statusCopy.textContent=$e;const en=!le&&de.length===0&&!Te;X.costChip.classList.toggle("policy-card__cost--warning",en)}function Ct(){ce.forEach(M=>ft(M))}yt();const ra=M=>Ct(),la=M=>Ct(),oa=M=>Ct();ne.on("resourceChanged",ra),ne.on(jt.APPLIED,la),ne.on(jt.REJECTED,oa),k.push(()=>{ne.off("resourceChanged",ra),ne.off(jt.APPLIED,la),ne.off(jt.REJECTED,oa)});function ca(M,X){const le=document.createElement("button");le.type="button",le.classList.add("event-card__choice"),X.accent&&le.classList.add(`event-card__choice--${X.accent}`),le.dataset.choiceId=X.id;const de=document.createElement("span");if(de.className="event-card__choice-label",de.textContent=X.label,le.appendChild(de),X.description){const Te=document.createElement("span");Te.className="event-card__choice-detail",Te.textContent=X.description,le.appendChild(Te)}return le.addEventListener("click",()=>{if(!le.isConnected)return;le.disabled=!0,fc.resolve(M.id,X.id)||(le.disabled=!1)}),le}function ua(M){if(Sn.innerHTML="",M.length===0){const le=document.createElement("div");le.className="event-card event-card--empty";const de=document.createElement("p");de.className="event-card__empty",de.textContent="All clear. Command will notify you when new briefings arrive.",le.appendChild(de),Sn.appendChild(le);return}const X=document.createDocumentFragment();for(const le of M){const de=document.createElement("article");de.className="event-card",de.dataset.eventId=le.id,de.style.setProperty("--event-accent",le.accentColor??"var(--color-accent)");const Te=(le.typography??"sans").toLowerCase();de.classList.add(`event-card--${["serif","mono"].includes(Te)?Te:"sans"}`);const Fe=(le.animation??"").toLowerCase();["aurora","pulse","tilt"].includes(Fe)&&de.classList.add(`event-card--${Fe}`);const Me=document.createElement("div");if(Me.className="event-card__frame",le.art){const et=document.createElement("div");et.className="event-card__media",et.style.backgroundImage=`url(${le.art})`,Me.appendChild(et)}const $e=document.createElement("div");$e.className="event-card__body";const en=document.createElement("span");en.className="event-card__badge",en.textContent="Priority Dispatch",$e.appendChild(en);const bt=document.createElement("h4");bt.className="event-card__headline",bt.textContent=le.headline,$e.appendChild(bt);const tn=document.createElement("p");tn.className="event-card__copy",tn.textContent=le.body,$e.appendChild(tn);const nn=document.createElement("div");nn.className="event-card__choices";const Mi=le.choices&&le.choices.length>0?le.choices:[{id:"acknowledge",label:le.acknowledgeText??"Acknowledge"}];for(const et of Mi){const Xa=ca(le,{id:et.id,label:et.label,description:et.description,event:et.event,payload:et.payload,accent:et.accent});nn.appendChild(Xa)}$e.appendChild(nn),Me.appendChild($e);const mt=document.createElement("span");mt.className="event-card__shimmer",de.append(Me,mt),X.appendChild(de)}Sn.appendChild(X)}const Bl=fc.subscribe(ua);k.push(Bl);const Ml=({event:M})=>{Nt({type:"event",message:`Event  ${M.headline}`,metadata:{eventId:M?.id??M.headline,headline:M.headline}})};ne.on(vc.TRIGGERED,Ml),k.push(()=>{ne.off(vc.TRIGGERED,Ml)});function Un(M){fc.publish(M)}const Je=new Map,ht=new Map,da=new Map,Ia=new Set($w().mutedTypes??[]),Bn=new Set;for(const M of nA)Ia.has(M)||Bn.add(M),ht.set(M,0);let as=0,xi=!0;const Ci=typeof requestAnimationFrame=="function"?requestAnimationFrame:M=>setTimeout(M,16),is=M=>pf.format(Math.max(0,M)),fa=()=>{const M=as===1?"entry":"entries";Ln.textContent=`${is(as)} ${M}`},Fa=M=>{const X=da.get(M);X&&(X.textContent=is(ht.get(M)??0))},ha=(M,X)=>{if(X===0)return;const le=ht.get(M)??0;ht.set(M,Math.max(0,le+X)),as=Math.max(0,as+X),Fa(M),fa()},ma=()=>Ne.scrollHeight-(Ne.scrollTop+Ne.clientHeight)<48,We=()=>{Ci(()=>{Ne.scrollTop=Ne.scrollHeight,xi=!0})},ss=M=>{const X=Bn.has(M.type);M.element.hidden=!X,M.element.classList.toggle("panel-log-entry--muted",!X)},Dl=M=>{const X=M.metadata??{};return(Array.isArray(X.unitNames)?X.unitNames:typeof X.unitName=="string"?[X.unitName]:[]).map(de=>typeof de=="string"?de.trim():"").filter(de=>de.length>0)},jn=(M,X)=>{if(X.type!=="spawn"){M.replaceChildren(),M.hidden=!0;return}const le=Dl(X),de=le.map(Fe=>{const Me=document.createElement("span");return Me.className="panel-log-entry__token",Me.textContent=Fe,Me}),Te=X.occurrences-le.length;if(Te>0){const Fe=document.createElement("span");Fe.className="panel-log-entry__token panel-log-entry__token--more",Fe.textContent=`+${Te}`,de.push(Fe)}de.length===0?(M.replaceChildren(),M.hidden=!0):(M.replaceChildren(...de),M.hidden=!1)},qa=M=>{const X=document.createElement("article");X.className="panel-log-entry",X.dataset.logType=M.type,X.style.setProperty("--log-entry-accent",gl[M.type]?.accent??"var(--color-accent)");const le=document.createElement("div");le.className="panel-log-entry__header";const de=document.createElement("span");de.className="panel-log-entry__type",de.textContent=gl[M.type]?.label??M.type;const Te=document.createElement("span");Te.className="panel-log-entry__badge";const Fe=document.createElement("p");Fe.className="panel-log-entry__message",Fe.textContent=M.message;const Me=document.createElement("div");Me.className="panel-log-entry__tokens",Me.hidden=!0,le.append(de,Te),X.append(le,Fe,Me);const $e=bt=>{bt<=1?(Te.textContent="",Te.hidden=!0):(Te.hidden=!1,Te.textContent=`${bt}`)},en={element:X,type:M.type,occurrences:M.occurrences,badge:Te,message:Fe,tokens:Me,setBadge:$e};return $e(M.occurrences),jn(Me,M),en},Tl=(M,X=!1)=>{const le=X?!0:ma()||xi,de=qa(M);Je.set(M.id,de),Ne.appendChild(de.element),ha(de.type,de.occurrences),ss(de),le&&We()},kl=M=>{const X=Je.get(M.id);if(!X)return;const le=M.occurrences-X.occurrences;le!==0&&(X.occurrences=M.occurrences,ha(X.type,le)),X.message.textContent=M.message,X.setBadge(M.occurrences),X.tokens&&jn(X.tokens,M),ss(X),xi&&We()},Hl=M=>{const X=Je.get(M.id);X&&(Je.delete(M.id),ha(X.type,-X.occurrences),X.element.parentElement===Ne&&Ne.removeChild(X.element))},Ol=()=>{for(const M of Je.values())ss(M)};for(const M of nA){const X=gl[M],le=document.createElement("button");le.type="button",le.className="log-chip",le.dataset.logFilter=M,le.style.setProperty("--log-chip-accent",X?.accent??"var(--color-accent)"),le.setAttribute("aria-pressed",Bn.has(M)?"true":"false"),le.setAttribute("aria-label",`${X?.label??M} log filter`);const de=document.createElement("span");de.className="log-chip__label",de.textContent=X?.label??M;const Te=document.createElement("span");Te.className="log-chip__count",Te.textContent="0",da.set(M,Te),Bn.has(M)||le.classList.add("is-muted"),le.append(de,Te),Cn.appendChild(le),le.addEventListener("click",()=>{Bn.has(M)?(Bn.delete(M),Ia.add(M)):(Bn.add(M),Ia.delete(M)),le.classList.toggle("is-muted",!Bn.has(M)),le.setAttribute("aria-pressed",Bn.has(M)?"true":"false"),eS({mutedTypes:Array.from(Ia)}),Ol()})}fa();const Ri=()=>{xi=ma()};Ne.addEventListener("scroll",Ri,{passive:!0}),k.push(()=>Ne.removeEventListener("scroll",Ri));const Bi=Ww();if(Bi.length>0){for(const M of Bi)Tl(M,!0);We()}const Mn=Jw(M=>{if(M.kind==="append")Tl(M.entry);else if(M.kind==="update")kl(M.entry);else if(M.kind==="remove")for(const X of M.entries)Hl(X)});return k.push(Mn),Ol(),ns("Roster"),{log:M=>{Nt(M)},addEvent:Un,renderRoster:sa,dispose:()=>{for(const M of k.splice(0))try{M()}catch(X){console.warn("Failed to dispose HUD listener",X)}fe(),Ce(),document.body.classList.remove(L),v.remove(),B.remove(),p.remove()}}}const nS=n=>`[data-tutorial-target="${n}"]`,_n=16,tc=12,aA="is-tutorial-highlighted",aS=[{id:"heat",target:"heat",title:"Heat the Sauna",description:"Keep the sauna fires roaring. This control shows when the next warrior emerges from the steam."},{id:"upkeep",target:"upkeep",title:"Mind Your Upkeep",description:"Every attendant draws upkeep. Track totals and see a featured roster member to balance your economy."},{id:"sisu",target:"sisu",title:"Stockpile SISU",description:"SISU fuels heroic bursts. Watch this meter to know when your grit reserves can power signature moves."},{id:"combat",target:"combat",title:"Command the Fight",description:"Trigger a Sisu Burst to supercharge allied attacks or rally everyone home with a Torille call."},{id:"victory",target:"victory",title:"Claim Victory",description:"Saunakunnia measures renown. Push it ever higher to unlock triumphs and close the campaign in glory."}];function iS(n,a,s){return Math.max(a,Math.min(s,n))}function sS(n={}){const a=n.steps??aS;if(a.length===0)throw new Error("Tutorial requires at least one step.");let s=-1,l=null,c=!1;const u=document.createElement("div");u.className="tutorial-overlay";const f=document.createElement("div");f.className="tutorial-overlay__spotlight",f.setAttribute("aria-hidden","true");const h=document.createElement("section");h.className="tutorial-card",h.setAttribute("role","dialog"),h.setAttribute("aria-modal","false"),h.tabIndex=-1;const m=document.createElement("header");m.className="tutorial-card__header";const g=document.createElement("h2");g.className="tutorial-card__title";const p=document.createElement("button");p.type="button",p.className="tutorial-card__close",p.setAttribute("aria-label","Dismiss tutorial"),p.textContent="",m.append(g,p);const v=document.createElement("p");v.className="tutorial-card__description";const b=document.createElement("p");b.className="tutorial-card__progress";const E=document.createElement("div");E.className="tutorial-card__controls";const C=document.createElement("button");C.type="button",C.className="tutorial-card__button tutorial-card__button--secondary",C.textContent="Back";const k=document.createElement("button");k.type="button",k.className="tutorial-card__button",k.textContent="Next";const B=document.createElement("button");B.type="button",B.className="tutorial-card__skip",B.textContent="Skip tutorial",E.append(C,k),h.append(m,v,b,E,B),u.append(f,h);const N=typeof ResizeObserver<"u"?new ResizeObserver(()=>{s>=0&&F()}):null,j=()=>{s>=0&&F()};function q(){c||(document.body.appendChild(u),window.addEventListener("resize",F),document.addEventListener("scroll",j,!0),N?.observe(h),c=!0)}function Z(){c&&(window.removeEventListener("resize",F),document.removeEventListener("scroll",j,!0),N?.disconnect(),u.remove(),c=!1)}function W(z){if(l&&l!==z&&(l.classList.remove(aA),l.removeAttribute("data-tutorial-highlight")),l=z,!z){f.style.opacity="0";return}z.classList.add(aA),z.setAttribute("data-tutorial-highlight","true"),f.style.opacity="1"}function re(){if(!l)return null;const z=l.getBoundingClientRect();return z.width===0&&z.height===0?null:{top:z.top,left:z.left,width:z.width,height:z.height}}function F(){const z=re();if(!z){h.style.top=`${_n}px`,h.style.left=`${_n}px`,h.classList.add("tutorial-card--floating"),f.style.opacity="0";return}h.classList.remove("tutorial-card--floating"),f.style.opacity="1";const R=z.top-tc,U=z.left-tc,se=z.width+tc*2,fe=z.height+tc*2;f.style.top=`${R}px`,f.style.left=`${U}px`,f.style.width=`${se}px`,f.style.height=`${fe}px`;const w=h.getBoundingClientRect();let te=window.innerHeight-z.top-z.height>=z.top?z.top+z.height+_n:z.top-w.height-_n;te<_n?te=_n:te+w.height>window.innerHeight-_n&&(te=window.innerHeight-_n-w.height);let oe=z.left+z.width/2-w.width/2;oe=iS(oe,_n,window.innerWidth-w.width-_n),h.style.top=`${Math.round(te)}px`,h.style.left=`${Math.round(oe)}px`}function ae(){requestAnimationFrame(()=>{h.focus({preventScroll:!0})})}function $(z){if(z<0||z>=a.length)return;q(),s=z;const R=a[z];g.textContent=R.title,v.textContent=R.description,b.textContent=`Step ${z+1} of ${a.length}`,C.disabled=z===0,k.textContent=z===a.length-1?"Finish":"Next";const U=document.querySelector(nS(R.target));W(U??null),F(),ae()}function _(){if(s===-1){$(0);return}if(s>=a.length-1){K();return}$(s+1)}function L(){s<=0||$(s-1)}function P(){W(null),Z(),s=-1}function T(){n.onSkip?.(),P()}function K(){n.onComplete?.(),P()}return C.addEventListener("click",()=>{L()}),k.addEventListener("click",()=>{_()}),B.addEventListener("click",()=>{T()}),p.addEventListener("click",()=>{T()}),h.addEventListener("keydown",z=>{z.defaultPrevented||(z.key==="ArrowRight"?(z.preventDefault(),_()):z.key==="ArrowLeft"?(z.preventDefault(),L()):z.key==="Escape"&&(z.preventDefault(),T()))}),{start(){s===-1&&$(0)},next:_,previous:L,skip:T,finish:K,destroy(){P()}}}const rS=Math.sqrt(3),lS=2;function Cc(n){return{width:n*rS,height:n*lS}}const Ha=16,nc=2;function oS(){return typeof window<"u"&&window.devicePixelRatio||1}function cS(n,a){const s=Math.max(n.qMin,a.minQ),l=Math.min(n.qMax,a.maxQ),c=Math.max(n.rMin,a.minR),u=Math.min(n.rMax,a.maxR);return s>l||c>u?null:{qMin:s,qMax:l,rMin:c,rMax:u}}function uS(n,a){const s=oS(),l=a.width/(s*n.zoom),c=a.height/(s*n.zoom);return{x:n.x-l/2,y:n.y-c/2,width:l,height:c}}function dS(n,a){const s=[ul(n.x,n.y,a),ul(n.x+n.width,n.y,a),ul(n.x,n.y+n.height,a),ul(n.x+n.width,n.y+n.height,a)];let l=1/0,c=-1/0,u=1/0,f=-1/0;for(const h of s)l=Math.min(l,h.q),c=Math.max(c,h.q),u=Math.min(u,h.r),f=Math.max(f,h.r);return{qMin:Math.floor(l)-nc,qMax:Math.ceil(c)+nc,rMin:Math.floor(u)-nc,rMax:Math.ceil(f)+nc}}function fS(n,a,s,l){if(!s||typeof s.width!="number"||typeof s.height!="number")return{qMin:n.minQ,qMax:n.maxQ,rMin:n.minR,rMax:n.maxR};if(s.width===0||s.height===0)return{qMin:n.minQ,qMax:n.maxQ,rMin:n.minR,rMax:n.maxR};const c=uS(a,s);return cS(dS(c,l),n)}function Fs(n){return Math.floor(n/Ha)}function Nv(n){return`${n.q},${n.r}`}function hS(n,a){return Nv({q:Fs(n),r:Fs(a)})}function mS(n){return{qMin:Fs(n.qMin),qMax:Fs(n.qMax),rMin:Fs(n.rMin),rMax:Fs(n.rMax)}}function Pv(n){const a=[];for(let s=n.rMin;s<=n.rMax;s++)for(let l=n.qMin;l<=n.qMax;l++)a.push({q:l,r:s});return a}function gS(n,a){const s=a.q*Ha,l=a.r*Ha,c=s+Ha-1,u=l+Ha-1,f=Math.max(s,n.minQ),h=Math.min(c,n.maxQ),m=Math.max(l,n.minR),g=Math.min(u,n.maxR);if(!(f>h||m>g))for(let p=m;p<=g;p++)for(let v=f;v<=h;v++)n.ensureTile(v,p)}function pS(n,a){for(const s of Pv(a))gS(n,s)}const AS="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3ePlains%20Tile%3c/title%3e%3cdesc%20id='desc'%3eRolling%20plains%20with%20sunrise%20gradients%20and%20glowing%20grasses.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='plains-bg'%20cx='50%25'%20cy='50%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230f172a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23111827'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='plains-field'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='0%25'%3e%3cstop%20offset='0%25'%20stop-color='%23facc15'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23eab308'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='plains-haze'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23fde68a'%20stop-opacity='0.8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23f59e0b'%20stop-opacity='0.2'%20/%3e%3c/linearGradient%3e%3cfilter%20id='plains-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='5'%20stdDeviation='6'%20flood-color='%23facc15'%20flood-opacity='0.35'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23plains-bg)'%20/%3e%3cg%20filter='url(%23plains-glow)'%3e%3cpath%20d='M16%2088c20-18%2036-22%2048-22s28%204%2048%2022'%20fill='url(%23plains-field)'%20stroke='%23fef9c3'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M24%20102c16-14%2032-18%2040-18s24%204%2040%2018'%20fill='none'%20stroke='%23fde68a'%20stroke-width='5'%20stroke-linecap='round'%20opacity='0.5'%20/%3e%3cpath%20d='M32%2070c12-10%2024-14%2032-14s20%204%2032%2014'%20fill='url(%23plains-haze)'%20opacity='0.7'%20/%3e%3cpath%20d='M52%2078l4%2012m8-12l4%2012m8-12l4%2012'%20stroke='%23fef3c7'%20stroke-width='3'%20stroke-linecap='round'%20opacity='0.8'%20/%3e%3c/g%3e%3ccircle%20cx='40'%20cy='36'%20r='8'%20fill='%23fef08a'%20opacity='0.7'%20/%3e%3c/svg%3e",vS="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eForest%20Tile%3c/title%3e%3cdesc%20id='desc'%3eStylised%20evergreen%20trees%20glowing%20against%20a%20deep%20night%20backdrop.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='forest-bg'%20cx='50%25'%20cy='40%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230f172a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230b1120'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='forest-leaf'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%234ade80'%20/%3e%3cstop%20offset='100%25'%20stop-color='%2315803d'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='forest-trunk'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23a855f7'%20/%3e%3cstop%20offset='100%25'%20stop-color='%237c3aed'%20/%3e%3c/linearGradient%3e%3cfilter%20id='forest-glow'%20x='-40%25'%20y='-40%25'%20width='180%25'%20height='180%25'%3e%3cfeDropShadow%20dx='0'%20dy='6'%20stdDeviation='6'%20flood-color='%234ade80'%20flood-opacity='0.25'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23forest-bg)'%20/%3e%3cg%20filter='url(%23forest-glow)'%20stroke='%23bbf7d0'%20stroke-width='2'%3e%3cpath%20fill='url(%23forest-leaf)'%20d='M64%2026L32%2080h18l-12%2022h28l-10-22h16l-10%2022h28l-12-22h18z'%20/%3e%3crect%20x='58'%20y='74'%20width='12'%20height='18'%20rx='3'%20fill='url(%23forest-trunk)'%20/%3e%3cpath%20fill='none'%20stroke-linecap='round'%20stroke-opacity='0.5'%20d='M44%2086c6-4%2012-6%2020-6s14%202%2020%206'%20/%3e%3c/g%3e%3ccircle%20cx='40'%20cy='40'%20r='6'%20fill='%23fef3c7'%20opacity='0.6'%20/%3e%3ccircle%20cx='88'%20cy='32'%20r='4'%20fill='%23fef3c7'%20opacity='0.4'%20/%3e%3c/svg%3e",yS="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eMountain%20Tile%3c/title%3e%3cdesc%20id='desc'%3eJagged%20alpine%20peaks%20with%20luminous%20snowcaps.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='mountain-bg'%20cx='50%25'%20cy='45%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%23111827'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23020617'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='mountain-rock'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%2364748b'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23334155'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='mountain-snow'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23f8fafc'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23cbd5f5'%20/%3e%3c/linearGradient%3e%3cfilter%20id='mountain-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='6'%20stdDeviation='6'%20flood-color='%23f8fafc'%20flood-opacity='0.2'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23mountain-bg)'%20/%3e%3cg%20filter='url(%23mountain-glow)'%20stroke='%23cbd5f5'%20stroke-width='2'%20stroke-linejoin='round'%3e%3cpath%20fill='url(%23mountain-rock)'%20d='M24%20100l32-52%2014%2022%2012-18%2022%2048z'%20/%3e%3cpath%20fill='url(%23mountain-snow)'%20d='M56%2048l14%2022%2012-18%2010%2022H48z'%20opacity='0.85'%20/%3e%3cpath%20fill='none'%20stroke-linecap='round'%20opacity='0.6'%20d='M32%2094c10-6%2020-9%2032-9s22%203%2032%209'%20/%3e%3c/g%3e%3ccircle%20cx='92'%20cy='32'%20r='6'%20fill='%23f1f5f9'%20opacity='0.5'%20/%3e%3c/svg%3e",bS="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eWater%20Tile%3c/title%3e%3cdesc%20id='desc'%3eGlowing%20waves%20surrounding%20a%20crystalline%20droplet.%3c/desc%3e%3cdefs%3e%3cradialGradient%20id='water-bg'%20cx='50%25'%20cy='45%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%230b1120'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23020617'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='water-wave'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%2338bdf8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230ea5e9'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='water-drop'%20x1='50%25'%20y1='0%25'%20x2='50%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230284c7'%20/%3e%3c/linearGradient%3e%3cfilter%20id='water-glow'%20x='-30%25'%20y='-30%25'%20width='160%25'%20height='160%25'%3e%3cfeDropShadow%20dx='0'%20dy='4'%20stdDeviation='8'%20flood-color='%2338bdf8'%20flood-opacity='0.3'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20x='8'%20y='8'%20width='112'%20height='112'%20rx='24'%20fill='url(%23water-bg)'%20/%3e%3cg%20filter='url(%23water-glow)'%3e%3cpath%20d='M32%2076c12-10%2024-15%2032-15s20%205%2032%2015'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='8'%20stroke-linecap='round'%20/%3e%3cpath%20d='M28%2092c14-12%2030-18%2040-18s26%206%2040%2018'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='6'%20stroke-linecap='round'%20opacity='0.7'%20/%3e%3cpath%20d='M40%2060c10-8%2018-12%2024-12s14%204%2024%2012'%20fill='none'%20stroke='url(%23water-wave)'%20stroke-width='4'%20stroke-linecap='round'%20opacity='0.5'%20/%3e%3cpath%20d='M64%2030c-12%2020-18%2032-18%2042%200%2011%208%2020%2018%2020s18-9%2018-20c0-10-6-22-18-42z'%20fill='url(%23water-drop)'%20stroke='%23e0f2fe'%20stroke-width='2'%20/%3e%3c/g%3e%3ccircle%20cx='94'%20cy='34'%20r='6'%20fill='%23f8fafc'%20opacity='0.45'%20/%3e%3c/svg%3e",ES=.01;function Qv(n){return!Number.isFinite(n)||n<=ES?1:n}function wS(n,a){return n/Qv(a)}function Zn(n,a){const s=Qv(a);return Math.round(n*s)/s}const iA={[En.Plains]:{baseColor:"#d8b869",icon:AS},[En.Forest]:{baseColor:"#237a55",icon:vS},[En.Hills]:{baseColor:"#b57c57",icon:yS},[En.Lake]:{baseColor:"#3185d5",icon:bS}},SS=[255,255,255],mh=[12,18,28],xS=[0,0,0],sA="rgba(56, 189, 248, 0.85)",rA="rgba(56, 189, 248, 0.45)";let il=null,sl=null;const CS=n=>Math.min(1,Math.max(0,n));function RS(n){let a=n.trim().replace("#","");a.length===3&&(a=a.split("").map(l=>l+l).join(""));const s=Number.parseInt(a,16);return[s>>16&255,s>>8&255,s&255]}function Rc(n,a,s){const l=CS(s);return[Math.round(n[0]+(a[0]-n[0])*l),Math.round(n[1]+(a[1]-n[1])*l),Math.round(n[2]+(a[2]-n[2])*l)]}function lA(n){return`rgb(${n[0]}, ${n[1]}, ${n[2]})`}function Bc(n,a=1){return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${a})`}function Mc(n,a=1){return Bc(Rc(mh,SS,n),a)}function Ks(n,a=1){return Bc(Rc(mh,xS,n),a)}const BS={terrain:.05,hover:.065,selection:.085},MS={terrain:1,hover:1.35,selection:2.1};function Dc(n,a,s="terrain"){const l=n*BS[s],c=wS(l,a);return Math.max(MS[s],c)}function DS(){if(il&&sl)return{stroke:il,glow:sl};if(typeof window<"u"){const n=getComputedStyle(document.documentElement),a=n.getPropertyValue("--tile-highlight-ring").trim(),s=n.getPropertyValue("--tile-highlight-glow").trim();il=a||sA,sl=s||rA}else il=sA,sl=rA;return{stroke:il,glow:sl}}function Gv(n){return Math.min(1,Math.max(0,n))}function zc(n){let a=n.trim();if(a.startsWith("#")&&(a=a.slice(1)),a.length===3){const s=Number.parseInt(a[0]+a[0],16),l=Number.parseInt(a[1]+a[1],16),c=Number.parseInt(a[2]+a[2],16);return[s,l,c]}if(a.length===6){const s=Number.parseInt(a,16),l=s>>16&255,c=s>>8&255,u=s&255;return[l,c,u]}return[0,0,0]}function TS(n,a,s){const l=Gv(s),c=(u,f)=>Math.round(u+(f-u)*l);return[c(n[0],a[0]),c(n[1],a[1]),c(n[2],a[2])]}function kS([n,a,s],l){return`rgba(${n}, ${a}, ${s}, ${Gv(l)})`}function wi(n,a,s,l){return kS(TS(n,a,s),l)}function HS(n){const{ctx:a,x:s,y:l,width:c,height:u,radius:f,baseColor:h}=n,m=zc(h);a.save(),a.lineCap="round",a.lineJoin="round";const g=wi(m,[255,255,255],.35,.24);a.strokeStyle=g,a.lineWidth=Math.max(1,f*.06);const p=3,v=6,b=s+c*.12,E=s+c*.88;for(let N=0;N<p;N++){const j=N/Math.max(1,p-1),q=l+u*.28+j*u*.32,Z=f*(.18-j*.05);a.beginPath();for(let W=0;W<=v;W++){const re=W/v,F=b+(E-b)*re,ae=Math.sin(re*Math.PI*1.6+N*.8)*Z,$=q-Math.abs(ae)*.55;W===0?a.moveTo(F,$):a.lineTo(F,$)}a.stroke()}const C=wi(m,[18,54,32],.4,.2);a.strokeStyle=C,a.lineWidth=Math.max(.75,f*.035);const k=5,B=f*.22;for(let N=0;N<k;N++){const j=s+c*(.2+N/Math.max(1,k-1)*.6),q=l+u*.55-Math.cos(N*.9)*f*.08;a.beginPath(),a.arc(j,q,B,Math.PI*.2,Math.PI*.85),a.stroke(),a.beginPath(),a.arc(j+B*.35,q-B*.1,B*.55,Math.PI*.15,Math.PI*.95),a.stroke()}a.restore()}function OS(n){const{ctx:a,centerX:s,centerY:l,radius:c,baseColor:u}=n,f=zc(u);a.save(),a.lineCap="round";const h=wi(f,[255,235,214],.45,.22);a.strokeStyle=h,a.lineWidth=Math.max(1,c*.05);const m=4;for(let v=0;v<m;v++){const b=v/Math.max(1,m-1),E=c*(1.25-b*.45),C=c*(.72-b*.18),k=l+c*.18*(b-.5);a.beginPath(),a.ellipse(s,k,E,C,0,Math.PI*.12,Math.PI*.88),a.stroke()}const g=wi(f,[60,36,20],.35,.18);a.strokeStyle=g,a.lineWidth=Math.max(.85,c*.032),a.setLineDash([c*.22,c*.18]);const p=3;for(let v=0;v<p;v++){const b=c*(.75-v*.1),E=l+c*.28+v*c*.08;a.beginPath(),a.arc(s+c*.08,E,b,Math.PI*.28,Math.PI*.76),a.stroke()}a.setLineDash([]),a.restore()}function NS(n){const{ctx:a,x:s,y:l,width:c,height:u,radius:f,baseColor:h}=n,m=zc(h);a.save(),a.lineCap="round",a.lineJoin="round";const g=wi(m,[255,255,255],.55,.28);a.strokeStyle=g,a.lineWidth=Math.max(1,f*.045);const p=4,v=7,b=s+c*.12,E=s+c*.88,C=f*.16;for(let N=0;N<p;N++){const j=N/Math.max(1,p-1),q=l+u*.3+j*u*.4;a.beginPath();for(let Z=0;Z<=v;Z++){const W=Z/v,re=b+(E-b)*W,F=Math.sin(W*Math.PI*2+N*.6)*C*(.75-j*.2),ae=q+F;Z===0?a.moveTo(re,ae):a.lineTo(re,ae)}a.stroke()}const k=wi(m,[12,52,94],.4,.2);a.strokeStyle=k,a.lineWidth=Math.max(.8,f*.03);const B=3;for(let N=0;N<B;N++){const j=N/Math.max(1,B-1),q=l+u*.35+j*u*.35;a.beginPath();for(let Z=0;Z<=v;Z++){const W=Z/v,re=b+(E-b)*W,F=Math.sin(W*Math.PI*2+N)*C*.35,ae=q+F;Z===0?a.moveTo(re,ae):a.lineTo(re,ae)}a.stroke()}a.restore()}function Lv(n){const{ctx:a,x:s,y:l,width:c,height:u,radius:f,baseColor:h}=n,m=zc(h);a.save(),a.lineCap="round";const g=wi(m,[255,255,255],.42,.18);a.strokeStyle=g,a.lineWidth=Math.max(.85,f*.03);const p=f*.55;for(let E=-1;E<=2;E++){const C=p*E;a.beginPath(),a.moveTo(s+C,l+u*.25),a.lineTo(s+C+c*.75,l+u*.85),a.stroke()}const v=wi(m,[112,82,32],.3,.16);a.strokeStyle=v,a.lineWidth=Math.max(.7,f*.025),a.setLineDash([f*.24,f*.34]);const b=f*.48;for(let E=0;E<3;E++){const C=b*E;a.beginPath(),a.moveTo(s+c*.18+C,l+u*.78),a.lineTo(s+c*.7+C,l+u*.38),a.stroke()}a.setLineDash([]),a.restore()}const oA=new Map;let Xi=null;function PS(){if(Xi)return Xi;const n="/";if(/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(n))return Xi=n,Xi;const s=n.startsWith("/")?n:`/${n}`;return typeof window<"u"&&typeof window.location?.origin=="string"?Xi=`${window.location.origin}${s}`:Xi=`http://localhost${s}`,Xi}function QS(n){let a=oA.get(n);if(!a){a=new Image,a.decoding="async";const s=new URL(n,PS()).href;a.src=s,oA.set(n,a)}if(a.complete&&a.naturalWidth>0&&a.naturalHeight>0)return a}const GS={[En.Plains]:Lv,[En.Forest]:HS,[En.Hills]:OS,[En.Lake]:NS};function Uv(n,a,s,l){n.beginPath();for(let c=0;c<6;c++){const u=Math.PI/180*(60*c-30),f=a+l*Math.cos(u),h=s+l*Math.sin(u);c===0?n.moveTo(f,h):n.lineTo(f,h)}n.closePath()}function LS(n,a,s,l){Uv(n,a,s,l),n.save(),n.lineJoin="round",n.lineCap="round",n.lineWidth=Dc(l,1,"terrain"),n.strokeStyle=Mc(.16,.6),n.stroke(),n.restore()}function US(n,a,s,l,c,u,f,h){const m=iA[a.terrain]??iA[En.Plains],g=RS(m.baseColor),p=l+u/2,v=c+f/2;n.save(),Uv(n,p,v,h),n.clip();const b=n.createRadialGradient(p,v,h*.2,p,v,h*1.05);b.addColorStop(0,lA(Rc(g,[255,255,255],.3))),b.addColorStop(.7,m.baseColor),b.addColorStop(1,lA(Rc(g,mh,.4))),n.fillStyle=b,n.shadowColor=Bc(g,.35),n.shadowBlur=h*.9,n.shadowOffsetX=0,n.shadowOffsetY=0,n.fillRect(l-h*.1,c-h*.1,u+h*.2,f+h*.2);const E={ctx:n,x:l,y:c,width:u,height:f,radius:h,centerX:p,centerY:v,baseColor:m.baseColor};(GS[a.terrain]??Lv)(E),n.globalCompositeOperation="lighter";const k=n.createRadialGradient(p,v,h*.85,p,v,h*1.18);k.addColorStop(0,"rgba(255, 255, 255, 0)"),k.addColorStop(1,Bc(g,.18)),n.fillStyle=k,n.fillRect(l-h*.1,c-h*.1,u+h*.2,f+h*.2),n.globalCompositeOperation="source-over",n.restore();const B=QS(m.icon);if(B){const N=Math.min(u,f)*.62,j=p-N/2,q=v-N/2;n.save(),n.globalAlpha*=.92,n.drawImage(B,j,q,N,N),n.restore()}if(a.building){const N=s[`building-${a.building}`]??s.placeholder;n.drawImage(N,l,c,u,f)}}function jS(n,a){const s=Math.max(n.q*Ha,a.minQ),l=Math.min(s+Ha-1,a.maxQ),c=Math.max(n.r*Ha,a.minR),u=Math.min(c+Ha-1,a.maxR);return{qStart:s,qEnd:l,rStart:c,rEnd:u}}class zS{constructor(a){this.map=a,this.unsubscribe=a.addTileChangeListener((s,l,c)=>{this.onTileChange(s,c)})}chunkCanvases=new Map;dirtyChunks=new Set;cachedImages;unsubscribe;dispose(){this.unsubscribe(),this.chunkCanvases.clear(),this.dirtyChunks.clear(),this.cachedImages=void 0}invalidate(){this.chunkCanvases.clear(),this.dirtyChunks.clear(),this.cachedImages=void 0}markChunkDirty(a){this.dirtyChunks.add(a)}markTileDirty(a,s){this.dirtyChunks.add(hS(a,s))}getRenderableChunks(a,s,l,c){this.refreshAssets(l);const u=[],{width:f,height:h}=Cc(s);for(const m of Pv(a)){const g=Nv(m),p=this.ensureChunk(g,m,s,f,h,l,c);p&&u.push(p)}return u}refreshAssets(a){if(this.cachedImages!==a){this.cachedImages=a;for(const s of this.chunkCanvases.keys())this.dirtyChunks.add(s)}}onTileChange(a,s){(s==="created"||s==="terrain"||s==="building"||s==="fog")&&this.markTileDirty(a.q,a.r)}ensureChunk(a,s,l,c,u,f,h){const m=this.chunkCanvases.get(a);if(!m||this.dirtyChunks.has(a)){const g=this.renderChunk(a,s,l,c,u,f,h,m);return this.dirtyChunks.delete(a),g?(this.chunkCanvases.set(a,g),g):(this.chunkCanvases.delete(a),null)}return m}renderChunk(a,s,l,c,u,f,h,m){if(typeof document>"u")return null;const{qStart:g,qEnd:p,rStart:v,rEnd:b}=jS(s,this.map);if(g>p||v>b)return null;const E=c/2,C=u/2;let k=1/0,B=1/0,N=-1/0,j=-1/0;const q=[];for(let ae=g;ae<=p;ae++)for(let $=v;$<=b;$++){const _=this.map.getTile(ae,$);if(!_||_.isFogged)continue;const{x:L,y:P}=Wn({q:ae,r:$},l),T=L-h.x-E,K=P-h.y-C;k=Math.min(k,T),B=Math.min(B,K),N=Math.max(N,T+c),j=Math.max(j,K+u),q.push({tile:_,x:T,y:K})}if(!Number.isFinite(k)||!Number.isFinite(B)||!Number.isFinite(N)||!Number.isFinite(j))return null;const Z=Math.max(1,Math.ceil(N-k)),W=Math.max(1,Math.ceil(j-B));let re=m?.canvas;(!re||re.width!==Z||re.height!==W)&&(re=document.createElement("canvas"),re.width=Z,re.height=W);const F=re.getContext("2d");if(!F)throw new Error("Canvas 2D context not available for chunk rendering");F.setTransform(1,0,0,1,0,0),F.clearRect(0,0,Z,W);for(const{tile:ae,x:$,y:_}of q){const L=$-k,P=_-B;F.save(),US(F,ae,f,L,P,c,u,l),LS(F,L+c/2,P+u/2,l),F.restore()}return{key:a,canvas:re,origin:{x:k,y:B},width:Z,height:W}}}const IS=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Ta=new Array(512);for(let n=0;n<512;n++)Ta[n]=IS[n%256];const cA=new Map,uA=n=>n*n*n*(n*(n*6-15)+10),Af=(n,a,s)=>n+s*(a-n),ac=(n,a,s)=>{switch(n&3){case 0:return a+s;case 1:return-a+s;case 2:return a-s;default:return-a-s}};function FS(n,a){const s=Math.floor(n)&255,l=Math.floor(a)&255,c=n-Math.floor(n),u=a-Math.floor(a),f=Ta[Ta[s+1]+l+1],h=Ta[Ta[s]+l+1],m=Ta[Ta[s+1]+l],g=Ta[Ta[s]+l],p=uA(c),v=uA(u),b=Af(ac(g,c,u),ac(m,c-1,u),p),E=Af(ac(h,c,u-1),ac(f,c-1,u-1),p);return Af(b,E,v)}function qS(n,a,s=4){let l=0,c=1,u=1,f=0;for(let h=0;h<s;h++)l+=FS(n*c,a*c)*u,f+=u,u*=.5,c*=2;return f>0?l/f:0}function XS(n){const a=Math.max(32,Math.min(512,Math.round(n))),s=a,l=cA.get(s);if(l)return l;if(typeof document>"u")return null;const c=document.createElement("canvas");c.width=a,c.height=a;const u=c.getContext("2d");if(!u)return null;const f=u.createImageData(a,a),h=a/48;let m=0;for(let g=0;g<a;g++)for(let p=0;p<a;p++){const v=qS(p/h,g/h,5),b=Math.pow((v+1)/2,1.35),E=Math.round(b*255);f.data[m]=255,f.data[m+1]=255,f.data[m+2]=255,f.data[m+3]=E,m+=4}return u.putImageData(f,0,0),cA.set(s,c),c}function dA(n,a,s,l){n.beginPath();for(let c=0;c<6;c++){const u=Math.PI/180*(60*c-30),f=a+l*Math.cos(u),h=s+l*Math.sin(u);c===0?n.moveTo(f,h):n.lineTo(f,h)}n.closePath()}function YS(n,a,s,l){const c=n.createRadialGradient(a,s,l*.08,a,s,l*1.12);return c.addColorStop(0,Mc(.4,.35)),c.addColorStop(.35,Mc(.2,.55)),c.addColorStop(.6,Ks(.1,.78)),c.addColorStop(.82,Ks(.2,.88)),c.addColorStop(1,Ks(.35,.95)),c}function _S(n,a,s,l,c){if(l<=0)return;const u=XS(l*2.2),f=l*2.5,h=a-f/2,m=s-f/2;n.save(),dA(n,a,s,l),n.clip();const g=YS(n,a,s,l);n.fillStyle=g,n.fillRect(h,m,f,f),u&&(n.save(),n.globalCompositeOperation="lighter",n.globalAlpha*=.32,n.drawImage(u,a-l,s-l,l*2,l*2),n.restore()),n.restore(),n.save(),dA(n,a,s,l*.99),n.lineJoin="round",n.lineCap="round",n.lineWidth=Dc(l,c,"hover"),n.strokeStyle=Ks(.3,.88),n.shadowColor=Ks(.45,.42),n.shadowBlur=Math.max(3,l*.45/Math.max(c,.1)),n.stroke(),n.restore()}class KS{constructor(a){this.mapRef=a,this.terrainCache=new zS(a),this.cachedHexSize=a.hexSize}terrainCache;cachedHexSize;get hexSize(){return this.mapRef.hexSize}getOrigin(){return Wn({q:this.mapRef.minQ,r:this.mapRef.minR},this.hexSize)}invalidateCache(){this.terrainCache.invalidate()}dispose(){this.terrainCache.dispose()}draw(a,s,l){this.ensureHexSize();const c=a.canvas??null,u=fS(this.mapRef,Se,c,this.hexSize);if(!u)return;const f=mS(u);pS(this.mapRef,f);const h=this.getOrigin(),m=this.terrainCache.getRenderableChunks(f,this.hexSize,s,h);this.drawChunks(a,m),this.drawFogLayer(a,h,u),l&&this.drawSelection(a,h,l)}drawToCanvas(a,s,l){const c=a.getContext("2d");if(!c)throw new Error("Canvas 2D context not available");this.draw(c,s,l)}ensureHexSize(){this.cachedHexSize!==this.hexSize&&(this.cachedHexSize=this.hexSize,this.terrainCache.invalidate())}drawChunks(a,s){if(s.length!==0)for(const l of s)a.drawImage(l.canvas,l.origin.x,l.origin.y)}drawSelection(a,s,l){const{width:c,height:u}=Cc(this.hexSize),{x:f,y:h}=Wn(l,this.hexSize),m=f-s.x-c/2,g=h-s.y-u/2;this.strokeHex(a,m+c/2,g+u/2,this.hexSize,!0)}drawFogLayer(a,s,l){const{width:c,height:u}=Cc(this.hexSize),f=c/2,h=u/2;for(let m=l.rMin;m<=l.rMax;m++)for(let g=l.qMin;g<=l.qMax;g++){const p=this.mapRef.getTile(g,m);if(!p||!p.isFogged)continue;const{x:v,y:b}=Wn({q:g,r:m},this.hexSize),E=v-s.x-f,C=b-s.y-h,k=this.hexSize,B=E+c/2,N=C+u/2;_S(a,B,N,k,Se.zoom)}}strokeHex(a,s,l,c,u=!1){const{stroke:f,glow:h}=DS();this.hexPath(a,s,l,c),a.save(),a.lineJoin="round",a.lineCap="round",u?(a.shadowColor=h,a.shadowBlur=Math.max(6,c*.65/Math.max(Se.zoom,.1)),a.lineWidth=Dc(c,Se.zoom,"selection"),a.strokeStyle=f,a.stroke()):(a.lineWidth=Dc(c,Se.zoom,"hover"),a.shadowColor=Mc(.1,.45),a.shadowBlur=Math.max(2,c*.4/Math.max(Se.zoom,.1)),a.strokeStyle=Ks(.1,.72),a.stroke()),a.restore()}hexPath(a,s,l,c){a.beginPath();for(let u=0;u<6;u++){const f=Math.PI/180*(60*u-30),h=s+c*Math.cos(f),m=l+c*Math.sin(f);u===0?a.moveTo(h,m):a.lineTo(h,m)}a.closePath()}}const pi={accent:"#38bdf8",accentSoft:"rgba(56, 189, 248, 0.2)",warm:"#fbbf24",surface:"rgba(15, 23, 42, 0.92)",border:"rgba(148, 163, 184, 0.34)",text:"#e2e8f0"};let Ai=null;function zs(n,a){const s=n.trim();return s.length>0?s:a}function VS(){if(Ai)return Ai;if(typeof window>"u"||typeof document>"u")return Ai=pi,Ai;try{const n=getComputedStyle(document.documentElement);return Ai={accent:zs(n.getPropertyValue("--color-accent"),pi.accent),accentSoft:zs(n.getPropertyValue("--color-accent-soft"),pi.accentSoft),warm:zs(n.getPropertyValue("--color-warning"),pi.warm),surface:zs(n.getPropertyValue("--color-surface-strong"),pi.surface),border:zs(n.getPropertyValue("--hud-border-strong"),pi.border),text:zs(n.getPropertyValue("--color-foreground"),pi.text)},Ai}catch(n){return console.warn("Failed to read sauna palette tokens from computed styles",n),Ai=pi,Ai}}function ZS(n,a){const s=Math.max(0,n.auraRadius),l=Wn(n.pos,a),c=l.x+a,u=l.y+a;let f=a;if(s<=0)return a*1.6;for(const h of zA){const m=Wn({q:n.pos.q+h.q*s,r:n.pos.r+h.r*s},a),g=m.x+a,p=m.y+a,v=Math.hypot(g-c,p-u);v>f&&(f=v)}return f+a*.65}function JS(n,a,s,l,c,u){const f=Math.max(0,Math.min(u,Math.min(l,c)/2));n.moveTo(a+f,s),n.lineTo(a+l-f,s),n.quadraticCurveTo(a+l,s,a+l,s+f),n.lineTo(a+l,s+c-f),n.quadraticCurveTo(a+l,s+c,a+l-f,s+c),n.lineTo(a+f,s+c),n.quadraticCurveTo(a,s+c,a,s+c-f),n.lineTo(a,s+f),n.quadraticCurveTo(a,s,a+f,s),n.closePath()}function WS(n,a,{origin:s,hexSize:l,timestamp:c}){if(!a)return;const u=VS(),f=Number.isFinite(c)?c:typeof performance<"u"?performance.now():Date.now(),h=.5+.5*Math.sin(f*.0035),m=Wn(a.pos,l),g=m.x-s.x+l,p=m.y-s.y+l,v=ZS(a,l);n.save(),n.globalCompositeOperation="screen";const b=v+l*(.4+h*.3),E=Math.max(l*.6,v*.58),C=n.createRadialGradient(g,p,E,g,p,b);C.addColorStop(0,u.accentSoft),C.addColorStop(.55,`rgba(56, 189, 248, ${.18+h*.12})`),C.addColorStop(1,"rgba(2, 6, 23, 0)"),n.fillStyle=C,n.beginPath(),n.arc(g,p,b,0,Math.PI*2),n.fill(),n.restore(),n.save(),n.globalCompositeOperation="lighter",n.lineWidth=Math.max(l*.28,6),n.strokeStyle=`rgba(56, 189, 248, ${(.35+h*.2).toFixed(3)})`,n.shadowColor=`rgba(56, 189, 248, ${.45+h*.1})`,n.shadowBlur=l*(.9+h*.45),n.beginPath(),n.arc(g,p,v+l*.12,0,Math.PI*2),n.stroke(),n.restore();const k=l*.9;n.save(),n.beginPath(),n.arc(g,p,k,0,Math.PI*2),n.fillStyle=u.surface,n.globalAlpha*=.96,n.fill(),n.lineWidth=Math.max(1.5,l*.06),n.strokeStyle=u.border,n.shadowColor="rgba(8, 25, 53, 0.6)",n.shadowBlur=l*.45,n.stroke(),n.restore();const B=k*.78,N=Math.max(l*.22,5);n.save(),n.lineWidth=N,n.strokeStyle="rgba(148, 163, 184, 0.24)",n.beginPath(),n.arc(g,p,B,0,Math.PI*2),n.stroke(),n.restore();const j=a.playerSpawnCooldown>0?a.playerSpawnCooldown:1,Z=1-Math.min(1,Math.max(0,a.playerSpawnTimer/j)),W=-Math.PI/2,re=W+Math.PI*2*Z;if(Z>0){n.save(),n.lineWidth=N,n.lineCap="round";const I=n.createLinearGradient(g,p-B,g,p+B);I.addColorStop(0,u.accent),I.addColorStop(1,u.warm),n.strokeStyle=I,n.shadowColor=`rgba(56, 189, 248, ${.42+h*.18})`,n.shadowBlur=l*(.65+h*.35),n.beginPath(),n.arc(g,p,B,W,re,!1),n.stroke(),n.restore()}const F=Math.max(0,a.playerSpawnTimer),ae=Math.ceil(F);n.save(),n.font=`600 ${Math.max(12,l*.9)}px "Inter", "Manrope", "Segoe UI", sans-serif`,n.fillStyle=u.text,n.textAlign="center",n.textBaseline="middle",n.shadowColor="rgba(2, 6, 23, 0.6)",n.shadowBlur=l*.35,n.fillText(String(ae),g,p),n.restore(),n.save(),n.font=`500 ${Math.max(10,l*.36)}px "Inter", "Manrope", "Segoe UI", sans-serif`,n.fillStyle="rgba(148, 163, 184, 0.78)",n.textAlign="center",n.textBaseline="top",n.fillText("sec",g,p+B*.45),n.restore();const $="Sauna ",_=Math.max(12,l*.58);n.save(),n.font=`600 ${_}px "Inter", "Manrope", "Segoe UI", sans-serif`;const L=n.measureText($),P=l*.58,T=l*.32,K=L.width+P*2,z=_+T*2,R=g-K/2,U=p-v-z-l*.35,se=z/2;n.beginPath(),JS(n,R,U,K,z,se);const fe=n.createLinearGradient(R,U,R,U+z);fe.addColorStop(0,"rgba(15, 23, 42, 0.94)"),fe.addColorStop(.55,"rgba(15, 23, 42, 0.86)"),fe.addColorStop(1,"rgba(30, 41, 59, 0.9)"),n.fillStyle=fe,n.shadowColor="rgba(8, 25, 53, 0.6)",n.shadowBlur=l*.4,n.fill(),n.lineWidth=Math.max(1.5,l*.06);const w=n.createLinearGradient(R,U,R+K,U);w.addColorStop(0,`${u.accent}`),w.addColorStop(1,`${u.warm}`),n.strokeStyle=w,n.stroke(),n.fillStyle=u.text,n.shadowColor="rgba(8, 25, 53, 0.65)",n.shadowBlur=l*.3,n.textAlign="center",n.textBaseline="middle",n.fillText($,g,U+z/2+_*.05),n.restore()}const jv={nativeSize:{width:64,height:64},anchor:{x:.5,y:.92},scale:{x:1,y:1},nudge:{x:0,y:-.05}},$S={default:jv,soldier:{nativeSize:{width:128,height:128},anchor:{x:.5,y:.88},scale:{x:1.06,y:1.18},nudge:{x:0,y:-.1}},archer:{nativeSize:{width:128,height:128},anchor:{x:.5,y:.86},scale:{x:1.04,y:1.16},nudge:{x:0,y:-.08}},"avanto-marauder":{nativeSize:{width:128,height:128},anchor:{x:.5,y:.86},scale:{x:1.08,y:1.12},nudge:{x:0,y:-.12}},saunoja:{nativeSize:{width:128,height:128},anchor:{x:.5,y:.66},scale:{x:1,y:1},nudge:{x:0,y:-.02}}};function zv(n){return $S[n]??jv}function Iv(n,a,s,l){const{x:c,y:u}=Wn(n,a),f=l.nudge.x*a,h=l.nudge.y*a;return{x:c-s.x+f,y:u-s.y+h}}function e3({coord:n,hexSize:a,origin:s,zoom:l,type:c}){const u=zv(c),f=Iv(n,a,s,u);return{x:Zn(f.x,l),y:Zn(f.y,l)}}function t3({coord:n,hexSize:a,origin:s,zoom:l,type:c}){const u=zv(c),f=Iv(n,a,s,u),{width:h,height:m}=Cc(a),g=h*u.scale.x,p=m*u.scale.y,v=Zn(f.x-g*u.anchor.x,l),b=Zn(f.y-p*u.anchor.y,l),E=Zn(g,l),C=Zn(p,l),k=v+E*u.anchor.x,B=b+C*u.anchor.y;return{drawX:v,drawY:b,width:E,height:C,centerX:k,centerY:B,metadata:u}}function n3(n){if(!n||typeof n!="object")return!1;const a=n;return!!a.coord&&typeof a.coord=="object"&&typeof a.coord.q=="number"&&typeof a.coord.r=="number"&&typeof a.range=="number"}function a3(n){if(!n)return null;if(n3(n)){const a=Number.isFinite(n.range)?Math.max(0,n.range):0;return{coord:n.coord,range:a}}if("pos"in n&&"auraRadius"in n){const a=Number.isFinite(n.auraRadius)?Math.max(0,n.auraRadius):0;return{coord:n.pos,range:a}}return null}function i3(n,a,s,l,c,u){const f=window.devicePixelRatio||1,h=n.canvas.width,m=n.canvas.height;n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,h,m);const g=h/f,p=m/f;n.scale(f,f),n.translate(g/2,p/2),n.scale(Se.zoom,Se.zoom);const v=a.getOrigin();n.translate(-(Se.x-v.x),-(Se.y-v.y)),a.draw(n,s,c??void 0);const b=u?.saunojas;b&&Array.isArray(b.units)&&b.units.length>0&&b.draw(n,b.units,{originX:v.x,originY:v.y,hexRadius:a.hexSize,zoom:Se.zoom}),s3(n,a,s,l,v,u?.fx,u?.friendlyVisionSources,u?.saunaVision??u?.sauna??null),u?.sauna&&WS(n,u.sauna,{origin:v,hexSize:a.hexSize}),n.restore()}function s3(n,a,s,l,c,u,f,h){const g=(f??l).filter(v=>v.faction==="player"&&!v.isDead()).map(v=>({coord:v.coord,range:v.getVisionRange()})),p=a3(h);p&&g.push(p);for(const v of l){if(v.isDead()||v.faction==="enemy"&&!g.some(({coord:W,range:re})=>Is(W,v.coord)<=re))continue;const b=s[`unit-${v.type}`]??s.placeholder,E=v.getMaxHealth();n.save();const C=u?.getUnitAlpha?.(v);if(typeof C=="number"){const W=Math.min(1,Math.max(0,C));if(W<=0){n.restore();continue}n.globalAlpha*=W}v.stats.health/E<.5&&(n.filter="saturate(0)");const k=v.renderCoord??v.coord,B=t3({coord:k,hexSize:a.hexSize,origin:c,zoom:Se.zoom,type:v.type}),N=[];v.stats.health/E<.5&&N.push("saturate(0)");const j=Math.abs(k.q-v.coord.q),q=Math.abs(k.r-v.coord.r),Z=Math.min(1,j+q);Z>.01?(N.push("contrast(1.08)"),n.shadowColor="rgba(255, 255, 255, 0.28)",n.shadowBlur=Math.max(6,12*Se.zoom*Z)):(n.shadowColor="rgba(0, 0, 0, 0)",n.shadowBlur=0),n.filter=N.length>0?N.join(" "):"none",n.drawImage(b,B.drawX,B.drawY,B.width,B.height),dh()&&v.faction==="player"&&(n.strokeStyle="rgba(255,255,255,0.5)",n.lineWidth=2,n.strokeRect(B.drawX,B.drawY,B.width,B.height)),n.restore()}}const r3=200,fA=.001;function vf(n){return{q:n.q,r:n.r}}function ic(n,a){return!n||!a?!1:Math.abs(n.q-a.q)<fA&&Math.abs(n.r-a.r)<fA}class l3{constructor(a){this.redraw=a}tracks=new Map;rafId=null;enqueue(a,s){const l=this.normalizePath(s);if(l.length<2){this.clear(a,{snap:!0});return}const c=l[0];let u=this.tracks.get(a.id);u?u.current?ic(u.current.to,c)||(u=this.resetTrack(a,c)):ic(a.renderCoord,c)||(u=this.resetTrack(a,c)):(u={unit:a,queue:[]},this.tracks.set(a.id,u),ic(a.renderCoord,c)||a.setRenderCoord(c));for(let f=1;f<l.length;f++)u.queue.push(vf(l[f]));this.ensureRunning()}clear(a,s){if(!this.tracks.delete(a.id)){s?.snap&&(a.snapRenderToCoord(),this.redraw());return}(s?.snap??!0)&&(a.snapRenderToCoord(),this.redraw()),this.tracks.size===0&&this.rafId!==null&&(typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(this.rafId),this.rafId=null)}clearAll(){for(const a of this.tracks.values())a.unit.snapRenderToCoord();this.tracks.clear(),this.rafId!==null&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(this.rafId),this.rafId=null,this.redraw()}resetTrack(a,s){this.clear(a,{snap:!1});const l={unit:a,queue:[]};return this.tracks.set(a.id,l),a.setRenderCoord(s),l}ensureRunning(){this.rafId!==null||this.tracks.size===0||(this.rafId=requestAnimationFrame(this.step))}normalizePath(a){const s=[];for(const l of a){const c=vf(l);(s.length===0||!ic(s[s.length-1],c))&&s.push(c)}return s}ease(a){return a<=0?0:a>=1?1:a<.5?4*a*a*a:1-Math.pow(-2*a+2,3)/2}step=a=>{if(this.rafId=null,this.tracks.size===0)return;let s=!1;for(const[l,c]of this.tracks){if(!c.current){const b=c.queue.shift();if(!b){this.tracks.delete(l);continue}c.current={from:vf(c.unit.renderCoord??c.unit.coord),to:b,start:a}}const u=c.current;if(!u)continue;const h=(a-u.start)/r3,m=Math.min(1,Math.max(0,h)),g=this.ease(m),p=u.from.q+(u.to.q-u.from.q)*g,v=u.from.r+(u.to.r-u.from.r)*g;c.unit.setRenderCoord({q:p,r:v}),s=!0,m>=1&&(c.unit.setRenderCoord(u.to),c.current=void 0,c.queue.length===0&&this.tracks.delete(l))}s&&this.redraw(),this.tracks.size>0&&(this.rafId=requestAnimationFrame(this.step))}}const o3=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null,c3=typeof matchMedia=="function"?matchMedia("(pointer: coarse)"):null,u3=900,d3=650;function f3(n){switch(n){case"down":return{x:0,y:36};case"left":return{x:-26,y:-18};case"right":return{x:26,y:-18};case"up":default:return{x:0,y:-40}}}function h3(n){const a=document.createElement("div");a.className="ui-floater-layer",n.appendChild(a);const s=!!o3?.matches,l=!!c3?.matches;return{spawn:({text:f,x:h,y:m,color:g,direction:p="up",durationMs:v,fontSize:b})=>{const E=document.createElement("span");E.className="ui-floater",E.textContent=f,E.style.left=`${Math.round(h)}px`,E.style.top=`${Math.round(m)}px`,g&&(E.style.color=g),b&&(E.style.fontSize=`${b}px`);const C=l?12:24;for(;a.childElementCount>=C;)a.firstElementChild?.remove();a.appendChild(E);const k=v??(l?d3:u3);if(s||!E.animate){E.style.opacity="0",E.style.transition=`opacity ${Math.round(k*.8)}ms ease-out`,requestAnimationFrame(()=>{E.style.opacity="1",requestAnimationFrame(()=>{E.style.opacity="0"})}),window.setTimeout(()=>{E.remove()},k);return}const B=f3(p),N=[{transform:"translate3d(-50%, -50%, 0) translate3d(0, 0, 0)",opacity:0},{transform:"translate3d(-50%, -50%, 0) translate3d(0, 0, 0)",opacity:1,offset:.18},{transform:`translate3d(-50%, -50%, 0) translate3d(${B.x}px, ${B.y}px, 0)`,opacity:0}],j=E.animate(N,{duration:k,easing:"cubic-bezier(0.18, 0.89, 0.32, 1.28)",fill:"forwards"});j.onfinish=()=>{E.remove()}},destroy:()=>{a.remove()}}}const hA=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),m3=new Intl.NumberFormat("en-US",{maximumFractionDigits:1,minimumFractionDigits:0});function mA(n){return 1-(1-n)*(1-n)}function sc(n,a,s){return Math.min(s,Math.max(a,n))}const g3="var(--color-danger)",p3="color-mix(in srgb, #34d399 88%, white 12%)",A3=720,v3=540,y3=220,b3=180,E3=6,w3=3,S3="color-mix(in srgb, #fbbf24 82%, white 10%)",x3=typeof matchMedia=="function"?matchMedia("(prefers-reduced-motion: reduce)"):null,C3=typeof matchMedia=="function"?matchMedia("(pointer: coarse)"):null;function R3(n){const{canvas:a,overlay:s,mapRenderer:l,getUnitById:c,requestDraw:u}=n,f=h3(s),h=new Map,m=new Map,g=[],p={x:0,y:0},v=!!x3?.matches,b=!!C3?.matches,E=b?v3:A3,C=b?b3:y3,k=b?w3:E3,B=()=>{u&&(typeof requestAnimationFrame=="function"?requestAnimationFrame(()=>u()):u())},N=_=>{const L=a.getBoundingClientRect(),P=s.getBoundingClientRect();if(L.width===0||L.height===0)return null;const{x:T,y:K}=Wn(_,l.hexSize),z=(T-Se.x)*Se.zoom+L.width/2,R=(K-Se.y)*Se.zoom+L.height/2,U=l.hexSize*Se.zoom*.75;return{x:z+(L.left-P.left),y:R+(L.top-P.top)-U}},j=(_,L,P,T="up")=>{const K=c(_);if(!K)return;const z=N(K.renderCoord??K.coord);z&&f.spawn({text:L,x:z.x,y:z.y,color:P,direction:T,fontSize:b?18:void 0})},q=_=>{if(!_||_.amount<=0)return;const L=hA.format(Math.max(1,Math.round(_.amount)));if(j(_.targetId,`-${L}`,g3,"up"),!v){const P=typeof performance<"u"?performance.now():Date.now();g.push({start:P,duration:C,intensity:k,seedX:Math.random()*500,seedY:Math.random()*500})}B()},Z=_=>{if(!_||_.amount<=0)return;const L=_.amount>=1?hA.format(Math.round(_.amount)):m3.format(sc(_.amount,0,9.9));j(_.unitId,`+${L}`,p3,"up"),B()},W=_=>{if(!_)return;const L=typeof performance<"u"?performance.now():Date.now();h.set(_.unitId,{start:L,duration:E}),j(_.unitId,"",S3,"down"),B()};return ne.on("unitDamaged",q),ne.on("unitHealed",Z),ne.on("unitDied",W),{step:_=>{if(v)p.x=0,p.y=0;else{let L=0,P=0;for(let T=g.length-1;T>=0;T--){const K=g[T],z=_-K.start;if(z>=K.duration){g.splice(T,1);continue}const R=sc(z/K.duration,0,1),U=K.intensity*mA(1-R);L+=Math.sin((_+K.seedX)/16)*U,P+=Math.cos((_+K.seedY)/18)*U}p.x=L,p.y=P}for(const[L,P]of h){const T=_-P.start,K=sc(T/P.duration,0,1),z=1-mA(K);if(K>=1){m.delete(L),h.delete(L);continue}m.set(L,sc(z,0,1))}},getShakeOffset:()=>({x:p.x,y:p.y}),getUnitAlpha:_=>m.get(_)??1,dispose:()=>{ne.off("unitDamaged",q),ne.off("unitHealed",Z),ne.off("unitDied",W),g.length=0,h.clear(),m.clear(),f.destroy()}}}function B3(){return`${"/".endsWith("/")?"/":"//"}${"assets/units/saunoja.svg".replace(/^\/+/,"")}`}const gA=B3();let qs=null,rl=null;function Ff(n){return!!(n&&n.complete&&n.naturalWidth>0&&n.naturalHeight>0)}function M3(n,a){if(!a)return n;try{a(n)}catch(s){console.error("Saunoja icon onLoad callback failed",s)}return n}function Fv(n){const a=l=>n?l.then(c=>M3(c,n)):l;if(Ff(qs))return a(Promise.resolve(qs));if(rl)return a(rl);if(typeof Image>"u")return Promise.reject(new Error("Image constructor is not available in this environment."));const s=new Image;return s.decoding="async",qs=s,rl=new Promise((l,c)=>{const u=()=>{s.onload=null,s.onerror=null},f=()=>{u(),l(s)};s.onload=f,s.onerror=h=>{u(),qs=null,rl=null;const m=new Error(`Failed to load saunoja icon from ${gA}`);console.warn(m.message,h),c(m)},s.src=gA,Ff(s)&&f()}),a(rl)}function D3(n,a,{originX:s=0,originY:l=0,hexRadius:c=tr,zoom:u=1}={}){if(!n||!Array.isArray(a)||a.length===0)return;const f=Ff(qs)?qs:null;if(!f)return;const h=Number.isFinite(c)&&c>0?c:tr,m=h*.98,g=[...a].sort((p,v)=>p.coord.r!==v.coord.r?p.coord.r-v.coord.r:p.coord.q!==v.coord.q?p.coord.q-v.coord.q:p.id.localeCompare(v.id));for(const p of g){const{x:v,y:b}=e3({coord:p.coord,hexSize:h,origin:{x:s,y:l},zoom:u,type:"saunoja"});n.save(),ml(n,v,b,m),n.clip();const E=h*2.15/Math.max(f.naturalWidth,f.naturalHeight||1),C=Zn(f.naturalWidth*E,u),k=Zn(f.naturalHeight*E,u),B=Zn(v-C/2,u),N=Zn(b-k*.72,u);n.save(),n.filter="grayscale(100%) contrast(112%)",n.globalAlpha*=.96,n.drawImage(f,B,N,C,k),n.restore(),n.save(),n.globalCompositeOperation="multiply";const j=n.createRadialGradient(v,b+m*.38,m*.2,v,b+m*.38,m*1.05);j.addColorStop(0,"rgba(15, 23, 42, 0.55)"),j.addColorStop(1,"rgba(15, 23, 42, 0)"),n.fillStyle=j,n.fillRect(v-m,b-m,m*2,m*2),n.restore(),n.save(),n.globalCompositeOperation="soft-light";const q=n.createLinearGradient(v,b-m,v,b+m);q.addColorStop(0,"rgba(255, 232, 210, 0.18)"),q.addColorStop(.52,"rgba(255, 183, 124, 0.32)"),q.addColorStop(1,"rgba(212, 97, 54, 0.5)"),n.fillStyle=q,n.fillRect(v-m,b-m,m*2,m*2),n.restore(),n.save(),n.globalCompositeOperation="screen",n.globalAlpha=.75;const Z=n.createRadialGradient(v,b-m*.68,m*.1,v,b,m*1.12);Z.addColorStop(0,"rgba(255, 255, 255, 0.85)"),Z.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=Z,n.fillRect(v-m,b-m,m*2,m*2),n.restore();const re=performance.now()-p.lastHitAt,F=120;if(re<F){const _=1-re/F;xE(n,{centerX:v,centerY:b,radius:m,progress:_})}n.restore(),CE(n,{centerX:v,centerY:b-h*.18,radius:h*.94,intensity:p.steam});const ae=h*.42,$=b+h*.34;SE(n,{centerX:v,centerY:$,hp:p.hp,maxHp:p.maxHp,radius:ae})}}const T3=["Resolute Sauna Guardian","Steam Scholar","Frost-Hardened","Loyal Watchbearer","Aura Whisperer","Shield Brother","Stonefooted Scout","Sisu-Forged Veteran","Brewmaster Quartermaster","Icebreaker Herald","Runic Tactician","Torchbearer"],k3=["Heat Fickle","Soot Allergic","Slow to Spark","Overconfident","Distracted Dreamer","Stubborn Stoker","Thirsty Between Battles","Clumsy Footwork","Rust-Prone Gear","Echo-Lost Listener"];function pA(n,a,s){const l=[...n],c=[],u=Math.max(0,Math.min(a,l.length));for(let f=0;f<u;f++){const h=Math.floor(s()*l.length),[m]=l.splice(h,1);m&&c.push(m)}return c}function H3(n,a){for(let s=n.length-1;s>0;s--){const l=Math.floor(a()*(s+1));[n[s],n[l]]=[n[l],n[s]]}return n}function O3(n=Math.random){typeof n!="function"&&(n=Math.random);const a=pA(T3,2,n),s=pA(k3,1,n),l=[...a,...s];return H3(l,n).map(c=>c.trim()).filter(c=>c.length>0)}const N3=1;function ll(n,a=0){return Number.isFinite(n)?n:a}function P3(n){const{heat:a,pickSpawnTile:s,spawnUnit:l,maxSpawns:c,tierHelpers:u}=n,f=Math.max(N3,_s),h=Math.max(0,ll(n.minUpkeepReserve??f,f));let m=Math.max(0,ll(n.availableUpkeep,0));const g=Math.max(0,Math.floor(ll(c??Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY))),p=ll(n.rosterCap??Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),v=Number.isFinite(p)?Math.max(0,Math.floor(p)):Number.POSITIVE_INFINITY,b=typeof n.getRosterCount=="function"?n.getRosterCount:()=>0;let E=0,C=0,k=0,B=0,N=0,j=0,q=0;for(;(a.hasTriggerReady()||u?.hasQueuedSpawn())&&E<g;){E+=1;const Z=u?.getSnapshot()??null;if(Math.max(0,Math.floor(ll(b()??0,0)))>=v){j+=1;let $=!1;Z&&u&&($=u.queueBlockedSpawn(Z,()=>a.consumeTrigger())),$?C+=a.vent(.15):C+=a.vent(.35);break}let re=!1;if(Z&&u&&u.hasQueuedSpawn()&&(re=u.takeQueuedSpawn(Z)),!re&&!a.hasTriggerReady())break;if(m<h){B+=1,re&&Z&&u?.restoreQueuedSpawn(Z),C+=a.vent(.5);break}const F=s();if(!F){N+=1,re&&Z&&u?.restoreQueuedSpawn(Z),C+=a.vent(.25);break}if(!l(F)){q+=1,re&&Z&&u?.restoreQueuedSpawn(Z),C+=a.vent(.25);break}if(!re&&!a.consumeTrigger()){q+=1;break}k+=1,m=Math.max(0,m-h),Z&&u?.onSpawnResolved?.(Z,{usedQueue:re})}return{spawned:k,blockedByUpkeep:B,blockedByPosition:N,blockedByRoster:j,failedSpawns:q,ventedHeat:C,remainingUpkeep:m}}function yf(n,a=0){return Number.isFinite(n)?n:a}function Q3(n){const a=Math.max(0,yf(n.dt,0)),{addedHeat:s,cooledHeat:l}=n.heat.advance(a);let c=0;for(const E of n.units){if(E.isDead()||E.faction!=="player")continue;const C=Math.max(0,yf(n.getUnitUpkeep(E),0));C>0&&(c+=C)}const u=5;let h=Math.max(0,yf(n.sauna.beerUpkeepAccumulator,0)),m=0;if(c>0){if(h+=a,h>=u){const E=Math.floor(h/u);m=c*E,h-=E*u}}else h=0;n.sauna.beerUpkeepAccumulator=h,m>0&&n.state.addResource(ie.SAUNA_BEER,-m);const g=n.state.getResource(ie.SAUNA_BEER),p=P3({heat:n.heat,availableUpkeep:g,pickSpawnTile:n.pickSpawnTile,spawnUnit:n.spawnBaseUnit,minUpkeepReserve:n.minUpkeepReserve,maxSpawns:n.maxSpawns,rosterCap:n.rosterCap,getRosterCount:n.getRosterCount,tierHelpers:n.tierHelpers}),v=n.heat.getCooldownSeconds(),b=n.heat.timeUntilNextTrigger();return n.sauna.heat=n.heat.getHeat(),n.sauna.playerSpawnThreshold=n.heat.getThreshold(),n.sauna.playerSpawnCooldown=Number.isFinite(v)?v:0,n.sauna.playerSpawnTimer=Number.isFinite(b)?b:0,n.sauna.heatPerTick=n.heat.getBuildRate(),{addedHeat:s,cooledHeat:l,upkeepDrain:m,spawn:p,beerRemaining:n.state.getResource(ie.SAUNA_BEER),availableUpkeep:p.remainingUpkeep}}function G3(){try{return globalThis.localStorage??null}catch(n){return console.warn("Unable to access localStorage for inventory persistence",n),null}}function L3(n,a){const s=n.getItem(a);if(s)try{return JSON.parse(s)}catch(l){console.warn(`Failed to parse persisted inventory for "${a}", clearing.`,l),n.removeItem(a);return}}function rc(n,a,s){const l=Number.isFinite(n.quantity)?n.quantity:1,c=Math.max(1,Math.round(l)),u=typeof n.rarity=="string"?n.rarity.trim():void 0,f=typeof n.icon=="string"?n.icon:void 0,h=typeof n.description=="string"?n.description:void 0;return{id:n.id,name:n.name,description:h,icon:f,rarity:u,quantity:c,acquiredAt:a,sourceTableId:s?.tableId,sourceEntryId:s?.entryId}}class U3{listeners=new Set;storageKey;now;maxStashSize;storage;autoEquip;stash=[];inventory=[];constructor(a={}){this.storageKey=a.storageKey??"autobattles:inventory",this.now=typeof a.now=="function"?a.now:()=>Date.now(),this.maxStashSize=Math.max(1,Math.floor(a.maxStashSize??24)),this.storage=G3(),this.autoEquip=a.autoEquip??!0,this.load()}load(){if(!this.storage)return;const a=L3(this.storage,this.storageKey);if(a){if(typeof a.autoEquip=="boolean"&&(this.autoEquip=a.autoEquip),Array.isArray(a.stash)){const s=[];for(const l of a.stash){if(!l||typeof l!="object")continue;const{id:c,name:u,quantity:f}=l;if(typeof c!="string"||typeof u!="string")continue;const h=Number.isFinite(l.acquiredAt)?l.acquiredAt:this.now();s.push(rc({id:c,name:u,description:l.description,icon:l.icon,rarity:l.rarity,quantity:f},h,{tableId:l.sourceTableId,entryId:l.sourceEntryId}))}this.stash=s.slice(0,this.maxStashSize)}if(Array.isArray(a.inventory)){const s=[];for(const l of a.inventory){if(!l||typeof l!="object")continue;const{id:c,name:u,quantity:f}=l;if(typeof c!="string"||typeof u!="string")continue;const h=Number.isFinite(l.acquiredAt)?l.acquiredAt:this.now();s.push(rc({id:c,name:u,description:l.description,icon:l.icon,rarity:l.rarity,quantity:f},h,{tableId:l.sourceTableId,entryId:l.sourceEntryId}))}this.inventory=s}}}persist(){if(!this.storage)return;const a={autoEquip:this.autoEquip,stash:this.stash.map(s=>({...s})),inventory:this.inventory.map(s=>({...s}))};try{this.storage.setItem(this.storageKey,JSON.stringify(a))}catch(s){console.warn("Failed to persist inventory state",s)}}emit(a){for(const s of this.listeners)s(a)}normalizeEquipResult(a){return typeof a=="boolean"?{success:a}:!a||typeof a!="object"?{success:!1}:{success:!!a.success,comparison:a.comparison,reason:a.reason}}on(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}isAutoEquipEnabled(){return this.autoEquip}setAutoEquip(a){this.autoEquip!==a&&(this.autoEquip=a,this.persist(),this.emit({type:"settings-updated",autoEquip:this.autoEquip}))}getStash(){return this.stash.map(a=>({...a}))}getStashSize(){return this.stash.length}getInventory(){return this.inventory.map(a=>({...a}))}getInventorySize(){return this.inventory.length}addLoot(a,s={}){return this.addItem({...a.item},{...s,sourceTableId:s.sourceTableId,sourceEntryId:s.sourceEntryId??a.entryId})}addItem(a,s={}){const l=Math.max(0,Math.round(this.now())),c=rc(a,l,{tableId:s.sourceTableId,entryId:s.sourceEntryId}),u=s.autoEquip??this.autoEquip;let f={success:!1};if(u&&s.unitId&&typeof s.equip=="function"){try{f=this.normalizeEquipResult(s.equip(s.unitId,c))}catch(h){console.warn("Failed to auto-equip inventory item",{item:c,error:h}),f={success:!1}}if(f.success)return this.persist(),this.emit({type:"item-acquired",item:c,equipped:!0,location:"equipped",unitId:s.unitId,stashSize:this.stash.length,inventorySize:this.inventory.length}),{item:c,equipped:!0,location:"equipped"}}if(this.stash.push(c),this.stash.length>this.maxStashSize){const h=this.stash.splice(0,this.stash.length-this.maxStashSize);h.length>0&&console.warn("Inventory stash full, trimming oldest items",h)}return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-acquired",item:c,equipped:!1,unitId:s.unitId,location:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),{item:c,equipped:!1,location:"stash",stashIndex:this.stash.length-1}}equipFromStash(a,s,l){if(a<0||a>=this.stash.length)return!1;const c=this.stash[a];let u={success:!1};try{u=this.normalizeEquipResult(l(s,c))}catch(h){console.warn("Failed to equip stash item",{item:c,error:h}),u={success:!1}}if(!u.success)return!1;const[f]=this.stash.splice(a,1);return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-equipped",item:f,unitId:s,from:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length,comparison:u.comparison}),!0}equipFromInventory(a,s,l){if(a<0||a>=this.inventory.length)return!1;const c=this.inventory[a];let u={success:!1};try{u=this.normalizeEquipResult(l(s,c))}catch(h){console.warn("Failed to equip inventory item",{item:c,error:h}),u={success:!1}}if(!u.success)return!1;const[f]=this.inventory.splice(a,1);return this.persist(),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"item-equipped",item:f,unitId:s,from:"inventory",stashSize:this.stash.length,inventorySize:this.inventory.length,comparison:u.comparison}),!0}moveToInventory(a){if(a<0||a>=this.stash.length)return null;const[s]=this.stash.splice(a,1);return this.inventory.push(s),this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"item-moved",item:s,from:"stash",to:"inventory",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}moveToStash(a){if(this.stash.length>=this.maxStashSize||a<0||a>=this.inventory.length)return null;const[s]=this.inventory.splice(a,1);return this.stash.push(s),this.stash.length>this.maxStashSize&&this.stash.splice(0,this.stash.length-this.maxStashSize),this.persist(),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-moved",item:s,from:"inventory",to:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}discardFromInventory(a){if(a<0||a>=this.inventory.length)return null;const[s]=this.inventory.splice(a,1);return this.persist(),this.emit({type:"inventory-updated",inventory:this.getInventory()}),this.emit({type:"item-discarded",item:s,location:"inventory",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}unequipToStash(a,s,l){if(this.stash.length>=this.maxStashSize)return!1;let c=null;try{c=l(a,s)??null}catch(h){console.warn("Failed to unequip item",{unitId:a,slot:s,error:h}),c=null}if(!c)return!1;const u=Math.max(0,Math.round(this.now())),f=rc(c,u);return this.stash.push(f),this.stash.length>this.maxStashSize&&this.stash.splice(0,this.stash.length-this.maxStashSize),this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-unequipped",item:f,unitId:a,slot:s,to:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),!0}discardFromStash(a){if(a<0||a>=this.stash.length)return null;const[s]=this.stash.splice(a,1);return this.persist(),this.emit({type:"stash-updated",stash:this.getStash()}),this.emit({type:"item-discarded",item:s,location:"stash",stashSize:this.stash.length,inventorySize:this.inventory.length}),s}}const AA={toast:990},j3={stash:"Quartermaster Stash",inventory:"Ready Inventory"},z3={stash:"Your stash is empty. Conquer enemy elites to gather new equipment.",inventory:"No gear staged. Move items into the ready inventory for quick equipping."},I3={mythic:6,legendary:5,epic:4,rare:3,uncommon:2,common:1},F3=["health","attackDamage","attackRange","movementRange","defense","shield"],q3={"birch-sap-satchel":["healing","support"],"steamed-bandages":["restoration","shielding"],"aurora-distillate":["damage","defense"],"stolen-sauna-tokens":["mobility"],"midnight-bloodwine":["healing","damage"],"sauna-incense":["range","focus"],"glacier-brand":["damage"],"emberglass-arrow":["damage","range"],"aurora-lattice":["damage","range"],"emberglass-shard":["damage","mobility"],"windstep-totem":["mobility","defense"],"searing-chant-censer":["damage","shielding"],"cracked-ice-amulet":["defense"],"myrsky-charm":["range","defense"],"frostwyrm-signet":["shielding"],"spirit-oak-charm":["healing","defense"]};function Oa(n){return(n??"").trim().toLowerCase()}function bf(n){const a=new Set;for(const s of n){const l=Oa(s);l&&a.add(l)}return a}function Ef(n,a){return{id:n.id,name:n.name,quantity:typeof a=="number"?a:n.quantity,rarity:n.rarity}}function lc(n){return n?{id:n.id,name:n.name,quantity:n.quantity,rarity:n.rarity}:null}function vA(n){return q3[n]??[]}function yA(n){const a=Oa(n)||"common",s=a.charAt(0).toUpperCase()+a.slice(1);return{key:a,label:s,rank:I3[a]??0}}function X3(n){const a=xl(n.id);if(!a){const c=yA(n.rarity);return{slot:null,slotLabel:"Unassigned",rarity:c.key,rarityRank:c.rank,tags:vA(n.id),acquiredAt:n.acquiredAt}}const s=Sl(a.slot),l=yA(n.rarity);return{slot:a.slot,slotLabel:s.label,rarity:l.key,rarityRank:l.rank,tags:vA(n.id),acquiredAt:n.acquiredAt}}function Y3(n,a,s,l,c){return{id:n.id,name:n.name,description:n.description,icon:n.icon,rarity:n.rarity,quantity:c,slot:a,maxStacks:s,modifiers:l??{}}}function bA(n,a){const s=n[a];return typeof s=="number"&&Number.isFinite(s)?Math.round(s):0}function _3(n,a){const s=xl(n.item.id);if(!s)return{slot:null,canEquip:!1,reason:"unknown-item",equipped:null,projected:Ef(n.item),stats:[]};const l=s.slot,c=Sl(l),u=a.loadout.find(B=>B.slot===l)??null,f=Math.max(1,Math.round(n.item.quantity)),h=Math.max(1,Math.floor(s.maxStacks??c.maxStacks)),m=(u?.quantity??0)+f,g=m>h;if(u&&u.id!==n.item.id)return{slot:l,canEquip:!1,reason:"slot-occupied",equipped:lc(u),projected:Ef(n.item),stats:[]};if(g&&(!u||u.id!==n.item.id))return{slot:l,canEquip:!1,reason:"stack-limit",equipped:lc(u),projected:Ef(n.item,Math.min(h,m)),stats:[]};const p=Math.min(h,m),v=[];for(const B of a.loadout)B.slot!==l&&v.push({...B});const b=u&&u.id===n.item.id?{...u,quantity:p}:Y3(n.item,l,h,s.modifiers,p);v.push(b);const E=a.currentStats??bc(a.baseStats,a.loadout),C=bc(a.baseStats,v),k=F3.map(B=>{const N=bA(E,B),j=bA(C,B);return{stat:B,current:N,projected:j,delta:j-N}});return{slot:l,canEquip:!0,equipped:lc(u),projected:lc(b),stats:k}}function EA(n,a){return n.map((s,l)=>({item:s,index:l,location:a,metadata:X3(s)}))}function K3(n,a){const s=new Map,l=new Map,c=new Map;for(const m of n){const{metadata:g}=m;if(g.slot){const E=g.slot,C=s.get(E);C?C.count+=1:s.set(E,{label:g.slotLabel,count:1})}const p=g.rarity,v=p.charAt(0).toUpperCase()+p.slice(1),b=l.get(p);b?b.count+=1:l.set(p,{label:v,count:1,rank:g.rarityRank});for(const E of g.tags){const C=Oa(E);if(!C)continue;const k=E.split(/[-_]/g).map(N=>N.charAt(0).toUpperCase()+N.slice(1)).join(" "),B=c.get(C);B?B.count+=1:c.set(C,{label:k,count:1})}}const u=Array.from(s.entries()).sort((m,g)=>{const p=er.indexOf(m[0]),v=er.indexOf(g[0]);return p-v}).map(([m,g])=>({id:m,label:g.label,count:g.count,active:a.slots.has(Oa(m))})),f=Array.from(l.entries()).sort((m,g)=>(g[1].rank??0)-(m[1].rank??0)).map(([m,g])=>({id:m,label:g.label,count:g.count,active:a.rarities.has(Oa(m))})),h=Array.from(c.entries()).sort((m,g)=>m[1].label.localeCompare(g[1].label)).map(([m,g])=>({id:m,label:g.label,count:g.count,active:a.tags.has(Oa(m))}));return{slots:u,rarities:f,tags:h}}function V3(n,a){if(a.slots.size>0){const s=n.metadata.slot?Oa(n.metadata.slot):"";if(!s||!a.slots.has(s))return!1}return!(a.rarities.size>0&&!a.rarities.has(n.metadata.rarity)||a.tags.size>0&&!n.metadata.tags.map(c=>Oa(c)).some(c=>a.tags.has(c)))}function Z3(n,a){return a?[n.item.name,n.item.description??"",n.metadata.tags.join(" ")].join(" ").toLowerCase().includes(a):!0}function J3(n,a){switch(a){case"oldest":n.sort((s,l)=>s.metadata.acquiredAt-l.metadata.acquiredAt);break;case"rarity":n.sort((s,l)=>l.metadata.rarityRank!==s.metadata.rarityRank?l.metadata.rarityRank-s.metadata.rarityRank:l.metadata.acquiredAt-s.metadata.acquiredAt);break;case"name":n.sort((s,l)=>s.item.name.localeCompare(l.item.name));break;case"newest":default:n.sort((s,l)=>l.metadata.acquiredAt-s.metadata.acquiredAt);break}}function wA(n){const a={slots:bf(n.filters.slots??new Set),rarities:bf(n.filters.rarities??new Set),tags:bf(n.filters.tags??new Set)},s=Oa(n.search),l=Math.max(1,Math.floor(n.page||1)),c=Math.max(1,Math.floor(n.pageSize||24)),u=n.collection??"stash",f=EA(n.stash,"stash"),h=EA(n.inventory,"inventory"),m=[...f,...h],g=K3(m,a),p=u==="stash"?f:h,b=[...p.filter(q=>V3(q,a)&&Z3(q,s))];J3(b,n.sort??"newest");const E=Math.min(b.length,l*c),C=b.slice(0,E),k=b.length>E,B=n.comparisonContext??null,N=C.map(q=>({item:q.item,index:q.index,location:q.location,metadata:q.metadata,comparison:B?_3(q,B):null})),j=["stash","inventory"].map(q=>({id:q,label:j3[q],count:q==="stash"?n.stash.length:n.inventory.length,active:q===u}));return{collection:u,collections:j,filters:g,items:N,total:p.length,filteredTotal:b.length,search:n.search,sort:n.sort??"newest",hasMore:k,emptyMessage:z3[u]}}function W3(){return{slots:new Set,rarities:new Set,tags:new Set}}const $3="_panel_7op0d_1",e5="_header_7op0d_32",t5="_title_7op0d_42",n5="_meta_7op0d_49",a5="_close_7op0d_54",i5="_controls_7op0d_74",s5="_settings_7op0d_82",r5="_settingRow_7op0d_93",l5="_settingCopy_7op0d_107",o5="_settingLabel_7op0d_114",c5="_settingHint_7op0d_120",u5="_settingControl_7op0d_127",d5="_settingState_7op0d_133",f5="_settingInput_7op0d_143",h5="_settingSwitch_7op0d_149",m5="_settingTrack_7op0d_169",g5="_settingThumb_7op0d_181",p5="_collections_7op0d_197",A5="_collectionButton_7op0d_205",v5="_searchRow_7op0d_234",y5="_search_7op0d_234",b5="_searchIcon_7op0d_266",E5="_sortSelect_7op0d_276",w5="_body_7op0d_286",S5="_grid_7op0d_292",x5="_empty_7op0d_301",C5="_footer_7op0d_312",R5="_loadMore_7op0d_317",Ge={panel:$3,header:e5,title:t5,meta:n5,close:a5,controls:i5,settings:s5,settingRow:r5,settingCopy:l5,settingLabel:o5,settingHint:c5,settingControl:u5,settingState:d5,settingInput:f5,settingSwitch:h5,settingTrack:m5,settingThumb:g5,collections:p5,collectionButton:A5,searchRow:v5,search:y5,searchIcon:b5,sortSelect:E5,body:w5,grid:S5,empty:x5,footer:C5,loadMore:R5},B5="_group_18afl_1",M5="_label_18afl_11",D5="_row_18afl_19",T5="_chip_18afl_25",k5="_count_18afl_55",pl={group:B5,label:M5,row:D5,chip:T5,count:k5},H5="_card_1o0cv_1",O5="_header_1o0cv_26",N5="_icon_1o0cv_32",P5="_details_1o0cv_44",Q5="_titleRow_1o0cv_51",G5="_title_1o0cv_51",L5="_rarity_1o0cv_63",U5="_slot_1o0cv_70",j5="_tags_1o0cv_75",z5="_tag_1o0cv_75",I5="_compare_1o0cv_91",F5="_tooltip_1o0cv_113",q5="_statList_1o0cv_144",X5="_stat_1o0cv_144",Y5="_actions_1o0cv_169",_5="_action_1o0cv_169",K5="_primary_1o0cv_198",V5="_danger_1o0cv_209",Z5="_badge_1o0cv_224",rt={card:H5,header:O5,icon:N5,details:P5,titleRow:Q5,title:G5,rarity:L5,slot:U5,tags:j5,tag:z5,compare:I5,tooltip:F5,statList:q5,stat:X5,actions:Y5,action:_5,primary:K5,danger:V5,badge:Z5},J5={health:"HP",attackDamage:"ATK",attackRange:"Range",movementRange:"Move",defense:"Defense",shield:"Shield"},SA={"slot-occupied":"Slot occupied. Unequip the current item first.","stack-limit":"Stack limit reached for this item.","unknown-item":"This item cannot be equipped yet."},mc=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function W5(n,a){if(a.item.icon){const l=document.createElement("img");l.src=a.item.icon,l.alt="",l.loading="lazy",l.decoding="async",l.width=48,l.height=48,n.appendChild(l);return}const s=document.createElement("span");s.textContent=a.item.name.trim()[0]?.toUpperCase()??"?",n.appendChild(s)}function qv(n){if(!(!n||n.canEquip))return n.reason&&SA[n.reason]?SA[n.reason]:"Unable to equip this item right now."}function $5(n,a){const s=document.createElement("div");s.className=rt.tooltip;const l=document.createElement("h4");if(a.projected?l.textContent=a.canEquip?"Projected stats":"Current loadout":l.textContent="Stats",s.appendChild(l),!a.canEquip){const u=qv(a);if(u){const f=document.createElement("p");f.textContent=u,f.style.margin="0 0 0.5rem",f.style.fontSize="0.78rem",s.appendChild(f)}}const c=document.createElement("ul");c.className=rt.statList;for(const u of n){const f=document.createElement("li");f.className=rt.stat,u.delta>0?f.dataset.delta="positive":u.delta<0&&(f.dataset.delta="negative");const h=document.createElement("span");h.textContent=J5[u.stat]??u.stat;const m=document.createElement("span"),g=mc.format(u.current),p=mc.format(u.projected),v=u.delta,b=v===0?"0":`${v>0?"+":""}${mc.format(Math.abs(v))}`;m.textContent=`${g}  ${p} (${b})`,f.append(h,m),c.appendChild(f)}return s.appendChild(c),s}function e4(n){const a=n.comparison;if(!a)return null;const s=document.createElement("div"),l=document.createElement("button");l.type="button",l.className=rt.compare,l.textContent=a.canEquip?"Compare stats":"View details";const c=`${n.item.id}-compare-${n.location}-${n.index}`;l.setAttribute("aria-controls",c),l.setAttribute("aria-expanded","false"),l.setAttribute("aria-describedby",c),l.addEventListener("focus",()=>{l.setAttribute("aria-expanded","true")}),l.addEventListener("blur",()=>{l.setAttribute("aria-expanded","false")}),s.appendChild(l);const u=$5(a.stats,a);return u.id=c,s.appendChild(u),s}function t4(n,a){if(a&&!a.canEquip){n.disabled=!0;const s=qv(a);s&&(n.title=s)}}function n4(n){return n.map(a=>{const s=a.trim();return s&&s.split(/[-_\s]/g).map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ")})}function a4(n,a,s){const l=document.createElement("div");l.className=rt.actions;const c=document.createElement("button");c.type="button",c.className=`${rt.action} ${rt.primary}`,c.textContent="Equip",t4(c,a.comparison),c.addEventListener("click",()=>{s.onEquip?.()}),l.appendChild(c);const u=document.createElement("button");u.type="button",u.className=rt.action,u.textContent=a.location==="stash"?"Send to inventory":"Return to stash",u.addEventListener("click",()=>{s.onTransfer?.()}),l.appendChild(u);const f=document.createElement("button");f.type="button",f.className=`${rt.action} ${rt.danger}`,f.textContent="Trash";let h=null;const m=()=>{h!==null&&(window.clearTimeout(h),h=null),f.dataset.confirm="false",f.textContent="Trash"};f.addEventListener("click",()=>{if(h!==null){m(),s.onTrash?.();return}f.dataset.confirm="true",f.textContent="Confirm trash",h=window.setTimeout(()=>{m()},2600)}),l.appendChild(f),n.appendChild(l)}function i4(n,a){const s=document.createElement("li");s.className=rt.card,s.dataset.location=n.location,s.setAttribute("role","listitem");const l=document.createElement("div");l.className=rt.header;const c=document.createElement("div");c.className=rt.icon,W5(c,n),l.appendChild(c);const u=document.createElement("div");u.className=rt.details;const f=document.createElement("div");f.className=rt.titleRow;const h=document.createElement("h4");h.className=rt.title,h.textContent=n.item.name,f.appendChild(h);const m=document.createElement("span");m.className=rt.rarity,m.textContent=n.metadata.rarity.toUpperCase(),f.appendChild(m),u.appendChild(f);const g=document.createElement("span");if(g.className=rt.slot,g.textContent=n.metadata.slot?n.metadata.slotLabel:"No slot",u.appendChild(g),n.metadata.tags.length>0){const v=document.createElement("div");v.className=rt.tags;for(const b of n4(n.metadata.tags)){const E=document.createElement("span");E.className=rt.tag,E.textContent=b,v.appendChild(E)}u.appendChild(v)}const p=e4(n);if(p&&u.appendChild(p),l.appendChild(u),s.appendChild(l),n.item.quantity>1){const v=document.createElement("span");v.className=rt.badge,v.textContent=`${mc.format(n.item.quantity)}`,s.appendChild(v)}return a4(s,n,a),s}const s4={newest:"Newest",oldest:"Oldest",rarity:"Rarity",name:"Name A-Z"};function wf(n){const a=document.createElement("div");a.className=pl.row;const s=document.createElement("div");s.className=pl.label,s.textContent=n;const l=document.createElement("div");return l.className=pl.group,a.append(s,l),{row:a,group:l}}function r4(n){const a=document.createElement("section");a.className=Ge.panel,a.tabIndex=-1,a.dataset.open="false",a.setAttribute("aria-label","Quartermaster stash");const s=document.createElement("header");s.className=Ge.header;const l=document.createElement("div"),c=document.createElement("h2");c.className=Ge.title,c.textContent="Quartermaster Stash",l.appendChild(c);const u=document.createElement("div");u.className=Ge.meta,u.textContent="Loading",l.appendChild(u);const f=document.createElement("button");f.type="button",f.className=Ge.close,f.textContent="Close",f.addEventListener("click",()=>n.onClose?.()),s.append(l,f),a.appendChild(s);const h=document.createElement("div");h.className=Ge.controls;const m=document.createElement("div");m.className=Ge.collections;const g={stash:document.createElement("button"),inventory:document.createElement("button")};g.stash.type="button",g.stash.className=Ge.collectionButton,g.stash.textContent="Stash",g.stash.addEventListener("click",()=>n.onCollectionChange?.("stash")),g.inventory.type="button",g.inventory.className=Ge.collectionButton,g.inventory.textContent="Ready",g.inventory.addEventListener("click",()=>n.onCollectionChange?.("inventory")),m.append(g.stash,g.inventory),h.appendChild(m);const p=document.createElement("div");p.className=Ge.searchRow;const v=document.createElement("div");v.className=Ge.search;const b=document.createElement("input");b.type="search",b.placeholder="Search stash",b.addEventListener("input",()=>n.onSearchChange?.(b.value));const E=document.createElement("span");E.className=Ge.searchIcon,E.textContent="",v.append(E,b),p.appendChild(v);const C=document.createElement("select");C.className=Ge.sortSelect,["newest","oldest","rarity","name"].forEach(T=>{const K=document.createElement("option");K.value=T,K.textContent=s4[T],C.appendChild(K)}),C.addEventListener("change",()=>n.onSortChange?.(C.value)),p.appendChild(C),h.appendChild(p);const k=document.createElement("div");k.className=Ge.settings;const B=(T,K,z,R)=>{const U=document.createElement("div");U.className=Ge.settingRow;const se=document.createElement("div");se.className=Ge.settingCopy;const fe=document.createElement("span");fe.className=Ge.settingLabel,fe.textContent=K,se.appendChild(fe);const w=document.createElement("p");w.className=Ge.settingHint,w.textContent=z,se.appendChild(w);const I=document.createElement("div");I.className=Ge.settingControl;const te=document.createElement("span");te.className=Ge.settingState,te.textContent="Off";const ee=document.createElement("input");ee.type="checkbox",ee.id=T,ee.className=Ge.settingInput;const oe=document.createElement("label");oe.className=Ge.settingSwitch,oe.htmlFor=T,oe.dataset.state="off";const ge=document.createElement("span");ge.className=Ge.settingTrack;const he=document.createElement("span");he.className=Ge.settingThumb,oe.append(ge,he);const Ie=Ce=>{ee.checked=Ce,oe.dataset.state=Ce?"on":"off",te.textContent=Ce?"On":"Off"};return ee.addEventListener("change",()=>{Ie(ee.checked),R?.(ee.checked)}),I.append(te,ee,oe),U.append(se,I),{root:U,setChecked:Ie}},N=B("inventory-autoequip-toggle","Auto-equip loot","Try outfitting the selected attendant as soon as new gear arrives.",T=>n.onAutoEquipChange?.(T)),j=B("inventory-ui-variant-toggle","Experimental HUD","Swap to the React/Tailwind HUD. You can revert at any time.",T=>n.onUiV2Change?.(T));N.setChecked(n.getAutoEquipState?.()??!1),j.setChecked(n.getUiV2State?.()??!1),k.append(N.root,j.root),h.appendChild(k);const q=document.createElement("div"),Z={slots:wf("Slots"),rarities:wf("Rarity"),tags:wf("Tags")};q.append(Z.slots.row,Z.rarities.row,Z.tags.row),h.appendChild(q),a.appendChild(h);const W=document.createElement("div");W.className=Ge.body;const re=document.createElement("ul");re.className=Ge.grid;const F=document.createElement("div");F.className=Ge.empty,F.textContent="No items match the current filters.",F.hidden=!0,W.append(re,F),a.appendChild(W);const ae=document.createElement("div");ae.className=Ge.footer;const $=document.createElement("button");$.type="button",$.className=Ge.loadMore,$.textContent="Show more",$.addEventListener("click",()=>n.onLoadMore?.()),ae.appendChild($),a.appendChild(ae);function _(T,K,z){T.group.innerHTML="",T.row.hidden=z.length===0;for(const R of z){const U=document.createElement("button");if(U.type="button",U.className=pl.chip,U.dataset.active=R.active?"true":"false",U.textContent=R.label,R.count>0){const se=document.createElement("span");se.className=pl.count,se.textContent=String(R.count),U.appendChild(se)}U.addEventListener("click",()=>n.onFilterToggle?.(K,R.id)),T.group.appendChild(U)}}function L(T){re.replaceChildren();const K=document.createDocumentFragment();for(const z of T.items){const R={onEquip:()=>n.onItemEquip?.(z),onTransfer:()=>n.onItemTransfer?.(z),onTrash:()=>n.onItemTrash?.(z)};K.appendChild(i4(z,R))}re.appendChild(K),F.hidden=T.filteredTotal!==0,F.hidden||(F.textContent=T.emptyMessage)}return{element:a,render(T){u.textContent=T.total===0?"No items yet":`${T.filteredTotal} of ${T.total} item${T.total===1?"":"s"}`;for(const[K,z]of Object.entries(g))z.dataset.active=K===T.collection?"true":"false";b.value!==T.search&&(b.value=T.search),C.value!==T.sort&&(C.value=T.sort),_(Z.slots,"slots",T.filters.slots),_(Z.rarities,"rarities",T.filters.rarities),_(Z.tags,"tags",T.filters.tags),L(T),$.hidden=!T.hasMore},setOpen(T){a.dataset.open=T?"true":"false"},focus(){const T=a.focus.bind(a);try{T({preventScroll:!0})}catch(K){console.warn("Stash panel focus without scroll prevention fallback",K);try{T()}catch(z){console.warn("Unable to focus stash panel element",z)}}},destroy(){a.remove()},setAutoEquip(T){N.setChecked(T)},setUiV2(T){j.setChecked(T)}}}const Sf=24,l4=4500,o4=400,c4={health:"HP",attackDamage:"ATK",attackRange:"RNG",movementRange:"MOV",defense:"DEF",shield:"Shield"},xA="pointer-events-none ml-auto flex w-full max-w-[min(22rem,90vw)] flex-col gap-[clamp(6px,1vw,12px)]",u4="pointer-events-auto flex w-full items-center gap-[clamp(4px,0.8vw,12px)] rounded-hud-md border border-white/15 px-4 py-3 text-[0.9rem] font-semibold leading-[1.35] shadow-[0_18px_32px_rgba(15,23,42,0.22)] backdrop-blur-[14px] backdrop-saturate-[135%] transition-all duration-300 ease-out",d4={loot:"bg-[linear-gradient(135deg,rgba(255,255,255,0.95),rgba(215,229,255,0.95))] text-slate-900",info:"bg-[linear-gradient(135deg,rgba(219,245,255,0.95),rgba(197,228,255,0.95))] text-slate-900",warn:"bg-[linear-gradient(135deg,rgba(255,231,217,0.95),rgba(255,214,196,0.95))] text-amber-900"},f4=["-translate-y-2","opacity-0"];function Tc(n){n.hidden=n.childElementCount===0}function h4(n,a){const s=n.querySelector('[data-ui="loot-toast-stack"]');if(s)return s.parentElement!==a&&a.appendChild(s),s.className=xA,s.style.zIndex=String(AA.toast),Tc(s),s;const c=(n.ownerDocument??document).createElement("div");return c.dataset.ui="loot-toast-stack",c.className=xA,c.setAttribute("aria-live","polite"),c.setAttribute("role","status"),c.style.zIndex=String(AA.toast),Tc(c),a.appendChild(c),c}function Kt(n,a,s){const l=(n.ownerDocument??document).createElement("div");l.dataset.variant=s,l.className=`${u4} ${d4[s]}`,l.textContent=a,n.appendChild(l),Tc(n);const c=()=>{l.remove(),Tc(n)},u=window.setTimeout(()=>{l.classList.add(...f4),window.setTimeout(c,o4)},l4);l.addEventListener("click",()=>{window.clearTimeout(u),c()})}function m4(n,a){n.has(a)?n.delete(a):n.add(a)}function g4(n){const a=n.comparison?.deltas??[];return a.length===0?null:a.map(l=>{const c=c4[l.stat]??l.stat;return`${l.delta>0?"+":""}${l.delta} ${c}`}).join(", ")}function xf(n){switch(n){case"inventory":return"ready inventory";case"stash":return"stash";case"equipped":default:return"loadout"}}function p4(){const n=document.createElement("button");n.type="button",n.dataset.testid="inventory-badge",n.dataset.ui="inventory-badge",n.className="group inline-flex items-center gap-2 rounded-hud-pill border border-white/15 bg-[linear-gradient(135deg,rgba(27,36,56,0.9),rgba(39,74,110,0.9))] px-3.5 py-2 font-semibold text-sky-50 shadow-hud-sm transition-all duration-150 ease-out focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent hover:-translate-y-0.5 hover:shadow-hud-md data-[autoequip=off]:bg-[linear-gradient(135deg,rgba(56,44,25,0.9),rgba(92,72,40,0.9))]",n.setAttribute("aria-expanded","false"),n.setAttribute("aria-controls","inventory-stash-panel"),n.setAttribute("aria-label","Open quartermaster stash");const a=document.createElement("span");a.className="relative flex h-[1.65rem] w-[1.65rem] flex-shrink-0 items-center justify-center rounded-full bg-[radial-gradient(circle_at_30%_30%,rgba(255,255,255,0.9),rgba(225,235,255,0.2))] text-slate-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.35)]",a.setAttribute("aria-hidden","true");const s="http://www.w3.org/2000/svg",l=document.createElementNS(s,"svg");l.setAttribute("viewBox","0 0 24 24"),l.setAttribute("aria-hidden","true"),l.setAttribute("focusable","false"),l.setAttribute("class","h-[76%] w-[76%]");const c=document.createElementNS(s,"path");c.setAttribute("d","M8.25 7V6a3.75 3.75 0 0 1 7.5 0v1m3 0h-14.25a1.5 1.5 0 0 0-1.485 1.342l-.75 9a3 3 0 0 0 2.985 3.158h9.78a3 3 0 0 0 2.985-3.158l-.75-9A1.5 1.5 0 0 0 18.75 7Z"),c.setAttribute("fill","rgba(194, 216, 255, 0.32)"),c.setAttribute("stroke","rgba(255, 255, 255, 0.92)"),c.setAttribute("stroke-width","1.6"),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round");const u=document.createElementNS(s,"path");u.setAttribute("d","M9.75 12.25h4.5"),u.setAttribute("fill","none"),u.setAttribute("stroke","rgba(255, 255, 255, 0.85)"),u.setAttribute("stroke-width","1.4"),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("opacity","0.9"),l.append(c,u),a.appendChild(l),n.appendChild(a);const f=document.createElement("span");f.className="text-[0.75rem] uppercase tracking-[0.08em]",f.textContent="Stash",n.appendChild(f);const h=document.createElement("span");return h.className="min-w-[1.5rem] rounded-full bg-white/15 px-2 py-[0.1rem] text-center text-xs font-semibold text-white/90",h.textContent="0",h.setAttribute("aria-hidden","true"),n.appendChild(h),{button:n,count:h}}function A4(n,a={}){const s=document.getElementById("ui-overlay");if(!s)return{destroy:()=>{}};const{regions:l}=ir(s),c=l.top,u=h4(s,c);s.querySelectorAll('[data-testid="inventory-badge"]').forEach(P=>P.remove());const{button:f,count:h}=p4();f.dataset.autoequip=n.isAutoEquipEnabled()?"on":"off",c.appendChild(f),s.querySelector("#inventory-stash-panel")?.remove();const g=r4({onClose:()=>B(!1),onCollectionChange:P=>{v!==P&&(v=P,k=1,j())},onFilterToggle:(P,T)=>{const K=b[P];m4(K,T),k=1,j()},onSearchChange:P=>{E=P,k=1,j()},onSortChange:P=>{C=P,k=1,j()},onLoadMore:()=>{k+=1,j()},onItemEquip:P=>{Z(P)},onItemTransfer:P=>{W(P)},onItemTrash:P=>{re(P)},getAutoEquipState:()=>n.isAutoEquipEnabled(),onAutoEquipChange:P=>{n.setAutoEquip(P),f.dataset.autoequip=P?"on":"off",Kt(u,P?"Auto-equip enabled. Newly recovered gear will try to arm your selected attendant.":"Auto-equip disabled. Loot will head to the stash until you equip it manually.","info")},getUiV2State:()=>a.getUseUiV2?.()??!1,onUiV2Change:P=>{a.onUseUiV2Change?.(P),Kt(u,P?"Experimental HUD enabled. Reload to try the React/Tailwind experience.":"Classic HUD restored for your next session.","info")}});g.element.id="inventory-stash-panel",s.appendChild(g.element);let p=!1,v="stash";const b=W3();let E="",C="newest",k=1;function B(P){if(p!==P)if(p=P,g.setOpen(p),f.setAttribute("aria-expanded",p?"true":"false"),f.setAttribute("aria-label",p?"Close quartermaster stash":"Open quartermaster stash"),p){s.classList.add("inventory-panel-open");try{g.focus()}catch(T){console.warn("Unable to focus stash panel",T)}}else s.classList.remove("inventory-panel-open")}function N(){const P=a.getComparisonContext?.()??null;let T=wA({stash:n.getStash(),inventory:n.getInventory(),filters:b,search:E,sort:C,page:k,pageSize:Sf,collection:v,comparisonContext:P});if(T.filteredTotal>0){const K=Math.max(1,Math.ceil(T.filteredTotal/Sf));k>K&&(k=K,T=wA({stash:n.getStash(),inventory:n.getInventory(),filters:b,search:E,sort:C,page:k,pageSize:Sf,collection:v,comparisonContext:P}))}return T}function j(){const P=N(),K=P.collections.find(z=>z.id==="stash")?.count??0;h.textContent=String(K),f.dataset.count=String(K),g.render(P)}function q(){const P=a.getSelectedUnitId?.()??null;return P||(Kt(u,"Select an attendant before equipping an item.","warn"),null)}function Z(P){const T=q();if(!T)return;const K=a.onEquip??(()=>({success:!1}));(P.location==="stash"?n.equipFromStash(P.index,T,(U,se)=>K(U,se,"stash")):n.equipFromInventory(P.index,T,(U,se)=>K(U,se,"inventory")))||Kt(u,"Unable to equip that item right now.","warn")}function W(P){const T=P.location==="stash"?n.moveToInventory(P.index):n.moveToStash(P.index);if(!T){Kt(u,"Unable to move that item right now.","warn");return}const K=P.location==="stash"?"ready inventory":"stash";Kt(u,`Moved ${T.name} to the ${K}.`,"info"),k=1,j()}function re(P){const T=P.location==="stash"?n.discardFromStash(P.index):n.discardFromInventory(P.index);if(!T){Kt(u,"That item was already removed.","warn");return}const K=P.location==="stash"?"stash":"ready inventory";Kt(u,`${T.name} discarded from the ${K}.`,"warn"),j()}function F(P){switch(P.type){case"stash-updated":case"inventory-updated":j();break;case"item-acquired":if(P.equipped)Kt(u,`${P.item.name} auto-equipped successfully.`,"info");else{const T=xf(P.location);Kt(u,`New item secured: ${P.item.name} (${T}).`,"loot")}break;case"item-equipped":{const T=g4(P),K=T?` (${T})`:"";Kt(u,`Equipped ${P.item.name}${K}.`,"info");break}case"item-unequipped":Kt(u,`${P.item.name} returned to the stash from slot ${P.slot}.`,"info");break;case"item-moved":{const T=xf(P.to);Kt(u,`Moved ${P.item.name} to the ${T}.`,"info");break}case"item-discarded":{const T=xf(P.location);Kt(u,`${P.item.name} discarded from the ${T}.`,"warn");break}case"settings-updated":f.dataset.autoequip=P.autoEquip?"on":"off",g.setAutoEquip(P.autoEquip);break}}const ae=n.on(P=>F(P)),$=()=>{B(!p)};f.addEventListener("click",$);const _=P=>{P.defaultPrevented||P.code==="KeyI"&&!P.metaKey&&!P.ctrlKey&&!P.altKey&&(P.preventDefault(),B(!p))};return window.addEventListener("keydown",_),j(),{destroy:()=>{ae(),f.removeEventListener("click",$),window.removeEventListener("keydown",_),f.remove(),g.destroy(),s.classList.remove("inventory-panel-open"),u.hasChildNodes()||u.remove()}}}const v4=Object.freeze({common:1,uncommon:.6,rare:.35,epic:.18,legendary:.08,mythic:.03}),y4=Object.freeze({id:"general-salvage",label:"General Salvage",entries:Object.freeze([{id:"birch-sap-satchel",name:"Birch Sap Satchel",description:"Soothing birch sap that doubles as a brisk field tonic.",rarity:"common",quantity:{min:1,max:3},weight:6},{id:"steamed-bandages",name:"Steamed Linen Bandages",description:"Freshly steamed bandages infused with pine oils.",rarity:"common",quantity:1,weight:5},{id:"emberglass-shard",name:"Emberglass Shard",description:"A radiant shard used to kindle sauna braziers.",rarity:"uncommon",quantity:1,weight:3},{id:"aurora-distillate",name:"Aurora Distillate",description:"Vials of shimmering condensation that empower sauna rituals.",rarity:"rare",quantity:1,weight:1.5},{id:"myrsky-charm",name:"Myrsky Charm",description:"Storm-forged charm rumored to call down aurora flares.",rarity:"epic",quantity:1,weight:.7}])}),b4=Object.freeze({base:Object.freeze({id:"enemy-raiders",label:"Avanto Marauder Spoils",entries:Object.freeze([{id:"cracked-ice-amulet",name:"Cracked Ice Amulet",description:"Necklace of frostbitten charms that hum when danger nears.",rarity:"common",quantity:1,weight:5},{id:"stolen-sauna-tokens",name:"Stolen Sauna Tokens",description:"Pilfered entrance tokens, gladly accepted back at any sauna hall.",rarity:"uncommon",quantity:{min:2,max:5},weight:3},{id:"glacier-brand",name:"Glacier Brand",description:"A cleaver chilled in glacial meltwater that never dulls.",rarity:"rare",quantity:1,weight:1.25}])}),elite:Object.freeze({id:"enemy-champions",label:"Avanto Champion Cache",entries:Object.freeze([{id:"frostwyrm-signet",name:"Frostwyrm Signet",description:"An icy signet ring that wreathes its bearer in frozen vapour.",rarity:"epic",quantity:1,weight:1.1},{id:"aurora-lattice",name:"Aurora Lattice",description:"Filigree latticework that channels auroral light into focused beams.",rarity:"legendary",quantity:1,weight:.4},{id:"midnight-bloodwine",name:"Midnight Bloodwine",description:"A mythical draught said to rekindle a warrior's lost resolve.",rarity:"mythic",quantity:1,weight:.12}])})}),E4=Object.freeze({base:Object.freeze({id:"deepwood-offerings",label:"Deepwood Offerings",entries:Object.freeze([{id:"spirit-oak-charm",name:"Spirit Oak Charm",description:"Carved from living oak, it whispers guidance between sauna rounds.",rarity:"uncommon",quantity:1,weight:4},{id:"sauna-incense",name:"Sauna Incense Pouches",description:"Fragrant blends that steady breathing before the next engagement.",rarity:"common",quantity:{min:1,max:4},weight:5},{id:"emberglass-arrow",name:"Emberglass Arrow Bundle",description:"Arrowheads that glow amber when a perfect shot reveals itself.",rarity:"rare",quantity:{min:1,max:2},weight:1.75}])}),elite:Object.freeze({id:"deepwood-ritual-cache",label:"Deepwood Ritual Cache",entries:Object.freeze([{id:"windstep-totem",name:"Windstep Totem",description:"Totem etched with gale sigils that lighten every cautious stride.",rarity:"epic",quantity:1,weight:.9},{id:"searing-chant-censer",name:"Searing Chant Censer",description:"An ornate censer that empowers allies with smouldering hymns.",rarity:"legendary",quantity:1,weight:.35}])})}),w4=Object.freeze({enemy:b4,deepwood:E4});function S4(n){return w4[n]??{base:y4}}function x4(n,a=!1){const s=S4(n);return a&&s.elite?s.elite:s.base}function C4(n){if(!Number.isFinite(n))return 1;const a=Math.floor(n);return a<=0?0:Math.min(10,a)}function R4(n,a){if(typeof n=="number"&&Number.isFinite(n))return Math.max(1,Math.round(n));if(!n)return 1;const s=n,l=Math.max(1,Math.round(s.min)),u=Math.max(l,Math.round(s.max))-l+1,f=Math.floor(Math.max(0,Math.min(.999999,a()))*u);return l+f}function B4(n){const a=v4[n.rarity]??1,s=typeof n.weight=="number"?n.weight:1;return Math.max(0,s)*Math.max(0,a)}function M4(n,a){const s=n.map(f=>({entry:f,weight:B4(f)})).filter(f=>f.weight>0);if(s.length===0)return null;const l=s.reduce((f,h)=>f+h.weight,0),c=Math.max(0,Math.min(.999999,a()))*l;let u=0;for(const f of s)if(u+=f.weight,c<u)return f.entry;return s[s.length-1]?.entry??null}function D4(n,a){return{id:n.id,name:n.name,description:n.description,icon:n.icon,rarity:n.rarity,quantity:a}}function T4(n){const a=typeof n.random=="function"?n.random:Math.random,s=!!n.elite,l=n.table??x4(n.factionId,s),c=C4(n.rolls),u=[];if(c<=0||l.entries.length===0)return{factionId:n.factionId,elite:s,tableId:l.id,tableLabel:l.label,rolls:u};for(let f=0;f<c;f+=1){const h=M4(l.entries,a);if(!h)break;const m=R4(h.quantity,a);u.push({entryId:h.id,rarity:h.rarity,quantity:m,item:D4(h,m)})}return{factionId:n.factionId,elite:s,tableId:l.id,tableLabel:l.label,rolls:u}}const k4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23a4d67a'%20/%3e%3cpolygon%20points='16,48%2032,16%2048,48'%20fill='%23d2691e'%20/%3e%3crect%20x='24'%20y='32'%20width='16'%20height='16'%20fill='%23f4a460'%20/%3e%3c/svg%3e",H4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23c0c0c0'%20/%3e%3crect%20x='8'%20y='24'%20width='48'%20height='24'%20fill='%23808080'%20/%3e%3crect%20x='24'%20y='16'%20width='16'%20height='8'%20fill='%23606060'%20/%3e%3c/svg%3e",O4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%23e0e0e0'%20/%3e%3crect%20x='10'%20y='22'%20width='12'%20height='30'%20fill='%23a9a9a9'%20/%3e%3crect%20x='26'%20y='14'%20width='12'%20height='38'%20fill='%23808080'%20/%3e%3crect%20x='42'%20y='26'%20width='12'%20height='26'%20fill='%23a9a9a9'%20/%3e%3c/svg%3e",N4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3e%3crect%20width='64'%20height='64'%20fill='%238b4513'%20/%3e%3cpolygon%20points='32,10%2042,22%2022,22'%20fill='%23555'%20/%3e%3crect%20x='30'%20y='22'%20width='4'%20height='32'%20fill='%23ccc'%20/%3e%3c/svg%3e",P4="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eFrostguard%20Soldier%3c/title%3e%3cdesc%20id='desc'%3eArmored%20nordic%20soldier%20with%20glacial%20blade,%20frosted%20shield,%20and%20aurora%20glow.%3c/desc%3e%3cdefs%3e%3clinearGradient%20id='soldier-bg'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%230b2a44'%20/%3e%3cstop%20offset='100%25'%20stop-color='%2310243b'%20/%3e%3c/linearGradient%3e%3cradialGradient%20id='soldier-glow'%20cx='50%25'%20cy='28%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='rgba(191,%20219,%20254,%200.85)'%20/%3e%3cstop%20offset='100%25'%20stop-color='rgba(14,%20116,%20144,%200)'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='soldier-armor'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e2e8f0'%20/%3e%3cstop%20offset='50%25'%20stop-color='%23cbd5f5'%20/%3e%3cstop%20offset='100%25'%20stop-color='%234b5563'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='soldier-trim'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%3e%3cstop%20offset='0%25'%20stop-color='%23fcd34d'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23f97316'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='soldier-cloak'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%231e3a8a'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231d4ed8'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='soldier-steel'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%2394a3b8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231f2937'%20/%3e%3c/linearGradient%3e%3cradialGradient%20id='soldier-shield'%20cx='38%25'%20cy='38%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='70%25'%20stop-color='%2360a5fa'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231d4ed8'%20/%3e%3c/radialGradient%3e%3c/defs%3e%3crect%20width='128'%20height='128'%20rx='18'%20fill='url(%23soldier-bg)'%20/%3e%3ccircle%20cx='64'%20cy='40'%20r='44'%20fill='url(%23soldier-glow)'%20opacity='0.9'%20/%3e%3cellipse%20cx='64'%20cy='108'%20rx='36'%20ry='10'%20fill='%230f172a'%20opacity='0.4'%20/%3e%3cpath%20d='M38%2038c-10%2014-14%2032-10%2052l14%208c0-18%208-34%2022-42-8-6-18-12-26-18z'%20fill='url(%23soldier-cloak)'%20opacity='0.85'%20/%3e%3cpath%20d='M90%2038c10%2014%2014%2032%2010%2052l-14%208c0-18-8-34-22-42%208-6%2018-12%2026-18z'%20fill='url(%23soldier-cloak)'%20opacity='0.65'%20/%3e%3cpath%20d='M58%2022l-8%2010c-4%206-6%2014-6%2022v20l12%2038h16l12-38V54c0-8-2-16-6-22l-8-10h-12z'%20fill='url(%23soldier-armor)'%20stroke='%231f2937'%20stroke-width='2'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M50%2054h28l4%2012c-8%208-16%2012-18%2012s-10-4-18-12l4-12z'%20fill='%23e0f2fe'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2022c-6%200-12%204-16%2010l6%208c6-6%2020-6%2026%200l6-8c-4-6-10-10-16-10z'%20fill='%23f8fafc'%20stroke='%23cbd5f5'%20stroke-width='1.5'%20/%3e%3cpath%20d='M58%2018h12l4%206-10%206-10-6%204-6z'%20fill='%23e0f2fe'%20stroke='%2394a3b8'%20stroke-width='1.5'%20/%3e%3crect%20x='46'%20y='68'%20width='12'%20height='26'%20rx='5'%20fill='%230ea5e9'%20opacity='0.8'%20/%3e%3crect%20x='70'%20y='68'%20width='12'%20height='26'%20rx='5'%20fill='%2338bdf8'%20opacity='0.8'%20/%3e%3cpath%20d='M34%2066l-10%206%2012%2028%2012-6-14-28z'%20fill='url(%23soldier-shield)'%20stroke='%231e3a8a'%20stroke-width='2'%20/%3e%3ccircle%20cx='36'%20cy='78'%20r='6'%20fill='rgba(226,%20232,%20240,%200.95)'%20/%3e%3cpath%20d='M94%2064l-4-4-18%2036%206%206%2016-38z'%20fill='url(%23soldier-steel)'%20stroke='%230f172a'%20stroke-width='2'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M86%2054l-16%2034%2010%204%2014-32-8-6z'%20fill='%23f8fafc'%20opacity='0.75'%20/%3e%3cpath%20d='M64%2090c-8%200-14%206-18%2014%208%204%2012%206%2018%206s10-2%2018-6c-4-8-10-14-18-14z'%20fill='%23dbeafe'%20stroke='%2393c5fd'%20stroke-width='1.5'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M54%2058l-6%2012c8%2010%2016%2014%2016%2014s8-4%2016-14l-6-12H54z'%20fill='url(%23soldier-trim)'%20opacity='0.85'%20/%3e%3cpath%20d='M60%2048h8l2%208-6%204-6-4%202-8z'%20fill='%23334155'%20/%3e%3ccircle%20cx='64'%20cy='52'%20r='6'%20fill='%23f1f5f9'%20stroke='%23cbd5f5'%20stroke-width='1'%20/%3e%3cpath%20d='M58%2038c-4%200-6%204-6%2010%204-2%208-4%2012-4s8%202%2012%204c0-6-2-10-6-10H58z'%20fill='%231f2937'%20opacity='0.85'%20/%3e%3c/svg%3e",Q4="/assets/archer-DKJNMRtW.svg",G4="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20role='img'%20aria-labelledby='title%20desc'%3e%3ctitle%20id='title'%3eAvanto%20Marauder%3c/title%3e%3cdesc%20id='desc'%3eFrost-clad%20marauder%20icon%20with%20jagged%20pauldrons,%20icy%20beard,%20and%20polar%20glow.%3c/desc%3e%3cdefs%3e%3clinearGradient%20id='bg'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23082f49'%20/%3e%3cstop%20offset='100%25'%20stop-color='%230f172a'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='armor'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e2e8f0'%20/%3e%3cstop%20offset='60%25'%20stop-color='%2394a3b8'%20/%3e%3cstop%20offset='100%25'%20stop-color='%231f2937'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='beard'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23e0f2fe'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23bae6fd'%20/%3e%3c/linearGradient%3e%3cradialGradient%20id='glow'%20cx='50%25'%20cy='20%25'%20r='60%25'%3e%3cstop%20offset='0%25'%20stop-color='rgba(191,%20219,%20254,%200.85)'%20/%3e%3cstop%20offset='100%25'%20stop-color='rgba(14,%20116,%20144,%200)'%20/%3e%3c/radialGradient%3e%3c/defs%3e%3crect%20width='128'%20height='128'%20rx='20'%20fill='url(%23bg)'%20/%3e%3ccircle%20cx='64'%20cy='46'%20r='38'%20fill='url(%23glow)'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2018c-14%200-26%208-32%2020l10%204c6-8%2014-12%2022-12s16%204%2022%2012l10-4C90%2026%2078%2018%2064%2018z'%20fill='%23cffafe'%20opacity='0.4'%20/%3e%3cpath%20d='M64%2036c-14%200-28%2010-28%2028v10l-12%2016%2018%2010%2022-10%2022%2010%2018-10-12-16V64c0-18-14-28-28-28z'%20fill='url(%23armor)'%20stroke='%230f172a'%20stroke-width='2'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M48%2090l-12%206-10%2020%2020-8%2018%208%2018-8%2020%208-10-20-12-6'%20fill='%230f172a'%20opacity='0.85'%20/%3e%3cpath%20d='M64%2046c-10%200-18%208-18%2018v10c12-8%2024-8%2036%200V64c0-10-8-18-18-18z'%20fill='%230f172a'%20/%3e%3cpath%20d='M64%2050c-8%200-14%206-14%2014%206-4%2012-6%2014-6s8%202%2014%206c0-8-6-14-14-14z'%20fill='%23bae6fd'%20opacity='0.85'%20/%3e%3cpath%20d='M58%2084c-4%200-8%202-10%206%204%200%208%200%2010-2s4-2%206-2%204%200%206%202%206%202%2010%202c-2-4-6-6-10-6h-12z'%20fill='%23f8fafc'%20opacity='0.75'%20/%3e%3cpath%20d='M64%2086c-6%200-12%204-14%2010%204%202%2010%204%2014%204s10-2%2014-4c-2-6-8-10-14-10z'%20fill='url(%23beard)'%20stroke='%23bae6fd'%20stroke-width='1.4'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M42%2064c-4-8-6-18-6-28-6%208-10%2018-10%2030%204-2%2010-2%2016-2z'%20fill='%230ea5e9'%20opacity='0.5'%20/%3e%3cpath%20d='M86%2064c4-8%206-18%206-28%206%208%2010%2018%2010%2030-4-2-10-2-16-2z'%20fill='%230ea5e9'%20opacity='0.5'%20/%3e%3cpath%20d='M34%2098c-6%202-12%206-14%2012%206%200%2012-2%2018-4'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3cpath%20d='M94%20106c6%202%2012%204%2018%204-2-6-8-10-14-12'%20stroke='%23bae6fd'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3c/svg%3e",ol="/",vi={saunaBeer:`${ol}assets/ui/sauna-beer.svg`,saunojaRoster:`${ol}assets/ui/saunoja-roster.svg`,resource:`${ol}assets/ui/resource.svg`,sisu:`${ol}assets/ui/resource.svg`,sound:`${ol}assets/ui/sound.svg`},L4={images:{placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=","building-farm":k4,"building-barracks":H4,"building-city":O4,"building-mine":N4,"unit-soldier":P4,"unit-archer":Q4,"unit-avanto-marauder":G4,"icon-sauna-beer":vi.saunaBeer,"icon-saunoja-roster":vi.saunojaRoster,"icon-resource":vi.resource,"icon-sound":vi.sound}};let Xv=null;function U4(n){Xv=n}function Yv(){return Xv}const j4=["city"],z4=1e4,I4=12e3;function F4(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function CA(n){return Object.freeze({strongholds:{...n.strongholds},roster:{...n.roster},economy:{...n.economy},sauna:{...n.sauna},startedAt:n.startedAt})}function RA(n){const a={[ie.SAUNA_BEER]:0,[ie.SAUNAKUNNIA]:0,[ie.SISU]:0};return Object.values(ie).forEach(s=>{a[s]=n.getResource(s)}),a}class q4{timeSource;state;map;getRosterCount;sauna;strongholdTypes;rosterGraceMs;bankruptcyGraceMs;progress;startResources;strongholds=new Map;progressListeners=new Set;resolutionListeners=new Set;mapDisposer=null;rosterTimeout=null;bankruptcyTimeout=null;bankruptSince=null;wipeSince=null;saunaDestroyedAt=null;resolution=null;disposed=!1;constructor(a){this.timeSource=typeof a.timeSource=="function"?a.timeSource:F4,this.state=a.state,this.map=a.map,this.getRosterCount=a.getRosterCount,this.sauna=a.sauna??null;const s=a.strongholdTypes?.length?a.strongholdTypes:j4;this.strongholdTypes=new Set(s),this.rosterGraceMs=Math.max(0,a.rosterWipeGraceMs??z4),this.bankruptcyGraceMs=Math.max(0,a.bankruptcyGraceMs??I4),this.startResources=RA(this.state);const l=this.state.getResource(ie.SAUNA_BEER),c=Math.max(0,Math.round(this.getRosterCount()))||0;this.progress={strongholds:{total:0,destroyed:0,remaining:0},roster:{active:c,totalDeaths:0,wipeSince:null,wipeDurationMs:0},economy:{beer:l,worstBeer:l,bankruptSince:null,bankruptDurationMs:0},sauna:this.createSaunaProgress(),startedAt:this.timeSource()},this.bootstrapStrongholds(),this.attachMapListener(),this.attachEventListeners(),this.emitProgress(),this.evaluateResolution()}onProgress(a){this.progressListeners.add(a)}offProgress(a){this.progressListeners.delete(a)}onResolution(a){if(this.resolution){a(this.resolution);return}this.resolutionListeners.add(a)}offResolution(a){this.resolutionListeners.delete(a)}getProgress(){return CA(this.progress)}dispose(){if(!this.disposed){if(this.disposed=!0,this.clearRosterTimer(),this.clearBankruptcyTimer(),this.mapDisposer){try{this.mapDisposer()}catch(a){console.warn("Failed to detach map listener",a)}this.mapDisposer=null}ne.off("unitDied",this.handleUnitDied),ne.off("unitSpawned",this.handleUnitSpawned),ne.off("resourceChanged",this.handleResourceChanged),ne.off("saunaDamaged",this.handleSaunaDamaged),ne.off("saunaDestroyed",this.handleSaunaDestroyed)}}bootstrapStrongholds(){this.map.forEachTile((a,s)=>{if(this.isStronghold(a.building)){const l=this.coordKey(s);this.strongholds.set(l,{alive:!0})}}),this.updateStrongholdTotals()}attachMapListener(){this.mapDisposer=this.map.addTileChangeListener((a,s,l)=>{if(l!=="building"&&l!=="created")return;const c=this.coordKey(a),u=this.strongholds.get(c);this.isStronghold(s.building)?u?u.alive||(u.alive=!0):this.strongholds.set(c,{alive:!0}):u?.alive&&(u.alive=!1),this.updateStrongholdTotals(),this.emitProgress(),this.evaluateResolution()})}attachEventListeners(){ne.on("unitDied",this.handleUnitDied),ne.on("unitSpawned",this.handleUnitSpawned),ne.on("resourceChanged",this.handleResourceChanged),ne.on("saunaDamaged",this.handleSaunaDamaged),ne.on("saunaDestroyed",this.handleSaunaDestroyed)}handleUnitDied=({unitFaction:a})=>{a==="player"&&(this.progress.roster.totalDeaths+=1,this.refreshRosterStatus(),this.emitProgress(),this.evaluateResolution())};handleUnitSpawned=({unit:a})=>{a.faction==="player"&&(this.refreshRosterStatus(),this.emitProgress())};handleResourceChanged=({resource:a,total:s})=>{a===ie.SAUNA_BEER&&(this.progress.economy.beer=s,s<this.progress.economy.worstBeer&&(this.progress.economy.worstBeer=s),s<0?this.bankruptSince===null&&(this.bankruptSince=this.timeSource(),this.progress.economy.bankruptSince=this.bankruptSince,this.startBankruptcyTimer()):(this.updateBankruptcyDuration(),this.bankruptSince=null,this.progress.economy.bankruptSince=null,this.clearBankruptcyTimer()),this.emitProgress())};handleSaunaDamaged=({remainingHealth:a})=>{this.disposed||(this.updateSaunaSnapshot(a),this.emitProgress())};handleSaunaDestroyed=a=>{this.disposed||(this.markSaunaDestroyed(),this.emitProgress(),this.resolve("lose","saunaDestroyed"))};startBankruptcyTimer(){if(this.bankruptcyTimeout===null){if(this.bankruptcyGraceMs<=0){this.resolve("lose","bankruptcy");return}this.bankruptcyTimeout=setTimeout(()=>{this.updateBankruptcyDuration(),this.resolve("lose","bankruptcy")},this.bankruptcyGraceMs)}}clearBankruptcyTimer(){this.bankruptcyTimeout!==null&&(clearTimeout(this.bankruptcyTimeout),this.bankruptcyTimeout=null)}startRosterTimer(){if(this.rosterTimeout===null){if(this.rosterGraceMs<=0){this.resolve("lose","rosterWipe");return}this.rosterTimeout=setTimeout(()=>{this.updateRosterDuration(),this.resolve("lose","rosterWipe")},this.rosterGraceMs)}}clearRosterTimer(){this.rosterTimeout!==null&&(clearTimeout(this.rosterTimeout),this.rosterTimeout=null)}updateStrongholdTotals(){const a=this.strongholds.size;let s=0;for(const l of this.strongholds.values())l.alive&&(s+=1);this.progress.strongholds.total=a,this.progress.strongholds.remaining=s,this.progress.strongholds.destroyed=Math.max(0,a-s)}refreshRosterStatus(){const a=Math.max(0,Math.round(this.getRosterCount()));this.progress.roster.active=a,a<=0?(this.wipeSince===null&&(this.wipeSince=this.timeSource(),this.progress.roster.wipeSince=this.wipeSince),this.startRosterTimer()):(this.updateRosterDuration(),this.wipeSince=null,this.progress.roster.wipeSince=null,this.clearRosterTimer())}updateBankruptcyDuration(){if(this.bankruptSince===null)return;const a=this.timeSource()-this.bankruptSince;a>this.progress.economy.bankruptDurationMs&&(this.progress.economy.bankruptDurationMs=a)}updateRosterDuration(){if(this.wipeSince===null)return;const a=this.timeSource()-this.wipeSince;a>this.progress.roster.wipeDurationMs&&(this.progress.roster.wipeDurationMs=a)}evaluateResolution(){if(!this.resolution){if(this.progress.sauna.destroyed){this.resolve("lose","saunaDestroyed");return}if(this.progress.strongholds.total>0&&this.progress.strongholds.remaining===0){this.resolve("win","strongholds");return}if(this.wipeSince!==null&&this.rosterGraceMs<=0){this.resolve("lose","rosterWipe");return}this.bankruptSince!==null&&this.bankruptcyGraceMs<=0&&this.resolve("lose","bankruptcy")}}resolve(a,s){if(this.resolution)return;this.updateRosterDuration(),this.updateBankruptcyDuration();const l=this.timeSource(),c=Math.max(0,l-this.progress.startedAt),u=CA({...this.progress,roster:{...this.progress.roster,wipeSince:this.wipeSince},economy:{...this.progress.economy,bankruptSince:this.bankruptSince},sauna:{...this.progress.sauna,destroyedAt:this.saunaDestroyedAt}}),f=this.computeRewards();this.resolution=Object.freeze({outcome:a,cause:s,timestamp:l,durationMs:c,summary:u,rewards:f}),this.emitResolution(),this.dispose()}emitProgress(){const a=this.getProgress();for(const s of this.progressListeners)try{s(a)}catch(l){console.error("Objective progress listener failed",l)}}emitResolution(){if(!this.resolution)return;const a=this.resolution;for(const s of this.resolutionListeners)try{s(a)}catch(l){console.error("Objective resolution listener failed",l)}this.resolutionListeners.clear()}computeRewards(){const a=RA(this.state);return{resources:{[ie.SAUNA_BEER]:{final:a[ie.SAUNA_BEER],delta:a[ie.SAUNA_BEER]-this.startResources[ie.SAUNA_BEER]},[ie.SAUNAKUNNIA]:{final:a[ie.SAUNAKUNNIA],delta:a[ie.SAUNAKUNNIA]-this.startResources[ie.SAUNAKUNNIA]},[ie.SISU]:{final:a[ie.SISU],delta:a[ie.SISU]-this.startResources[ie.SISU]}}}}coordKey(a){return`${a.q},${a.r}`}isStronghold(a){return a?this.strongholdTypes.has(a):!1}createSaunaProgress(){if(!this.sauna)return{maxHealth:0,health:0,destroyed:!1,destroyedAt:null};const a=Math.max(0,Math.round(this.sauna.maxHealth??0)),s=Math.max(0,Math.round(this.sauna.health??0)),l=!!this.sauna.destroyed||s<=0;return l&&this.saunaDestroyedAt===null&&(this.saunaDestroyedAt=this.timeSource()),{maxHealth:a,health:s,destroyed:l,destroyedAt:l?this.saunaDestroyedAt:null}}updateSaunaSnapshot(a){const s=Number.isFinite(a)?Math.max(0,Math.round(a)):0,l=this.sauna?Math.max(0,Math.round(this.sauna.maxHealth??0)):0,c=this.progress.sauna.maxHealth,u=Math.max(c,l,s);this.progress.sauna.maxHealth=u;const f=Math.max(0,Math.min(u,s));this.progress.sauna.health=f,f>0&&(this.progress.sauna.destroyed=!1,this.progress.sauna.destroyedAt=null,this.saunaDestroyedAt=null)}markSaunaDestroyed(){if(this.sauna){const a=Math.max(0,Math.round(this.sauna.maxHealth??0));a>this.progress.sauna.maxHealth&&(this.progress.sauna.maxHealth=a)}this.progress.sauna.health=0,this.progress.sauna.destroyed=!0,this.saunaDestroyedAt===null&&(this.saunaDestroyedAt=this.timeSource()),this.progress.sauna.destroyedAt=this.saunaDestroyedAt}}function X4(n){return new q4(n)}const Nn=[{level:1,xpToNext:180,cumulativeXp:0,statAwards:{vigor:0,focus:0,resolve:0}},{level:2,xpToNext:220,cumulativeXp:180,statAwards:{vigor:5,focus:2,resolve:1}},{level:3,xpToNext:260,cumulativeXp:400,statAwards:{vigor:4,focus:3,resolve:1}},{level:4,xpToNext:320,cumulativeXp:660,statAwards:{vigor:4,focus:2,resolve:2}},{level:5,xpToNext:380,cumulativeXp:980,statAwards:{vigor:6,focus:3,resolve:2}},{level:6,xpToNext:460,cumulativeXp:1360,statAwards:{vigor:7,focus:3,resolve:3}},{level:7,xpToNext:540,cumulativeXp:1820,statAwards:{vigor:6,focus:4,resolve:3}},{level:8,xpToNext:640,cumulativeXp:2360,statAwards:{vigor:7,focus:4,resolve:4}},{level:9,xpToNext:760,cumulativeXp:3e3,statAwards:{vigor:8,focus:5,resolve:4}},{level:10,xpToNext:900,cumulativeXp:3760,statAwards:{vigor:9,focus:6,resolve:5}},{level:11,xpToNext:1060,cumulativeXp:4660,statAwards:{vigor:10,focus:6,resolve:6}},{level:12,xpToNext:null,cumulativeXp:5720,statAwards:{vigor:12,focus:7,resolve:6}}];function Y4(n){return Number.isNaN(n)||!Number.isFinite(n)?0:Math.max(0,Math.floor(n))}function qf(){return{vigor:0,focus:0,resolve:0}}function _4(n){return{vigor:n.vigor,focus:n.focus,resolve:n.resolve}}function kc(n){const a=Y4(n);let s=Nn[0];for(const f of Nn)if(a>=f.cumulativeXp)s=f;else break;const l=a-s.cumulativeXp,c=s.xpToNext,u=c?Math.min(1,l/c):1;return{level:s.level,xpIntoLevel:l,xpForNext:c,progressToNext:u,statAwards:s.statAwards}}function K4(n){const a=Nn[Nn.length-1].level,s=Math.max(Nn[0].level,Math.min(n,a)),l=Nn.find(c=>c.level===s);return l?_4(l.statAwards):qf()}function V4(n){if(n<=Nn[0].level)return qf();const a=Nn[Nn.length-1].level,s=Math.min(n,a),l=qf();for(const c of Nn){if(c.level>s)break;c.level!==Nn[0].level&&(l.vigor+=c.statAwards.vigor,l.focus+=c.statAwards.focus,l.resolve+=c.statAwards.resolve)}return l}function Z4(n){return kc(n).level}function Cf(n){return Number.isFinite(n)?Math.max(0,Math.floor(n)):0}function oc(n,a){return a<=0?"":`${n}/${a}`}function J4(n){let a=0;const s=Math.max(0,Cf(n.queueCapacity??2)),l=(f,h)=>{f&&typeof n.log=="function"&&n.log({type:"system",message:f,metadata:{context:"spawn-queue",...h}})},c=()=>{const f=n.getTier();if(!f)return null;const h=Cf(n.getRosterLimit()),m=Cf(n.getRosterCount());return{tierId:f.id,tierName:f.name,rosterLimit:h,rosterCount:m,queued:a}};return{getSnapshot:()=>c(),hasQueuedSpawn:()=>a>0,takeQueuedSpawn:f=>a<=0?!1:(a-=1,a<=0?l(`The benches of ${f.tierName} exhale  queued attendants take the field.`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}):l(`${f.tierName} deploys a queued attendant. Relief teams remaining: ${oc(a,s)}.`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}),!0),restoreQueuedSpawn:f=>{s>0&&a>=s||(a+=1,s>0&&(a=Math.min(a,s)),l(`${f.tierName} keeps the relief attendant on standby (${oc(a,s)} ready).`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}))},queueBlockedSpawn:(f,h)=>s>0&&a>=s?(l(`${f.tierName} cannot hold more relief attendants  clear a slot to vent the pressure.`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}),!1):h()?(a+=1,s>0&&(a=Math.min(a,s)),l(`${f.tierName} queues a ready attendant in the wings (${oc(a,s)} poised).`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}),!0):!1,onSpawnResolved:(f,h)=>{h.usedQueue&&(a>0?l(`${f.tierName} still has relief attendants waiting (${oc(a,s)}).`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}):l(`${f.tierName} has cleared the relief queue.`,{tierId:f.tierId,tierName:f.tierName,queue:a,capacity:s}))},clearQueue:f=>{if(!(a<=0)&&(a=0,f==="tier-change")){const h=n.getTier();h&&l(`${h.name} ushers its queued attendants into the new hall.`,{tierId:h.id,tierName:h.name,queue:a,capacity:s})}}}}const _v="autobattles:saunojas";function Kv(){try{return globalThis.localStorage??null}catch{return null}}function W4(){const n=Kv();if(!n)return[];try{const a=n.getItem(_v);if(!a)return[];const s=JSON.parse(a);if(!Array.isArray(s))return[];const l=[];for(const c of s){if(!c||typeof c!="object")continue;const u=c,f=u.id;if(typeof f!="string"||f.length===0)continue;const h=u.coord,m=h&&typeof h=="object"&&typeof h.q=="number"&&Number.isFinite(h.q)&&typeof h.r=="number"&&Number.isFinite(h.r)?{q:h.q,r:h.r}:void 0,g=u.traits,p=Array.isArray(g)?g.filter(E=>typeof E=="string"):void 0,v=typeof u.upkeep=="number"?u.upkeep:void 0,b=typeof u.xp=="number"?u.xp:void 0;l.push(rh({id:f,name:typeof u.name=="string"?u.name:void 0,coord:m,maxHp:typeof u.maxHp=="number"?u.maxHp:void 0,hp:typeof u.hp=="number"?u.hp:void 0,steam:typeof u.steam=="number"?u.steam:void 0,traits:p,upkeep:v,xp:b,selected:!!u.selected,items:Array.isArray(u.items)?u.items:void 0,baseStats:u.baseStats,effectiveStats:u.effectiveStats,equipment:u.equipment,modifiers:Array.isArray(u.modifiers)?u.modifiers:void 0}))}return l}catch(a){return console.warn("Failed to load Saunoja units from storage",a),[]}}function $4(n){const a=Kv();if(a)try{const s=n.map(l=>({id:l.id,name:l.name,coord:{q:l.coord.q,r:l.coord.r},maxHp:l.maxHp,hp:l.hp,steam:l.steam,traits:[...l.traits],upkeep:l.upkeep,xp:l.xp,selected:l.selected,baseStats:{health:l.baseStats.health,attackDamage:l.baseStats.attackDamage,attackRange:l.baseStats.attackRange,movementRange:l.baseStats.movementRange,...typeof l.baseStats.defense=="number"&&Number.isFinite(l.baseStats.defense)?{defense:l.baseStats.defense}:{},...typeof l.baseStats.shield=="number"&&Number.isFinite(l.baseStats.shield)?{shield:l.baseStats.shield}:{},...typeof l.baseStats.visionRange=="number"&&Number.isFinite(l.baseStats.visionRange)?{visionRange:l.baseStats.visionRange}:{}},effectiveStats:{health:l.effectiveStats.health,attackDamage:l.effectiveStats.attackDamage,attackRange:l.effectiveStats.attackRange,movementRange:l.effectiveStats.movementRange,...typeof l.effectiveStats.defense=="number"&&Number.isFinite(l.effectiveStats.defense)?{defense:l.effectiveStats.defense}:{},...typeof l.effectiveStats.shield=="number"&&Number.isFinite(l.effectiveStats.shield)?{shield:l.effectiveStats.shield}:{},...typeof l.effectiveStats.visionRange=="number"&&Number.isFinite(l.effectiveStats.visionRange)?{visionRange:l.effectiveStats.visionRange}:{}},equipment:er.reduce((c,u)=>{const f=l.equipment?.[u]??null;return c[u]=f?{id:f.id,name:f.name,description:f.description,icon:f.icon,rarity:f.rarity,quantity:f.quantity,slot:f.slot}:null,c},{}),items:l.items.map(c=>({id:c.id,name:c.name,description:c.description,icon:c.icon,rarity:c.rarity,quantity:c.quantity})),modifiers:l.modifiers.map(c=>({id:c.id,name:c.name,description:c.description,remaining:c.remaining,duration:c.duration,appliedAt:c.appliedAt,stacks:c.stacks,source:c.source}))}));a.setItem(_v,JSON.stringify(s))}catch(s){console.warn("Failed to persist Saunoja units",s)}}const Vv="autobattles:sauna-settings";function Zv(){try{return globalThis.localStorage??null}catch{return null}}function ex(n){return typeof n=="string"?ea(n).id:Cl}function BA(n){return Number.isFinite(n)?Math.max(0,Math.floor(n)):0}function gh(n,a){const s=BA(n),l=BA(a),c=1+Gc;return Math.max(0,Math.min(c,s,l))}function Jv(n,a,s){const l=gh(s,s),c=typeof n=="number"&&Number.isFinite(n)?n:a,u=Math.max(0,Math.floor(c));return Math.max(0,Math.min(l,u))}function Wv(n){return n===!0||n==="true"}function cl(n,a){const s=ex(n?.activeTierId),l=ea(s),c=gh(l.rosterCap,a);return{activeTierId:l.id,maxRosterSize:Jv(n?.maxRosterSize,c,c),useUiV2:Wv(n?.useUiV2)}}function $v(n=1+Gc){const a=Zv();if(!a)return cl(null,n);try{const s=a.getItem(Vv);if(!s)return cl(null,n);const l=JSON.parse(s);return cl(!l||typeof l!="object"?null:l,n)}catch(s){return console.warn("Failed to load sauna settings from storage",s),cl(null,n)}}function ey(n){const a=Zv();if(!a)return;const s=ea(n.activeTierId),l=gh(s.rosterCap,s.rosterCap),c={activeTierId:s.id,maxRosterSize:Jv(n.maxRosterSize,l,l),useUiV2:Wv(n.useUiV2)};try{a.setItem(Vv,JSON.stringify(c))}catch(u){console.warn("Failed to persist sauna settings",u)}}const tx=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),nx=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function ty(n){return Number.isFinite(n)?Math.max(0,Math.min(100,Math.round(n*100))):0}function ax(n){const a=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});if(n.xpForNext===null)return`${a.format(n.xp)} XP  Max level`;const s=ty(n.progress);return`${a.format(n.xpIntoLevel)} / ${a.format(n.xpForNext)} XP  ${s}%`}function ix(n){const a=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),s=[];return n.vigor>0&&s.push(`+${a.format(n.vigor)} Vigor`),n.focus>0&&s.push(`+${a.format(n.focus)} Focus`),n.resolve>0&&s.push(`+${a.format(n.resolve)} Resolve`),s.length>0?s.join("  "):"No level bonuses yet"}function sx(n,a){const{rosterIcon:s,summaryLabel:l="Saunoja Roster"}=a;n.classList.add("sauna-roster"),n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("title","Active sauna battalion on the field"),n.dataset.tutorialTarget="upkeep",n.replaceChildren();const c=document.createElement("div");c.classList.add("sauna-roster__summary");const u=document.createElement("img");u.src=s,u.alt="Saunoja roster crest",u.decoding="async",u.classList.add("sauna-roster__icon");const f=document.createElement("div");f.classList.add("sauna-roster__text");const h=document.createElement("span");h.textContent=l,h.classList.add("sauna-roster__label");const m=document.createElement("span");m.textContent="0",m.classList.add("sauna-roster__value"),f.append(h,m),c.append(u,f);const g=document.createElement("div");g.classList.add("saunoja-card"),g.setAttribute("aria-live","polite"),g.hidden=!0;const p=document.createElement("div");p.classList.add("saunoja-card__header");const v=document.createElement("div");v.classList.add("saunoja-card__level"),v.setAttribute("role","img"),v.style.setProperty("--level-progress","0%");const b=document.createElement("span");b.classList.add("saunoja-card__level-value"),b.textContent="1",v.appendChild(b);const E=document.createElement("div");E.classList.add("saunoja-card__identity");const C=document.createElement("h3");C.classList.add("saunoja-card__name"),C.textContent="Saunoja";const k=document.createElement("div");k.classList.add("saunoja-card__xp"),k.textContent="0 / 0 XP  0%",E.append(C,k),p.append(v,E);const B=document.createElement("p");B.classList.add("saunoja-card__traits");const N=document.createElement("div");N.classList.add("saunoja-card__callouts"),N.textContent="No level bonuses yet";const j=document.createElement("p");j.classList.add("saunoja-card__upkeep"),g.append(p,B,N,j),n.append(c,g);let q=null,Z=null;function W(L){if(!L){g.hidden=!0;return}g.hidden=!1,g.dataset.unitId=L.id,C.textContent=L.name||"Saunoja";const P=L.traits.filter(w=>w.length>0),T=P.length>0?P.join(", "):"No notable traits yet";B.textContent=T,B.title=T;const K=ax(L.progression);k.textContent=K,k.title=K;const z=ty(L.progression.progress);v.style.setProperty("--level-progress",`${z}%`),b.textContent=String(L.progression.level);const R=L.progression.xpForNext===null?`Level ${L.progression.level}, at mastery`:`Level ${L.progression.level}, ${z}% toward next level`;v.setAttribute("aria-label",R);const U=ix(L.progression.statBonuses);N.textContent=U,N.title=U;const se=Math.max(0,Math.round(L.upkeep)),fe=`Upkeep: ${nx.format(se)} Beer`;j.textContent=fe,j.title=fe}function re(L){return L===1/0?"inf":!Number.isFinite(L)||L<=0?"0":String(Math.ceil(L))}function F(L){return[L.id,L.name,L.icon??"",L.rarity??"",L.description??"",L.quantity].join("^")}function ae(L){return[L.id,L.name,L.description??"",re(L.duration),re(L.remaining),L.appliedAt??"",L.stacks??1,L.source??""].join("^")}function $(L){const{stats:P}=L,T=L.traits.join("|"),K=L.items.map(F).join("|"),z=L.modifiers.map(ae).join("|");return[L.id,L.name,L.upkeep,L.status,L.selected?1:0,L.progression.level,L.progression.xp,L.progression.xpIntoLevel,L.progression.xpForNext??"max",P.health,P.maxHealth,P.attackDamage,P.attackRange,P.movementRange,P.defense??0,P.shield??0,T,K,z].join("~")}function _(L){return`${L.length}:${L.map($).join("||")}`}return{updateSummary(L){const P=Math.max(0,Math.floor(L.count)),T=tx.format(P);m.textContent=T,n.setAttribute("aria-label",`Saunoja roster: ${T} active attendants`),n.setAttribute("title",`Saunoja roster  ${T} active attendants`),W(L.card)},installRenderer(L){Z=null,q=L},renderRoster(L){if(!q)return;const P=_(L);P!==Z&&(Z=P,q(L))},destroy(){q=null,Z=null,n.replaceChildren()}}}const rx={[ie.SAUNA_BEER]:"Sauna Beer",[ie.SAUNAKUNNIA]:"Saunakunnia",[ie.SISU]:"Sisu"},lx='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';function ox(n){if(!Number.isFinite(n)||n<=0)return"0:00";const a=Math.round(n/1e3),s=Math.max(0,a%60).toString().padStart(2,"0"),l=Math.floor(a/60),c=(l%60).toString().padStart(2,"0"),u=Math.floor(l/60);return u>0?`${u}:${c}:${s}`:`${l}:${s}`}function cx(n){switch(n.cause){case"strongholds":return"All rival strongholds have fallen.";case"rosterWipe":return"Every attendant is downno one remains to hold the line.";case"bankruptcy":return"Upkeep debts have exhausted the steam reserves.";case"saunaDestroyed":return"The sauna collapsed under relentless assaultthe sacred steamline has fallen silent.";default:return""}}function ux(n){if(!Number.isFinite(n)||n===0)return"0";const a=Math.round(n*100)/100;return`${a>0?"+":""}${a}`}function dx(n,a){const s=document.createElement("ul");s.className="end-screen__rewards-list";for(const l of Object.values(ie)){const c=n.rewards.resources[l];if(!c)continue;const u=document.createElement("li");u.className="end-screen__reward-item";const f=document.createElement("span");f.className="end-screen__reward-label",f.textContent=a[l]??l;const h=document.createElement("span");h.className="end-screen__reward-value",h.textContent=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(Math.round(c.final));const m=document.createElement("span");m.className="end-screen__reward-delta",m.textContent=ux(c.delta),m.dataset.polarity=c.delta>=0?"positive":"negative",u.append(f,h,m),s.append(u)}return s}function fx(n,a,s){const l=c=>{if(c.key==="Escape"){c.preventDefault(),s?.();return}if(c.key!=="Tab")return;const u=a.querySelectorAll(lx);if(u.length===0){c.preventDefault(),a.focus();return}const f=u[0],h=u[u.length-1],m=document.activeElement;c.shiftKey?(m===f||!a.contains(m))&&(c.preventDefault(),h.focus()):(m===h||!a.contains(m))&&(c.preventDefault(),f.focus())};return n.addEventListener("keydown",l),()=>n.removeEventListener("keydown",l)}function hx(n){const{container:a,resolution:s,onNewRun:l,onDismiss:c,currentNgPlusLevel:u}=n;if(!a)return{destroy(){},focusPrimary(){}};const f={...rx,...n.resourceLabels??{}},h=document.createElement("div");h.className="end-screen",h.setAttribute("role","presentation");const m=document.createElement("section");m.className="end-screen__panel",m.setAttribute("role","dialog"),m.setAttribute("aria-modal","true");const g=`end-screen-title-${Date.now()}`;m.setAttribute("aria-labelledby",g),m.tabIndex=-1,m.dataset.outcome=s.outcome;const p=document.createElement("h2");p.className="end-screen__title",p.id=g,p.textContent=s.outcome==="win"?"Steamforged Victory":"Sauna Lost";const v=document.createElement("p");v.className="end-screen__subtitle",v.textContent=cx(s);const b=document.createElement("dl");b.className="end-screen__metrics";const E=(ae,$)=>{const _=document.createElement("dt");_.textContent=ae,_.className="end-screen__metric-label";const L=document.createElement("dd");L.textContent=$,L.className="end-screen__metric-value",b.append(_,L)};E("Run time",ox(s.durationMs)),E("Strongholds",`${s.summary.strongholds.destroyed}/${s.summary.strongholds.total}`),E("Roster losses",`${s.summary.roster.totalDeaths}`),E("Deepest beer reserve",`${Math.round(s.summary.economy.worstBeer)}`);const C=document.createElement("div");C.className="end-screen__badges";const k=document.createElement("span");k.className="end-screen__badge",k.textContent=`NG+ ${Math.max(0,u)}`,C.append(k);const B=document.createElement("h3");B.className="end-screen__section-title",B.textContent="Rewards";const N=dx(s,f),j=document.createElement("div");j.className="end-screen__actions";const q=document.createElement("button");q.type="button",q.className="end-screen__button end-screen__button--primary",q.textContent="New run (NG+)",q.addEventListener("click",()=>{l()});const Z=document.createElement("button");Z.type="button",Z.className="end-screen__button",Z.textContent="Review battlefield",Z.addEventListener("click",()=>{c?.()}),j.append(q,Z),m.append(p,v,C,b,B,N,j),h.append(m),a.append(h);const W=fx(h,m,c),re=()=>{W(),h.remove()},F=()=>{requestAnimationFrame(()=>{q.focus({preventScroll:!0})})};return F(),{destroy:re,focusPrimary:F}}const ny="autobattles4x.flags";function ay(){if(typeof window>"u")return null;try{if("localStorage"in window&&window.localStorage)return window.localStorage}catch(n){console.warn("Unable to access localStorage for local flags",n)}return null}function iy(){const n=ay();if(!n)return{};try{const a=n.getItem(ny);if(!a)return{};const s=JSON.parse(a);if(s&&typeof s=="object")return s}catch(a){console.warn("Failed to parse local flags, resetting.",a)}return{}}function mx(n){const a=ay();if(a)try{const s={};n.tutorial_done&&(s.tutorial_done=!0),a.setItem(ny,JSON.stringify(s))}catch(s){console.warn("Failed to persist local flags",s)}}function gx(){return iy().tutorial_done===!0}function MA(n){const a={...iy()};a.tutorial_done=!0,mx(a)}const Rf=200,Bf=3,px=2,DA=6,Ax=40,vx=250,yx=200,bx=Z4(Number.MAX_SAFE_INTEGER),Xf={[ie.SAUNA_BEER]:"Sauna Beer",[ie.SAUNAKUNNIA]:"Saunakunnia",[ie.SISU]:"Sisu"};function sy(n,a){const s=Number.isFinite(a)?Math.max(0,Math.floor(a)):0;if(!Number.isFinite(n))return s;const l=Math.max(0,Math.floor(n));return Math.max(0,Math.min(s,l))}let Ot=ka(_b()),ry=1,ph=0,Ic=1,gc={aggressionMultiplier:1,cadenceMultiplier:1,strengthMultiplier:1},ly=1,oy=Math.random,cy=Math.random,Ah=null;function Hc(n){Ot=ka(n),ry=Vb(Ot),ph=Zb(Ot),Ic=Wb(Ot),gc=$b(Ot),ly=Jb(Ot),oy=np(Ot.runSeed,1),cy=np(Ot.runSeed,2),Ah?.({persist:!0})}Hc(Ot);let Oc=null,ze=[];const $n=new Map,yi=new Map,es=new Map;let TA=0,Nc=null,Jn=null,Ua=null,Vs=null,Qn=null,Zs=null,Dt=null,Ji=null,Al=null,Na=null,bi=null,Wi=!1,bn=null,Ei=null,Kn=null,vl=null,Ki=0;function uy(n){const a=yi.get(n.id);return a?es.get(a)??null:null}function dy(n,a){n.effectiveStats={...a},n.maxHp=Math.max(1,Math.round(a.health)),n.hp=Math.min(n.maxHp,Math.max(0,Math.round(n.hp))),n.defense=typeof a.defense=="number"?Math.max(0,a.defense):void 0,n.shield=typeof a.shield=="number"?Math.max(0,a.shield):0;const s=uy(n);if(s){const l={health:n.effectiveStats.health,attackDamage:n.effectiveStats.attackDamage,attackRange:n.effectiveStats.attackRange,movementRange:n.effectiveStats.movementRange};typeof n.effectiveStats.defense=="number"&&(l.defense=n.effectiveStats.defense),typeof n.effectiveStats.visionRange=="number"&&(l.visionRange=n.effectiveStats.visionRange),s.updateStats(l),typeof n.effectiveStats.shield=="number"?s.setShield(n.effectiveStats.shield):n.shield<=0&&s.setShield(0)}}function Fc(n,a){const s=a??Pn(n.equipment),l=bc(n.baseStats,s);return dy(n,l),l}function fy(n){const a=kc(n.xp);return{level:a.level,xp:Math.max(0,Math.floor(n.xp)),xpIntoLevel:a.xpIntoLevel,xpForNext:a.xpForNext,progress:a.progressToNext,statBonuses:V4(a.level)}}function Ex(n){const a=[];return n.vigor>0&&a.push(`+${n.vigor} Vigor`),n.focus>0&&a.push(`+${n.focus} Focus`),n.resolve>0&&a.push(`+${n.resolve} Resolve`),a.length>0?a.join(", "):"+0 Vigor, +0 Focus, +0 Resolve"}function hy(n,a,s){if(!Number.isFinite(a)||a<=0)return null;const l=kc(n.xp),c=Math.max(0,Math.floor(n.xp+a));if(c===n.xp)return null;n.xp=c;const u=kc(n.xp),f=Math.max(0,u.level-l.level),h={vigor:0,focus:0,resolve:0};let m=0;if(f>0){for(let p=l.level+1;p<=u.level&&p<=bx;p++){const v=K4(p);h.vigor+=v.vigor,h.focus+=v.focus,h.resolve+=v.resolve;const b=Number.isFinite(n.baseStats.health)?n.baseStats.health:n.effectiveStats.health;n.baseStats.health=Math.max(1,Math.round(b+v.vigor));const E=Number.isFinite(n.baseStats.attackDamage)?n.baseStats.attackDamage:n.effectiveStats.attackDamage;n.baseStats.attackDamage=Math.max(0,Math.round(E+v.focus));const k=(Number.isFinite(n.baseStats.defense)?n.baseStats.defense??0:n.effectiveStats.defense??0)+v.resolve;n.baseStats.defense=k>0?k:void 0}m=h.vigor}m>0&&(n.hp+=m),Fc(n);const g=uy(n);if(g&&g.setExperience(n.xp),s.source==="kill"){const p=n.name?.trim()||"Our champion",v=s.label?.trim()||"their foe",b=s.boss?" Boss toppled!":s.elite?" Elite threat routed!":"";Nt({type:"combat",message:`${p} earns ${a} XP for defeating ${v}.${b}`,metadata:{slayer:p,foe:v,xpAward:a,boss:!!s.boss,elite:!!s.elite}})}if(f>0){const p=Ex(h),v=n.name?.trim()||"Our champion";Nt({type:"progression",message:`${v} reaches Level ${u.level}! ${p}.`,metadata:{unit:v,level:u.level,levelsGained:f,bonuses:h}})}return{xpAwarded:a,totalXp:n.xp,level:u.level,levelsGained:f,statBonuses:h}}function wx(n,a,s){if(!n)return null;const l=$n.get(n.id);return l?hy(l,a,s):null}function Sx(n,a){if(!Number.isFinite(n)||n<=0)return!1;let s=!1;for(const l of ze)hy(l,n,a)&&(s=!0);return s}function xx(n){return n?(n.type?.toLowerCase?.()??"").includes("boss")?{xp:vx,elite:!0,boss:!0}:By(n)?{xp:Ax,elite:!0,boss:!1}:{xp:DA,elite:!1,boss:!1}:{xp:DA,elite:!1,boss:!1}}const my=n=>{if(!n)return;const a=Math.max(0,Math.floor(n.strongholds.destroyed));if(a>Ki){const s=a-Ki,l=yx*s;Sx(l,{source:"objective",label:"stronghold"})&&(ta(),Gn(),Nt({type:"progression",message:`Strategists toast the captured stronghold  roster gains ${l} XP.`,metadata:{source:"stronghold",xpAward:l}}))}if(a<Ki){Ki=a;return}Ki=a},Cx=Object.freeze(["health","attackDamage","attackRange","movementRange","defense","shield"]);function kA(n){return n?{id:n.id,name:n.name,quantity:n.quantity,rarity:n.rarity}:null}function HA(n,a){const s=n[a];return typeof s=="number"&&Number.isFinite(s)?Math.round(s):0}function Rx(n,a){const s=[];for(const l of Cx){const c=HA(a,l),u=HA(n,l),f=c-u;f!==0&&s.push({stat:l,delta:f})}return s}function Bx(n,a){if(!a||Pn(n.equipment).length>0)return;const l={health:Math.max(1,Math.round(a.getMaxHealth())),attackDamage:Math.max(0,Math.round(a.stats.attackDamage)),attackRange:Math.max(0,Math.round(a.stats.attackRange)),movementRange:Math.max(0,Math.round(a.stats.movementRange)),defense:typeof a.stats.defense=="number"&&Number.isFinite(a.stats.defense)?Math.max(0,a.stats.defense):n.baseStats.defense,shield:n.baseStats.shield??0,visionRange:typeof a.stats.visionRange=="number"&&Number.isFinite(a.stats.visionRange)?Math.max(0,a.stats.visionRange):n.baseStats.visionRange};n.baseStats=l,Fc(n)}function fl(){vl&&(vl.destroy(),vl=null)}function Mx(){if(gx()){fl();return}fl(),vl=sS({onComplete:()=>{MA(),fl()},onSkip:()=>{MA(),fl()}}),vl.start()}function OA(n){Al=n,Dt&&(Dt.installRenderer(n),Na&&(Dt.renderRoster(Na),Na=null))}function Dx(){return W4()}function ta(){$4(ze)}function Tx(n=Math.random){typeof n!="function"&&(n=Math.random);const a=Math.max(0,Math.floor(_s)),s=Math.max(a,Math.floor(hc));if(s===a)return Math.max(_s,Math.min(hc,a));const l=s-a+1,c=Math.floor(n()*l)+a;return Math.max(_s,Math.min(hc,c))}function kx(n){const s=(Array.isArray(n.traits)?n.traits:[]).length>=3,l=Number.isFinite(n.upkeep),c=Number.isFinite(n.xp);return!s||!l||!c}function gy(n){n.traits=O3(),n.upkeep=Tx(),n.xp=0}function Hx(n,a,s,l={}){const c=l.hudVariant??"classic",u=c==="classic";s.dataset.hudVariant=c,Oc=n,bn&&(bn.dispose(),bn=null),bn=R3({canvas:n,overlay:s,mapRenderer:vh,getUnitById:h=>es.get(h),requestDraw:()=>{Pt()}}),Dt&&(Dt.destroy(),Dt=null),u?(Dt=sx(a,{rosterIcon:vi.saunojaRoster}),Al&&Dt.installRenderer(Al),Na&&(Dt.renderRoster(Na),Na=null),Ji&&(Dt.updateSummary(Ji),Ji=null)):(Al=null,Na=null,Ji=null),Qn?.dispose(),Qn=null,u&&(Qn=tw(at,{getRosterCapLimit:()=>Xc(),updateMaxRosterSize:(h,m)=>bl(h,{persist:m?.persist}),getActiveTierId:()=>ut,setActiveTierId:(h,m)=>(zx(h,{persist:m?.persist})&&Qn?.update(),ut),getTierContext:()=>xh()})),Ua?.dispose(),Ua=null,Vs?.destroy(),Vs=null;const f={useSisuBurst:()=>{const h=Aw(Xe,vt);return h?(La("sisu"),Nt({type:"ability",message:`Sisu bursts forth, spending ${Vi} grit to steel our attendants.`,metadata:{ability:"sisu-burst",cost:Vi}})):La("error"),h},torille:()=>{const h=yw(Xe,vt,at.pos,Zt);return h?Nt({type:"ability",message:`Torille! Our warriors regroup at the sauna to rally their spirits for ${Zi} SISU.`,metadata:{ability:"torille",cost:Zi}}):La("error"),h}};u&&(Ua=nw(Xe,{saunakunnia:vi.resource,sisu:vi.sisu,saunaBeer:vi.saunaBeer})),Vs=Rw(Xe,s,f),Zs?.destroy(),Zs=null,u&&(Zs=A4(yl,{getSelectedUnitId:()=>ze.find(h=>h.selected)?.id??null,getComparisonContext:()=>Xx(),onEquip:(h,m,g)=>Rh(h,m),getUseUiV2:Ux,onUseUiV2Change:jx})),u?(Yx(),yh(),Gn(),Mx()):Jn&&(Jn(),Jn=null)}const Zt=new r1(10,10,32),py=new l3(()=>Pt()),Ox=new tE(Zt,py),vh=new KS(Zt),Pc=()=>{vh.invalidateCache(),Pt()};ne.on("buildingPlaced",Pc);ne.on("buildingRemoved",Pc);Zt.forEachTile(n=>n.setFogged(!0));Xb();const vt=[];function NA(n){return`${n.q},${n.r}`}function Nx(){const n=new Set;for(const m of vt)m.isDead()||n.add(NA(m.coord));const a=[],{minQ:s,maxQ:l,minR:c,maxR:u}=Zt,f=m=>{const g=NA(m);n.has(g)||(Zt.ensureTile(m.q,m.r),a.push(m))};for(let m=s;m<=l;m++)f({q:m,r:c}),u!==c&&f({q:m,r:u});for(let m=c+1;m<=u-1;m++)f({q:s,r:m}),l!==s&&f({q:l,r:m});if(a.length===0)return;const h=Math.floor(Math.random()*a.length);return a[h]}function Px(n){const a=$n.get(n);a&&($n.delete(n),yi.get(a.id)===n&&yi.delete(a.id))}function Qx(n){const a=$n.get(n.id);if(a)return{saunoja:a,created:!1,attached:!1};let s=ze.find(f=>f.id===n.id);s||(s=ze.find(f=>!yi.has(f.id)));let l=!1;s||(s=rh({id:`saunoja-${ze.length+1}`,coord:{q:n.coord.q,r:n.coord.r}}),ze.push(s),l=!0);const c=yi.get(s.id);c&&c!==n.id&&$n.delete(c),$n.set(n.id,s),yi.set(s.id,n.id),Bx(s,n),dy(s,s.effectiveStats),n.setExperience(s.xp);const u=kx(s);return(l||u)&&gy(s),{saunoja:s,created:l,attached:!0}}function yh(){let n=!1;for(const a of vt){if(a.faction!=="player"||a.isDead())continue;const{saunoja:s,created:l,attached:c}=Qx(a);(l||c)&&(n=!0);const u=Number.isFinite(a.stats.health)?Math.max(0,a.stats.health):0;s.hp!==u&&(s.hp=u,n=!0);const f=Number.isFinite(a.getMaxHealth())?Math.max(1,a.getMaxHealth()):1;s.maxHp!==f&&(s.maxHp=f,n=!0);const h=a.getShield(),m=Number.isFinite(h)?Math.max(0,h):0;s.shield!==m&&(s.shield=m,n=!0);const p=a?.lastHitAt;Number.isFinite(p)&&s.lastHitAt!==p&&(s.lastHitAt=p,n=!0);const{q:v,r:b}=a.coord;(s.coord.q!==v||s.coord.r!==b)&&(s.coord={q:v,r:b},n=!0,s.selected&&Ch(s.coord))}return n&&ta(),n}function Ay(n,a){if(n.faction==="player"){const u=(a??$n.get(n.id)??null)?.name?.trim();if(u)return u}return`${(n.constructor?.name??"Unit").replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase()} ${n.id}`.trim()}function qc(n){if(es.has(n.id))return;vt.push(n),es.set(n.id,n);let a=null;if(n.faction==="player"&&(yh()||Rl(),a=$n.get(n.id)??null),Oc&&Pt(),n.faction==="player"){const l=Ay(n,a);Nt({type:"spawn",message:`Our ${l} emerges from the steam.`,metadata:{unitId:n.id,unitName:l,steward:"Our"}}),Gn()}}const vy=({unit:n})=>{qc(n)};ne.on("unitSpawned",vy);const yy=()=>{Rl()},Js=()=>{Rl()};ne.on("inventoryChanged",yy);ne.on("modifierAdded",Js);ne.on("modifierRemoved",Js);ne.on("modifierExpired",Js);const by=n=>{Qn?.handleDamage?.(n)},Ey=n=>{Qn?.handleDestroyed?.(n)};ne.on("saunaDamaged",by);ne.on("saunaDestroyed",Ey);const wy=()=>{Gn()};ne.on("unit:stats:changed",wy);function Gx(n){const a=$n.get(n.id);if(!a)return 0;const s=Number.isFinite(a.upkeep)?a.upkeep:0;return s>0?s*ry:0}const Xe=new t1(1e3),yl=new U3,bh=Xe.load(Zt);if(bh){const n=Xe.getNgPlusState();Hc(n),Hf(n)}else{const n=Xe.setNgPlusState(Ot);Hc(n),Hf(n)}Xe.setEnemyScalingBase({aggression:gc.aggressionMultiplier,cadence:gc.cadenceMultiplier,strength:gc.strengthMultiplier});if(!bh&&Ot.ngPlusLevel>0){const n=Math.round(75*Ot.ngPlusLevel);n>0&&Xe.addResource(ie.SAUNA_BEER,n)}const Ws=$v(Ic),Sy=()=>({ngPlusLevel:Ot.ngPlusLevel,unlockSlots:Ot.unlockSlots});let ut=Ws.activeTierId,ar=Ws.useUiV2;const Lx=nr(ea(ut),Sy());Lx.unlocked||(ut=Cl);const Xc=()=>{const n=ea(ut),a=Math.max(0,Math.floor(n.rosterCap));return Math.min(a,Ic)},Qc=sy(Ws.maxRosterSize,Xc());(Qc!==Ws.maxRosterSize||Ws.activeTierId!==ut||Ws.useUiV2!==ar)&&ey({maxRosterSize:Qc,activeTierId:ut,useUiV2:ar});const at=W1({q:Math.floor(Zt.width/2),r:Math.floor(Zt.height/2)},void 0,{maxRosterSize:Qc}),Ux=()=>ar,jx=n=>{const a=!!n;ar!==a&&Sh(at.maxRosterSize,{useUiV2:a})},Eh=J4({getTier:()=>ea(ut),getRosterLimit:()=>Xc(),getRosterCount:()=>Yc(),log:n=>Nt(n),queueCapacity:3});let xy=Qc,wh=ut;const Sh=(n,a)=>{typeof a?.useUiV2=="boolean"&&(ar=a.useUiV2),ey({maxRosterSize:n,activeTierId:ut,useUiV2:ar}),xy=n,wh=ut},xh=()=>Sy(),bl=(n,a={})=>{const s=Xc(),l=sy(n,s);return l!==at.maxRosterSize&&(at.maxRosterSize=l),a.persist&&(ut!==wh||l!==xy)&&Sh(l),l};Ah=(n={})=>{const a=xh(),s=Sv();let l=Cl;for(const f of s)if(nr(f,a).unlocked)l=f.id;else break;if(!nr(ea(ut),a).unlocked||ut!==l){const f=ut;ut=l,Eh.clearQueue?.("tier-change"),bl(at.maxRosterSize,{persist:n.persist}),f!==ut&&Qn?.update?.();return}n.persist&&bl(at.maxRosterSize,{persist:!0})};Ah({persist:!0});const zx=(n,a={})=>{const s=ea(n);return nr(s,xh()).unlocked?s.id===ut?(a.persist&&ut!==wh&&Sh(at.maxRosterSize),!0):(ut=s.id,Eh.clearQueue?.("tier-change"),bl(at.maxRosterSize,{persist:a.persist}),!0):!1},Ix=n=>{TA+=1;const a=`p${Date.now()}-${TA}`,s=ih(Xe,"soldier",a,n,"player");return s&&qc(s),s??null},PA=new XE({difficulty:ly,random:oy,eliteOdds:ph}),Cy=new n1(1e3,n=>{const a=n/1e3;Xe.tick(),fc.tick(a,{state:Xe});const s=Xe.getEnemyScalingSnapshot(),l=bl(at.maxRosterSize);Q3({dt:a,state:Xe,sauna:at,heat:at.heatTracker,units:vt,getUnitUpkeep:Gx,pickSpawnTile:()=>iv(at.pos,vt),spawnBaseUnit:Ix,minUpkeepReserve:Math.max(1,_s),maxSpawns:Ic,rosterCap:l,getRosterCount:Yc,tierHelpers:Eh});const c={aggressionMultiplier:s.aggression,cadenceMultiplier:s.cadence,strengthMultiplier:s.strength,calmSecondsRemaining:s.calmSecondsRemaining};PA.update(a,vt,qc,Nx,c),Xe.advanceEnemyCalm(a);const u=PA.getSnapshot(),f=Math.max(s.calmSecondsRemaining,u.calmSecondsRemaining);if(Ua){const m={stage:u.rampStageLabel,stageIndex:u.rampStageIndex,bundleTier:u.bundleTier,multiplier:u.difficultyMultiplier,cadenceSeconds:u.cadence,effectiveDifficulty:u.effectiveDifficulty,aggressionMultiplier:u.aggressionMultiplier,cadenceMultiplier:u.cadenceMultiplier,strengthMultiplier:u.strengthMultiplier,calmSecondsRemaining:f,spawnCycles:u.spawnCycles};Ua.setEnemyRampSummary(m)}const h=Ei?.getProgress().roster;ZE(u,{wipeSince:h?.wipeSince??null,wipeDurationMs:h?.wipeDurationMs??0}),Ox.tick(vt,a,at),O1(a),yh()&&Gn(),Xe.save();for(const m of vt)m.isDead()||m.faction!=="player"||Zt.revealAround(m.coord,m.getVisionRange(),{autoFrame:!1});Pt()}),Fx=n=>{Wi&&(Wi=!1),Cy.stop(),bi!==null&&(cancelAnimationFrame(bi),bi=null),Pt();const a=document.getElementById("ui-overlay");if(!a)return;Kn&&(Kn.destroy(),Kn=null);const s=Ot.ngPlusLevel,l=Kb(Ot,{outcome:n.outcome});Hf(l),Xe.setNgPlusState(l),Hc(l),Kn=hx({container:a,resolution:n,currentNgPlusLevel:s,resourceLabels:Xf,onNewRun:()=>{try{typeof window<"u"&&window.localStorage?.removeItem?.("gameState")}catch(u){console.warn("Failed to reset saved game state for NG+",u)}typeof window<"u"&&typeof window.location?.reload=="function"&&window.setTimeout(()=>window.location.reload(),75)},onDismiss:()=>{Kn&&(Kn.destroy(),Kn=null)}})};ze=Dx();if(ze.length===0){const n=rh({id:"saunoja-1",coord:at.pos,selected:!0,upkeep:0});gy(n),n.upkeep=0,ze.push(n),ta()}else{let n=!1,a=!1;for(const s of ze)s.selected&&(n?(s.selected=!1,a=!0):n=!0);a&&ta()}const qx=vt.some(n=>n.faction==="player"&&!n.isDead());if(!qx){Xe.canAfford(wp,ie.SAUNA_BEER)||Xe.addResource(ie.SAUNA_BEER,wp);const n=`u${vt.length+1}`,a=ih(Xe,"soldier",n,at.pos,"player");a&&qc(a)}Zt.revealAround(at.pos,3);Ei=X4({state:Xe,map:Zt,getRosterCount:Yc,sauna:at,rosterWipeGraceMs:8e3,bankruptcyGraceMs:12e3});Ki=Ei.getProgress().strongholds.destroyed;Ei.onProgress(my);Ei.onResolution(Fx);function Xx(){const n=ze.find(a=>a.selected)??null;return n?{baseStats:{...n.baseStats},loadout:Pn(n.equipment),currentStats:{...n.effectiveStats}}:null}function Yx(){Jn&&(Jn(),Jn=null);const n=tS(Xe,{onRosterSelect:Zx,onRosterRendererReady:OA,onRosterEquipSlot:Wx,onRosterUnequipSlot:$x});n.addEvent,OA(n.renderRoster),Jn=n.dispose}function _x(){Qn?.update()}function QA(n){Ua?.update(n)}bh||(Xe.addResource(ie.SAUNA_BEER,Rf),Nt({type:"resource",message:`Quartermaster stocks ${Rf} bottles of ${Xf[ie.SAUNA_BEER]} to launch your campaign.`,metadata:{resource:ie.SAUNA_BEER,amount:Rf,context:"initial"}}),Xe.addResource(ie.SAUNAKUNNIA,Bf),Nt({type:"resource",message:`Sauna elders honor your leadership with ${Bf} ${Xf[ie.SAUNAKUNNIA]} to celebrate your arrival.`,metadata:{resource:ie.SAUNAKUNNIA,amount:Bf,context:"initial"}}));const Mf=ze.find(n=>n.selected);Mf&&(Nc={q:Mf.coord.q,r:Mf.coord.r});function Kx(n,a){return!n||!a?n===a:n.q===a.q&&n.r===a.r}function Ch(n){return Kx(Nc,n)?!1:(Nc=n?{q:n.q,r:n.r}:null,!0)}function Ry(n){let a=!1;for(const s of ze)n&&s===n||s.selected&&(s.selected=!1,a=!0);return a}function Vx(){let n=!1;return Ry()&&(n=!0),Ch(null)&&(n=!0),n}function By(n){if(!n)return!1;const a=ah(n.type);if(!a)return!1;const s=wl(a,1),l=n.stats;return l.health>s.health||l.attackDamage>s.attackDamage||l.attackRange>s.attackRange||l.movementRange>s.movementRange}function My(n){let a=!1;return n.selected||(n.selected=!0,a=!0),Ry(n)&&(a=!0),Ch(n.coord)&&(a=!0),a}function Zx(n){const a=ze.find(s=>s.id===n);a&&My(a)&&(ta(),Gn(),Pt())}function Dy(n){const a=jb(n.x,n.y,Zt.hexSize),s=ze.find(c=>c.coord.q===a.q&&c.coord.r===a.r);(s?My(s):Vx())&&(ta(),Gn(),Pt())}function Rh(n,a){const s=ze.find(g=>g.id===n);if(!s)return{success:!1,reason:"unit-missing"};const l=Pn(s.equipment),c=bc(s.baseStats,l),u=hE(s,a);if(!u.success)return{success:!1,reason:u.reason};const f=Fc(s,u.loadout);ne.emit("unit:stats:changed",{unitId:s.id,stats:f}),ne.emit("inventoryChanged",{}),ta(),Gn();const h=l.find(g=>g.slot===u.slot)??null;return{success:!0,comparison:{slot:u.slot,previous:kA(h),next:kA(u.item??null),deltas:Rx(c,f)}}}function Jx(n,a){const s=ze.find(v=>v.id===n);if(!s)return null;const l=mE(s,a);if(!l.success||!l.removed)return null;const c=Fc(s,l.loadout);ne.emit("unit:stats:changed",{unitId:s.id,stats:c}),ne.emit("inventoryChanged",{}),ta(),Gn();const{id:u,name:f,description:h,icon:m,rarity:g,quantity:p}=l.removed;return{id:u,name:f,description:h,icon:m,rarity:g,quantity:p}}function Wx(n,a){const l=yl.getStash().findIndex(c=>gE(c.id,a));return l===-1?!1:yl.equipFromStash(l,n,Rh)}function $x(n,a){return yl.unequipToStash(n,a,Jx)}function Pt(){if(!Oc)return;const n=Oc.getContext("2d"),a=Yv();if(!n||!a)return;if(bn){const m=typeof performance<"u"?performance.now():Date.now();bn.step(m)}const s=bn?.getShakeOffset()??{x:0,y:0},l=bn?{getUnitAlpha:m=>bn.getUnitAlpha(m.id)}:void 0,c=Array.isArray(ze)&&ze.length>0,u=vt.filter(m=>m.faction==="player"&&!m.isDead()),f=at?{coord:at.pos,range:at.auraRadius}:null,h=c?vt.filter(m=>m.faction!=="player"):vt;n.save(),(s.x!==0||s.y!==0)&&n.translate(s.x,s.y),i3(n,vh,a.images,h,Nc,{saunojas:{units:ze,draw:D3},sauna:at,saunaVision:f,fx:l,friendlyVisionSources:u}),n.restore()}const Ty=({policy:n})=>{Nt({type:"policy",message:`Sauna council toasts a fresh keg for policy: ${n.name}.`,metadata:{policy:n.id,name:n.name}})};ne.on(jt.APPLIED,Ty);const ky=({unitId:n,attackerId:a,attackerFaction:s,unitFaction:l})=>{const c=vt.findIndex(b=>b.id===n),u=c!==-1?vt[c]:null,f=u?{q:u.coord.q,r:u.coord.r}:null,h=l==="player"?$n.get(n)??null:null;let m=!1;if(l==="player"){const b=h??ze.find(E=>yi.get(E.id)===n||E.id===n)??null;b&&(b.hp!==0&&(b.hp=0,m=!0),b.shield!==0&&(b.shield=0,m=!0))}const g=u?Ay(u,h):`unit ${n}`;let p=!1;if(s==="player"&&l&&l!=="player"){const b=a?es.get(a)??null:null,{xp:E,elite:C,boss:k}=xx(u);E>0&&wx(b,E,{source:"kill",label:g,elite:C,boss:k})&&(p=!0)}if(c!==-1&&(u&&py.clear(u,{snap:!0}),vt.splice(c,1),es.delete(n),Px(n),Pt()),(m||p)&&ta(),(l==="player"||p)&&Gn(),s==="player"&&l&&l!=="player"){const b=By(u??null)||cy()<ph,E=T4({factionId:l,elite:b});if(E.rolls.length>0){const C=ze.find(k=>k.selected)??null;for(const k of E.rolls)if(yl.addLoot(k,{unitId:C?.id,sourceTableId:E.tableId,equip:Rh}).equipped){const N=C?.name??"our champion";Nt({type:"loot",message:`Quartermaster fastens ${k.item.name} to ${N}.`,metadata:{item:k.item.name,equipped:!0,owner:N,source:g}})}else Nt({type:"loot",message:`Quartermaster stores ${k.item.name} recovered from ${g}.`,metadata:{item:k.item.name,equipped:!1,source:g}})}}s==="player"&&l&&l!=="player"&&(Xe.addResource(ie.SAUNAKUNNIA,px),Xe.addResource(ie.SISU,1),Nt({type:"resource",message:"Our grit surges  +1 SISU earned for the vanquished foe.",metadata:{resource:ie.SISU,amount:1,context:"victory"}})),f&&Zt.revealAround(f,1,{autoFrame:!1});const v=l==="player"?"our":"a rival";Nt({type:"combat",message:`The steam hushes as ${v} ${g} grows still.`,metadata:{side:v,unit:g}})};ne.on("unitDied",ky);function Yf(){Wi=!1,Ei?.offProgress(my),Ei?.dispose(),Ei=null,Ki=0,Ew(),Kn&&(Kn.destroy(),Kn=null),bi!==null&&(cancelAnimationFrame(bi),bi=null);try{Xe.save()}catch(n){console.warn("Failed to persist game state during cleanup",n)}try{ta()}catch(n){console.warn("Failed to persist Saunoja roster during cleanup",n)}bn&&(bn.dispose(),bn=null),ne.off(jt.APPLIED,Ty),ne.off("unitDied",ky),ne.off("unitSpawned",vy),ne.off("inventoryChanged",yy),ne.off("modifierAdded",Js),ne.off("modifierRemoved",Js),ne.off("modifierExpired",Js),ne.off("unit:stats:changed",wy),ne.off("saunaDamaged",by),ne.off("saunaDestroyed",Ey),ne.off("buildingPlaced",Pc),ne.off("buildingRemoved",Pc),Jn&&(Jn(),Jn=null),Zs&&(Zs.destroy(),Zs=null),Qn&&(Qn.dispose(),Qn=null),Ua&&(Ua.dispose(),Ua=null),Vs&&(Vs.destroy(),Vs=null),Dt&&(Dt.destroy(),Dt=null),Na=null,Ji=null,Al=null,fl()}async function eC(){if(Wi)return;if(!Yv()){console.error("Cannot start game without loaded assets.");return}Wi=!0,Gn(),Pt();try{await Fv(()=>{Pt()}).then(()=>{Pt()})}catch(l){console.warn("Failed to preload Saunoja icon before starting the game",l)}let a=performance.now();function s(l){if(!Wi)return;const c=l-a;a=l,Cv()?QA(0):(Cy.tick(c),_x(),QA(c),Rl()),Pt(),Wi&&(bi=requestAnimationFrame(s))}bi=requestAnimationFrame(s)}function Yc(){let n=0;for(const a of vt)a.faction==="player"&&!a.isDead()&&(n+=1);return n}function tC(){const n={engaged:0,reserve:1,downed:2},a=ze.map(s=>{const l=yi.get(s.id),c=l?es.get(l):void 0,u=c?!c.isDead()&&c.stats.health>0:!1,f=s.effectiveStats,h=s.baseStats,m=Math.round(c?Math.max(0,c.stats.health):Math.max(0,s.hp)),g=Math.round(c?Math.max(1,c.getMaxHealth()):Math.max(1,f.health)),p=Math.round(c?Math.max(0,c.stats.attackDamage):Math.max(0,f.attackDamage)),v=Math.round(c?Math.max(0,c.stats.attackRange):Math.max(0,f.attackRange)),b=Math.round(c?Math.max(0,c.stats.movementRange):Math.max(0,f.movementRange)),E=c?.stats.defense??f.defense??0,C=Math.round(Math.max(0,E)),k=c?c.getShield():f.shield??s.shield,B=Math.round(Math.max(0,k)),N=Math.max(0,Math.round(s.upkeep)),j=m<=0?"downed":u?"engaged":"reserve",q=fy(s),Z=s.items.map(ae=>({...ae})),W=s.modifiers.map(ae=>({...ae})),re=er.map(ae=>{const $=Sl(ae),_=s.equipment[ae],L=_?{id:_.id,name:_.name,description:_.description,icon:_.icon,rarity:_.rarity,quantity:_.quantity,slot:ae}:null,P=_?aC(_.modifiers,_.quantity):null;return{id:ae,label:$.label,description:$.description,maxStacks:$.maxStacks,item:L,modifiers:P}}),F={health:Math.round(Math.max(0,h.health)),maxHealth:Math.round(Math.max(1,h.health)),attackDamage:Math.round(Math.max(0,h.attackDamage)),attackRange:Math.round(Math.max(0,h.attackRange)),movementRange:Math.round(Math.max(0,h.movementRange)),defense:typeof h.defense=="number"&&h.defense>0?Math.round(h.defense):void 0,shield:typeof h.shield=="number"&&h.shield>0?Math.round(h.shield):void 0};return{id:s.id,name:s.name,upkeep:N,status:j,selected:!!s.selected,traits:[...s.traits],stats:{health:m,maxHealth:g,attackDamage:p,attackRange:v,movementRange:b,defense:C>0?C:void 0,shield:B>0?B:void 0},baseStats:F,progression:q,equipment:re,items:Z,modifiers:W}});return a.sort((s,l)=>{const c=n[s.status]-n[l.status];return c!==0?c:s.name.localeCompare(l.name,"en")}),a}function nC(){return ze.length===0?null:ze.find(n=>n.selected)??ze.find(n=>n.hp>0)??ze[0]}function aC(n,a){const s=Math.max(1,Math.round(a)),l={};return typeof n.health=="number"&&(l.health=n.health*s),typeof n.attackDamage=="number"&&(l.attackDamage=n.attackDamage*s),typeof n.attackRange=="number"&&(l.attackRange=n.attackRange*s),typeof n.movementRange=="number"&&(l.movementRange=n.movementRange*s),typeof n.defense=="number"&&(l.defense=n.defense*s),typeof n.shield=="number"&&(l.shield=n.shield*s),l}function iC(){const n=Yc(),a=nC();let s=null;return a&&(s={id:a.id,name:a.name||"Saunoja",traits:[...a.traits],upkeep:Math.max(0,Math.round(a.upkeep)),progression:fy(a)}),{count:n,card:s}}function Rl(n){const a=tC();Na=a,Dt&&Dt.renderRoster(a)}function Gn(){const n=iC();Dt?(Dt.updateSummary(n),Ji=null):Ji=n,Rl()}function sC(n){const{overlay:a,resourceBar:s}=n,l=ir(a),{regions:c}=l,u=document.createElement("div");u.className="pointer-events-none absolute inset-0 grid place-items-center bg-[radial-gradient(circle_at_top,rgba(18,28,45,0.92),rgba(6,10,18,0.94))] p-[clamp(1.5rem,4vw,3.25rem)] z-overlay";const f=document.createElement("section");f.className="pointer-events-auto relative grid w-full max-w-[min(640px,90vw)] gap-4 overflow-hidden rounded-[28px] border border-[rgba(128,168,236,0.28)] bg-[linear-gradient(145deg,rgba(31,46,74,0.95),rgba(14,20,33,0.95))] p-[clamp(1.75rem,4vw,2.5rem)] text-slate-100 shadow-[0_40px_90px_rgba(10,14,28,0.6),_inset_0_1px_0_rgba(255,255,255,0.08)]",f.setAttribute("aria-live","polite"),f.setAttribute("role","status");const h=document.createElement("h1");h.className="m-0 text-[clamp(1.6rem,3vw,2.1rem)] font-semibold uppercase tracking-[0.04em]",h.textContent="Experimental HUD Enabled",f.appendChild(h);const m=document.createElement("p");m.className="m-0 text-base leading-relaxed text-slate-100/90",m.textContent="The React/Tailwind interface is bootstrapped for this session. Gameplay systems continue to run, and classic HUD elements are paused while the new shell is under construction.",f.appendChild(m);const g=document.createElement("p");g.className="m-0 text-sm leading-relaxed text-slate-200/75",g.textContent="Toggle the experimental HUD off from the quartermaster settings to return to the classic layout.",f.appendChild(g);const p=document.createElement("div");p.className="pointer-events-none absolute -left-[30%] -top-[40%] h-[420px] w-[420px] bg-[radial-gradient(circle,rgba(90,164,255,0.35),rgba(90,164,255,0))] blur-[0.5px]",f.appendChild(p);const v=document.createElement("div");return v.className="mt-2 rounded-[18px] border border-[rgba(128,168,236,0.2)] bg-[rgba(10,16,26,0.55)] p-4 shadow-[inset_0_1px_0_rgba(255,255,255,0.05)]",v.appendChild(s),f.appendChild(v),u.appendChild(f),c.content.appendChild(u),{destroy(){v.contains(s)&&a.prepend(s),u.remove()}}}function Hy(n){if(!n)return{showLoader:()=>({update:()=>{},clear:()=>{},dispose:()=>{}}),showBanner:()=>null,removeTransientUI:()=>{}};const a=()=>{let f=n.querySelector(".hud-banner-stack");return f||(f=document.createElement("div"),f.className="hud-banner-stack",n.append(f)),f},s=(f,h,m)=>{let g=!1;const p=()=>{g||(g=!0,f.removeEventListener("transitionend",p),m())};f.addEventListener("transitionend",p),requestAnimationFrame(()=>{f.classList.add(h)}),window.setTimeout(p,400)};return{showLoader:(f="Heating the sauna stones")=>{const h=document.createElement("div");h.className="hud-loader",h.setAttribute("role","status"),h.setAttribute("aria-live","polite");const m=document.createElement("div");m.className="hud-loader__card";const g=document.createElement("div");g.className="hud-loader__spinner",g.setAttribute("aria-hidden","true");const p=document.createElement("p");p.className="hud-loader__message",p.textContent=f,m.append(g,p),h.append(m),n.append(h);let v=!1;return{update(b){p.textContent=b},clear(){v||s(h,"hud-loader--hidden",()=>{v=!0,h.remove()})},dispose(){v||(v=!0,h.remove())}}},showBanner:(f,h)=>{const m=a(),g=document.createElement("section");g.className=`hud-banner hud-banner--${f}`,g.setAttribute("role",f==="error"?"alert":"status"),g.setAttribute("aria-live",f==="error"?"assertive":"polite");const p=document.createElement("header");p.className="hud-banner__header";const v=document.createElement("p");v.className="hud-banner__title",v.textContent=h.title??(f==="error"?"Attention required":f==="warning"?"Heads up":"Status update"),p.append(v);const b=document.createElement("ul");b.className="hud-banner__list";for(const B of h.messages){const N=document.createElement("li");N.textContent=B,b.append(N)}if(g.append(p),h.messages.length&&g.append(b),h.actions?.length){const B=document.createElement("div");B.className="hud-banner__actions";for(const N of h.actions){const j=document.createElement("button");j.type="button",j.className=N.variant==="secondary"?"hud-banner__button hud-banner__button--secondary":"hud-banner__button",j.textContent=N.label,j.addEventListener("click",()=>{N.onClick()}),B.append(j)}g.append(B)}let E,C=!1;const k=()=>{C||(C=!0,E&&window.clearTimeout(E),s(g,"hud-banner--hide",()=>{g.remove(),m.hasChildNodes()||m.remove()}))};if(h.dismissible!==!1){const B=document.createElement("button");B.type="button",B.className="hud-banner__close",B.setAttribute("aria-label","Dismiss notification"),B.textContent="",B.addEventListener("click",()=>{k()}),p.append(B)}return m.append(g),h.autoCloseMs&&h.autoCloseMs>0&&(E=window.setTimeout(()=>k(),h.autoCloseMs)),{element:g,dismiss:k}},removeTransientUI:()=>{n.querySelectorAll(".hud-loader").forEach(f=>{f.remove()}),n.querySelectorAll(".hud-banner-stack").forEach(f=>{f.remove()})}}}async function rC(n){const a=Object.entries(n),s=await Promise.allSettled(a.map(([f,h])=>h.load().then(m=>({key:f,descriptor:h,value:m})))),l={},c=[],u=[];return s.forEach((f,h)=>{const[m,g]=a[h],p=g.label??String(m);if(f.status==="fulfilled"){const{value:b}=f.value;if(l[m]=b.value,b.warnings?.length)for(const E of b.warnings)c.push(p?`${p}: ${E}`:E);if(b.errors?.length)for(const E of b.errors)u.push(p?`${p}: ${E}`:E);return}const v=lC(f.reason);u.push(p?`${p}: ${v}`:v)}),{resources:l,warnings:c,errors:u}}function lC(n){if(n instanceof Error)return n.message;if(typeof n=="string")return n;try{return JSON.stringify(n)}catch{return String(n)}}const oC="Heating the sauna stones",cC="Polishing sauna ambience";function uC(n){if(n instanceof Error&&n.message)return n.message;if(typeof n=="string"&&n.trim().length>0)return n;try{return JSON.stringify(n)}catch{return String(n)}}function dC(n){const a=new Set,s=f=>{a.forEach(h=>h(f))},l=n.formatError??uC;return{run:async f=>{s({type:"status",phase:"start",message:oC});try{const{resources:h,warnings:m,errors:g}=await rC({assets:{label:"Core assets",load:async()=>{const v=await n.loadAssets(n.assetPaths);return{value:v.assets,errors:v.failures}}},saunojaIcon:{label:"Saunoja icon",load:async()=>{try{return await n.preloadSaunojaIcon(),{value:!0}}catch(v){return{value:!1,warnings:[`Unable to preload Saunoja icon (${l(v)})`]}}}}});if(n.shouldAbort?.(f)){s({type:"cancelled"});return}s({type:"status",phase:"progress",message:cC});const p=h.assets;if(!p){const v=g.length?[...g]:["Critical assets were unavailable. Please refresh to try again."];s({type:"fatal",messages:v});return}if(g.length&&s({type:"errors",errors:g}),m.length&&s({type:"warnings",warnings:m}),n.setAssets(p),n.shouldAbort?.(f)){s({type:"cancelled"});return}n.startGame(),s({type:"ready",assets:p,warnings:m,errors:g})}catch(h){if(n.shouldAbort?.(f)){s({type:"cancelled"});return}s({type:"failure",error:h,message:l(h)})}},subscribe:f=>(a.add(f),()=>{a.delete(f)})}}const fC="grabbing";function hC(n,a){const s=a.dragCursor??fC;let l=!1,c=null,u=0,f=0,h=null;const m=E=>{E.pointerType!=="mouse"||E.button!==0||(l=!0,c=E.pointerId,u=E.clientX,f=E.clientY,h=n.style.cursor??"",n.setPointerCapture?.(E.pointerId),n.style.cursor=s,a.onPanStart?.(E))},g=E=>{if(!l||c!==E.pointerId)return;const C=E.clientX-u,k=E.clientY-f;u=E.clientX,f=E.clientY,a.onPan(C,k,E)},p=E=>{!l||c!==E.pointerId||(l=!1,c=null,n.releasePointerCapture?.(E.pointerId),n.style.cursor=h??"",a.onPanEnd?.(E))},v=E=>{p(E)},b=E=>{p(E)};return n.addEventListener("pointerdown",m),n.addEventListener("pointermove",g),n.addEventListener("pointerup",v),n.addEventListener("pointercancel",b),n.addEventListener("pointerleave",b),()=>{n.removeEventListener("pointerdown",m),n.removeEventListener("pointermove",g),n.removeEventListener("pointerup",v),n.removeEventListener("pointercancel",b),n.removeEventListener("pointerleave",b),l&&c!==null&&n.releasePointerCapture?.(c),n.style.cursor=h??""}}const mC=10,gC=250;function Yi(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function pC(n,a){const s=a.tapMaxMovement??mC,l=a.tapMaxDuration??gC;let c=null;const u=v=>{if(v.touches.length===1){const b=v.touches[0];c={mode:"pan",lastX:b.clientX,lastY:b.clientY,startX:b.clientX,startY:b.clientY,startTime:Yi(),moved:!1};return}if(v.touches.length>=2){const[b,E]=[v.touches[0],v.touches[1]];c={mode:"pinch",lastCenterX:(b.clientX+E.clientX)/2,lastCenterY:(b.clientY+E.clientY)/2,lastDistance:Math.hypot(b.clientX-E.clientX,b.clientY-E.clientY),startTime:Yi(),moved:!1}}},f=(v,b)=>{if(!c||c.mode!=="pan")return;const E=v.clientX-c.lastX,C=v.clientY-c.lastY;!c.moved&&Math.hypot(E,C)>1&&(c.moved=!0),c.lastX=v.clientX,c.lastY=v.clientY,a.onPan(E,C,b)},h=(v,b,E)=>{const C=(v.clientX+b.clientX)/2,k=(v.clientY+b.clientY)/2,B=Math.hypot(v.clientX-b.clientX,v.clientY-b.clientY);let N=1,j=0,q=0;c&&c.mode==="pinch"?(N=B/c.lastDistance,j=C-c.lastCenterX,q=k-c.lastCenterY):c={mode:"pinch",lastCenterX:C,lastCenterY:k,lastDistance:B,startTime:Yi(),moved:!1},!(!c||c.mode!=="pinch")&&(c.lastCenterX=C,c.lastCenterY=k,c.lastDistance=B,c.moved=!0,a.onPinch({centerX:C,centerY:k,scale:N,deltaCenterX:j,deltaCenterY:q},E))},m=v=>{if(!c||v.touches.length===0)return;if(v.preventDefault(),v.touches.length===1){const C=v.touches[0];c.mode!=="pan"&&(c={mode:"pan",lastX:C.clientX,lastY:C.clientY,startX:C.clientX,startY:C.clientY,startTime:Yi(),moved:!0}),f(C,v);return}const[b,E]=[v.touches[0],v.touches[1]];h(b,E,v)},g=()=>!c||c.mode!=="pan"||Math.hypot(c.lastX-c.startX,c.lastY-c.startY)>s?!1:Yi()-c.startTime<=l,p=v=>{if(c){if(v.touches.length===0){c.mode==="pan"&&a.onTap&&g()&&a.onTap({x:c.startX,y:c.startY},v),c=null;return}if(v.touches.length===1){const b=v.touches[0];c={mode:"pan",lastX:b.clientX,lastY:b.clientY,startX:b.clientX,startY:b.clientY,startTime:Yi(),moved:!0};return}if(v.touches.length>=2){const[b,E]=[v.touches[0],v.touches[1]];c={mode:"pinch",lastCenterX:(b.clientX+E.clientX)/2,lastCenterY:(b.clientY+E.clientY)/2,lastDistance:Math.hypot(b.clientX-E.clientX,b.clientY-E.clientY),startTime:Yi(),moved:!0}}}};return n.addEventListener("touchstart",u,{passive:!1}),n.addEventListener("touchmove",m,{passive:!1}),n.addEventListener("touchend",p),n.addEventListener("touchcancel",p),()=>{n.removeEventListener("touchstart",u),n.removeEventListener("touchmove",m),n.removeEventListener("touchend",p),n.removeEventListener("touchcancel",p),c=null}}const AC=.5,vC=3.5;function _f(n,a,s,l,c){const u=n.getBoundingClientRect(),f=a-u.left,h=s-u.top,m=u.width/2,g=u.height/2;return{x:c.x+(f-m)/l,y:c.y+(h-g)/l}}function yC(n){return Math.min(vC,Math.max(AC,n))}function Oy(n,a,s,l=Se.zoom,c=Se){return _f(n,a,s,l,c)}function Ny(n,a,s,l){const c=yC(l);if(c===Se.zoom)return;const u={x:Se.x,y:Se.y},f=_f(n,a,s,Se.zoom,u),h=_f(n,a,s,c,u);Se.x+=f.x-h.x,Se.y+=f.y-h.y,Se.zoom=c,Pt()}function Df(n,a){n===0&&a===0||(Se.x-=n/Se.zoom,Se.y-=a/Se.zoom,Pt())}function bC(n){const a=window.devicePixelRatio||1,s=Math.max(window.innerWidth,1),l=Math.max(window.innerHeight,1);n.style.width=`${s}px`,n.style.height=`${l}px`,n.width=Math.round(s*a),n.height=Math.round(l*a);const c=n.getContext("2d");c&&c.setTransform(1,0,0,1,0,0),Pt()}const EC=.0015,Kf=[];let Bh=0,ja=null,_c=Hy(null),Ht=null,Tf="classic",Vf=null;function wC(){if(typeof document>"u")return;const n=document.querySelector("[data-build-commit]");if(!n)return;const a="813db50".trim(),s=a.length>0&&a!=="unknown",l=s?`#${a}`:"DEV BUILD";n.textContent=l,n.dataset.state=s?"commit":"dev";const c=n.closest("#build-id");if(c){const u=s?`Build commit ${a}`:"Development build";c.setAttribute("aria-label",u),c.title=s?`Autobattles build ${a}`:"Unversioned development build",c.dataset.buildState=s?"release":"development"}}wC();function Pa(n){Kf.push(n)}function SC(){for(;Kf.length;){const n=Kf.pop();try{n?.()}catch(a){console.error("Error during cleanup",a)}}}function xC(n){Pa(()=>n.dispose())}function cc(n,a){const s=_c.showBanner(n,a);s&&Pa(()=>s.dismiss())}function CC(n){switch(n.type){case"status":if(n.phase==="start"){Ht?.dispose();const a=_c.showLoader(n.message);Ht=a,xC(a)}else Ht&&(Ht.update(n.message),Ht.clear(),Ht=null);break;case"ready":Ht?.clear(),Ht=null;break;case"warnings":n.warnings.length&&(console.warn("Resource loader warnings",n.warnings),cc("warning",{title:"Heads up",messages:n.warnings,autoCloseMs:12e3}));break;case"errors":n.errors.length&&(console.error("Resource loader errors",n.errors),cc("error",{title:"Some resources failed to load",messages:n.errors,actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}]}));break;case"fatal":console.error("Critical assets failed to load",n.messages),Ht?.clear(),Ht=null,cc("error",{title:"Unable to start the sauna battle",messages:n.messages,actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}],dismissible:!1});break;case"failure":console.error("Failed to initialize resources",n.error),Ht?.clear(),Ht=null,cc("error",{title:"Failed to initialize",messages:[n.message],actions:[{label:"Reload",onClick:()=>window.location.reload(),variant:"primary"}]});break;case"cancelled":Ht?.dispose(),Ht=null;break}}const Py=dC({assetPaths:L4,loadAssets:Yb,preloadSaunojaIcon:Fv,setAssets:U4,startGame:eC,shouldAbort:n=>n!==Bh});Py.subscribe(CC);function GA(n){if(!ja)return;n.preventDefault();const a=Math.exp(-n.deltaY*EC),s=Se.zoom*a;Ny(ja,n.clientX,n.clientY,s)}function LA(n){if(!ja)return;const a=Oy(ja,n.clientX,n.clientY);Dy(a)}function RC(n){n.addEventListener("click",LA),Pa(()=>n.removeEventListener("click",LA)),n.addEventListener("wheel",GA,{passive:!1}),Pa(()=>n.removeEventListener("wheel",GA));const a=hC(n,{onPan:(l,c)=>{Df(l,c)},dragCursor:"grabbing"});Pa(a);const s=pC(n,{onPan:(l,c)=>{Df(l,c)},onPinch:({centerX:l,centerY:c,scale:u,deltaCenterX:f,deltaCenterY:h})=>{Ny(n,l,c,Se.zoom*u),Df(f,h)},onTap:l=>{const c=Oy(n,l.x,l.y);Dy(c)}});Pa(s)}function BC(){Bh+=1,SC(),Vf?.destroy(),Vf=null,Ht?.dispose(),Ht=null,ja&&(ja.style.cursor=""),ja=null,_c.removeTransientUI(),Yf()}function MC(){const n=document.getElementById("game-canvas"),a=document.getElementById("resource-bar"),s=document.getElementById("ui-overlay");if(!n||!a||!s){console.error("Autobattles4xFinsauna shell is missing the required canvas, overlay, or resource bar elements.",{hasCanvas:!!n,hasResourceBar:!!a,hasOverlay:!!s});return}ja&&BC();const l=++Bh;Tf=$v().useUiV2?"v2":"classic",ja=n,_c=Hy(s);const u=Tw();Pa(()=>u.dispose()),Hx(n,a,s,{hudVariant:Tf}),Tf==="v2"&&(Vf=sC({overlay:s,resourceBar:a})),RC(n);const f=()=>bC(n);window.addEventListener("resize",f),Pa(()=>window.removeEventListener("resize",f)),window.addEventListener("beforeunload",Yf),Pa(()=>window.removeEventListener("beforeunload",Yf)),f(),import.meta.vitest||Py.run(l)}function DC(){if(typeof document>"u")return;const n=()=>{document.removeEventListener("DOMContentLoaded",n),MC()};if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",n);return}n()}import.meta.vitest||DC();
